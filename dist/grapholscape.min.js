/**
 * MIT License
 *
 * Copyright (c) 2018-2019 OBDA Systems
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).GrapholScape=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r=function(t){return t&&t.Math==Math&&t},i=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")(),o=function(t){try{return!!t()}catch(t){return!0}},a=!o((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),s={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u={f:l&&!s.call({1:2},1)?function(t){var e=l(this,t);return!!e&&e.enumerable}:s},c=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},d={}.toString,h=function(t){return d.call(t).slice(8,-1)},f="".split,p=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==h(t)?f.call(t,""):Object(t)}:Object,g=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},v=function(t){return p(g(t))},y=function(t){return"object"==typeof t?null!==t:"function"==typeof t},m=function(t,e){if(!y(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!y(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!y(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!y(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},b={}.hasOwnProperty,w=function(t,e){return b.call(t,e)},x=i.document,_=y(x)&&y(x.createElement),E=function(t){return _?x.createElement(t):{}},S=!a&&!o((function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a})),k=Object.getOwnPropertyDescriptor,O={f:a?k:function(t,e){if(t=v(t),e=m(e,!0),S)try{return k(t,e)}catch(t){}if(w(t,e))return c(!u.f.call(t,e),t[e])}},C=function(t){if(!y(t))throw TypeError(String(t)+" is not an object");return t},T=Object.defineProperty,P={f:a?T:function(t,e,n){if(C(t),e=m(e,!0),C(n),S)try{return T(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},N=a?function(t,e,n){return P.f(t,e,c(1,n))}:function(t,e,n){return t[e]=n,t},D=function(t,e){try{N(i,t,e)}catch(n){i[t]=e}return e},A=i["__core-js_shared__"]||D("__core-js_shared__",{}),M=Function.toString;"function"!=typeof A.inspectSource&&(A.inspectSource=function(t){return M.call(t)});var L,j,I,R=A.inspectSource,B=i.WeakMap,z="function"==typeof B&&/native code/.test(R(B)),F=n((function(t){(t.exports=function(t,e){return A[t]||(A[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.0",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),V=0,q=Math.random(),U=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++V+q).toString(36)},H=F("keys"),W=function(t){return H[t]||(H[t]=U(t))},Y={},X=i.WeakMap;if(z){var G=new X,$=G.get,Z=G.has,K=G.set;L=function(t,e){return K.call(G,t,e),e},j=function(t){return $.call(G,t)||{}},I=function(t){return Z.call(G,t)}}else{var Q=W("state");Y[Q]=!0,L=function(t,e){return N(t,Q,e),e},j=function(t){return w(t,Q)?t[Q]:{}},I=function(t){return w(t,Q)}}var J,tt={set:L,get:j,has:I,enforce:function(t){return I(t)?j(t):L(t,{})},getterFor:function(t){return function(e){var n;if(!y(e)||(n=j(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},et=n((function(t){var e=tt.get,n=tt.enforce,r=String(String).split("String");(t.exports=function(t,e,o,a){var s=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof e||w(o,"name")||N(o,"name",e),n(o).source=r.join("string"==typeof e?e:"")),t!==i?(s?!u&&t[e]&&(l=!0):delete t[e],l?t[e]=o:N(t,e,o)):l?t[e]=o:D(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||R(this)}))})),nt=i,rt=function(t){return"function"==typeof t?t:void 0},it=function(t,e){return arguments.length<2?rt(nt[t])||rt(i[t]):nt[t]&&nt[t][e]||i[t]&&i[t][e]},ot=Math.ceil,at=Math.floor,st=function(t){return isNaN(t=+t)?0:(t>0?at:ot)(t)},lt=Math.min,ut=function(t){return t>0?lt(st(t),9007199254740991):0},ct=Math.max,dt=Math.min,ht=function(t,e){var n=st(t);return n<0?ct(n+e,0):dt(n,e)},ft=function(t){return function(e,n,r){var i,o=v(e),a=ut(o.length),s=ht(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},pt={includes:ft(!0),indexOf:ft(!1)},gt=pt.indexOf,vt=function(t,e){var n,r=v(t),i=0,o=[];for(n in r)!w(Y,n)&&w(r,n)&&o.push(n);for(;e.length>i;)w(r,n=e[i++])&&(~gt(o,n)||o.push(n));return o},yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],mt=yt.concat("length","prototype"),bt={f:Object.getOwnPropertyNames||function(t){return vt(t,mt)}},wt={f:Object.getOwnPropertySymbols},xt=it("Reflect","ownKeys")||function(t){var e=bt.f(C(t)),n=wt.f;return n?e.concat(n(t)):e},_t=function(t,e){for(var n=xt(e),r=P.f,i=O.f,o=0;o<n.length;o++){var a=n[o];w(t,a)||r(t,a,i(e,a))}},Et=/#|\.prototype\./,St=function(t,e){var n=Ot[kt(t)];return n==Tt||n!=Ct&&("function"==typeof e?o(e):!!e)},kt=St.normalize=function(t){return String(t).replace(Et,".").toLowerCase()},Ot=St.data={},Ct=St.NATIVE="N",Tt=St.POLYFILL="P",Pt=St,Nt=O.f,Dt=function(t,e){var n,r,o,a,s,l=t.target,u=t.global,c=t.stat;if(n=u?i:c?i[l]||D(l,{}):(i[l]||{}).prototype)for(r in e){if(a=e[r],o=t.noTargetGet?(s=Nt(n,r))&&s.value:n[r],!Pt(u?r:l+(c?".":"#")+r,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;_t(a,o)}(t.sham||o&&o.sham)&&N(a,"sham",!0),et(n,r,a,t)}},At=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())})),Mt=At&&!Symbol.sham&&"symbol"==typeof Symbol(),Lt=Array.isArray||function(t){return"Array"==h(t)},jt=function(t){return Object(g(t))},It=Object.keys||function(t){return vt(t,yt)},Rt=a?Object.defineProperties:function(t,e){C(t);for(var n,r=It(e),i=r.length,o=0;i>o;)P.f(t,n=r[o++],e[n]);return t},Bt=it("document","documentElement"),zt=W("IE_PROTO"),Ft=function(){},Vt=function(t){return"<script>"+t+"<\/script>"},qt=function(){try{J=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;qt=J?function(t){t.write(Vt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(J):((e=E("iframe")).style.display="none",Bt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Vt("document.F=Object")),t.close(),t.F);for(var n=yt.length;n--;)delete qt.prototype[yt[n]];return qt()};Y[zt]=!0;var Ut=Object.create||function(t,e){var n;return null!==t?(Ft.prototype=C(t),n=new Ft,Ft.prototype=null,n[zt]=t):n=qt(),void 0===e?n:Rt(n,e)},Ht=bt.f,Wt={}.toString,Yt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Xt={f:function(t){return Yt&&"[object Window]"==Wt.call(t)?function(t){try{return Ht(t)}catch(t){return Yt.slice()}}(t):Ht(v(t))}},Gt=F("wks"),$t=i.Symbol,Zt=Mt?$t:U,Kt=function(t){return w(Gt,t)||(At&&w($t,t)?Gt[t]=$t[t]:Gt[t]=Zt("Symbol."+t)),Gt[t]},Qt={f:Kt},Jt=P.f,te=function(t){var e=nt.Symbol||(nt.Symbol={});w(e,t)||Jt(e,t,{value:Qt.f(t)})},ee=P.f,ne=Kt("toStringTag"),re=function(t,e,n){t&&!w(t=n?t:t.prototype,ne)&&ee(t,ne,{configurable:!0,value:e})},ie=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},oe=function(t,e,n){if(ie(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},ae=Kt("species"),se=function(t,e){var n;return Lt(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Lt(n.prototype)?y(n)&&null===(n=n[ae])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},le=[].push,ue=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=5==t||o;return function(s,l,u,c){for(var d,h,f=jt(s),g=p(f),v=oe(l,u,3),y=ut(g.length),m=0,b=c||se,w=e?b(s,y):n?b(s,0):void 0;y>m;m++)if((a||m in g)&&(h=v(d=g[m],m,f),t))if(e)w[m]=h;else if(h)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:le.call(w,d)}else if(i)return!1;return o?-1:r||i?i:w}},ce={forEach:ue(0),map:ue(1),filter:ue(2),some:ue(3),every:ue(4),find:ue(5),findIndex:ue(6)},de=ce.forEach,he=W("hidden"),fe=Kt("toPrimitive"),pe=tt.set,ge=tt.getterFor("Symbol"),ve=Object.prototype,ye=i.Symbol,me=it("JSON","stringify"),be=O.f,we=P.f,xe=Xt.f,_e=u.f,Ee=F("symbols"),Se=F("op-symbols"),ke=F("string-to-symbol-registry"),Oe=F("symbol-to-string-registry"),Ce=F("wks"),Te=i.QObject,Pe=!Te||!Te.prototype||!Te.prototype.findChild,Ne=a&&o((function(){return 7!=Ut(we({},"a",{get:function(){return we(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=be(ve,e);r&&delete ve[e],we(t,e,n),r&&t!==ve&&we(ve,e,r)}:we,De=function(t,e){var n=Ee[t]=Ut(ye.prototype);return pe(n,{type:"Symbol",tag:t,description:e}),a||(n.description=e),n},Ae=At&&"symbol"==typeof ye.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof ye},Me=function(t,e,n){t===ve&&Me(Se,e,n),C(t);var r=m(e,!0);return C(n),w(Ee,r)?(n.enumerable?(w(t,he)&&t[he][r]&&(t[he][r]=!1),n=Ut(n,{enumerable:c(0,!1)})):(w(t,he)||we(t,he,c(1,{})),t[he][r]=!0),Ne(t,r,n)):we(t,r,n)},Le=function(t,e){C(t);var n=v(e),r=It(n).concat(Be(n));return de(r,(function(e){a&&!je.call(n,e)||Me(t,e,n[e])})),t},je=function(t){var e=m(t,!0),n=_e.call(this,e);return!(this===ve&&w(Ee,e)&&!w(Se,e))&&(!(n||!w(this,e)||!w(Ee,e)||w(this,he)&&this[he][e])||n)},Ie=function(t,e){var n=v(t),r=m(e,!0);if(n!==ve||!w(Ee,r)||w(Se,r)){var i=be(n,r);return!i||!w(Ee,r)||w(n,he)&&n[he][r]||(i.enumerable=!0),i}},Re=function(t){var e=xe(v(t)),n=[];return de(e,(function(t){w(Ee,t)||w(Y,t)||n.push(t)})),n},Be=function(t){var e=t===ve,n=xe(e?Se:v(t)),r=[];return de(n,(function(t){!w(Ee,t)||e&&!w(ve,t)||r.push(Ee[t])})),r};if(At||(et((ye=function(){if(this instanceof ye)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=U(t),n=function(t){this===ve&&n.call(Se,t),w(this,he)&&w(this[he],e)&&(this[he][e]=!1),Ne(this,e,c(1,t))};return a&&Pe&&Ne(ve,e,{configurable:!0,set:n}),De(e,t)}).prototype,"toString",(function(){return ge(this).tag})),u.f=je,P.f=Me,O.f=Ie,bt.f=Xt.f=Re,wt.f=Be,a&&(we(ye.prototype,"description",{configurable:!0,get:function(){return ge(this).description}}),et(ve,"propertyIsEnumerable",je,{unsafe:!0}))),Mt||(Qt.f=function(t){return De(Kt(t),t)}),Dt({global:!0,wrap:!0,forced:!At,sham:!At},{Symbol:ye}),de(It(Ce),(function(t){te(t)})),Dt({target:"Symbol",stat:!0,forced:!At},{for:function(t){var e=String(t);if(w(ke,e))return ke[e];var n=ye(e);return ke[e]=n,Oe[n]=e,n},keyFor:function(t){if(!Ae(t))throw TypeError(t+" is not a symbol");if(w(Oe,t))return Oe[t]},useSetter:function(){Pe=!0},useSimple:function(){Pe=!1}}),Dt({target:"Object",stat:!0,forced:!At,sham:!a},{create:function(t,e){return void 0===e?Ut(t):Le(Ut(t),e)},defineProperty:Me,defineProperties:Le,getOwnPropertyDescriptor:Ie}),Dt({target:"Object",stat:!0,forced:!At},{getOwnPropertyNames:Re,getOwnPropertySymbols:Be}),Dt({target:"Object",stat:!0,forced:o((function(){wt.f(1)}))},{getOwnPropertySymbols:function(t){return wt.f(jt(t))}}),me){var ze=!At||o((function(){var t=ye();return"[null]"!=me([t])||"{}"!=me({a:t})||"{}"!=me(Object(t))}));Dt({target:"JSON",stat:!0,forced:ze},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(y(e)||void 0!==t)&&!Ae(t))return Lt(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Ae(e))return e}),i[1]=e,me.apply(null,i)}})}ye.prototype[fe]||N(ye.prototype,fe,ye.prototype.valueOf),re(ye,"Symbol"),Y[he]=!0;var Fe=P.f,Ve=i.Symbol;if(a&&"function"==typeof Ve&&(!("description"in Ve.prototype)||void 0!==Ve().description)){var qe={},Ue=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Ue?new Ve(t):void 0===t?Ve():Ve(t);return""===t&&(qe[e]=!0),e};_t(Ue,Ve);var He=Ue.prototype=Ve.prototype;He.constructor=Ue;var We=He.toString,Ye="Symbol(test)"==String(Ve("test")),Xe=/^Symbol\((.*)\)[^)]+$/;Fe(He,"description",{configurable:!0,get:function(){var t=y(this)?this.valueOf():this,e=We.call(t);if(w(qe,t))return"";var n=Ye?e.slice(7,-1):e.replace(Xe,"$1");return""===n?void 0:n}}),Dt({global:!0,forced:!0},{Symbol:Ue})}te("iterator");var Ge=Kt("unscopables"),$e=Array.prototype;null==$e[Ge]&&P.f($e,Ge,{configurable:!0,value:Ut(null)});var Ze,Ke,Qe,Je=function(t){$e[Ge][t]=!0},tn={},en=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),nn=W("IE_PROTO"),rn=Object.prototype,on=en?Object.getPrototypeOf:function(t){return t=jt(t),w(t,nn)?t[nn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?rn:null},an=Kt("iterator"),sn=!1;[].keys&&("next"in(Qe=[].keys())?(Ke=on(on(Qe)))!==Object.prototype&&(Ze=Ke):sn=!0),null==Ze&&(Ze={}),w(Ze,an)||N(Ze,an,(function(){return this}));var ln={IteratorPrototype:Ze,BUGGY_SAFARI_ITERATORS:sn},un=ln.IteratorPrototype,cn=function(){return this},dn=function(t,e,n){var r=e+" Iterator";return t.prototype=Ut(un,{next:c(1,n)}),re(t,r,!1),tn[r]=cn,t},hn=function(t){if(!y(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t},fn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return C(n),hn(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),pn=ln.IteratorPrototype,gn=ln.BUGGY_SAFARI_ITERATORS,vn=Kt("iterator"),yn=function(){return this},mn=function(t,e,n,r,i,o,a){dn(n,e,r);var s,l,u,c=function(t){if(t===i&&g)return g;if(!gn&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},d=e+" Iterator",h=!1,f=t.prototype,p=f[vn]||f["@@iterator"]||i&&f[i],g=!gn&&p||c(i),v="Array"==e&&f.entries||p;if(v&&(s=on(v.call(new t)),pn!==Object.prototype&&s.next&&(on(s)!==pn&&(fn?fn(s,pn):"function"!=typeof s[vn]&&N(s,vn,yn)),re(s,d,!0))),"values"==i&&p&&"values"!==p.name&&(h=!0,g=function(){return p.call(this)}),f[vn]!==g&&N(f,vn,g),tn[e]=g,i)if(l={values:c("values"),keys:o?g:c("keys"),entries:c("entries")},a)for(u in l)!gn&&!h&&u in f||et(f,u,l[u]);else Dt({target:e,proto:!0,forced:gn||h},l);return l},bn=tt.set,wn=tt.getterFor("Array Iterator"),xn=mn(Array,"Array",(function(t,e){bn(this,{type:"Array Iterator",target:v(t),index:0,kind:e})}),(function(){var t=wn(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");tn.Arguments=tn.Array,Je("keys"),Je("values"),Je("entries");var _n=P.f,En=Function.prototype,Sn=En.toString,kn=/^\s*function ([^ (]*)/;!a||"name"in En||_n(En,"name",{configurable:!0,get:function(){try{return Sn.call(this).match(kn)[1]}catch(t){return""}}}),Dt({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperty:P.f});var On={};On[Kt("toStringTag")]="z";var Cn="[object z]"===String(On),Tn=Kt("toStringTag"),Pn="Arguments"==h(function(){return arguments}()),Nn=Cn?h:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Tn))?n:Pn?h(e):"Object"==(r=h(e))&&"function"==typeof e.callee?"Arguments":r},Dn=Cn?{}.toString:function(){return"[object "+Nn(this)+"]"};Cn||et(Object.prototype,"toString",Dn,{unsafe:!0});var An=i.Promise,Mn=function(t,e,n){for(var r in e)et(t,r,e[r],n);return t},Ln=Kt("species"),jn=function(t){var e=it(t),n=P.f;a&&e&&!e[Ln]&&n(e,Ln,{configurable:!0,get:function(){return this}})},In=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Rn=Kt("iterator"),Bn=Array.prototype,zn=function(t){return void 0!==t&&(tn.Array===t||Bn[Rn]===t)},Fn=Kt("iterator"),Vn=function(t){if(null!=t)return t[Fn]||t["@@iterator"]||tn[Nn(t)]},qn=function(t,e,n,r){try{return r?e(C(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&C(i.call(t)),e}},Un=n((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,n,r,i,o){var a,s,l,u,c,d,h,f=oe(n,r,i?2:1);if(o)a=t;else{if("function"!=typeof(s=Vn(t)))throw TypeError("Target is not iterable");if(zn(s)){for(l=0,u=ut(t.length);u>l;l++)if((c=i?f(C(h=t[l])[0],h[1]):f(t[l]))&&c instanceof e)return c;return new e(!1)}a=s.call(t)}for(d=a.next;!(h=d.call(a)).done;)if("object"==typeof(c=qn(a,f,h.value,i))&&c&&c instanceof e)return c;return new e(!1)}).stop=function(t){return new e(!0,t)}})),Hn=Kt("iterator"),Wn=!1;try{var Yn=0;({next:function(){return{done:!!Yn++}},return:function(){Wn=!0}})[Hn]=function(){return this}}catch(t){}var Xn,Gn,$n,Zn=function(t,e){if(!e&&!Wn)return!1;var n=!1;try{var r={};r[Hn]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Kn=Kt("species"),Qn=function(t,e){var n,r=C(t).constructor;return void 0===r||null==(n=C(r)[Kn])?e:ie(n)},Jn=it("navigator","userAgent")||"",tr=/(iphone|ipod|ipad).*applewebkit/i.test(Jn),er=i.location,nr=i.setImmediate,rr=i.clearImmediate,ir=i.process,or=i.MessageChannel,ar=i.Dispatch,sr=0,lr={},ur=function(t){if(lr.hasOwnProperty(t)){var e=lr[t];delete lr[t],e()}},cr=function(t){return function(){ur(t)}},dr=function(t){ur(t.data)},hr=function(t){i.postMessage(t+"",er.protocol+"//"+er.host)};nr&&rr||(nr=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return lr[++sr]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Xn(sr),sr},rr=function(t){delete lr[t]},"process"==h(ir)?Xn=function(t){ir.nextTick(cr(t))}:ar&&ar.now?Xn=function(t){ar.now(cr(t))}:or&&!tr?($n=(Gn=new or).port2,Gn.port1.onmessage=dr,Xn=oe($n.postMessage,$n,1)):!i.addEventListener||"function"!=typeof postMessage||i.importScripts||o(hr)?Xn="onreadystatechange"in E("script")?function(t){Bt.appendChild(E("script")).onreadystatechange=function(){Bt.removeChild(this),ur(t)}}:function(t){setTimeout(cr(t),0)}:(Xn=hr,i.addEventListener("message",dr,!1)));var fr,pr,gr,vr,yr,mr,br,wr,xr={set:nr,clear:rr},_r=O.f,Er=xr.set,Sr=i.MutationObserver||i.WebKitMutationObserver,kr=i.process,Or=i.Promise,Cr="process"==h(kr),Tr=_r(i,"queueMicrotask"),Pr=Tr&&Tr.value;Pr||(fr=function(){var t,e;for(Cr&&(t=kr.domain)&&t.exit();pr;){e=pr.fn,pr=pr.next;try{e()}catch(t){throw pr?vr():gr=void 0,t}}gr=void 0,t&&t.enter()},Cr?vr=function(){kr.nextTick(fr)}:Sr&&!tr?(yr=!0,mr=document.createTextNode(""),new Sr(fr).observe(mr,{characterData:!0}),vr=function(){mr.data=yr=!yr}):Or&&Or.resolve?(br=Or.resolve(void 0),wr=br.then,vr=function(){wr.call(br,fr)}):vr=function(){Er.call(i,fr)});var Nr,Dr,Ar=Pr||function(t){var e={fn:t,next:void 0};gr&&(gr.next=e),pr||(pr=e,vr()),gr=e},Mr=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=ie(e),this.reject=ie(n)},Lr={f:function(t){return new Mr(t)}},jr=function(t,e){if(C(t),y(e)&&e.constructor===t)return e;var n=Lr.f(t);return(0,n.resolve)(e),n.promise},Ir=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Rr=i.process,Br=Rr&&Rr.versions,zr=Br&&Br.v8;zr?Dr=(Nr=zr.split("."))[0]+Nr[1]:Jn&&(!(Nr=Jn.match(/Edge\/(\d+)/))||Nr[1]>=74)&&(Nr=Jn.match(/Chrome\/(\d+)/))&&(Dr=Nr[1]);var Fr,Vr,qr,Ur,Hr=Dr&&+Dr,Wr=xr.set,Yr=Kt("species"),Xr="Promise",Gr=tt.get,$r=tt.set,Zr=tt.getterFor(Xr),Kr=An,Qr=i.TypeError,Jr=i.document,ti=i.process,ei=it("fetch"),ni=Lr.f,ri=ni,ii="process"==h(ti),oi=!!(Jr&&Jr.createEvent&&i.dispatchEvent),ai=Pt(Xr,(function(){if(!(R(Kr)!==String(Kr))){if(66===Hr)return!0;if(!ii&&"function"!=typeof PromiseRejectionEvent)return!0}if(Hr>=51&&/native code/.test(Kr))return!1;var t=Kr.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[Yr]=e,!(t.then((function(){}))instanceof e)})),si=ai||!Zn((function(t){Kr.all(t).catch((function(){}))})),li=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},ui=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;Ar((function(){for(var i=e.value,o=1==e.state,a=0;r.length>a;){var s,l,u,c=r[a++],d=o?c.ok:c.fail,h=c.resolve,f=c.reject,p=c.domain;try{d?(o||(2===e.rejection&&fi(t,e),e.rejection=1),!0===d?s=i:(p&&p.enter(),s=d(i),p&&(p.exit(),u=!0)),s===c.promise?f(Qr("Promise-chain cycle")):(l=li(s))?l.call(s,h,f):h(s)):f(i)}catch(t){p&&!u&&p.exit(),f(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&di(t,e)}))}},ci=function(t,e,n){var r,o;oi?((r=Jr.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),i.dispatchEvent(r)):r={promise:e,reason:n},(o=i["on"+t])?o(r):"unhandledrejection"===t&&function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},di=function(t,e){Wr.call(i,(function(){var n,r=e.value;if(hi(e)&&(n=Ir((function(){ii?ti.emit("unhandledRejection",r,t):ci("unhandledrejection",t,r)})),e.rejection=ii||hi(e)?2:1,n.error))throw n.value}))},hi=function(t){return 1!==t.rejection&&!t.parent},fi=function(t,e){Wr.call(i,(function(){ii?ti.emit("rejectionHandled",t):ci("rejectionhandled",t,e.value)}))},pi=function(t,e,n,r){return function(i){t(e,n,i,r)}},gi=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,ui(t,e,!0))},vi=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw Qr("Promise can't be resolved itself");var i=li(n);i?Ar((function(){var r={done:!1};try{i.call(n,pi(vi,t,r,e),pi(gi,t,r,e))}catch(n){gi(t,r,n,e)}})):(e.value=n,e.state=1,ui(t,e,!1))}catch(n){gi(t,{done:!1},n,e)}}};ai&&(Kr=function(t){In(this,Kr,Xr),ie(t),Fr.call(this);var e=Gr(this);try{t(pi(vi,this,e),pi(gi,this,e))}catch(t){gi(this,e,t)}},(Fr=function(t){$r(this,{type:Xr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Mn(Kr.prototype,{then:function(t,e){var n=Zr(this),r=ni(Qn(this,Kr));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=ii?ti.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&ui(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Vr=function(){var t=new Fr,e=Gr(t);this.promise=t,this.resolve=pi(vi,t,e),this.reject=pi(gi,t,e)},Lr.f=ni=function(t){return t===Kr||t===qr?new Vr(t):ri(t)},"function"==typeof An&&(Ur=An.prototype.then,et(An.prototype,"then",(function(t,e){var n=this;return new Kr((function(t,e){Ur.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof ei&&Dt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return jr(Kr,ei.apply(i,arguments))}}))),Dt({global:!0,wrap:!0,forced:ai},{Promise:Kr}),re(Kr,Xr,!1),jn(Xr),qr=it(Xr),Dt({target:Xr,stat:!0,forced:ai},{reject:function(t){var e=ni(this);return e.reject.call(void 0,t),e.promise}}),Dt({target:Xr,stat:!0,forced:ai},{resolve:function(t){return jr(this,t)}}),Dt({target:Xr,stat:!0,forced:si},{all:function(t){var e=this,n=ni(e),r=n.resolve,i=n.reject,o=Ir((function(){var n=ie(e.resolve),o=[],a=0,s=1;Un(t,(function(t){var l=a++,u=!1;o.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,o[l]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=ni(e),r=n.reject,i=Ir((function(){var i=ie(e.resolve);Un(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var yi=!!An&&o((function(){An.prototype.finally.call({then:function(){}},(function(){}))}));Dt({target:"Promise",proto:!0,real:!0,forced:yi},{finally:function(t){var e=Qn(this,it("Promise")),n="function"==typeof t;return this.then(n?function(n){return jr(e,t()).then((function(){return n}))}:t,n?function(n){return jr(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof An||An.prototype.finally||et(An.prototype,"finally",it("Promise").prototype.finally);var mi=function(t){return function(e,n){var r,i,o=String(g(e)),a=st(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},bi={codeAt:mi(!1),charAt:mi(!0)},wi=bi.charAt,xi=tt.set,_i=tt.getterFor("String Iterator");mn(String,"String",(function(t){xi(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=_i(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=wi(n,r),e.index+=t.length,{value:t,done:!1})}));var Ei={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Si=Kt("iterator"),ki=Kt("toStringTag"),Oi=xn.values;for(var Ci in Ei){var Ti=i[Ci],Pi=Ti&&Ti.prototype;if(Pi){if(Pi[Si]!==Oi)try{N(Pi,Si,Oi)}catch(t){Pi[Si]=Oi}if(Pi[ki]||N(Pi,ki,Ci),Ei[Ci])for(var Ni in xn)if(Pi[Ni]!==xn[Ni])try{N(Pi,Ni,xn[Ni])}catch(t){Pi[Ni]=xn[Ni]}}}var Di=[].slice,Ai=/MSIE .\./.test(Jn),Mi=function(t){return function(e,n){var r=arguments.length>2,i=r?Di.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};Dt({global:!0,bind:!0,forced:Ai},{setTimeout:Mi(i.setTimeout),setInterval:Mi(i.setInterval)}),te("asyncIterator"),te("hasInstance"),te("isConcatSpreadable"),te("match"),te("matchAll"),te("replace"),te("search"),te("species"),te("split"),te("toPrimitive"),te("toStringTag"),te("unscopables");var Li=Object.assign,ji=Object.defineProperty,Ii=!Li||o((function(){if(a&&1!==Li({b:1},Li(ji({},"a",{enumerable:!0,get:function(){ji(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Li({},t)[n]||"abcdefghijklmnopqrst"!=It(Li({},e)).join("")}))?function(t,e){for(var n=jt(t),r=arguments.length,i=1,o=wt.f,s=u.f;r>i;)for(var l,c=p(arguments[i++]),d=o?It(c).concat(o(c)):It(c),h=d.length,f=0;h>f;)l=d[f++],a&&!s.call(c,l)||(n[l]=c[l]);return n}:Li;Dt({target:"Object",stat:!0,forced:Object.assign!==Ii},{assign:Ii}),Dt({target:"Object",stat:!0,sham:!a},{create:Ut}),Dt({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperties:Rt});var Ri=u.f,Bi=function(t){return function(e){for(var n,r=v(e),i=It(r),o=i.length,s=0,l=[];o>s;)n=i[s++],a&&!Ri.call(r,n)||l.push(t?[n,r[n]]:r[n]);return l}},zi={entries:Bi(!0),values:Bi(!1)},Fi=zi.entries;Dt({target:"Object",stat:!0},{entries:function(t){return Fi(t)}});var Vi=!o((function(){return Object.isExtensible(Object.preventExtensions({}))})),qi=n((function(t){var e=P.f,n=U("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!y(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!w(t,n)){if(!i(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!w(t,n)){if(!i(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return Vi&&a.REQUIRED&&i(t)&&!w(t,n)&&o(t),t}};Y[n]=!0})),Ui=(qi.REQUIRED,qi.fastKey,qi.getWeakData,qi.onFreeze,qi.onFreeze),Hi=Object.freeze,Wi=o((function(){Hi(1)}));Dt({target:"Object",stat:!0,forced:Wi,sham:!Vi},{freeze:function(t){return Hi&&y(t)?Hi(Ui(t)):t}});var Yi=function(t,e,n){var r=m(e);r in t?P.f(t,r,c(0,n)):t[r]=n};Dt({target:"Object",stat:!0},{fromEntries:function(t){var e={};return Un(t,(function(t,n){Yi(e,t,n)}),void 0,!0),e}});var Xi=O.f,Gi=o((function(){Xi(1)}));Dt({target:"Object",stat:!0,forced:!a||Gi,sham:!a},{getOwnPropertyDescriptor:function(t,e){return Xi(v(t),e)}}),Dt({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){for(var e,n,r=v(t),i=O.f,o=xt(r),a={},s=0;o.length>s;)void 0!==(n=i(r,e=o[s++]))&&Yi(a,e,n);return a}});var $i=Xt.f,Zi=o((function(){return!Object.getOwnPropertyNames(1)}));Dt({target:"Object",stat:!0,forced:Zi},{getOwnPropertyNames:$i});var Ki=o((function(){on(1)}));Dt({target:"Object",stat:!0,forced:Ki,sham:!en},{getPrototypeOf:function(t){return on(jt(t))}});var Qi=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};Dt({target:"Object",stat:!0},{is:Qi});var Ji=Object.isExtensible,to=o((function(){}));Dt({target:"Object",stat:!0,forced:to},{isExtensible:function(t){return!!y(t)&&(!Ji||Ji(t))}});var eo=Object.isFrozen,no=o((function(){}));Dt({target:"Object",stat:!0,forced:no},{isFrozen:function(t){return!y(t)||!!eo&&eo(t)}});var ro=Object.isSealed,io=o((function(){}));Dt({target:"Object",stat:!0,forced:io},{isSealed:function(t){return!y(t)||!!ro&&ro(t)}});var oo=o((function(){It(1)}));Dt({target:"Object",stat:!0,forced:oo},{keys:function(t){return It(jt(t))}});var ao=qi.onFreeze,so=Object.preventExtensions,lo=o((function(){so(1)}));Dt({target:"Object",stat:!0,forced:lo,sham:!Vi},{preventExtensions:function(t){return so&&y(t)?so(ao(t)):t}});var uo=qi.onFreeze,co=Object.seal,ho=o((function(){co(1)}));Dt({target:"Object",stat:!0,forced:ho,sham:!Vi},{seal:function(t){return co&&y(t)?co(uo(t)):t}}),Dt({target:"Object",stat:!0},{setPrototypeOf:fn});var fo=zi.values;Dt({target:"Object",stat:!0},{values:function(t){return fo(t)}});var po=!o((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete i[t]}));a&&Dt({target:"Object",proto:!0,forced:po},{__defineGetter__:function(t,e){P.f(jt(this),t,{get:ie(e),enumerable:!0,configurable:!0})}}),a&&Dt({target:"Object",proto:!0,forced:po},{__defineSetter__:function(t,e){P.f(jt(this),t,{set:ie(e),enumerable:!0,configurable:!0})}});var go=O.f;a&&Dt({target:"Object",proto:!0,forced:po},{__lookupGetter__:function(t){var e,n=jt(this),r=m(t,!0);do{if(e=go(n,r))return e.get}while(n=on(n))}});var vo=O.f;a&&Dt({target:"Object",proto:!0,forced:po},{__lookupSetter__:function(t){var e,n=jt(this),r=m(t,!0);do{if(e=vo(n,r))return e.set}while(n=on(n))}});var yo=[].slice,mo={},bo=function(t,e,n){if(!(e in mo)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";mo[e]=Function("C,a","return new C("+r.join(",")+")")}return mo[e](t,n)},wo=Function.bind||function(t){var e=ie(this),n=yo.call(arguments,1),r=function(){var i=n.concat(yo.call(arguments));return this instanceof r?bo(e,i.length,i):e.apply(t,i)};return y(e.prototype)&&(r.prototype=e.prototype),r};Dt({target:"Function",proto:!0},{bind:wo});var xo=Kt("hasInstance"),_o=Function.prototype;xo in _o||P.f(_o,xo,{value:function(t){if("function"!=typeof this||!y(t))return!1;if(!y(this.prototype))return t instanceof this;for(;t=on(t);)if(this.prototype===t)return!0;return!1}}),Dt({global:!0},{globalThis:i});var Eo=function(t){var e,n,r,i,o,a=jt(t),s="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,c=void 0!==u,d=0,h=Vn(a);if(c&&(u=oe(u,l>2?arguments[2]:void 0,2)),null==h||s==Array&&zn(h))for(n=new s(e=ut(a.length));e>d;d++)Yi(n,d,c?u(a[d],d):a[d]);else for(o=(i=h.call(a)).next,n=new s;!(r=o.call(i)).done;d++)Yi(n,d,c?qn(i,u,[r.value,d],!0):r.value);return n.length=d,n},So=!Zn((function(t){}));Dt({target:"Array",stat:!0,forced:So},{from:Eo}),Dt({target:"Array",stat:!0},{isArray:Lt});var ko=o((function(){function t(){}return!(Array.of.call(t)instanceof t)}));Dt({target:"Array",stat:!0,forced:ko},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)Yi(n,t,arguments[t++]);return n.length=e,n}});var Oo=Kt("species"),Co=function(t){return Hr>=51||!o((function(){var e=[];return(e.constructor={})[Oo]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},To=Kt("isConcatSpreadable"),Po=Hr>=51||!o((function(){var t=[];return t[To]=!1,t.concat()[0]!==t})),No=Co("concat"),Do=function(t){if(!y(t))return!1;var e=t[To];return void 0!==e?!!e:Lt(t)};Dt({target:"Array",proto:!0,forced:!Po||!No},{concat:function(t){var e,n,r,i,o,a=jt(this),s=se(a,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?a:arguments[e],Do(o)){if(l+(i=ut(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,l++)n in o&&Yi(s,l,o[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Yi(s,l++,o)}return s.length=l,s}});var Ao=Math.min,Mo=[].copyWithin||function(t,e){var n=jt(this),r=ut(n.length),i=ht(t,r),o=ht(e,r),a=arguments.length>2?arguments[2]:void 0,s=Ao((void 0===a?r:ht(a,r))-o,r-i),l=1;for(o<i&&i<o+s&&(l=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:delete n[i],i+=l,o+=l;return n};Dt({target:"Array",proto:!0},{copyWithin:Mo}),Je("copyWithin");var Lo=function(t,e){var n=[][t];return!n||!o((function(){n.call(null,e||function(){throw 1},1)}))},jo=ce.every;Dt({target:"Array",proto:!0,forced:Lo("every")},{every:function(t){return jo(this,t,arguments.length>1?arguments[1]:void 0)}});var Io=function(t){for(var e=jt(this),n=ut(e.length),r=arguments.length,i=ht(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:ht(o,n);a>i;)e[i++]=t;return e};Dt({target:"Array",proto:!0},{fill:Io}),Je("fill");var Ro=ce.filter,Bo=Co("filter"),zo=Bo&&!o((function(){[].filter.call({length:-1,0:1},(function(t){throw t}))}));Dt({target:"Array",proto:!0,forced:!Bo||!zo},{filter:function(t){return Ro(this,t,arguments.length>1?arguments[1]:void 0)}});var Fo=ce.find,Vo=!0;"find"in[]&&Array(1).find((function(){Vo=!1})),Dt({target:"Array",proto:!0,forced:Vo},{find:function(t){return Fo(this,t,arguments.length>1?arguments[1]:void 0)}}),Je("find");var qo=ce.findIndex,Uo=!0;"findIndex"in[]&&Array(1).findIndex((function(){Uo=!1})),Dt({target:"Array",proto:!0,forced:Uo},{findIndex:function(t){return qo(this,t,arguments.length>1?arguments[1]:void 0)}}),Je("findIndex");var Ho=function(t,e,n,r,i,o,a,s){for(var l,u=i,c=0,d=!!a&&oe(a,s,3);c<r;){if(c in n){if(l=d?d(n[c],c,e):n[c],o>0&&Lt(l))u=Ho(t,e,l,ut(l.length),u,o-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[u]=l}u++}c++}return u},Wo=Ho;Dt({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=jt(this),n=ut(e.length),r=se(e,0);return r.length=Wo(r,e,e,n,0,void 0===t?1:st(t)),r}}),Dt({target:"Array",proto:!0},{flatMap:function(t){var e,n=jt(this),r=ut(n.length);return ie(t),(e=se(n,0)).length=Wo(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var Yo=ce.forEach,Xo=Lo("forEach")?function(t){return Yo(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;Dt({target:"Array",proto:!0,forced:[].forEach!=Xo},{forEach:Xo});var Go=pt.includes;Dt({target:"Array",proto:!0},{includes:function(t){return Go(this,t,arguments.length>1?arguments[1]:void 0)}}),Je("includes");var $o=pt.indexOf,Zo=[].indexOf,Ko=!!Zo&&1/[1].indexOf(1,-0)<0,Qo=Lo("indexOf");Dt({target:"Array",proto:!0,forced:Ko||Qo},{indexOf:function(t){return Ko?Zo.apply(this,arguments)||0:$o(this,t,arguments.length>1?arguments[1]:void 0)}});var Jo=[].join,ta=p!=Object,ea=Lo("join",",");Dt({target:"Array",proto:!0,forced:ta||ea},{join:function(t){return Jo.call(v(this),void 0===t?",":t)}});var na=Math.min,ra=[].lastIndexOf,ia=!!ra&&1/[1].lastIndexOf(1,-0)<0,oa=Lo("lastIndexOf"),aa=ia||oa?function(t){if(ia)return ra.apply(this,arguments)||0;var e=v(this),n=ut(e.length),r=n-1;for(arguments.length>1&&(r=na(r,st(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:ra;Dt({target:"Array",proto:!0,forced:aa!==[].lastIndexOf},{lastIndexOf:aa});var sa=ce.map,la=Co("map"),ua=la&&!o((function(){[].map.call({length:-1,0:1},(function(t){throw t}))}));Dt({target:"Array",proto:!0,forced:!la||!ua},{map:function(t){return sa(this,t,arguments.length>1?arguments[1]:void 0)}});var ca=function(t){return function(e,n,r,i){ie(n);var o=jt(e),a=p(o),s=ut(o.length),l=t?s-1:0,u=t?-1:1;if(r<2)for(;;){if(l in a){i=a[l],l+=u;break}if(l+=u,t?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:s>l;l+=u)l in a&&(i=n(i,a[l],l,o));return i}},da={left:ca(!1),right:ca(!0)},ha=da.left;Dt({target:"Array",proto:!0,forced:Lo("reduce")},{reduce:function(t){return ha(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var fa=da.right;Dt({target:"Array",proto:!0,forced:Lo("reduceRight")},{reduceRight:function(t){return fa(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var pa=[].reverse,ga=[1,2];Dt({target:"Array",proto:!0,forced:String(ga)===String(ga.reverse())},{reverse:function(){return Lt(this)&&(this.length=this.length),pa.call(this)}});var va=Kt("species"),ya=[].slice,ma=Math.max;Dt({target:"Array",proto:!0,forced:!Co("slice")},{slice:function(t,e){var n,r,i,o=v(this),a=ut(o.length),s=ht(t,a),l=ht(void 0===e?a:e,a);if(Lt(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Lt(n.prototype)?y(n)&&null===(n=n[va])&&(n=void 0):n=void 0,n===Array||void 0===n))return ya.call(o,s,l);for(r=new(void 0===n?Array:n)(ma(l-s,0)),i=0;s<l;s++,i++)s in o&&Yi(r,i,o[s]);return r.length=i,r}});var ba=ce.some;Dt({target:"Array",proto:!0,forced:Lo("some")},{some:function(t){return ba(this,t,arguments.length>1?arguments[1]:void 0)}});var wa=[],xa=wa.sort,_a=o((function(){wa.sort(void 0)})),Ea=o((function(){wa.sort(null)})),Sa=Lo("sort");Dt({target:"Array",proto:!0,forced:_a||!Ea||Sa},{sort:function(t){return void 0===t?xa.call(jt(this)):xa.call(jt(this),ie(t))}});var ka=Math.max,Oa=Math.min;Dt({target:"Array",proto:!0,forced:!Co("splice")},{splice:function(t,e){var n,r,i,o,a,s,l=jt(this),u=ut(l.length),c=ht(t,u),d=arguments.length;if(0===d?n=r=0:1===d?(n=0,r=u-c):(n=d-2,r=Oa(ka(st(e),0),u-c)),u+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=se(l,r),o=0;o<r;o++)(a=c+o)in l&&Yi(i,o,l[a]);if(i.length=r,n<r){for(o=c;o<u-r;o++)s=o+n,(a=o+r)in l?l[s]=l[a]:delete l[s];for(o=u;o>u-r+n;o--)delete l[o-1]}else if(n>r)for(o=u-r;o>c;o--)s=o+n-1,(a=o+r-1)in l?l[s]=l[a]:delete l[s];for(o=0;o<n;o++)l[o+c]=arguments[o+2];return l.length=u-r+n,i}}),jn("Array"),Je("flat"),Je("flatMap");var Ca=String.fromCharCode,Ta=String.fromCodePoint,Pa=!!Ta&&1!=Ta.length;Dt({target:"String",stat:!0,forced:Pa},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],ht(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?Ca(e):Ca(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}}),Dt({target:"String",stat:!0},{raw:function(t){for(var e=v(t.raw),n=ut(e.length),r=arguments.length,i=[],o=0;n>o;)i.push(String(e[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}});var Na=bi.codeAt;Dt({target:"String",proto:!0},{codePointAt:function(t){return Na(this,t)}});var Da,Aa=Kt("match"),Ma=function(t){var e;return y(t)&&(void 0!==(e=t[Aa])?!!e:"RegExp"==h(t))},La=function(t){if(Ma(t))throw TypeError("The method doesn't accept regular expressions");return t},ja=Kt("match"),Ia=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[ja]=!1,"/./"[t](e)}catch(t){}}return!1},Ra=O.f,Ba="".endsWith,za=Math.min,Fa=Ia("endsWith"),Va=!(Fa||(Da=Ra(String.prototype,"endsWith"),!Da||Da.writable));Dt({target:"String",proto:!0,forced:!Va&&!Fa},{endsWith:function(t){var e=String(g(this));La(t);var n=arguments.length>1?arguments[1]:void 0,r=ut(e.length),i=void 0===n?r:za(ut(n),r),o=String(t);return Ba?Ba.call(e,o,i):e.slice(i-o.length,i)===o}}),Dt({target:"String",proto:!0,forced:!Ia("includes")},{includes:function(t){return!!~String(g(this)).indexOf(La(t),arguments.length>1?arguments[1]:void 0)}});var qa=function(){var t=C(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Ua(t,e){return RegExp(t,e)}var Ha={UNSUPPORTED_Y:o((function(){var t=Ua("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:o((function(){var t=Ua("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},Wa=RegExp.prototype.exec,Ya=String.prototype.replace,Xa=Wa,Ga=function(){var t=/a/,e=/b*/g;return Wa.call(t,"a"),Wa.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),$a=Ha.UNSUPPORTED_Y||Ha.BROKEN_CARET,Za=void 0!==/()??/.exec("")[1];(Ga||Za||$a)&&(Xa=function(t){var e,n,r,i,o=this,a=$a&&o.sticky,s=qa.call(o),l=o.source,u=0,c=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),c=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(l="(?: "+l+")",c=" "+c,u++),n=new RegExp("^(?:"+l+")",s)),Za&&(n=new RegExp("^"+l+"$(?!\\s)",s)),Ga&&(e=o.lastIndex),r=Wa.call(a?n:o,c),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:Ga&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),Za&&r&&r.length>1&&Ya.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Ka=Xa,Qa=Kt("species"),Ja=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),ts="$0"==="a".replace(/./,"$0"),es=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),ns=function(t,e,n,r){var i=Kt(t),a=!o((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),s=a&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[Qa]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!a||!s||"replace"===t&&(!Ja||!ts)||"split"===t&&!es){var l=/./[i],u=n(i,""[t],(function(t,e,n,r,i){return e.exec===Ka?a&&!i?{done:!0,value:l.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:ts}),c=u[0],d=u[1];et(String.prototype,t,c),et(RegExp.prototype,i,2==e?function(t,e){return d.call(t,this,e)}:function(t){return d.call(t,this)})}r&&N(RegExp.prototype[i],"sham",!0)},rs=bi.charAt,is=function(t,e,n){return e+(n?rs(t,e).length:1)},os=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==h(t))throw TypeError("RegExp#exec called on incompatible receiver");return Ka.call(t,e)};ns("match",1,(function(t,e,n){return[function(e){var n=g(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=C(t),o=String(this);if(!i.global)return os(i,o);var a=i.unicode;i.lastIndex=0;for(var s,l=[],u=0;null!==(s=os(i,o));){var c=String(s[0]);l[u]=c,""===c&&(i.lastIndex=is(o,ut(i.lastIndex),a)),u++}return 0===u?null:l}]}));var as=Kt("matchAll"),ss=tt.set,ls=tt.getterFor("RegExp String Iterator"),us=RegExp.prototype,cs=us.exec,ds="".matchAll,hs=!!ds&&!o((function(){"a".matchAll(/./)})),fs=dn((function(t,e,n,r){ss(this,{type:"RegExp String Iterator",regexp:t,string:e,global:n,unicode:r,done:!1})}),"RegExp String",(function(){var t=ls(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=function(t,e){var n,r=t.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(t,e)))throw TypeError("Incorrect exec result");return n}return cs.call(t,e)}(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""==String(r[0])&&(e.lastIndex=is(n,ut(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})})),ps=function(t){var e,n,r,i,o,a,s=C(this),l=String(t);return e=Qn(s,RegExp),void 0===(n=s.flags)&&s instanceof RegExp&&!("flags"in us)&&(n=qa.call(s)),r=void 0===n?"":String(n),i=new e(e===RegExp?s.source:s,r),o=!!~r.indexOf("g"),a=!!~r.indexOf("u"),i.lastIndex=ut(s.lastIndex),new fs(i,l,o,a)};Dt({target:"String",proto:!0,forced:hs},{matchAll:function(t){var e,n,r=g(this);if(null!=t){if(Ma(t)&&!~String(g("flags"in us?t.flags:qa.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(hs)return ds.apply(r,arguments);if(null!=(n=t[as]))return ie(n).call(t,r)}else if(hs)return ds.apply(r,arguments);return e=String(r),new RegExp(t,"g")[as](e)}}),as in us||N(us,as,ps);var gs="".repeat||function(t){var e=String(g(this)),n="",r=st(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},vs=Math.ceil,ys=function(t){return function(e,n,r){var i,o,a=String(g(e)),s=a.length,l=void 0===r?" ":String(r),u=ut(n);return u<=s||""==l?a:(i=u-s,(o=gs.call(l,vs(i/l.length))).length>i&&(o=o.slice(0,i)),t?a+o:o+a)}},ms={start:ys(!1),end:ys(!0)},bs=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(Jn),ws=ms.end;Dt({target:"String",proto:!0,forced:bs},{padEnd:function(t){return ws(this,t,arguments.length>1?arguments[1]:void 0)}});var xs=ms.start;Dt({target:"String",proto:!0,forced:bs},{padStart:function(t){return xs(this,t,arguments.length>1?arguments[1]:void 0)}}),Dt({target:"String",proto:!0},{repeat:gs});var _s=Math.max,Es=Math.min,Ss=Math.floor,ks=/\$([$&'`]|\d\d?|<[^>]*>)/g,Os=/\$([$&'`]|\d\d?)/g;ns("replace",2,(function(t,e,n,r){return[function(n,r){var i=g(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,o){if(r.REPLACE_KEEPS_$0||"string"==typeof o&&-1===o.indexOf("$0")){var a=n(e,t,this,o);if(a.done)return a.value}var s=C(t),l=String(this),u="function"==typeof o;u||(o=String(o));var c=s.global;if(c){var d=s.unicode;s.lastIndex=0}for(var h=[];;){var f=os(s,l);if(null===f)break;if(h.push(f),!c)break;""===String(f[0])&&(s.lastIndex=is(l,ut(s.lastIndex),d))}for(var p,g="",v=0,y=0;y<h.length;y++){f=h[y];for(var m=String(f[0]),b=_s(Es(st(f.index),l.length),0),w=[],x=1;x<f.length;x++)w.push(void 0===(p=f[x])?p:String(p));var _=f.groups;if(u){var E=[m].concat(w,b,l);void 0!==_&&E.push(_);var S=String(o.apply(void 0,E))}else S=i(m,l,b,w,_,o);b>=v&&(g+=l.slice(v,b)+S,v=b+m.length)}return g+l.slice(v)}];function i(t,n,r,i,o,a){var s=r+t.length,l=i.length,u=Os;return void 0!==o&&(o=jt(o),u=ks),e.call(a,u,(function(e,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":u=o[a.slice(1,-1)];break;default:var c=+a;if(0===c)return e;if(c>l){var d=Ss(c/10);return 0===d?e:d<=l?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):e}u=i[c-1]}return void 0===u?"":u}))}})),ns("search",1,(function(t,e,n){return[function(e){var n=g(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=C(t),o=String(this),a=i.lastIndex;Qi(a,0)||(i.lastIndex=0);var s=os(i,o);return Qi(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var Cs=[].push,Ts=Math.min,Ps=!o((function(){return!RegExp(4294967295,"y")}));ns("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(g(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!Ma(t))return e.call(r,t,i);for(var o,a,s,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,d=new RegExp(t.source,u+"g");(o=Ka.call(d,r))&&!((a=d.lastIndex)>c&&(l.push(r.slice(c,o.index)),o.length>1&&o.index<r.length&&Cs.apply(l,o.slice(1)),s=o[0].length,c=a,l.length>=i));)d.lastIndex===o.index&&d.lastIndex++;return c===r.length?!s&&d.test("")||l.push(""):l.push(r.slice(c)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=g(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var a=C(t),s=String(this),l=Qn(a,RegExp),u=a.unicode,c=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Ps?"y":"g"),d=new l(Ps?a:"^(?:"+a.source+")",c),h=void 0===i?4294967295:i>>>0;if(0===h)return[];if(0===s.length)return null===os(d,s)?[s]:[];for(var f=0,p=0,g=[];p<s.length;){d.lastIndex=Ps?p:0;var v,y=os(d,Ps?s:s.slice(p));if(null===y||(v=Ts(ut(d.lastIndex+(Ps?0:p)),s.length))===f)p=is(s,p,u);else{if(g.push(s.slice(f,p)),g.length===h)return g;for(var m=1;m<=y.length-1;m++)if(g.push(y[m]),g.length===h)return g;p=f=v}}return g.push(s.slice(f)),g}]}),!Ps);var Ns=O.f,Ds="".startsWith,As=Math.min,Ms=Ia("startsWith"),Ls=!Ms&&!!function(){var t=Ns(String.prototype,"startsWith");return t&&!t.writable}();Dt({target:"String",proto:!0,forced:!Ls&&!Ms},{startsWith:function(t){var e=String(g(this));La(t);var n=ut(As(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Ds?Ds.call(e,r,n):e.slice(n,n+r.length)===r}});var js="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",Is="["+js+"]",Rs=RegExp("^"+Is+Is+"*"),Bs=RegExp(Is+Is+"*$"),zs=function(t){return function(e){var n=String(g(e));return 1&t&&(n=n.replace(Rs,"")),2&t&&(n=n.replace(Bs,"")),n}},Fs={start:zs(1),end:zs(2),trim:zs(3)},Vs=function(t){return o((function(){return!!js[t]()||"âÂá "!="âÂá "[t]()||js[t].name!==t}))},qs=Fs.trim;Dt({target:"String",proto:!0,forced:Vs("trim")},{trim:function(){return qs(this)}});var Us=Fs.start,Hs=Vs("trimStart"),Ws=Hs?function(){return Us(this)}:"".trimStart;Dt({target:"String",proto:!0,forced:Hs},{trimStart:Ws,trimLeft:Ws});var Ys=Fs.end,Xs=Vs("trimEnd"),Gs=Xs?function(){return Ys(this)}:"".trimEnd;Dt({target:"String",proto:!0,forced:Xs},{trimEnd:Gs,trimRight:Gs});var $s=/"/g,Zs=function(t,e,n,r){var i=String(g(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(r).replace($s,"&quot;")+'"'),o+">"+i+"</"+e+">"},Ks=function(t){return o((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))};Dt({target:"String",proto:!0,forced:Ks("anchor")},{anchor:function(t){return Zs(this,"a","name",t)}}),Dt({target:"String",proto:!0,forced:Ks("big")},{big:function(){return Zs(this,"big","","")}}),Dt({target:"String",proto:!0,forced:Ks("blink")},{blink:function(){return Zs(this,"blink","","")}}),Dt({target:"String",proto:!0,forced:Ks("bold")},{bold:function(){return Zs(this,"b","","")}}),Dt({target:"String",proto:!0,forced:Ks("fixed")},{fixed:function(){return Zs(this,"tt","","")}}),Dt({target:"String",proto:!0,forced:Ks("fontcolor")},{fontcolor:function(t){return Zs(this,"font","color",t)}}),Dt({target:"String",proto:!0,forced:Ks("fontsize")},{fontsize:function(t){return Zs(this,"font","size",t)}}),Dt({target:"String",proto:!0,forced:Ks("italics")},{italics:function(){return Zs(this,"i","","")}}),Dt({target:"String",proto:!0,forced:Ks("link")},{link:function(t){return Zs(this,"a","href",t)}}),Dt({target:"String",proto:!0,forced:Ks("small")},{small:function(){return Zs(this,"small","","")}}),Dt({target:"String",proto:!0,forced:Ks("strike")},{strike:function(){return Zs(this,"strike","","")}}),Dt({target:"String",proto:!0,forced:Ks("sub")},{sub:function(){return Zs(this,"sub","","")}}),Dt({target:"String",proto:!0,forced:Ks("sup")},{sup:function(){return Zs(this,"sup","","")}});var Qs=function(t,e,n){var r,i;return fn&&"function"==typeof(r=e.constructor)&&r!==n&&y(i=r.prototype)&&i!==n.prototype&&fn(t,i),t},Js=P.f,tl=bt.f,el=tt.set,nl=Kt("match"),rl=i.RegExp,il=rl.prototype,ol=/a/g,al=/a/g,sl=new rl(ol)!==ol,ll=Ha.UNSUPPORTED_Y;if(a&&Pt("RegExp",!sl||ll||o((function(){return al[nl]=!1,rl(ol)!=ol||rl(al)==al||"/a/i"!=rl(ol,"i")})))){for(var ul=function(t,e){var n,r=this instanceof ul,i=Ma(t),o=void 0===e;if(!r&&i&&t.constructor===ul&&o)return t;sl?i&&!o&&(t=t.source):t instanceof ul&&(o&&(e=qa.call(t)),t=t.source),ll&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a=Qs(sl?new rl(t,e):rl(t,e),r?this:il,ul);return ll&&n&&el(a,{sticky:n}),a},cl=function(t){t in ul||Js(ul,t,{configurable:!0,get:function(){return rl[t]},set:function(e){rl[t]=e}})},dl=tl(rl),hl=0;dl.length>hl;)cl(dl[hl++]);il.constructor=ul,ul.prototype=il,et(i,"RegExp",ul)}jn("RegExp"),Dt({target:"RegExp",proto:!0,forced:/./.exec!==Ka},{exec:Ka}),a&&("g"!=/./g.flags||Ha.UNSUPPORTED_Y)&&P.f(RegExp.prototype,"flags",{configurable:!0,get:qa});var fl=Ha.UNSUPPORTED_Y,pl=P.f,gl=tt.get,vl=RegExp.prototype;a&&fl&&pl(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==vl){if(this instanceof RegExp)return!!gl(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}});var yl=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),ml=/./.test;Dt({target:"RegExp",proto:!0,forced:!yl},{test:function(t){if("function"!=typeof this.exec)return ml.call(this,t);var e=this.exec(t);if(null!==e&&!y(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}});var bl=RegExp.prototype,wl=bl.toString,xl=o((function(){return"/a/b"!=wl.call({source:"a",flags:"b"})})),_l="toString"!=wl.name;(xl||_l)&&et(RegExp.prototype,"toString",(function(){var t=C(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in bl)?qa.call(t):n)}),{unsafe:!0});var El=Fs.trim,Sl=i.parseInt,kl=/^[+-]?0[Xx]/,Ol=8!==Sl(js+"08")||22!==Sl(js+"0x16")?function(t,e){var n=El(String(t));return Sl(n,e>>>0||(kl.test(n)?16:10))}:Sl;Dt({global:!0,forced:parseInt!=Ol},{parseInt:Ol});var Cl=Fs.trim,Tl=i.parseFloat,Pl=1/Tl(js+"-0")!=-1/0?function(t){var e=Cl(String(t)),n=Tl(e);return 0===n&&"-"==e.charAt(0)?-0:n}:Tl;Dt({global:!0,forced:parseFloat!=Pl},{parseFloat:Pl});var Nl=bt.f,Dl=O.f,Al=P.f,Ml=Fs.trim,Ll=i.Number,jl=Ll.prototype,Il="Number"==h(Ut(jl)),Rl=function(t){var e,n,r,i,o,a,s,l,u=m(t,!1);if("string"==typeof u&&u.length>2)if(43===(e=(u=Ml(u)).charCodeAt(0))||45===e){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=(o=u.slice(2)).length,s=0;s<a;s++)if((l=o.charCodeAt(s))<48||l>i)return NaN;return parseInt(o,r)}return+u};if(Pt("Number",!Ll(" 0o1")||!Ll("0b1")||Ll("+0x1"))){for(var Bl,zl=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof zl&&(Il?o((function(){jl.valueOf.call(n)})):"Number"!=h(n))?Qs(new Ll(Rl(e)),n,zl):Rl(e)},Fl=a?Nl(Ll):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Vl=0;Fl.length>Vl;Vl++)w(Ll,Bl=Fl[Vl])&&!w(zl,Bl)&&Al(zl,Bl,Dl(Ll,Bl));zl.prototype=jl,jl.constructor=zl,et(i,"Number",zl)}Dt({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var ql=i.isFinite,Ul=Number.isFinite||function(t){return"number"==typeof t&&ql(t)};Dt({target:"Number",stat:!0},{isFinite:Ul});var Hl=Math.floor,Wl=function(t){return!y(t)&&isFinite(t)&&Hl(t)===t};Dt({target:"Number",stat:!0},{isInteger:Wl}),Dt({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Yl=Math.abs;Dt({target:"Number",stat:!0},{isSafeInteger:function(t){return Wl(t)&&Yl(t)<=9007199254740991}}),Dt({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),Dt({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991}),Dt({target:"Number",stat:!0,forced:Number.parseFloat!=Pl},{parseFloat:Pl}),Dt({target:"Number",stat:!0,forced:Number.parseInt!=Ol},{parseInt:Ol});var Xl=function(t){if("number"!=typeof t&&"Number"!=h(t))throw TypeError("Incorrect invocation");return+t},Gl=1..toFixed,$l=Math.floor,Zl=function(t,e,n){return 0===e?n:e%2==1?Zl(t,e-1,n*t):Zl(t*t,e/2,n)},Kl=Gl&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){Gl.call({})}));Dt({target:"Number",proto:!0,forced:Kl},{toFixed:function(t){var e,n,r,i,o=Xl(this),a=st(t),s=[0,0,0,0,0,0],l="",u="0",c=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*s[n],s[n]=r%1e7,r=$l(r/1e7)},d=function(t){for(var e=6,n=0;--e>=0;)n+=s[e],s[e]=$l(n/t),n=n%t*1e7},h=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==s[t]){var n=String(s[t]);e=""===e?n:e+gs.call("0",7-n.length)+n}return e};if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(l="-",o=-o),o>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(o*Zl(2,69,1))-69)<0?o*Zl(2,-e,1):o/Zl(2,e,1),n*=4503599627370496,(e=52-e)>0){for(c(0,n),r=a;r>=7;)c(1e7,0),r-=7;for(c(Zl(10,r,1),0),r=e-1;r>=23;)d(1<<23),r-=23;d(1<<r),c(1,1),d(2),u=h()}else c(0,n),c(1<<-e,0),u=h()+gs.call("0",a);return u=a>0?l+((i=u.length)<=a?"0."+gs.call("0",a-i)+u:u.slice(0,i-a)+"."+u.slice(i-a)):l+u}});var Ql=1..toPrecision,Jl=o((function(){return"1"!==Ql.call(1,void 0)}))||!o((function(){Ql.call({})}));Dt({target:"Number",proto:!0,forced:Jl},{toPrecision:function(t){return void 0===t?Ql.call(Xl(this)):Ql.call(Xl(this),t)}});var tu=Math.log,eu=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:tu(1+t)},nu=Math.acosh,ru=Math.log,iu=Math.sqrt,ou=Math.LN2,au=!nu||710!=Math.floor(nu(Number.MAX_VALUE))||nu(1/0)!=1/0;Dt({target:"Math",stat:!0,forced:au},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?ru(t)+ou:eu(t-1+iu(t-1)*iu(t+1))}});var su=Math.asinh,lu=Math.log,uu=Math.sqrt;Dt({target:"Math",stat:!0,forced:!(su&&1/su(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):lu(e+uu(e*e+1)):e}});var cu=Math.atanh,du=Math.log;Dt({target:"Math",stat:!0,forced:!(cu&&1/cu(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:du((1+t)/(1-t))/2}});var hu=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1},fu=Math.abs,pu=Math.pow;Dt({target:"Math",stat:!0},{cbrt:function(t){return hu(t=+t)*pu(fu(t),1/3)}});var gu=Math.floor,vu=Math.log,yu=Math.LOG2E;Dt({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-gu(vu(t+.5)*yu):32}});var mu=Math.expm1,bu=Math.exp,wu=!mu||mu(10)>22025.465794806718||mu(10)<22025.465794806718||-2e-17!=mu(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:bu(t)-1}:mu,xu=Math.cosh,_u=Math.abs,Eu=Math.E;Dt({target:"Math",stat:!0,forced:!xu||xu(710)===1/0},{cosh:function(t){var e=wu(_u(t)-1)+1;return(e+1/(e*Eu*Eu))*(Eu/2)}}),Dt({target:"Math",stat:!0,forced:wu!=Math.expm1},{expm1:wu});var Su=Math.abs,ku=Math.pow,Ou=ku(2,-52),Cu=ku(2,-23),Tu=ku(2,127)*(2-Cu),Pu=ku(2,-126),Nu=Math.fround||function(t){var e,n,r=Su(t),i=hu(t);return r<Pu?i*(r/Pu/Cu+1/Ou-1/Ou)*Pu*Cu:(n=(e=(1+Cu/Ou)*r)-(e-r))>Tu||n!=n?i*(1/0):i*n};Dt({target:"Math",stat:!0},{fround:Nu});var Du=Math.hypot,Au=Math.abs,Mu=Math.sqrt,Lu=!!Du&&Du(1/0,NaN)!==1/0;Dt({target:"Math",stat:!0,forced:Lu},{hypot:function(t,e){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=Au(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Mu(i)}});var ju=Math.imul,Iu=o((function(){return-5!=ju(4294967295,5)||2!=ju.length}));Dt({target:"Math",stat:!0,forced:Iu},{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}});var Ru=Math.log,Bu=Math.LOG10E;Dt({target:"Math",stat:!0},{log10:function(t){return Ru(t)*Bu}}),Dt({target:"Math",stat:!0},{log1p:eu});var zu=Math.log,Fu=Math.LN2;Dt({target:"Math",stat:!0},{log2:function(t){return zu(t)/Fu}}),Dt({target:"Math",stat:!0},{sign:hu});var Vu=Math.abs,qu=Math.exp,Uu=Math.E,Hu=o((function(){return-2e-17!=Math.sinh(-2e-17)}));Dt({target:"Math",stat:!0,forced:Hu},{sinh:function(t){return Vu(t=+t)<1?(wu(t)-wu(-t))/2:(qu(t-1)-qu(-t-1))*(Uu/2)}});var Wu=Math.exp;Dt({target:"Math",stat:!0},{tanh:function(t){var e=wu(t=+t),n=wu(-t);return e==1/0?1:n==1/0?-1:(e-n)/(Wu(t)+Wu(-t))}}),re(Math,"Math",!0);var Yu=Math.ceil,Xu=Math.floor;Dt({target:"Math",stat:!0},{trunc:function(t){return(t>0?Xu:Yu)(t)}}),Dt({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var Gu=o((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));Dt({target:"Date",proto:!0,forced:Gu},{toJSON:function(t){var e=jt(this),n=m(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}});var $u=ms.start,Zu=Math.abs,Ku=Date.prototype,Qu=Ku.getTime,Ju=Ku.toISOString,tc=o((function(){return"0385-07-25T07:06:39.999Z"!=Ju.call(new Date(-5e13-1))}))||!o((function(){Ju.call(new Date(NaN))}))?function(){if(!isFinite(Qu.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+$u(Zu(t),n?6:4,0)+"-"+$u(this.getUTCMonth()+1,2,0)+"-"+$u(this.getUTCDate(),2,0)+"T"+$u(this.getUTCHours(),2,0)+":"+$u(this.getUTCMinutes(),2,0)+":"+$u(this.getUTCSeconds(),2,0)+"."+$u(e,3,0)+"Z"}:Ju;Dt({target:"Date",proto:!0,forced:Date.prototype.toISOString!==tc},{toISOString:tc});var ec=Date.prototype,nc=ec.toString,rc=ec.getTime;new Date(NaN)+""!="Invalid Date"&&et(ec,"toString",(function(){var t=rc.call(this);return t==t?nc.call(this):"Invalid Date"}));var ic=Kt("toPrimitive"),oc=Date.prototype;ic in oc||N(oc,ic,(function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return m(C(this),"number"!==t)}));var ac=it("JSON","stringify"),sc=/[\uD800-\uDFFF]/g,lc=/^[\uD800-\uDBFF]$/,uc=/^[\uDC00-\uDFFF]$/,cc=function(t,e,n){var r=n.charAt(e-1),i=n.charAt(e+1);return lc.test(t)&&!uc.test(i)||uc.test(t)&&!lc.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},dc=o((function(){return'"\\udf06\\ud834"'!==ac("\udf06\ud834")||'"\\udead"'!==ac("\udead")}));ac&&Dt({target:"JSON",stat:!0,forced:dc},{stringify:function(t,e,n){var r=ac.apply(null,arguments);return"string"==typeof r?r.replace(sc,cc):r}}),re(i.JSON,"JSON",!0),Dt({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=Lr.f(e),r=n.resolve,i=n.reject,o=Ir((function(){var n=ie(e.resolve),i=[],o=0,a=1;Un(t,(function(t){var s=o++,l=!1;i.push(void 0),a++,n.call(e,t).then((function(t){l||(l=!0,i[s]={status:"fulfilled",value:t},--a||r(i))}),(function(t){l||(l=!0,i[s]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var hc=function(t,e,n){var r=-1!==t.indexOf("Map"),a=-1!==t.indexOf("Weak"),s=r?"set":"add",l=i[t],u=l&&l.prototype,c=l,d={},h=function(t){var e=u[t];et(u,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(a&&!y(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return a&&!y(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(a&&!y(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(Pt(t,"function"!=typeof l||!(a||u.forEach&&!o((function(){(new l).entries().next()})))))c=n.getConstructor(e,t,r,s),qi.REQUIRED=!0;else if(Pt(t,!0)){var f=new c,p=f[s](a?{}:-0,1)!=f,g=o((function(){f.has(1)})),v=Zn((function(t){new l(t)})),m=!a&&o((function(){for(var t=new l,e=5;e--;)t[s](e,e);return!t.has(-0)}));v||((c=e((function(e,n){In(e,c,t);var i=Qs(new l,e,c);return null!=n&&Un(n,i[s],i,r),i}))).prototype=u,u.constructor=c),(g||m)&&(h("delete"),h("has"),r&&h("get")),(m||p)&&h(s),a&&u.clear&&delete u.clear}return d[t]=c,Dt({global:!0,forced:c!=l},d),re(c,t),a||n.setStrong(c,t,r),c},fc=P.f,pc=qi.fastKey,gc=tt.set,vc=tt.getterFor,yc={getConstructor:function(t,e,n,r){var i=t((function(t,o){In(t,i,e),gc(t,{type:e,index:Ut(null),first:void 0,last:void 0,size:0}),a||(t.size=0),null!=o&&Un(o,t[r],t,n)})),o=vc(e),s=function(t,e,n){var r,i,s=o(t),u=l(t,e);return u?u.value=n:(s.last=u={index:i=pc(e,!0),key:e,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=u),r&&(r.next=u),a?s.size++:t.size++,"F"!==i&&(s.index[i]=u)),t},l=function(t,e){var n,r=o(t),i=pc(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Mn(i.prototype,{clear:function(){for(var t=o(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,a?t.size=0:this.size=0},delete:function(t){var e=o(this),n=l(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),a?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=o(this),r=oe(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),Mn(i.prototype,n?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),a&&fc(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=vc(e),o=vc(r);mn(t,e,(function(t,e){gc(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),jn(e)}},mc=(hc("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),yc),hc("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),yc),qi.getWeakData),bc=tt.set,wc=tt.getterFor,xc=ce.find,_c=ce.findIndex,Ec=0,Sc=function(t){return t.frozen||(t.frozen=new kc)},kc=function(){this.entries=[]},Oc=function(t,e){return xc(t.entries,(function(t){return t[0]===e}))};kc.prototype={get:function(t){var e=Oc(this,t);if(e)return e[1]},has:function(t){return!!Oc(this,t)},set:function(t,e){var n=Oc(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=_c(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}};var Cc={getConstructor:function(t,e,n,r){var i=t((function(t,o){In(t,i,e),bc(t,{type:e,id:Ec++,frozen:void 0}),null!=o&&Un(o,t[r],t,n)})),o=wc(e),a=function(t,e,n){var r=o(t),i=mc(C(e),!0);return!0===i?Sc(r).set(e,n):i[r.id]=n,t};return Mn(i.prototype,{delete:function(t){var e=o(this);if(!y(t))return!1;var n=mc(t);return!0===n?Sc(e).delete(t):n&&w(n,e.id)&&delete n[e.id]},has:function(t){var e=o(this);if(!y(t))return!1;var n=mc(t);return!0===n?Sc(e).has(t):n&&w(n,e.id)}}),Mn(i.prototype,n?{get:function(t){var e=o(this);if(y(t)){var n=mc(t);return!0===n?Sc(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),i}};n((function(t){var e,n=tt.enforce,r=!i.ActiveXObject&&"ActiveXObject"in i,o=Object.isExtensible,a=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},s=t.exports=hc("WeakMap",a,Cc);if(z&&r){e=Cc.getConstructor(a,"WeakMap",!0),qi.REQUIRED=!0;var l=s.prototype,u=l.delete,c=l.has,d=l.get,h=l.set;Mn(l,{delete:function(t){if(y(t)&&!o(t)){var r=n(this);return r.frozen||(r.frozen=new e),u.call(this,t)||r.frozen.delete(t)}return u.call(this,t)},has:function(t){if(y(t)&&!o(t)){var r=n(this);return r.frozen||(r.frozen=new e),c.call(this,t)||r.frozen.has(t)}return c.call(this,t)},get:function(t){if(y(t)&&!o(t)){var r=n(this);return r.frozen||(r.frozen=new e),c.call(this,t)?d.call(this,t):r.frozen.get(t)}return d.call(this,t)},set:function(t,r){if(y(t)&&!o(t)){var i=n(this);i.frozen||(i.frozen=new e),c.call(this,t)?h.call(this,t,r):i.frozen.set(t,r)}else h.call(this,t,r);return this}})}}));hc("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Cc);var Tc,Pc=P.f,Nc=i.DataView,Dc=Nc&&Nc.prototype,Ac=i.Int8Array,Mc=Ac&&Ac.prototype,Lc=i.Uint8ClampedArray,jc=Lc&&Lc.prototype,Ic=Ac&&on(Ac),Rc=Mc&&on(Mc),Bc=Object.prototype,zc=Bc.isPrototypeOf,Fc=Kt("toStringTag"),Vc=U("TYPED_ARRAY_TAG"),qc=!(!i.ArrayBuffer||!Nc),Uc=qc&&!!fn&&"Opera"!==Nn(i.opera),Hc=!1,Wc={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Yc=function(t){return y(t)&&w(Wc,Nn(t))};for(Tc in Wc)i[Tc]||(Uc=!1);if((!Uc||"function"!=typeof Ic||Ic===Function.prototype)&&(Ic=function(){throw TypeError("Incorrect invocation")},Uc))for(Tc in Wc)i[Tc]&&fn(i[Tc],Ic);if((!Uc||!Rc||Rc===Bc)&&(Rc=Ic.prototype,Uc))for(Tc in Wc)i[Tc]&&fn(i[Tc].prototype,Rc);if(Uc&&on(jc)!==Rc&&fn(jc,Rc),a&&!w(Rc,Fc))for(Tc in Hc=!0,Pc(Rc,Fc,{get:function(){return y(this)?this[Vc]:void 0}}),Wc)i[Tc]&&N(i[Tc],Vc,Tc);qc&&fn&&on(Dc)!==Bc&&fn(Dc,Bc);var Xc={NATIVE_ARRAY_BUFFER:qc,NATIVE_ARRAY_BUFFER_VIEWS:Uc,TYPED_ARRAY_TAG:Hc&&Vc,aTypedArray:function(t){if(Yc(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(fn){if(zc.call(Ic,t))return t}else for(var e in Wc)if(w(Wc,Tc)){var n=i[e];if(n&&(t===n||zc.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(a){if(n)for(var r in Wc){var o=i[r];o&&w(o.prototype,t)&&delete o.prototype[t]}Rc[t]&&!n||et(Rc,t,n?e:Uc&&Mc[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,o;if(a){if(fn){if(n)for(r in Wc)(o=i[r])&&w(o,t)&&delete o[t];if(Ic[t]&&!n)return;try{return et(Ic,t,n?e:Uc&&Ac[t]||e)}catch(t){}}for(r in Wc)!(o=i[r])||o[t]&&!n||et(o,t,e)}},isView:function(t){var e=Nn(t);return"DataView"===e||w(Wc,e)},isTypedArray:Yc,TypedArray:Ic,TypedArrayPrototype:Rc},Gc=function(t){if(void 0===t)return 0;var e=st(t),n=ut(e);if(e!==n)throw RangeError("Wrong length or index");return n},$c=Math.abs,Zc=Math.pow,Kc=Math.floor,Qc=Math.log,Jc=Math.LN2,td=function(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,l=(1<<s)-1,u=l>>1,c=23===e?Zc(2,-24)-Zc(2,-77):0,d=t<0||0===t&&1/t<0?1:0,h=0;for((t=$c(t))!=t||t===1/0?(i=t!=t?1:0,r=l):(r=Kc(Qc(t)/Jc),t*(o=Zc(2,-r))<1&&(r--,o*=2),(t+=r+u>=1?c/o:c*Zc(2,1-u))*o>=2&&(r++,o/=2),r+u>=l?(i=0,r=l):r+u>=1?(i=(t*o-1)*Zc(2,e),r+=u):(i=t*Zc(2,u-1)*Zc(2,e),r=0));e>=8;a[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[h++]=255&r,r/=256,s-=8);return a[--h]|=128*d,a},ed=function(t,e){var n,r=t.length,i=8*r-e-1,o=(1<<i)-1,a=o>>1,s=i-7,l=r-1,u=t[l--],c=127&u;for(u>>=7;s>0;c=256*c+t[l],l--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=e;s>0;n=256*n+t[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:u?-1/0:1/0;n+=Zc(2,e),c-=a}return(u?-1:1)*n*Zc(2,c-e)},nd=Xc.NATIVE_ARRAY_BUFFER,rd=bt.f,id=P.f,od=tt.get,ad=tt.set,sd=i.ArrayBuffer,ld=sd,ud=i.DataView,cd=i.RangeError,dd=td,hd=ed,fd=function(t){return[255&t]},pd=function(t){return[255&t,t>>8&255]},gd=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},vd=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},yd=function(t){return dd(t,23,4)},md=function(t){return dd(t,52,8)},bd=function(t,e){id(t.prototype,e,{get:function(){return od(this)[e]}})},wd=function(t,e,n,r){var i=Gc(n),o=od(t);if(i+e>o.byteLength)throw cd("Wrong index");var a=od(o.buffer).bytes,s=i+o.byteOffset,l=a.slice(s,s+e);return r?l:l.reverse()},xd=function(t,e,n,r,i,o){var a=Gc(n),s=od(t);if(a+e>s.byteLength)throw cd("Wrong index");for(var l=od(s.buffer).bytes,u=a+s.byteOffset,c=r(+i),d=0;d<e;d++)l[u+d]=c[o?d:e-d-1]};if(nd){if(!o((function(){sd(1)}))||!o((function(){new sd(-1)}))||o((function(){return new sd,new sd(1.5),new sd(NaN),"ArrayBuffer"!=sd.name}))){for(var _d,Ed=(ld=function(t){return In(this,ld),new sd(Gc(t))}).prototype=sd.prototype,Sd=rd(sd),kd=0;Sd.length>kd;)(_d=Sd[kd++])in ld||N(ld,_d,sd[_d]);Ed.constructor=ld}var Od=new ud(new ld(2)),Cd=ud.prototype.setInt8;Od.setInt8(0,2147483648),Od.setInt8(1,2147483649),!Od.getInt8(0)&&Od.getInt8(1)||Mn(ud.prototype,{setInt8:function(t,e){Cd.call(this,t,e<<24>>24)},setUint8:function(t,e){Cd.call(this,t,e<<24>>24)}},{unsafe:!0})}else ld=function(t){In(this,ld,"ArrayBuffer");var e=Gc(t);ad(this,{bytes:Io.call(new Array(e),0),byteLength:e}),a||(this.byteLength=e)},ud=function(t,e,n){In(this,ud,"DataView"),In(t,ld,"DataView");var r=od(t).byteLength,i=st(e);if(i<0||i>r)throw cd("Wrong offset");if(i+(n=void 0===n?r-i:ut(n))>r)throw cd("Wrong length");ad(this,{buffer:t,byteLength:n,byteOffset:i}),a||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},a&&(bd(ld,"byteLength"),bd(ud,"buffer"),bd(ud,"byteLength"),bd(ud,"byteOffset")),Mn(ud.prototype,{getInt8:function(t){return wd(this,1,t)[0]<<24>>24},getUint8:function(t){return wd(this,1,t)[0]},getInt16:function(t){var e=wd(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=wd(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return vd(wd(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return vd(wd(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return hd(wd(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return hd(wd(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){xd(this,1,t,fd,e)},setUint8:function(t,e){xd(this,1,t,fd,e)},setInt16:function(t,e){xd(this,2,t,pd,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){xd(this,2,t,pd,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){xd(this,4,t,gd,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){xd(this,4,t,gd,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){xd(this,4,t,yd,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){xd(this,8,t,md,e,arguments.length>2?arguments[2]:void 0)}});re(ld,"ArrayBuffer"),re(ud,"DataView");var Td={ArrayBuffer:ld,DataView:ud},Pd=Td.ArrayBuffer,Nd=i.ArrayBuffer;Dt({global:!0,forced:Nd!==Pd},{ArrayBuffer:Pd}),jn("ArrayBuffer"),Dt({target:"ArrayBuffer",stat:!0,forced:!Xc.NATIVE_ARRAY_BUFFER_VIEWS},{isView:Xc.isView});var Dd=Td.ArrayBuffer,Ad=Td.DataView,Md=Dd.prototype.slice,Ld=o((function(){return!new Dd(2).slice(1,void 0).byteLength}));Dt({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Ld},{slice:function(t,e){if(void 0!==Md&&void 0===e)return Md.call(C(this),t);for(var n=C(this).byteLength,r=ht(t,n),i=ht(void 0===e?n:e,n),o=new(Qn(this,Dd))(ut(i-r)),a=new Ad(this),s=new Ad(o),l=0;r<i;)s.setUint8(l++,a.getUint8(r++));return o}}),Dt({global:!0,forced:!Xc.NATIVE_ARRAY_BUFFER},{DataView:Td.DataView});var jd=Xc.NATIVE_ARRAY_BUFFER_VIEWS,Id=i.ArrayBuffer,Rd=i.Int8Array,Bd=!jd||!o((function(){Rd(1)}))||!o((function(){new Rd(-1)}))||!Zn((function(t){new Rd,new Rd(null),new Rd(1.5),new Rd(t)}),!0)||o((function(){return 1!==new Rd(new Id(2),1,void 0).length})),zd=function(t,e){var n=function(t){var e=st(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}(t);if(n%e)throw RangeError("Wrong offset");return n},Fd=Xc.aTypedArrayConstructor,Vd=function(t){var e,n,r,i,o,a,s=jt(t),l=arguments.length,u=l>1?arguments[1]:void 0,c=void 0!==u,d=Vn(s);if(null!=d&&!zn(d))for(a=(o=d.call(s)).next,s=[];!(i=a.call(o)).done;)s.push(i.value);for(c&&l>2&&(u=oe(u,arguments[2],2)),n=ut(s.length),r=new(Fd(this))(n),e=0;n>e;e++)r[e]=c?u(s[e],e):s[e];return r},qd=n((function(t){var e=bt.f,n=ce.forEach,r=tt.get,o=tt.set,s=P.f,l=O.f,u=Math.round,d=i.RangeError,h=Td.ArrayBuffer,f=Td.DataView,p=Xc.NATIVE_ARRAY_BUFFER_VIEWS,g=Xc.TYPED_ARRAY_TAG,v=Xc.TypedArray,b=Xc.TypedArrayPrototype,x=Xc.aTypedArrayConstructor,_=Xc.isTypedArray,E=function(t,e){for(var n=0,r=e.length,i=new(x(t))(r);r>n;)i[n]=e[n++];return i},S=function(t,e){s(t,e,{get:function(){return r(this)[e]}})},k=function(t){var e;return t instanceof h||"ArrayBuffer"==(e=Nn(t))||"SharedArrayBuffer"==e},C=function(t,e){return _(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},T=function(t,e){return C(t,e=m(e,!0))?c(2,t[e]):l(t,e)},D=function(t,e,n){return!(C(t,e=m(e,!0))&&y(n)&&w(n,"value"))||w(n,"get")||w(n,"set")||n.configurable||w(n,"writable")&&!n.writable||w(n,"enumerable")&&!n.enumerable?s(t,e,n):(t[e]=n.value,t)};a?(p||(O.f=T,P.f=D,S(b,"buffer"),S(b,"byteOffset"),S(b,"byteLength"),S(b,"length")),Dt({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:T,defineProperty:D}),t.exports=function(t,a,l){var c=t.match(/\d+$/)[0]/8,m=t+(l?"Clamped":"")+"Array",w="get"+t,x="set"+t,S=i[m],O=S,C=O&&O.prototype,T={},P=function(t,e){s(t,e,{get:function(){return function(t,e){var n=r(t);return n.view[w](e*c+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=r(t);l&&(n=(n=u(n))<0?0:n>255?255:255&n),i.view[x](e*c+i.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};p?Bd&&(O=a((function(t,e,n,r){return In(t,O,m),Qs(y(e)?k(e)?void 0!==r?new S(e,zd(n,c),r):void 0!==n?new S(e,zd(n,c)):new S(e):_(e)?E(O,e):Vd.call(O,e):new S(Gc(e)),t,O)})),fn&&fn(O,v),n(e(S),(function(t){t in O||N(O,t,S[t])})),O.prototype=C):(O=a((function(t,e,n,r){In(t,O,m);var i,a,s,l=0,u=0;if(y(e)){if(!k(e))return _(e)?E(O,e):Vd.call(O,e);i=e,u=zd(n,c);var p=e.byteLength;if(void 0===r){if(p%c)throw d("Wrong length");if((a=p-u)<0)throw d("Wrong length")}else if((a=ut(r)*c)+u>p)throw d("Wrong length");s=a/c}else s=Gc(e),i=new h(a=s*c);for(o(t,{buffer:i,byteOffset:u,byteLength:a,length:s,view:new f(i)});l<s;)P(t,l++)})),fn&&fn(O,v),C=O.prototype=Ut(b)),C.constructor!==O&&N(C,"constructor",O),g&&N(C,g,m),T[m]=O,Dt({global:!0,forced:O!=S,sham:!p},T),"BYTES_PER_ELEMENT"in O||N(O,"BYTES_PER_ELEMENT",c),"BYTES_PER_ELEMENT"in C||N(C,"BYTES_PER_ELEMENT",c),jn(m)}):t.exports=function(){}}));qd("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qd("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qd("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0),qd("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qd("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qd("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qd("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qd("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qd("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}})),(0,Xc.exportTypedArrayStaticMethod)("from",Vd,Bd);var Ud=Xc.aTypedArrayConstructor;(0,Xc.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(Ud(this))(e);e>t;)n[t]=arguments[t++];return n}),Bd);var Hd=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("copyWithin",(function(t,e){return Mo.call(Hd(this),t,e,arguments.length>2?arguments[2]:void 0)}));var Wd=ce.every,Yd=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("every",(function(t){return Wd(Yd(this),t,arguments.length>1?arguments[1]:void 0)}));var Xd=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("fill",(function(t){return Io.apply(Xd(this),arguments)}));var Gd=ce.filter,$d=Xc.aTypedArray,Zd=Xc.aTypedArrayConstructor;(0,Xc.exportTypedArrayMethod)("filter",(function(t){for(var e=Gd($d(this),t,arguments.length>1?arguments[1]:void 0),n=Qn(this,this.constructor),r=0,i=e.length,o=new(Zd(n))(i);i>r;)o[r]=e[r++];return o}));var Kd=ce.find,Qd=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("find",(function(t){return Kd(Qd(this),t,arguments.length>1?arguments[1]:void 0)}));var Jd=ce.findIndex,th=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("findIndex",(function(t){return Jd(th(this),t,arguments.length>1?arguments[1]:void 0)}));var eh=ce.forEach,nh=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("forEach",(function(t){eh(nh(this),t,arguments.length>1?arguments[1]:void 0)}));var rh=pt.includes,ih=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("includes",(function(t){return rh(ih(this),t,arguments.length>1?arguments[1]:void 0)}));var oh=pt.indexOf,ah=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("indexOf",(function(t){return oh(ah(this),t,arguments.length>1?arguments[1]:void 0)}));var sh=Kt("iterator"),lh=i.Uint8Array,uh=xn.values,ch=xn.keys,dh=xn.entries,hh=Xc.aTypedArray,fh=Xc.exportTypedArrayMethod,ph=lh&&lh.prototype[sh],gh=!!ph&&("values"==ph.name||null==ph.name),vh=function(){return uh.call(hh(this))};fh("entries",(function(){return dh.call(hh(this))})),fh("keys",(function(){return ch.call(hh(this))})),fh("values",vh,!gh),fh(sh,vh,!gh);var yh=Xc.aTypedArray,mh=[].join;(0,Xc.exportTypedArrayMethod)("join",(function(t){return mh.apply(yh(this),arguments)}));var bh=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("lastIndexOf",(function(t){return aa.apply(bh(this),arguments)}));var wh=ce.map,xh=Xc.aTypedArray,_h=Xc.aTypedArrayConstructor;(0,Xc.exportTypedArrayMethod)("map",(function(t){return wh(xh(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(_h(Qn(t,t.constructor)))(e)}))}));var Eh=da.left,Sh=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("reduce",(function(t){return Eh(Sh(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var kh=da.right,Oh=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("reduceRight",(function(t){return kh(Oh(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Ch=Xc.aTypedArray,Th=Xc.exportTypedArrayMethod,Ph=Math.floor;Th("reverse",(function(){for(var t,e=Ch(this).length,n=Ph(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}));var Nh=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("set",(function(t){Nh(this);var e=zd(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=jt(t),i=ut(r.length),o=0;if(i+e>n)throw RangeError("Wrong length");for(;o<i;)this[e+o]=r[o++]}),o((function(){new Int8Array(1).set({})})));var Dh=Xc.aTypedArray,Ah=Xc.aTypedArrayConstructor,Mh=[].slice;(0,Xc.exportTypedArrayMethod)("slice",(function(t,e){for(var n=Mh.call(Dh(this),t,e),r=Qn(this,this.constructor),i=0,o=n.length,a=new(Ah(r))(o);o>i;)a[i]=n[i++];return a}),o((function(){new Int8Array(1).slice()})));var Lh=ce.some,jh=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("some",(function(t){return Lh(jh(this),t,arguments.length>1?arguments[1]:void 0)}));var Ih=Xc.aTypedArray,Rh=[].sort;(0,Xc.exportTypedArrayMethod)("sort",(function(t){return Rh.call(Ih(this),t)}));var Bh=Xc.aTypedArray;(0,Xc.exportTypedArrayMethod)("subarray",(function(t,e){var n=Bh(this),r=n.length,i=ht(t,r);return new(Qn(n,n.constructor))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,ut((void 0===e?r:ht(e,r))-i))}));var zh=i.Int8Array,Fh=Xc.aTypedArray,Vh=Xc.exportTypedArrayMethod,qh=[].toLocaleString,Uh=[].slice,Hh=!!zh&&o((function(){qh.call(new zh(1))}));Vh("toLocaleString",(function(){return qh.apply(Hh?Uh.call(Fh(this)):Fh(this),arguments)}),o((function(){return[1,2].toLocaleString()!=new zh([1,2]).toLocaleString()}))||!o((function(){zh.prototype.toLocaleString.call([1,2])})));var Wh=Xc.exportTypedArrayMethod,Yh=i.Uint8Array,Xh=Yh&&Yh.prototype||{},Gh=[].toString,$h=[].join;o((function(){Gh.call({})}))&&(Gh=function(){return $h.call(this)});var Zh=Xh.toString!=Gh;Wh("toString",Gh,Zh);var Kh=it("Reflect","apply"),Qh=Function.apply,Jh=!o((function(){Kh((function(){}))}));Dt({target:"Reflect",stat:!0,forced:Jh},{apply:function(t,e,n){return ie(t),C(n),Kh?Kh(t,e,n):Qh.call(t,e,n)}});var tf=it("Reflect","construct"),ef=o((function(){function t(){}return!(tf((function(){}),[],t)instanceof t)})),nf=!o((function(){tf((function(){}))})),rf=ef||nf;Dt({target:"Reflect",stat:!0,forced:rf,sham:rf},{construct:function(t,e){ie(t),C(e);var n=arguments.length<3?t:ie(arguments[2]);if(nf&&!ef)return tf(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(wo.apply(t,r))}var i=n.prototype,o=Ut(y(i)?i:Object.prototype),a=Function.apply.call(t,o,e);return y(a)?a:o}});var of=o((function(){Reflect.defineProperty(P.f({},1,{value:1}),1,{value:2})}));Dt({target:"Reflect",stat:!0,forced:of,sham:!a},{defineProperty:function(t,e,n){C(t);var r=m(e,!0);C(n);try{return P.f(t,r,n),!0}catch(t){return!1}}});var af=O.f;Dt({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=af(C(t),e);return!(n&&!n.configurable)&&delete t[e]}}),Dt({target:"Reflect",stat:!0},{get:function t(e,n){var r,i,o=arguments.length<3?e:arguments[2];return C(e)===o?e[n]:(r=O.f(e,n))?w(r,"value")?r.value:void 0===r.get?void 0:r.get.call(o):y(i=on(e))?t(i,n,o):void 0}}),Dt({target:"Reflect",stat:!0,sham:!a},{getOwnPropertyDescriptor:function(t,e){return O.f(C(t),e)}}),Dt({target:"Reflect",stat:!0,sham:!en},{getPrototypeOf:function(t){return on(C(t))}}),Dt({target:"Reflect",stat:!0},{has:function(t,e){return e in t}});var sf=Object.isExtensible;Dt({target:"Reflect",stat:!0},{isExtensible:function(t){return C(t),!sf||sf(t)}}),Dt({target:"Reflect",stat:!0},{ownKeys:xt}),Dt({target:"Reflect",stat:!0,sham:!Vi},{preventExtensions:function(t){C(t);try{var e=it("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}});var lf=o((function(){var t=P.f({},"a",{configurable:!0});return!1!==Reflect.set(on(t),"a",1,t)}));for(var uf in Dt({target:"Reflect",stat:!0,forced:lf},{set:function t(e,n,r){var i,o,a=arguments.length<4?e:arguments[3],s=O.f(C(e),n);if(!s){if(y(o=on(e)))return t(o,n,r,a);s=c(0)}if(w(s,"value")){if(!1===s.writable||!y(a))return!1;if(i=O.f(a,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,P.f(a,n,i)}else P.f(a,n,c(0,r));return!0}return void 0!==s.set&&(s.set.call(a,r),!0)}}),fn&&Dt({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){C(t),hn(e);try{return fn(t,e),!0}catch(t){return!1}}}),Ei){var cf=i[uf],df=cf&&cf.prototype;if(df&&df.forEach!==Xo)try{N(df,"forEach",Xo)}catch(t){df.forEach=Xo}}var hf=!i.setImmediate||!i.clearImmediate;Dt({global:!0,bind:!0,enumerable:!0,forced:hf},{setImmediate:xr.set,clearImmediate:xr.clear});var ff=i.process,pf="process"==h(ff);Dt({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=pf&&ff.domain;Ar(e?e.bind(t):t)}});var gf=Kt("iterator"),vf=!o((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[gf]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),yf=/[^\0-\u007E]/,mf=/[.\u3002\uFF0E\uFF61]/g,bf="Overflow: input needs wider integers to process",wf=Math.floor,xf=String.fromCharCode,_f=function(t){return t+22+75*(t<26)},Ef=function(t,e,n){var r=0;for(t=n?wf(t/700):t>>1,t+=wf(t/e);t>455;r+=36)t=wf(t/35);return wf(r+36*t/(t+38))},Sf=function(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t)).length,o=128,a=0,s=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(xf(n));var l=r.length,u=l;for(l&&r.push("-");u<i;){var c=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=o&&n<c&&(c=n);var d=u+1;if(c-o>wf((2147483647-a)/d))throw RangeError(bf);for(a+=(c-o)*d,o=c,e=0;e<t.length;e++){if((n=t[e])<o&&++a>2147483647)throw RangeError(bf);if(n==o){for(var h=a,f=36;;f+=36){var p=f<=s?1:f>=s+26?26:f-s;if(h<p)break;var g=h-p,v=36-p;r.push(xf(_f(p+g%v))),h=wf(g/v)}r.push(xf(_f(h))),s=Ef(a,d,u==l),a=0,++u}}++a,++o}return r.join("")},kf=function(t){var e=Vn(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return C(e.call(t))},Of=it("fetch"),Cf=it("Headers"),Tf=Kt("iterator"),Pf=tt.set,Nf=tt.getterFor("URLSearchParams"),Df=tt.getterFor("URLSearchParamsIterator"),Af=/\+/g,Mf=Array(4),Lf=function(t){return Mf[t-1]||(Mf[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},jf=function(t){try{return decodeURIComponent(t)}catch(e){return t}},If=function(t){var e=t.replace(Af," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(Lf(n--),jf);return e}},Rf=/[!'()~]|%20/g,Bf={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},zf=function(t){return Bf[t]},Ff=function(t){return encodeURIComponent(t).replace(Rf,zf)},Vf=function(t,e){if(e)for(var n,r,i=e.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),t.push({key:If(r.shift()),value:If(r.join("="))}))},qf=function(t){this.entries.length=0,Vf(this.entries,t)},Uf=function(t,e){if(t<e)throw TypeError("Not enough arguments")},Hf=dn((function(t,e){Pf(this,{type:"URLSearchParamsIterator",iterator:kf(Nf(t).entries),kind:e})}),"Iterator",(function(){var t=Df(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),Wf=function(){In(this,Wf,"URLSearchParams");var t,e,n,r,i,o,a,s,l,u=arguments.length>0?arguments[0]:void 0,c=this,d=[];if(Pf(c,{type:"URLSearchParams",entries:d,updateURL:function(){},updateSearchParams:qf}),void 0!==u)if(y(u))if("function"==typeof(t=Vn(u)))for(n=(e=t.call(u)).next;!(r=n.call(e)).done;){if((a=(o=(i=kf(C(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:s.value+""})}else for(l in u)w(u,l)&&d.push({key:l,value:u[l]+""});else Vf(d,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},Yf=Wf.prototype;Mn(Yf,{append:function(t,e){Uf(arguments.length,2);var n=Nf(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){Uf(arguments.length,1);for(var e=Nf(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){Uf(arguments.length,1);for(var e=Nf(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){Uf(arguments.length,1);for(var e=Nf(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){Uf(arguments.length,1);for(var e=Nf(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){Uf(arguments.length,1);for(var n,r=Nf(this),i=r.entries,o=!1,a=t+"",s=e+"",l=0;l<i.length;l++)(n=i[l]).key===a&&(o?i.splice(l--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=Nf(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=Nf(this).entries,r=oe(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new Hf(this,"keys")},values:function(){return new Hf(this,"values")},entries:function(){return new Hf(this,"entries")}},{enumerable:!0}),et(Yf,Tf,Yf.entries),et(Yf,"toString",(function(){for(var t,e=Nf(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(Ff(t.key)+"="+Ff(t.value));return n.join("&")}),{enumerable:!0}),re(Wf,"URLSearchParams"),Dt({global:!0,forced:!vf},{URLSearchParams:Wf}),vf||"function"!=typeof Of||"function"!=typeof Cf||Dt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(e=arguments[1],y(e)&&(n=e.body,"URLSearchParams"===Nn(n)&&((r=e.headers?new Cf(e.headers):new Cf).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=Ut(e,{body:c(0,String(n)),headers:c(0,r)}))),i.push(e)),Of.apply(this,i)}});var Xf,Gf={URLSearchParams:Wf,getState:Nf},$f=bi.codeAt,Zf=i.URL,Kf=Gf.URLSearchParams,Qf=Gf.getState,Jf=tt.set,tp=tt.getterFor("URL"),ep=Math.floor,np=Math.pow,rp=/[A-Za-z]/,ip=/[\d+\-.A-Za-z]/,op=/\d/,ap=/^(0x|0X)/,sp=/^[0-7]+$/,lp=/^\d+$/,up=/^[\dA-Fa-f]+$/,cp=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,dp=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,hp=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,fp=/[\u0009\u000A\u000D]/g,pp=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=vp(e.slice(1,-1))))return"Invalid host";t.host=n}else if(Sp(t)){if(e=function(t){var e,n,r=[],i=t.toLowerCase().replace(mf,".").split(".");for(e=0;e<i.length;e++)n=i[e],r.push(yf.test(n)?"xn--"+Sf(n):n);return r.join(".")}(e),cp.test(e))return"Invalid host";if(null===(n=gp(e)))return"Invalid host";t.host=n}else{if(dp.test(e))return"Invalid host";for(n="",r=Eo(e),i=0;i<r.length;i++)n+=_p(r[i],mp);t.host=n}},gp=function(t){var e,n,r,i,o,a,s,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(e=l.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=l[r]))return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=ap.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?lp:8==o?sp:up).test(i))return t;a=parseInt(i,o)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=np(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*np(256,3-r);return s},vp=function(t){var e,n,r,i,o,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,h=function(){return t.charAt(d)};if(":"==h()){if(":"!=t.charAt(1))return;d+=2,c=++u}for(;h();){if(8==u)return;if(":"!=h()){for(e=n=0;n<4&&up.test(h());)e=16*e+parseInt(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,u>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;d++}if(!op.test(h()))return;for(;op.test(h());){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}l[u]=256*l[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;l[u++]=e}else{if(null!==c)return;d++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s;else if(8!=u)return;return l},yp=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=ep(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},mp={},bp=Ii({},mp,{" ":1,'"':1,"<":1,">":1,"`":1}),wp=Ii({},bp,{"#":1,"?":1,"{":1,"}":1}),xp=Ii({},wp,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),_p=function(t,e){var n=$f(t,0);return n>32&&n<127&&!w(e,t)?t:encodeURIComponent(t)},Ep={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Sp=function(t){return w(Ep,t.scheme)},kp=function(t){return""!=t.username||""!=t.password},Op=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Cp=function(t,e){var n;return 2==t.length&&rp.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},Tp=function(t){var e;return t.length>1&&Cp(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Pp=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&Cp(e[0],!0)||e.pop()},Np=function(t){return"."===t||"%2e"===t.toLowerCase()},Dp={},Ap={},Mp={},Lp={},jp={},Ip={},Rp={},Bp={},zp={},Fp={},Vp={},qp={},Up={},Hp={},Wp={},Yp={},Xp={},Gp={},$p={},Zp={},Kp={},Qp=function(t,e,n,r){var i,o,a,s,l,u=n||Dp,c=0,d="",h=!1,f=!1,p=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(hp,"")),e=e.replace(fp,""),i=Eo(e);c<=i.length;){switch(o=i[c],u){case Dp:if(!o||!rp.test(o)){if(n)return"Invalid scheme";u=Mp;continue}d+=o.toLowerCase(),u=Ap;break;case Ap:if(o&&(ip.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";d="",u=Mp,c=0;continue}if(n&&(Sp(t)!=w(Ep,d)||"file"==d&&(kp(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,n)return void(Sp(t)&&Ep[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?u=Hp:Sp(t)&&r&&r.scheme==t.scheme?u=Lp:Sp(t)?u=Bp:"/"==i[c+1]?(u=jp,c++):(t.cannotBeABaseURL=!0,t.path.push(""),u=$p)}break;case Mp:if(!r||r.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,u=Kp;break}u="file"==r.scheme?Hp:Ip;continue;case Lp:if("/"!=o||"/"!=i[c+1]){u=Ip;continue}u=zp,c++;break;case jp:if("/"==o){u=Fp;break}u=Gp;continue;case Ip:if(t.scheme=r.scheme,o==Xf)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&Sp(t))u=Rp;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",u=Zp;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),u=Gp;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=Kp}break;case Rp:if(!Sp(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,u=Gp;continue}u=Fp}else u=zp;break;case Bp:if(u=zp,"/"!=o||"/"!=d.charAt(c+1))continue;c++;break;case zp:if("/"!=o&&"\\"!=o){u=Fp;continue}break;case Fp:if("@"==o){h&&(d="%40"+d),h=!0,a=Eo(d);for(var g=0;g<a.length;g++){var v=a[g];if(":"!=v||p){var y=_p(v,xp);p?t.password+=y:t.username+=y}else p=!0}d=""}else if(o==Xf||"/"==o||"?"==o||"#"==o||"\\"==o&&Sp(t)){if(h&&""==d)return"Invalid authority";c-=Eo(d).length+1,d="",u=Vp}else d+=o;break;case Vp:case qp:if(n&&"file"==t.scheme){u=Yp;continue}if(":"!=o||f){if(o==Xf||"/"==o||"?"==o||"#"==o||"\\"==o&&Sp(t)){if(Sp(t)&&""==d)return"Invalid host";if(n&&""==d&&(kp(t)||null!==t.port))return;if(s=pp(t,d))return s;if(d="",u=Xp,n)return;continue}"["==o?f=!0:"]"==o&&(f=!1),d+=o}else{if(""==d)return"Invalid host";if(s=pp(t,d))return s;if(d="",u=Up,n==qp)return}break;case Up:if(!op.test(o)){if(o==Xf||"/"==o||"?"==o||"#"==o||"\\"==o&&Sp(t)||n){if(""!=d){var m=parseInt(d,10);if(m>65535)return"Invalid port";t.port=Sp(t)&&m===Ep[t.scheme]?null:m,d=""}if(n)return;u=Xp;continue}return"Invalid port"}d+=o;break;case Hp:if(t.scheme="file","/"==o||"\\"==o)u=Wp;else{if(!r||"file"!=r.scheme){u=Gp;continue}if(o==Xf)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",u=Zp;else{if("#"!=o){Tp(i.slice(c).join(""))||(t.host=r.host,t.path=r.path.slice(),Pp(t)),u=Gp;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=Kp}}break;case Wp:if("/"==o||"\\"==o){u=Yp;break}r&&"file"==r.scheme&&!Tp(i.slice(c).join(""))&&(Cp(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),u=Gp;continue;case Yp:if(o==Xf||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Cp(d))u=Gp;else if(""==d){if(t.host="",n)return;u=Xp}else{if(s=pp(t,d))return s;if("localhost"==t.host&&(t.host=""),n)return;d="",u=Xp}continue}d+=o;break;case Xp:if(Sp(t)){if(u=Gp,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=Xf&&(u=Gp,"/"!=o))continue}else t.fragment="",u=Kp;else t.query="",u=Zp;break;case Gp:if(o==Xf||"/"==o||"\\"==o&&Sp(t)||!n&&("?"==o||"#"==o)){if(".."===(l=(l=d).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(Pp(t),"/"==o||"\\"==o&&Sp(t)||t.path.push("")):Np(d)?"/"==o||"\\"==o&&Sp(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Cp(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(o==Xf||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",u=Zp):"#"==o&&(t.fragment="",u=Kp)}else d+=_p(o,wp);break;case $p:"?"==o?(t.query="",u=Zp):"#"==o?(t.fragment="",u=Kp):o!=Xf&&(t.path[0]+=_p(o,mp));break;case Zp:n||"#"!=o?o!=Xf&&("'"==o&&Sp(t)?t.query+="%27":t.query+="#"==o?"%23":_p(o,mp)):(t.fragment="",u=Kp);break;case Kp:o!=Xf&&(t.fragment+=_p(o,bp))}c++}},Jp=function(t){var e,n,r=In(this,Jp,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(t),s=Jf(r,{type:"URL"});if(void 0!==i)if(i instanceof Jp)e=tp(i);else if(n=Qp(e={},String(i)))throw TypeError(n);if(n=Qp(s,o,null,e))throw TypeError(n);var l=s.searchParams=new Kf,u=Qf(l);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(l)||null},a||(r.href=eg.call(r),r.origin=ng.call(r),r.protocol=rg.call(r),r.username=ig.call(r),r.password=og.call(r),r.host=ag.call(r),r.hostname=sg.call(r),r.port=lg.call(r),r.pathname=ug.call(r),r.search=cg.call(r),r.searchParams=dg.call(r),r.hash=hg.call(r))},tg=Jp.prototype,eg=function(){var t=tp(this),e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,l=t.fragment,u=e+":";return null!==i?(u+="//",kp(t)&&(u+=n+(r?":"+r:"")+"@"),u+=yp(i),null!==o&&(u+=":"+o)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},ng=function(){var t=tp(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Sp(t)?e+"://"+yp(t.host)+(null!==n?":"+n:""):"null"},rg=function(){return tp(this).scheme+":"},ig=function(){return tp(this).username},og=function(){return tp(this).password},ag=function(){var t=tp(this),e=t.host,n=t.port;return null===e?"":null===n?yp(e):yp(e)+":"+n},sg=function(){var t=tp(this).host;return null===t?"":yp(t)},lg=function(){var t=tp(this).port;return null===t?"":String(t)},ug=function(){var t=tp(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},cg=function(){var t=tp(this).query;return t?"?"+t:""},dg=function(){return tp(this).searchParams},hg=function(){var t=tp(this).fragment;return t?"#"+t:""},fg=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(a&&Rt(tg,{href:fg(eg,(function(t){var e=tp(this),n=String(t),r=Qp(e,n);if(r)throw TypeError(r);Qf(e.searchParams).updateSearchParams(e.query)})),origin:fg(ng),protocol:fg(rg,(function(t){var e=tp(this);Qp(e,String(t)+":",Dp)})),username:fg(ig,(function(t){var e=tp(this),n=Eo(String(t));if(!Op(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=_p(n[r],xp)}})),password:fg(og,(function(t){var e=tp(this),n=Eo(String(t));if(!Op(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=_p(n[r],xp)}})),host:fg(ag,(function(t){var e=tp(this);e.cannotBeABaseURL||Qp(e,String(t),Vp)})),hostname:fg(sg,(function(t){var e=tp(this);e.cannotBeABaseURL||Qp(e,String(t),qp)})),port:fg(lg,(function(t){var e=tp(this);Op(e)||(""==(t=String(t))?e.port=null:Qp(e,t,Up))})),pathname:fg(ug,(function(t){var e=tp(this);e.cannotBeABaseURL||(e.path=[],Qp(e,t+"",Xp))})),search:fg(cg,(function(t){var e=tp(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Qp(e,t,Zp)),Qf(e.searchParams).updateSearchParams(e.query)})),searchParams:fg(dg),hash:fg(hg,(function(t){var e=tp(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Qp(e,t,Kp)):e.fragment=null}))}),et(tg,"toJSON",(function(){return eg.call(this)}),{enumerable:!0}),et(tg,"toString",(function(){return eg.call(this)}),{enumerable:!0}),Zf){var pg=Zf.createObjectURL,gg=Zf.revokeObjectURL;pg&&et(Jp,"createObjectURL",(function(t){return pg.apply(Zf,arguments)})),gg&&et(Jp,"revokeObjectURL",(function(t){return gg.apply(Zf,arguments)}))}re(Jp,"URL"),Dt({global:!0,forced:!vf,sham:!a},{URL:Jp}),Dt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});n((function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(t,e,n){var r=c;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=u(t,e,n);if("normal"===l.type){if(r=n.done?f:d,l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=f,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var c="suspendedStart",d="suspendedYield",h="executing",f="completed",p={};function g(){}function v(){}function y(){}var m={};m[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(T([])));w&&w!==n&&r.call(w,o)&&(m=w);var x=y.prototype=g.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t){var e;this._invoke=function(n,i){function o(){return new Promise((function(e,o){!function e(n,i,o,a){var s=u(t[n],t,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(c).then((function(t){l.value=t,o(l)}),(function(t){return e("throw",t,o,a)}))}a(s.arg)}(n,i,e,o)}))}return e=e?e.then(o,o):o()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=u(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function T(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:e,done:!0}}return v.prototype=x.constructor=y,y.constructor=v,y[s]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},_(E.prototype),E.prototype[a]=function(){return this},t.AsyncIterator=E,t.async=function(e,n,r,i){var o=new E(l(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(x),x[s]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));
/**
	@license @nocompile
	Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
	This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	Code distributed by Google as part of the polymer project is also
	subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
	*/(function(){var e;function n(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function r(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:n(t)}}function i(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var o="undefined"!=typeof window&&window===this?this:void 0!==t&&null!=t?t:this,a="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function s(){s=function(){},o.Symbol||(o.Symbol=d)}function l(t,e){this.a=t,a(this,"description",{configurable:!0,writable:!0,value:e})}l.prototype.toString=function(){return this.a};var u,c,d=(u=0,function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new l("jscomp_symbol_"+(e||"")+"_"+u++,e)});function h(){s();var t=o.Symbol.iterator;t||(t=o.Symbol.iterator=o.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[t]&&a(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return function(t){return h(),(t={next:t})[o.Symbol.iterator]=function(){return this},t}(n(this))}}),h=function(){}}if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var f;t:{var p={};try{p.__proto__={Fa:!0},f=p.Fa;break t}catch(Wt){}f=!1}c=f?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var g=c;function v(){this.f=!1,this.b=null,this.U=void 0,this.a=1,this.F=0,this.c=null}function y(t){if(t.f)throw new TypeError("Generator is already running");t.f=!0}function m(t,e){t.c={Ia:e,Ma:!0},t.a=t.F}function b(t,e){return t.a=3,{value:e}}function w(t){this.a=new v,this.b=t}function x(t,e,n,r){try{var i=e.call(t.a.b,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.a.f=!1,i;var o=i.value}catch(e){return t.a.b=null,m(t.a,e),_(t)}return t.a.b=null,r.call(t.a,o),_(t)}function _(t){for(;t.a.a;)try{var e=t.b(t.a);if(e)return t.a.f=!1,{value:e.value,done:!1}}catch(e){t.a.U=void 0,m(t.a,e)}if(t.a.f=!1,t.a.c){if(e=t.a.c,t.a.c=null,e.Ma)throw e.Ia;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function E(t){this.next=function(e){return y(t.a),t.a.b?e=x(t,t.a.b.next,e,t.a.u):(t.a.u(e),e=_(t)),e},this.throw=function(e){return y(t.a),t.a.b?e=x(t,t.a.b.throw,e,t.a.u):(m(t.a,e),e=_(t)),e},this.return=function(e){return function(t,e){y(t.a);var n=t.a.b;return n?x(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),_(t))}(t,e)},h(),this[Symbol.iterator]=function(){return this}}function S(t,e){return e=new E(new w(e)),g&&g(e,t.prototype),e}v.prototype.u=function(t){this.U=t},v.prototype.return=function(t){this.c={return:t},this.a=this.F},Array.from||(Array.from=function(t){return[].slice.call(t)}),Object.assign||(Object.assign=function(t){for(var e,n=[].slice.call(arguments,1),r=0;r<n.length;r++)if(e=n[r])for(var i=t,o=e,a=Object.getOwnPropertyNames(o),s=0;s<a.length;s++)i[e=a[s]]=o[e];return t}),function(){if(!function(){var t=document.createEvent("Event");return t.initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented}()){var t=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(t.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var e=/Trident/.test(navigator.userAgent);if(!window.Event||e&&"function"!=typeof window.Event){var n=window.Event;if(window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,!!e.bubbles,!!e.cancelable),n},n){for(var r in n)window.Event[r]=n[r];window.Event.prototype=n.prototype}}if((!window.CustomEvent||e&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.MouseEvent||e&&"function"!=typeof window.MouseEvent){if(e=window.MouseEvent,window.MouseEvent=function(t,e){e=e||{};var n=document.createEvent("MouseEvent");return n.initMouseEvent(t,!!e.bubbles,!!e.cancelable,e.view||window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),n},e)for(var i in e)window.MouseEvent[i]=e[i];window.MouseEvent.prototype=e.prototype}}(),function(){function t(){}function e(t,e){if(!t.childNodes.length)return[];switch(t.nodeType){case Node.DOCUMENT_NODE:return g.call(t,e);case Node.DOCUMENT_FRAGMENT_NODE:return v.call(t,e);default:return p.call(t,e)}}var n="undefined"==typeof HTMLTemplateElement,r=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),i=!1;/Trident/.test(navigator.userAgent)&&function(){function t(t,e){if(t instanceof DocumentFragment)for(var r;r=t.firstChild;)n.call(this,r,e);else n.call(this,t,e);return t}i=!0;var e=Node.prototype.cloneNode;Node.prototype.cloneNode=function(t){return t=e.call(this,t),this instanceof DocumentFragment&&(t.__proto__=DocumentFragment.prototype),t},DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll,DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector,Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var n=Node.prototype.insertBefore;Node.prototype.insertBefore=t;var r=Node.prototype.appendChild;Node.prototype.appendChild=function(e){return e instanceof DocumentFragment?t.call(this,e,null):r.call(this,e),e};var o=Node.prototype.removeChild,a=Node.prototype.replaceChild;Node.prototype.replaceChild=function(e,n){return e instanceof DocumentFragment?(t.call(this,e,n),o.call(this,n)):a.call(this,e,n),n},Document.prototype.createDocumentFragment=function(){var t=this.createElement("df");return t.__proto__=DocumentFragment.prototype,t};var s=Document.prototype.importNode;Document.prototype.importNode=function(t,e){return e=s.call(this,t,e||!1),t instanceof DocumentFragment&&(e.__proto__=DocumentFragment.prototype),e}}();var o=Node.prototype.cloneNode,a=Document.prototype.createElement,s=Document.prototype.importNode,l=Node.prototype.removeChild,u=Node.prototype.appendChild,c=Node.prototype.replaceChild,d=DOMParser.prototype.parseFromString,h=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML")||{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}},f=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes")||{get:function(){return this.childNodes}},p=Element.prototype.querySelectorAll,g=Document.prototype.querySelectorAll,v=DocumentFragment.prototype.querySelectorAll,y=function(){if(!n){var t=document.createElement("template"),e=document.createElement("template");return e.content.appendChild(document.createElement("div")),t.content.appendChild(e),0===(t=t.cloneNode(!0)).content.childNodes.length||0===t.content.firstChild.content.childNodes.length||r}}();if(n){var m=document.implementation.createHTMLDocument("template"),b=!0,w=document.createElement("style");w.textContent="template{display:none;}";var x=document.head;x.insertBefore(w,x.firstElementChild),t.prototype=Object.create(HTMLElement.prototype);var _=!document.createElement("div").hasOwnProperty("innerHTML");t.S=function(e){if(!e.content&&e.namespaceURI===document.documentElement.namespaceURI){e.content=m.createDocumentFragment();for(var n;n=e.firstChild;)u.call(e.content,n);if(_)e.__proto__=t.prototype;else if(e.cloneNode=function(e){return t.b(this,e)},b)try{S(e),k(e)}catch(t){b=!1}t.a(e.content)}};var E={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},S=function(e){Object.defineProperty(e,"innerHTML",{get:function(){return D(this)},set:function(e){var n=E[(/<([a-z][^/\0>\x20\t\r\n\f]+)/i.exec(e)||["",""])[1].toLowerCase()];if(n)for(var r=0;r<n.length;r++)e="<"+n[r]+">"+e+"</"+n[r]+">";for(m.body.innerHTML=e,t.a(m);this.content.firstChild;)l.call(this.content,this.content.firstChild);if(e=m.body,n)for(r=0;r<n.length;r++)e=e.lastChild;for(;e.firstChild;)u.call(this.content,e.firstChild)},configurable:!0})},k=function(t){Object.defineProperty(t,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(t){if(!this.parentNode)throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");for(m.body.innerHTML=t,t=this.ownerDocument.createDocumentFragment();m.body.firstChild;)u.call(t,m.body.firstChild);c.call(this.parentNode,t,this)},configurable:!0})};S(t.prototype),k(t.prototype),t.a=function(n){for(var r,i=0,o=(n=e(n,"template")).length;i<o&&(r=n[i]);i++)t.S(r)},document.addEventListener("DOMContentLoaded",(function(){t.a(document)})),Document.prototype.createElement=function(){var e=a.apply(this,arguments);return"template"===e.localName&&t.S(e),e},DOMParser.prototype.parseFromString=function(){var e=d.apply(this,arguments);return t.a(e),e},Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return D(this)},set:function(e){h.set.call(this,e),t.a(this)},configurable:!0,enumerable:!0});var O=/[&\u00A0"]/g,C=/[&\u00A0<>]/g,T=function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"Â ":return"&nbsp;"}},P=(w=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e})("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),N=w("style script xmp iframe noembed noframes plaintext noscript".split(" ")),D=function(t,e){"template"===t.localName&&(t=t.content);for(var n,r="",i=e?e(t):f.get.call(t),o=0,a=i.length;o<a&&(n=i[o]);o++){t:{var s=n,l=t,u=e;switch(s.nodeType){case Node.ELEMENT_NODE:for(var c=s.localName,d="<"+c,h=s.attributes,p=0;l=h[p];p++)d+=" "+l.name+'="'+l.value.replace(O,T)+'"';d+=">",s=P[c]?d:d+D(s,u)+"</"+c+">";break t;case Node.TEXT_NODE:s=s.data,s=l&&N[l.localName]?s:s.replace(C,T);break t;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break t;default:throw window.console.error(s),Error("not implemented")}}r+=s}return r}}if(n||y){t.b=function(t,e){var n=o.call(t,!1);return this.S&&this.S(n),e&&(u.call(n.content,o.call(t.content,!0)),A(n.content,t.content)),n};var A=function(n,r){if(r.querySelectorAll&&0!==(r=e(r,"template")).length)for(var i,o,a=0,s=(n=e(n,"template")).length;a<s;a++)o=r[a],i=n[a],t&&t.S&&t.S(o),c.call(i.parentNode,M.call(o,!0),i)},M=Node.prototype.cloneNode=function(e){if(!i&&r&&this instanceof DocumentFragment){if(!e)return this.ownerDocument.createDocumentFragment();var n=L.call(this.ownerDocument,this,!0)}else n=this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?t.b(this,e):o.call(this,e);return e&&A(n,this),n},L=Document.prototype.importNode=function(n,r){if(r=r||!1,"template"===n.localName)return t.b(n,r);var i=s.call(this,n,r);if(r){A(i,n),n=e(i,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]');for(var o,l=0;l<n.length;l++){o=n[l],(r=a.call(document,"script")).textContent=o.textContent;for(var u,d=o.attributes,h=0;h<d.length;h++)u=d[h],r.setAttribute(u.name,u.value);c.call(o.parentNode,r,o)}}return i}}n&&(window.HTMLTemplateElement=t)}();var k=setTimeout;function O(){}function C(t){if(!(this instanceof C))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this.K=0,this.pa=!1,this.w=void 0,this.V=[],M(t,this)}function T(t,e){for(;3===t.K;)t=t.w;0===t.K?t.V.push(e):(t.pa=!0,L((function(){var n=1===t.K?e.Oa:e.Pa;if(null===n)(1===t.K?P:N)(e.na,t.w);else{try{var r=n(t.w)}catch(t){return void N(e.na,t)}P(e.na,r)}})))}function P(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof C)return t.K=3,t.w=e,void D(t);if("function"==typeof n)return void M(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t.K=1,t.w=e,D(t)}catch(e){N(t,e)}}function N(t,e){t.K=2,t.w=e,D(t)}function D(t){2===t.K&&0===t.V.length&&L((function(){t.pa||"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t.w)}));for(var e=0,n=t.V.length;e<n;e++)T(t,t.V[e]);t.V=null}function A(t,e,n){this.Oa="function"==typeof t?t:null,this.Pa="function"==typeof e?e:null,this.na=n}function M(t,e){var n=!1;try{t((function(t){n||(n=!0,P(e,t))}),(function(t){n||(n=!0,N(e,t))}))}catch(t){n||(n=!0,N(e,t))}}C.prototype.catch=function(t){return this.then(null,t)},C.prototype.then=function(t,e){var n=new this.constructor(O);return T(this,new A(t,e,n)),n},C.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))};var L="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){k(t,0)};if(!window.Promise){window.Promise=C,C.prototype.then=C.prototype.then,C.all=function(t){return new C((function(e,n){function r(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){r(t,e)}),n)}i[t]=a,0==--o&&e(i)}catch(t){n(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);for(var o=i.length,a=0;a<i.length;a++)r(a,i[a])}))},C.race=function(t){return new C((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},C.resolve=function(t){return t&&"object"==typeof t&&t.constructor===C?t:new C((function(e){e(t)}))},C.reject=function(t){return new C((function(e,n){n(t)}))};var j=document.createTextNode(""),I=[];new MutationObserver((function(){for(var t=I.length,e=0;e<t;e++)I[e]();I.splice(0,t)})).observe(j,{characterData:!0}),L=function(t){I.push(t),j.textContent=0<j.textContent.length?"":"a"}}!function(e,n){if(!(n in e)){var r=typeof t==typeof r?window:t,i=0,o=""+Math.random(),a="__symbol@@"+o,s=e.getOwnPropertyNames,l=e.getOwnPropertyDescriptor,u=e.create,c=e.keys,d=e.freeze||e,h=e.defineProperty,f=e.defineProperties,p=l(e,"getOwnPropertyNames"),g=e.prototype,v=g.hasOwnProperty,y=g.propertyIsEnumerable,m=g.toString,b=function(t,e,n){v.call(t,a)||h(t,a,{enumerable:!1,configurable:!1,writable:!1,value:{}}),t[a]["@@"+e]=n},w=function(t,e){var n=u(t);return s(e).forEach((function(t){S.call(e,t)&&N(n,t,e[t])})),n},x=function(){},_=function(t){return t!=a&&!v.call(C,t)},E=function(t){return t!=a&&v.call(C,t)},S=function(t){var e=""+t;return E(e)?v.call(this,e)&&this[a]["@@"+e]:y.call(this,t)},k=function(t){return h(g,t,{enumerable:!1,configurable:!0,get:x,set:function(e){A(this,t,{enumerable:!1,configurable:!0,writable:!0,value:e}),b(this,t,!0)}}),d(C[t]=h(e(t),"constructor",T))},O=function(t){if(this&&this!==r)throw new TypeError("Symbol is not a constructor");return k("__symbol:".concat(t||"",o,++i))},C=u(null),T={value:O},P=function(t){return C[t]},N=function(t,e,n){var r=""+e;if(E(r)){if(e=A,n.enumerable){var i=u(n);i.enumerable=!1}else i=n;e(t,r,i),b(t,r,!!n.enumerable)}else h(t,e,n);return t},D=function(t){return s(t).filter(E).map(P)};p.value=N,h(e,"defineProperty",p),p.value=D,h(e,n,p),p.value=function(t){return s(t).filter(_)},h(e,"getOwnPropertyNames",p),p.value=function(t,e){var n=D(e);return n.length?c(e).concat(n).forEach((function(n){S.call(e,n)&&N(t,n,e[n])})):f(t,e),t},h(e,"defineProperties",p),p.value=S,h(g,"propertyIsEnumerable",p),p.value=O,h(r,"Symbol",p),p.value=function(t){return(t="__symbol:".concat("__symbol:",t,o))in g?C[t]:k(t)},h(O,"for",p),p.value=function(t){if(_(t))throw new TypeError(t+" is not a symbol");return v.call(C,t)?t.slice(20,-o.length):void 0},h(O,"keyFor",p),p.value=function(t,e){var n=l(t,e);return n&&E(e)&&(n.enumerable=S.call(t,e)),n},h(e,"getOwnPropertyDescriptor",p),p.value=function(t,e){return 1===arguments.length?u(t):w(t,e)},h(e,"create",p),p.value=function(){var t=m.call(this);return"[object String]"===t&&E(this)?"[object Symbol]":t},h(g,"toString",p);try{var A=u(h({},"__symbol:",{get:function(){return h(this,"__symbol:",{value:!1})["__symbol:"]}}))["__symbol:"]||h}catch(t){A=function(t,e,n){var r=l(g,e);delete g[e],h(t,e,n),h(g,e,r)}}}}(Object,"getOwnPropertySymbols"),function(t){var e,n=t.defineProperty,r=t.prototype,i=r.toString;"iterator match replace search split hasInstance isConcatSpreadable unscopables species toPrimitive toStringTag".split(" ").forEach((function(o){if(!(o in Symbol))switch(n(Symbol,o,{value:Symbol(o)}),o){case"toStringTag":(e=t.getOwnPropertyDescriptor(r,"toString")).value=function(){var t=i.call(this),e=this[Symbol.toStringTag];return void 0===e?t:"[object "+e+"]"},n(r,"toString",e)}}))}(Object,Symbol),function(t,e,n){function r(){return this}e[t]||(e[t]=function(){var e=0,n=this,i={next:function(){var t=n.length<=e;return t?{done:t}:{done:t,value:n[e++]}}};return i[t]=r,i}),n[t]||(n[t]=function(){var e=String.fromCodePoint,n=this,i=0,o=n.length,a={next:function(){var t=o<=i,r=t?"":e(n.codePointAt(i));return i+=r.length,t?{done:t}:{done:t,value:r}}};return a[t]=r,a})}(Symbol.iterator,Array.prototype,String.prototype);var R=Object.prototype.toString;Object.prototype.toString=function(){return void 0===this?"[object Undefined]":null===this?"[object Null]":R.call(this)},Object.keys=function(t){return Object.getOwnPropertyNames(t).filter((function(e){return(e=Object.getOwnPropertyDescriptor(t,e))&&e.enumerable}))};var B=window.Symbol.iterator;String.prototype[B]&&String.prototype.codePointAt||(String.prototype[B]=function t(){var e,n=this;return S(t,(function(t){if(1==t.a&&(e=0),3!=t.a)return e<n.length?t=b(t,n[e]):(t.a=0,t=void 0),t;e++,t.a=2}))}),Set.prototype[B]||(Set.prototype[B]=function t(){var e,n,r=this;return S(t,(function(t){if(1==t.a&&(e=[],r.forEach((function(t){e.push(t)})),n=0),3!=t.a)return n<e.length?t=b(t,e[n]):(t.a=0,t=void 0),t;n++,t.a=2}))}),Map.prototype[B]||(Map.prototype[B]=function t(){var e,n,r=this;return S(t,(function(t){if(1==t.a&&(e=[],r.forEach((function(t,n){e.push([n,t])})),n=0),3!=t.a)return n<e.length?t=b(t,e[n]):(t.a=0,t=void 0),t;n++,t.a=2}))}),window.WebComponents=window.WebComponents||{flags:{}};var z=document.querySelector('script[src*="webcomponents-bundle"]'),F=/wc-(.+)/,V={};if(!V.noOpts){if(location.search.slice(1).split("&").forEach((function(t){var e;(t=t.split("="))[0]&&(e=t[0].match(F))&&(V[e[1]]=t[1]||!0)})),z)for(var q=0,U=void 0;U=z.attributes[q];q++)"src"!==U.name&&(V[U.name]=U.value||!0);if(V.log&&V.log.split){var H=V.log.split(",");V.log={},H.forEach((function(t){V.log[t]=!0}))}else V.log={}}window.WebComponents.flags=V;var W=V.shadydom;if(W){window.ShadyDOM=window.ShadyDOM||{},window.ShadyDOM.force=W;var Y=V.noPatch;window.ShadyDOM.noPatch="true"===Y||Y}var X=V.register||V.ce;function G(){}function $(t){return t.__shady||(t.__shady=new G),t.__shady}function Z(t){return t&&t.__shady}X&&window.customElements&&(window.customElements.forcePolyfill=X),G.prototype.toJSON=function(){return{}};var K=window.ShadyDOM||{};K.Ka=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var Q=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");function J(t){return(t=Z(t))&&void 0!==t.firstChild}function tt(t){return t instanceof ShadowRoot}function et(t){return(t=(t=Z(t))&&t.root)&&Pn(t)}K.D=!!(Q&&Q.configurable&&Q.get),K.ia=K.force||!K.Ka,K.G=K.noPatch||!1,K.ma=K.preferPerformance,K.la="on-demand"===K.G,K.ya=navigator.userAgent.match("Trident");var nt=Element.prototype,rt=nt.matches||nt.matchesSelector||nt.mozMatchesSelector||nt.msMatchesSelector||nt.oMatchesSelector||nt.webkitMatchesSelector,it=document.createTextNode(""),ot=0,at=[];function st(t){at.push(t),it.textContent=ot++}new MutationObserver((function(){for(;at.length;)try{at.shift()()}catch(t){throw it.textContent=ot++,t}})).observe(it,{characterData:!0});var lt=!!document.contains;function ut(t,e){for(;e;){if(e==t)return!0;e=e.__shady_parentNode}return!1}function ct(t){for(var e=t.length-1;0<=e;e--){var n=t[e],i=n.getAttribute("id")||n.getAttribute("name");i&&"length"!==i&&isNaN(i)&&(t[i]=n)}return t.item=function(e){return t[e]},t.namedItem=function(e){if("length"!==e&&isNaN(e)&&t[e])return t[e];for(var n=r(t),i=n.next();!i.done;i=n.next())if(((i=i.value).getAttribute("id")||i.getAttribute("name"))==e)return i;return null},t}function dt(t){var e=[];for(t=t.__shady_native_firstChild;t;t=t.__shady_native_nextSibling)e.push(t);return e}function ht(t){var e=[];for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling)e.push(t);return e}function ft(t,e,n){if(n.configurable=!0,n.value)t[e]=n.value;else try{Object.defineProperty(t,e,n)}catch(t){}}function pt(t,e,n,r){for(var i in n=void 0===n?"":n,e)r&&0<=r.indexOf(i)||ft(t,n+i,e[i])}function gt(t,e){for(var n in e)n in t&&ft(t,n,e[n])}function vt(t){var e={};return Object.getOwnPropertyNames(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e}var yt,mt=[];function bt(t){yt||(yt=!0,st(wt)),mt.push(t)}function wt(){yt=!1;for(var t=!!mt.length;mt.length;)mt.shift()();return t}function xt(){this.a=!1,this.addedNodes=[],this.removedNodes=[],this.ba=new Set}wt.list=mt,xt.prototype.flush=function(){if(this.a){this.a=!1;var t=this.takeRecords();t.length&&this.ba.forEach((function(e){e(t)}))}},xt.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var t=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],t}return[]};var _t=/[&\u00A0"]/g,Et=/[&\u00A0<>]/g;function St(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"Â ":return"&nbsp;"}}function kt(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var Ot=kt("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),Ct=kt("style script xmp iframe noembed noframes plaintext noscript".split(" "));function Tt(t,e){"template"===t.localName&&(t=t.content);for(var n="",r=e?e(t):t.childNodes,i=0,o=r.length,a=void 0;i<o&&(a=r[i]);i++){t:{var s=a,l=t,u=e;switch(s.nodeType){case Node.ELEMENT_NODE:for(var c,d="<"+(l=s.localName),h=s.attributes,f=0;c=h[f];f++)d+=" "+c.name+'="'+c.value.replace(_t,St)+'"';d+=">",s=Ot[l]?d:d+Tt(s,u)+"</"+l+">";break t;case Node.TEXT_NODE:s=s.data,s=l&&Ct[l.localName]?s:s.replace(Et,St);break t;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break t;default:throw window.console.error(s),Error("not implemented")}}n+=s}return n}var Pt=K.D,Nt={querySelector:function(t){return this.__shady_native_querySelector(t)},querySelectorAll:function(t){return this.__shady_native_querySelectorAll(t)}},Dt={};function At(t){Dt[t]=function(e){return e["__shady_native_"+t]}}function Mt(t,e){for(var n in pt(t,e,"__shady_native_"),e)At(n)}function Lt(t,e){e=void 0===e?[]:e;for(var n=0;n<e.length;n++){var r=e[n],i=Object.getOwnPropertyDescriptor(t,r);i&&(Object.defineProperty(t,"__shady_native_"+r,i),i.value?Nt[r]||(Nt[r]=i.value):At(r))}}var jt=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),It=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),Rt=document.implementation.createHTMLDocument("inert");function Bt(t){for(var e;e=t.__shady_native_firstChild;)t.__shady_native_removeChild(e)}var zt=["firstElementChild","lastElementChild","children","childElementCount"],Ft=["querySelector","querySelectorAll"];var Vt=vt({get childNodes(){return this.__shady_childNodes},get firstChild(){return this.__shady_firstChild},get lastChild(){return this.__shady_lastChild},get childElementCount(){return this.__shady_childElementCount},get children(){return this.__shady_children},get firstElementChild(){return this.__shady_firstElementChild},get lastElementChild(){return this.__shady_lastElementChild},get shadowRoot(){return this.__shady_shadowRoot}}),qt=vt({get textContent(){return this.__shady_textContent},set textContent(t){this.__shady_textContent=t},get innerHTML(){return this.__shady_innerHTML},set innerHTML(t){return this.__shady_innerHTML=t}}),Ut=vt({get parentElement(){return this.__shady_parentElement},get parentNode(){return this.__shady_parentNode},get nextSibling(){return this.__shady_nextSibling},get previousSibling(){return this.__shady_previousSibling},get nextElementSibling(){return this.__shady_nextElementSibling},get previousElementSibling(){return this.__shady_previousElementSibling},get className(){return this.__shady_className},set className(t){return this.__shady_className=t}});function Ht(t){for(var e in t){var n=t[e];n&&(n.enumerable=!1)}}Ht(Vt),Ht(qt),Ht(Ut);var Wt,Yt=K.D||!0===K.G,Xt=Yt?function(){}:function(t){var e=$(t);e.Aa||(e.Aa=!0,gt(t,Ut))},Gt=Yt?function(){}:function(t){var e=$(t);e.za||(e.za=!0,gt(t,Vt),window.customElements&&!K.G||gt(t,qt))},$t="__eventWrappers"+Date.now(),Zt=(Wt=Object.getOwnPropertyDescriptor(Event.prototype,"composed"))?function(t){return Wt.get.call(t)}:null,Kt=function(){function t(){}var e=!1,n={get capture(){return e=!0,!1}};return window.addEventListener("test",t,n),window.removeEventListener("test",t,n),e}();function Qt(t){if(t&&"object"==typeof t)var e=!!t.capture,n=!!t.once,r=!!t.passive,i=t.O;else e=!!t,r=n=!1;return{wa:i,capture:e,once:n,passive:r,ua:Kt?t:e}}var Jt={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},te={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0};function ee(t){return t instanceof Node?t.__shady_getRootNode():t}function ne(t,e){var n=[],r=t;for(t=ee(t);r;)n.push(r),r=r.__shady_assignedSlot?r.__shady_assignedSlot:r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r.host&&(e||r!==t)?r.host:r.__shady_parentNode;return n[n.length-1]===document&&n.push(window),n}function re(t,e){if(!tt)return t;t=ne(t,!0);for(var n,r,i=0,o=void 0,a=void 0;i<e.length;i++)if((r=ee(n=e[i]))!==o&&(a=t.indexOf(r),o=r),!tt(r)||-1<a)return n}function ie(t){function e(e,n){return(e=new t(e,n)).__composed=n&&!!n.composed,e}return e.__proto__=t,e.prototype=t.prototype,e}var oe={focus:!0,blur:!0};function ae(t){return t.__target!==t.target||t.__relatedTarget!==t.relatedTarget}function se(t,e,n){if(n=e.__handlers&&e.__handlers[t.type]&&e.__handlers[t.type][n])for(var r,i=0;(r=n[i])&&(!ae(t)||t.target!==t.relatedTarget)&&(r.call(e,t),!t.__immediatePropagationStopped);i++);}function le(t){var e,n=t.composedPath();Object.defineProperty(t,"currentTarget",{get:function(){return i},configurable:!0});for(var r=n.length-1;0<=r;r--){var i=n[r];if(se(t,i,"capture"),t.ea)return}for(Object.defineProperty(t,"eventPhase",{get:function(){return Event.AT_TARGET}}),r=0;r<n.length;r++){var o=Z(i=n[r]);if(o=o&&o.root,(0===r||o&&o===e)&&(se(t,i,"bubble"),i!==window&&(e=i.__shady_getRootNode()),t.ea))break}}function ue(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=t[a],l=s.type,u=s.capture,c=s.once,d=s.passive;if(e===s.node&&n===l&&r===u&&i===c&&o===d)return a}return-1}function ce(t){return wt(),this.__shady_native_dispatchEvent(t)}function de(t,e,n){var r=Qt(n),i=r.capture,o=r.once,a=r.passive,s=r.wa;if(r=r.ua,e){var l=typeof e;if(("function"===l||"object"===l)&&("object"!==l||e.handleEvent&&"function"==typeof e.handleEvent)){if(te[t])return this.__shady_native_addEventListener(t,e,r);var u=s||this;if(s=e[$t]){if(-1<ue(s,u,t,i,o,a))return}else e[$t]=[];s=function(r){if(o&&this.__shady_removeEventListener(t,e,n),r.__target||pe(r),u!==this){var i=Object.getOwnPropertyDescriptor(r,"currentTarget");Object.defineProperty(r,"currentTarget",{get:function(){return u},configurable:!0})}if(r.__previousCurrentTarget=r.currentTarget,(!tt(u)&&"slot"!==u.localName||-1!=r.composedPath().indexOf(u))&&(r.composed||-1<r.composedPath().indexOf(u)))if(ae(r)&&r.target===r.relatedTarget)r.eventPhase===Event.BUBBLING_PHASE&&r.stopImmediatePropagation();else if(r.eventPhase===Event.CAPTURING_PHASE||r.bubbles||r.target===u||u instanceof Window){var a="function"===l?e.call(u,r):e.handleEvent&&e.handleEvent(r);return u!==this&&(i?(Object.defineProperty(r,"currentTarget",i),i=null):delete r.currentTarget),a}},e[$t].push({node:u,type:t,capture:i,once:o,passive:a,$a:s}),oe[t]?(this.__handlers=this.__handlers||{},this.__handlers[t]=this.__handlers[t]||{capture:[],bubble:[]},this.__handlers[t][i?"capture":"bubble"].push(s)):this.__shady_native_addEventListener(t,s,r)}}}function he(t,e,n){if(e){var r=Qt(n);n=r.capture;var i=r.once,o=r.passive,a=r.wa;if(r=r.ua,te[t])return this.__shady_native_removeEventListener(t,e,r);var s=a||this;a=void 0;var l=null;try{l=e[$t]}catch(t){}l&&(-1<(i=ue(l,s,t,n,i,o))&&(a=l.splice(i,1)[0].$a,l.length||(e[$t]=void 0))),this.__shady_native_removeEventListener(t,a||e,r),a&&oe[t]&&this.__handlers&&this.__handlers[t]&&(-1<(e=(t=this.__handlers[t][n?"capture":"bubble"]).indexOf(a))&&t.splice(e,1))}}var fe=vt({get composed(){return void 0===this.__composed&&(Zt?this.__composed="focusin"===this.type||"focusout"===this.type||Zt(this):!1!==this.isTrusted&&(this.__composed=Jt[this.type])),this.__composed||!1},composedPath:function(){return this.__composedPath||(this.__composedPath=ne(this.__target,this.composed)),this.__composedPath},get target(){return re(this.currentTarget||this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=ne(this.__relatedTarget,!0)),re(this.currentTarget||this.__previousCurrentTarget,this.__relatedTargetComposedPath)):null},stopPropagation:function(){Event.prototype.stopPropagation.call(this),this.ea=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this),this.ea=this.__immediatePropagationStopped=!0}});function pe(t){if(t.__target=t.target,t.__relatedTarget=t.relatedTarget,K.D){var e=Object.getPrototypeOf(t);if(!e.hasOwnProperty("__shady_patchedProto")){var n=Object.create(e);n.__shady_sourceProto=e,pt(n,fe),e.__shady_patchedProto=n}t.__proto__=e.__shady_patchedProto}else pt(t,fe)}var ge=ie(Event),ve=ie(CustomEvent),ye=ie(MouseEvent);var me=Object.getOwnPropertyNames(Document.prototype).filter((function(t){return"on"===t.substring(0,2)}));function be(t,e){return{index:t,X:[],aa:e}}function we(t,e,n,r){var i=0,o=0,a=0,s=0,l=Math.min(e-i,r-o);if(0==i&&0==o)t:{for(a=0;a<l;a++)if(t[a]!==n[a])break t;a=l}if(e==t.length&&r==n.length){s=t.length;for(var u=n.length,c=0;c<l-a&&xe(t[--s],n[--u]);)c++;s=c}if(o+=a,r-=s,0==(e-=s)-(i+=a)&&0==r-o)return[];if(i==e){for(e=be(i,0);o<r;)e.X.push(n[o++]);return[e]}if(o==r)return[be(i,e-i)];for(r=r-(a=o)+1,s=e-(l=i)+1,e=Array(r),u=0;u<r;u++)e[u]=Array(s),e[u][0]=u;for(u=0;u<s;u++)e[0][u]=u;for(u=1;u<r;u++)for(c=1;c<s;c++)if(t[l+c-1]===n[a+u-1])e[u][c]=e[u-1][c-1];else{var d=e[u-1][c]+1,h=e[u][c-1]+1;e[u][c]=d<h?d:h}for(l=e.length-1,a=e[0].length-1,r=e[l][a],t=[];0<l||0<a;)0==l?(t.push(2),a--):0==a?(t.push(3),l--):(s=e[l-1][a-1],(d=(u=e[l-1][a])<(c=e[l][a-1])?u<s?u:s:c<s?c:s)==s?(s==r?t.push(0):(t.push(1),r=s),l--,a--):d==u?(t.push(3),l--,r=u):(t.push(2),a--,r=c));for(t.reverse(),e=void 0,l=[],a=0;a<t.length;a++)switch(t[a]){case 0:e&&(l.push(e),e=void 0),i++,o++;break;case 1:e||(e=be(i,0)),e.aa++,i++,e.X.push(n[o]),o++;break;case 2:e||(e=be(i,0)),e.aa++,i++;break;case 3:e||(e=be(i,0)),e.X.push(n[o]),o++}return e&&l.push(e),l}function xe(t,e){return t===e}var _e=vt({dispatchEvent:ce,addEventListener:de,removeEventListener:he}),Ee=null;function Se(){return Ee||(Ee=window.ShadyCSS&&window.ShadyCSS.ScopingShim),Ee||null}function ke(t,e,n){var r=Se();return!(!r||"class"!==e)&&(r.setElementClass(t,n),!0)}function Oe(t,e){var n=Se();n&&n.unscopeNode(t,e)}function Ce(t){if(t.nodeType!==Node.ELEMENT_NODE)return"";var e=Se();return e?e.currentScopeForNode(t):""}function Te(t,e){if(t)for(t.nodeType===Node.ELEMENT_NODE&&e(t),t=t.__shady_firstChild;t;t=t.__shady_nextSibling)t.nodeType===Node.ELEMENT_NODE&&Te(t,e)}var Pe=window.document,Ne=K.ma,De=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),Ae=De&&De.get;function Me(t){for(var e;e=t.__shady_firstChild;)t.__shady_removeChild(e)}function Le(t,e,n){if(t=(t=Z(t))&&t.W){if(e)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var r=0,i=e.childNodes.length;r<i;r++)t.addedNodes.push(e.childNodes[r]);else t.addedNodes.push(e);n&&t.removedNodes.push(n),function(t){t.a||(t.a=!0,st((function(){t.flush()})))}(t)}}var je=vt({get parentNode(){var t=Z(this);return void 0!==(t=t&&t.parentNode)?t:this.__shady_native_parentNode},get firstChild(){var t=Z(this);return void 0!==(t=t&&t.firstChild)?t:this.__shady_native_firstChild},get lastChild(){var t=Z(this);return void 0!==(t=t&&t.lastChild)?t:this.__shady_native_lastChild},get nextSibling(){var t=Z(this);return void 0!==(t=t&&t.nextSibling)?t:this.__shady_native_nextSibling},get previousSibling(){var t=Z(this);return void 0!==(t=t&&t.previousSibling)?t:this.__shady_native_previousSibling},get childNodes(){if(J(this)){var t=Z(this);if(!t.childNodes){t.childNodes=[];for(var e=this.__shady_firstChild;e;e=e.__shady_nextSibling)t.childNodes.push(e)}var n=t.childNodes}else n=this.__shady_native_childNodes;return n.item=function(t){return n[t]},n},get parentElement(){var t=Z(this);return(t=t&&t.parentNode)&&t.nodeType!==Node.ELEMENT_NODE&&(t=null),void 0!==t?t:this.__shady_native_parentElement},get isConnected(){if(Ae&&Ae.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var t=this.ownerDocument;if(lt){if(t.__shady_native_contains(this))return!0}else if(t.documentElement&&t.documentElement.__shady_native_contains(this))return!0;for(t=this;t&&!(t instanceof Document);)t=t.__shady_parentNode||(tt(t)?t.host:void 0);return!!(t&&t instanceof Document)},get textContent(){if(J(this)){for(var t=[],e=this.__shady_firstChild;e;e=e.__shady_nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.__shady_textContent);return t.join("")}return this.__shady_native_textContent},set textContent(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!J(this)&&K.D){var e=this.__shady_firstChild;(e!=this.__shady_lastChild||e&&e.nodeType!=Node.TEXT_NODE)&&Me(this),this.__shady_native_textContent=t}else Me(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_insertBefore(document.createTextNode(t));break;default:this.nodeValue=t}},insertBefore:function(t,e){if(this.ownerDocument!==Pe&&t.ownerDocument!==Pe)return this.__shady_native_insertBefore(t,e),t;if(t===this)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(e){var n=Z(e);if(void 0!==(n=n&&n.parentNode)&&n!==this||void 0===n&&e.__shady_native_parentNode!==this)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.")}if(e===t)return t;Le(this,t);var o=[],a=(n=Mn(this))?n.host.localName:Ce(this),s=t.__shady_parentNode;if(s){var l=Ce(t),u=!!n||!Mn(t)||Ne&&void 0!==this.__noInsertionPoint;s.__shady_removeChild(t,u)}s=!0;var c=(!Ne||void 0===t.__noInsertionPoint&&void 0===this.__noInsertionPoint)&&!function t(e,n){var r=Se();if(!r)return!0;if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(r=!0,e=e.__shady_firstChild;e;e=e.__shady_nextSibling)r=r&&t(e,n);return r}return e.nodeType!==Node.ELEMENT_NODE||r.currentScopeForNode(e)===n}(t,a),d=n&&!t.__noInsertionPoint&&(!Ne||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE);return(d||c)&&(c&&(l=l||Ce(t)),Te(t,(function(t){if(d&&"slot"===t.localName&&o.push(t),c){var e=l;Se()&&(e&&Oe(t,e),(e=Se())&&e.scopeNode(t,a))}}))),o.length&&(kn(n),n.c.push.apply(n.c,o instanceof Array?o:i(r(o))),wn(n)),J(this)&&(function(t,e,n){un(e,2);var r=$(e);if(void 0!==r.firstChild&&(r.childNodes=null),t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(t=t.__shady_native_firstChild;t;t=t.__shady_native_nextSibling)cn(t,e,r,n);else cn(t,e,r,n)}(t,this,e),n=Z(this),et(this)?(wn(n.root),s=!1):n.root&&(s=!1)),s?(n=tt(this)?this.host:this,e?(e=function t(e){var n=e;return e&&"slot"===e.localName&&(n=(n=(n=Z(e))&&n.T)&&n.length?n[0]:t(e.__shady_nextSibling)),n}(e),n.__shady_native_insertBefore(t,e)):n.__shady_native_appendChild(t)):t.ownerDocument!==this.ownerDocument&&this.ownerDocument.adoptNode(t),t},appendChild:function(t){if(this!=t||!tt(t))return this.__shady_insertBefore(t)},removeChild:function(t,e){if(e=void 0!==e&&e,this.ownerDocument!==Pe)return this.__shady_native_removeChild(t);if(t.__shady_parentNode!==this)throw Error("The node to be removed is not a child of this node: "+t);Le(this,null,t);var n=Mn(t),r=n&&function(t,e){if(t.a){On(t);var n,r=t.b;for(n in r)for(var i=r[n],o=0;o<i.length;o++){var a=i[o];if(ut(e,a)){i.splice(o,1);var s=t.a.indexOf(a);if(0<=s&&(t.a.splice(s,1),(s=Z(a.__shady_parentNode))&&s.Z&&s.Z--),o--,a=Z(a),s=a.T)for(var l=0;l<s.length;l++){var u=s[l],c=u.__shady_native_parentNode;c&&c.__shady_native_removeChild(u)}a.T=[],a.assignedNodes=[],s=!0}}return s}}(n,t),i=Z(this);if(J(this)&&(function(t,e){var n=$(t);e=$(e),t===e.firstChild&&(e.firstChild=n.nextSibling),t===e.lastChild&&(e.lastChild=n.previousSibling),t=n.previousSibling;var r=n.nextSibling;t&&($(t).nextSibling=r),r&&($(r).previousSibling=t),n.parentNode=n.previousSibling=n.nextSibling=void 0,void 0!==e.childNodes&&(e.childNodes=null)}(t,this),et(this))){wn(i.root);var o=!0}if(Se()&&!e&&n&&t.nodeType!==Node.TEXT_NODE){var a=Ce(t);Te(t,(function(t){Oe(t,a)}))}return function t(e){var n=Z(e);if(n&&void 0!==n.da)for(n=e.__shady_firstChild;n;n=n.__shady_nextSibling)t(n);(e=Z(e))&&(e.da=void 0)}(t),n&&((e=this&&"slot"===this.localName)&&(o=!0),(r||e)&&wn(n)),o||(o=tt(this)?this.host:this,(!i.root&&"slot"!==t.localName||o===t.__shady_native_parentNode)&&o.__shady_native_removeChild(t)),t},replaceChild:function(t,e){return this.__shady_insertBefore(t,e),this.__shady_removeChild(e),t},cloneNode:function(t){if("template"==this.localName)return this.__shady_native_cloneNode(t);var e=this.__shady_native_cloneNode(!1);if(t&&e.nodeType!==Node.ATTRIBUTE_NODE){t=this.__shady_firstChild;for(var n;t;t=t.__shady_nextSibling)n=t.__shady_cloneNode(!0),e.__shady_appendChild(n)}return e},getRootNode:function(t){if(this&&this.nodeType){var e=$(this),n=e.da;return void 0===n&&(tt(this)?(n=this,e.da=n):(n=(n=this.__shady_parentNode)?n.__shady_getRootNode(t):this,document.documentElement.__shady_native_contains(this)&&(e.da=n))),n}},contains:function(t){return ut(this,t)}}),Ie=vt({get assignedSlot(){var t=this.__shady_parentNode;return(t=t&&t.__shady_shadowRoot)&&xn(t),(t=Z(this))&&t.assignedSlot||null}});function Re(t,e,n){var r=[];return function t(e,n,r,i){for(e=e.__shady_firstChild;e;e=e.__shady_nextSibling){var o;if(o=e.nodeType===Node.ELEMENT_NODE){var a=n,s=r,l=i,u=a(o=e);u&&l.push(o),s&&s(u)?o=u:(t(o,a,s,l),o=void 0)}if(o)break}}(t,e,n,r),r}var Be=vt({get firstElementChild(){var t=Z(this);if(t&&void 0!==t.firstChild){for(t=this.__shady_firstChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_firstElementChild},get lastElementChild(){var t=Z(this);if(t&&void 0!==t.lastChild){for(t=this.__shady_lastChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_lastElementChild},get children(){return J(this)?ct(Array.prototype.filter.call(ht(this),(function(t){return t.nodeType===Node.ELEMENT_NODE}))):this.__shady_native_children},get childElementCount(){var t=this.__shady_children;return t?t.length:0}}),ze=vt({querySelector:function(t){return Re(this,(function(e){return rt.call(e,t)}),(function(t){return!!t}))[0]||null},querySelectorAll:function(t,e){if(e){e=Array.prototype.slice.call(this.__shady_native_querySelectorAll(t));var n=this.__shady_getRootNode();return ct(e.filter((function(t){return t.__shady_getRootNode()==n})))}return ct(Re(this,(function(e){return rt.call(e,t)})))}}),Fe=K.ma&&!K.G?Object.assign({},Be):Be;Object.assign(Be,ze);var Ve=window.document;function qe(t,e){if("slot"===e)et(t=t.__shady_parentNode)&&wn(Z(t).root);else if("slot"===t.localName&&"name"===e&&(e=Mn(t))){if(e.a){On(e);var n=t.Ba,r=Cn(t);if(r!==n){var i=(n=e.b[n]).indexOf(t);0<=i&&n.splice(i,1),(n=e.b[r]||(e.b[r]=[])).push(t),1<n.length&&(e.b[r]=Tn(n))}}wn(e)}}var Ue=vt({get previousElementSibling(){var t=Z(this);if(t&&void 0!==t.previousSibling){for(t=this.__shady_previousSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_previousElementSibling},get nextElementSibling(){var t=Z(this);if(t&&void 0!==t.nextSibling){for(t=this.__shady_nextSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_nextElementSibling},get slot(){return this.getAttribute("slot")},set slot(t){this.__shady_setAttribute("slot",t)},get className(){return this.getAttribute("class")||""},set className(t){this.__shady_setAttribute("class",t)},setAttribute:function(t,e){this.ownerDocument!==Ve?this.__shady_native_setAttribute(t,e):ke(this,t,e)||(this.__shady_native_setAttribute(t,e),qe(this,t))},removeAttribute:function(t){this.ownerDocument!==Ve?this.__shady_native_removeAttribute(t):ke(this,t,"")?""===this.getAttribute(t)&&this.__shady_native_removeAttribute(t):(this.__shady_native_removeAttribute(t),qe(this,t))}}),He=vt({attachShadow:function(t){if(!this)throw Error("Must provide a host.");if(!t)throw Error("Not enough arguments.");if(t.shadyUpgradeFragment&&!K.ya){var e=t.shadyUpgradeFragment;if(e.__proto__=ShadowRoot.prototype,bn(e,this,t),dn(e,e),t=e.__noInsertionPoint?null:e.querySelectorAll("slot"),e.__noInsertionPoint=void 0,t&&t.length){var n=e;kn(n),n.c.push.apply(n.c,t instanceof Array?t:i(r(t))),wn(e)}e.host.__shady_native_appendChild(e)}else e=new mn(gn,this,t);return this.__CE_shadowRoot=e},get shadowRoot(){var t=Z(this);return t&&t.Sa||null}});Object.assign(Ue,He);var We=document.implementation.createHTMLDocument("inert"),Ye=vt({get innerHTML(){return J(this)?Tt("template"===this.localName?this.content:this,ht):this.__shady_native_innerHTML},set innerHTML(t){if("template"===this.localName)this.__shady_native_innerHTML=t;else{Me(this);var e=this.localName||"div";for(e=this.namespaceURI&&this.namespaceURI!==We.namespaceURI?We.createElementNS(this.namespaceURI,e):We.createElement(e),K.D?e.__shady_native_innerHTML=t:e.innerHTML=t;t=e.__shady_firstChild;)this.__shady_insertBefore(t)}}}),Xe=vt({blur:function(){var t=Z(this);(t=(t=t&&t.root)&&t.activeElement)?t.__shady_blur():this.__shady_native_blur()}});K.ma||me.forEach((function(t){Xe[t]={set:function(e){var n=$(this),r=t.substring(2);n.N||(n.N={}),n.N[t]&&this.removeEventListener(r,n.N[t]),this.__shady_addEventListener(r,e),n.N[t]=e},get:function(){var e=Z(this);return e&&e.N&&e.N[t]},configurable:!0}}));var Ge=vt({assignedNodes:function(t){if("slot"===this.localName){var e=this.__shady_getRootNode();return e&&tt(e)&&xn(e),(e=Z(this))&&(t&&t.flatten?e.T:e.assignedNodes)||[]}},addEventListener:function(t,e,n){if("slot"!==this.localName||"slotchange"===t)de.call(this,t,e,n);else{"object"!=typeof n&&(n={capture:!!n});var r=this.__shady_parentNode;if(!r)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.O=this,r.__shady_addEventListener(t,e,n)}},removeEventListener:function(t,e,n){if("slot"!==this.localName||"slotchange"===t)he.call(this,t,e,n);else{"object"!=typeof n&&(n={capture:!!n});var r=this.__shady_parentNode;if(!r)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.O=this,r.__shady_removeEventListener(t,e,n)}}}),$e=vt({getElementById:function(t){return""===t?null:Re(this,(function(e){return e.id==t}),(function(t){return!!t}))[0]||null}}),Ze=vt({get activeElement(){var t=K.D?document.__shady_native_activeElement:document.activeElement;if(!t||!t.nodeType)return null;var e=!!tt(this);if(!(this===document||e&&this.host!==t&&this.host.__shady_native_contains(t)))return null;for(e=Mn(t);e&&e!==this;)e=Mn(t=e.host);return this===document?e?null:t:e===this?t:null}}),Ke=window.document,Qe=vt({importNode:function(t,e){if(t.ownerDocument!==Ke||"template"===t.localName)return this.__shady_native_importNode(t,e);var n=this.__shady_native_importNode(t,!1);if(e)for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling)e=this.__shady_importNode(t,!0),n.__shady_appendChild(e);return n}}),Je=vt({dispatchEvent:ce,addEventListener:de.bind(window),removeEventListener:he.bind(window)}),tn={};Object.getOwnPropertyDescriptor(HTMLElement.prototype,"parentElement")&&(tn.parentElement=je.parentElement),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"contains")&&(tn.contains=je.contains),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"children")&&(tn.children=Be.children),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML")&&(tn.innerHTML=Ye.innerHTML),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"className")&&(tn.className=Ue.className);var en={EventTarget:[_e],Node:[je,window.EventTarget?null:_e],Text:[Ie],Comment:[Ie],CDATASection:[Ie],ProcessingInstruction:[Ie],Element:[Ue,Be,Ie,!K.D||"innerHTML"in Element.prototype?Ye:null,window.HTMLSlotElement?null:Ge],HTMLElement:[Xe,tn],HTMLSlotElement:[Ge],DocumentFragment:[Fe,$e],Document:[Qe,Fe,$e,Ze],Window:[Je]},nn=K.D?null:["innerHTML","textContent"];function rn(t,e,n,r){e.forEach((function(e){return t&&e&&pt(t,e,n,r)}))}function on(t){var e,n=t?null:nn;for(e in en)rn(window[e]&&window[e].prototype,en[e],t,n)}function an(t){return t.__shady_protoIsPatched=!0,rn(t,en.EventTarget),rn(t,en.Node),rn(t,en.Element),rn(t,en.HTMLElement),rn(t,en.HTMLSlotElement),t}["Text","Comment","CDATASection","ProcessingInstruction"].forEach((function(t){var e=window[t],n=Object.create(e.prototype);n.__shady_protoIsPatched=!0,rn(n,en.EventTarget),rn(n,en.Node),en[t]&&rn(n,en[t]),e.prototype.__shady_patchedProto=n}));var sn=K.la,ln=K.D;function un(t,e){if(sn&&!t.__shady_protoIsPatched&&!tt(t)){var n=Object.getPrototypeOf(t),r=n.hasOwnProperty("__shady_patchedProto")&&n.__shady_patchedProto;r||(an(r=Object.create(n)),n.__shady_patchedProto=r),Object.setPrototypeOf(t,r)}ln||(1===e?Xt(t):2===e&&Gt(t))}function cn(t,e,n,r){un(t,1),r=r||null;var i=$(t),o=r?$(r):null;i.previousSibling=r?o.previousSibling:e.__shady_lastChild,(o=Z(i.previousSibling))&&(o.nextSibling=t),(o=Z(i.nextSibling=r))&&(o.previousSibling=t),i.parentNode=e,r?r===n.firstChild&&(n.firstChild=t):(n.lastChild=t,n.firstChild||(n.firstChild=t)),n.childNodes=null}function dn(t,e){var n=$(t);if(e||void 0===n.firstChild){n.childNodes=null;var r=n.firstChild=t.__shady_native_firstChild;for(n.lastChild=t.__shady_native_lastChild,un(t,2),n=r,r=void 0;n;n=n.__shady_native_nextSibling){var i=$(n);i.parentNode=e||t,i.nextSibling=n.__shady_native_nextSibling,i.previousSibling=r||null,r=n,un(n,1)}}}var hn=vt({addEventListener:function(t,e,n){"object"!=typeof n&&(n={capture:!!n}),n.O=n.O||this,this.host.__shady_addEventListener(t,e,n)},removeEventListener:function(t,e,n){"object"!=typeof n&&(n={capture:!!n}),n.O=n.O||this,this.host.__shady_removeEventListener(t,e,n)}});function fn(t,e){pt(t,hn,e),pt(t,Ze,e),pt(t,Ye,e),pt(t,Be,e),K.G&&!e?(pt(t,je,e),pt(t,$e,e)):K.D||(pt(t,Ut),pt(t,Vt),pt(t,qt))}var pn,gn={},vn=K.deferConnectionCallbacks&&"loading"===document.readyState;function yn(t){var e=[];do{e.unshift(t)}while(t=t.__shady_parentNode);return e}function mn(t,e,n){if(t!==gn)throw new TypeError("Illegal constructor");this.a=null,bn(this,e,n)}function bn(t,e,n){if(t.host=e,t.mode=n&&n.mode,dn(t.host),(e=$(t.host)).root=t,e.Sa="closed"!==t.mode?t:null,(e=$(t)).firstChild=e.lastChild=e.parentNode=e.nextSibling=e.previousSibling=null,K.preferPerformance)for(;e=t.host.__shady_native_firstChild;)t.host.__shady_native_removeChild(e);else wn(t)}function wn(t){t.R||(t.R=!0,bt((function(){return xn(t)})))}function xn(t){var e;if(e=t.R){for(var n;t;)t.R&&(n=t),tt(t=(e=t).host.__shady_getRootNode())&&(e=Z(e.host))&&0<e.Z||(t=void 0);e=n}(n=e)&&n._renderSelf()}function _n(t,e,n){var r=$(e),i=r.fa;r.fa=null,n||(n=(t=t.b[e.__shady_slot||"__catchall"])&&t[0]),n?($(n).assignedNodes.push(e),r.assignedSlot=n):r.assignedSlot=void 0,i!==r.assignedSlot&&r.assignedSlot&&($(r.assignedSlot).ha=!0)}function En(t,e,n){for(var r=0,i=void 0;r<n.length&&(i=n[r]);r++)if("slot"==i.localName){var o=Z(i).assignedNodes;o&&o.length&&En(t,e,o)}else e.push(n[r])}function Sn(t,e){e.__shady_native_dispatchEvent(new Event("slotchange")),(e=Z(e)).assignedSlot&&Sn(t,e.assignedSlot)}function kn(t){t.c=t.c||[],t.a=t.a||[],t.b=t.b||{}}function On(t){if(t.c&&t.c.length){for(var e,n=t.c,r=0;r<n.length;r++){var i=n[r];dn(i);var o=i.__shady_parentNode;dn(o),(o=Z(o)).Z=(o.Z||0)+1,o=Cn(i),t.b[o]?((e=e||{})[o]=!0,t.b[o].push(i)):t.b[o]=[i],t.a.push(i)}if(e)for(var a in e)t.b[a]=Tn(t.b[a]);t.c=[]}}function Cn(t){var e=t.name||t.getAttribute("name")||"__catchall";return t.Ba=e}function Tn(t){return t.sort((function(t,e){t=yn(t);for(var n=yn(e),r=0;r<t.length;r++){e=t[r];var i=n[r];if(e!==i)return(t=ht(e.__shady_parentNode)).indexOf(e)-t.indexOf(i)}}))}function Pn(t){return On(t),!(!t.a||!t.a.length)}if(mn.prototype._renderSelf=function(){var t=vn;if(vn=!0,this.R=!1,this.a){On(this);for(var e,n=0;n<this.a.length;n++){var r=Z(e=this.a[n]),i=r.assignedNodes;if(r.assignedNodes=[],r.T=[],r.ra=i)for(r=0;r<i.length;r++){var o=Z(i[r]);o.fa=o.assignedSlot,o.assignedSlot===e&&(o.assignedSlot=null)}}for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)_n(this,n);for(n=0;n<this.a.length;n++){if(!(i=Z(e=this.a[n])).assignedNodes.length)for(r=e.__shady_firstChild;r;r=r.__shady_nextSibling)_n(this,r,e);if((r=(r=Z(e.__shady_parentNode))&&r.root)&&(Pn(r)||r.R)&&r._renderSelf(),En(this,i.T,i.assignedNodes),r=i.ra){for(o=0;o<r.length;o++)Z(r[o]).fa=null;i.ra=null,r.length>i.assignedNodes.length&&(i.ha=!0)}i.ha&&(i.ha=!1,Sn(this,e))}for(e=this.a,n=[],i=0;i<e.length;i++)(o=Z(r=e[i].__shady_parentNode))&&o.root||!(0>n.indexOf(r))||n.push(r);for(e=0;e<n.length;e++){for(i=(o=n[e])===this?this.host:o,r=[],o=o.__shady_firstChild;o;o=o.__shady_nextSibling)if("slot"==o.localName)for(var a=Z(o).T,s=0;s<a.length;s++)r.push(a[s]);else r.push(o);o=dt(i),a=we(r,r.length,o,o.length);for(var l=s=0,u=void 0;s<a.length&&(u=a[s]);s++){for(var c=0,d=void 0;c<u.X.length&&(d=u.X[c]);c++)d.__shady_native_parentNode===i&&i.__shady_native_removeChild(d),o.splice(u.index+l,1);l-=u.aa}for(l=0,u=void 0;l<a.length&&(u=a[l]);l++)for(s=o[u.index],c=u.index;c<u.index+u.aa;c++)d=r[c],i.__shady_native_insertBefore(d,s),o.splice(c,0,d)}}if(!K.preferPerformance&&!this.qa)for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)e=Z(n),n.__shady_native_parentNode!==this.host||"slot"!==n.localName&&e.assignedSlot||this.host.__shady_native_removeChild(n);this.qa=!0,vn=t,pn&&pn()},function(t){t.__proto__=DocumentFragment.prototype,fn(t,"__shady_"),fn(t),Object.defineProperties(t,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}}),["localName","namespaceURI","prefix"].forEach((function(e){Object.defineProperty(t,e,{value:void 0,configurable:!0})})),["ownerDocument","baseURI","isConnected"].forEach((function(e){Object.defineProperty(t,e,{get:function(){return this.host[e]},configurable:!0})}))}(mn.prototype),window.customElements&&K.ia&&!K.preferPerformance){var Nn=new Map;pn=function(){var t=[];Nn.forEach((function(e,n){t.push([n,e])})),Nn.clear();for(var e=0;e<t.length;e++){var n=t[e][0];t[e][1]?n.__shadydom_connectedCallback():n.__shadydom_disconnectedCallback()}},vn&&document.addEventListener("readystatechange",(function(){vn=!1,pn()}),{once:!0});var Dn=window.customElements.define,An=function(t,e){var n=e.prototype.connectedCallback,r=e.prototype.disconnectedCallback;Dn.call(window.customElements,t,function(t,e,n){var r=0,i="__isConnected"+r++;return(e||n)&&(t.prototype.connectedCallback=t.prototype.__shadydom_connectedCallback=function(){vn?Nn.set(this,!0):this[i]||(this[i]=!0,e&&e.call(this))},t.prototype.disconnectedCallback=t.prototype.__shadydom_disconnectedCallback=function(){vn?this.isConnected||Nn.set(this,!1):this[i]&&(this[i]=!1,n&&n.call(this))}),t}(e,n,r)),e.prototype.connectedCallback=n,e.prototype.disconnectedCallback=r};window.customElements.define=An,Object.defineProperty(window.CustomElementRegistry.prototype,"define",{value:An,configurable:!0})}function Mn(t){if(tt(t=t.__shady_getRootNode()))return t}function Ln(t){this.node=t}(e=Ln.prototype).addEventListener=function(t,e,n){return this.node.__shady_addEventListener(t,e,n)},e.removeEventListener=function(t,e,n){return this.node.__shady_removeEventListener(t,e,n)},e.appendChild=function(t){return this.node.__shady_appendChild(t)},e.insertBefore=function(t,e){return this.node.__shady_insertBefore(t,e)},e.removeChild=function(t){return this.node.__shady_removeChild(t)},e.replaceChild=function(t,e){return this.node.__shady_replaceChild(t,e)},e.cloneNode=function(t){return this.node.__shady_cloneNode(t)},e.getRootNode=function(t){return this.node.__shady_getRootNode(t)},e.contains=function(t){return this.node.__shady_contains(t)},e.dispatchEvent=function(t){return this.node.__shady_dispatchEvent(t)},e.setAttribute=function(t,e){this.node.__shady_setAttribute(t,e)},e.getAttribute=function(t){return this.node.__shady_native_getAttribute(t)},e.hasAttribute=function(t){return this.node.__shady_native_hasAttribute(t)},e.removeAttribute=function(t){this.node.__shady_removeAttribute(t)},e.attachShadow=function(t){return this.node.__shady_attachShadow(t)},e.focus=function(){this.node.__shady_native_focus()},e.blur=function(){this.node.__shady_blur()},e.importNode=function(t,e){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_importNode(t,e)},e.getElementById=function(t){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_getElementById(t)},e.querySelector=function(t){return this.node.__shady_querySelector(t)},e.querySelectorAll=function(t,e){return this.node.__shady_querySelectorAll(t,e)},e.assignedNodes=function(t){if("slot"===this.node.localName)return this.node.__shady_assignedNodes(t)},o.Object.defineProperties(Ln.prototype,{activeElement:{configurable:!0,enumerable:!0,get:function(){if(tt(this.node)||this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_activeElement}},_activeElement:{configurable:!0,enumerable:!0,get:function(){return this.activeElement}},host:{configurable:!0,enumerable:!0,get:function(){if(tt(this.node))return this.node.host}},parentNode:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentNode}},firstChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstChild}},lastChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastChild}},nextSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextSibling}},previousSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousSibling}},childNodes:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childNodes}},parentElement:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentElement}},firstElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstElementChild}},lastElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastElementChild}},nextElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextElementSibling}},previousElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousElementSibling}},children:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_children}},childElementCount:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childElementCount}},shadowRoot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_shadowRoot}},assignedSlot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_assignedSlot}},isConnected:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_isConnected}},innerHTML:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_innerHTML},set:function(t){this.node.__shady_innerHTML=t}},textContent:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_textContent},set:function(t){this.node.__shady_textContent=t}},slot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_slot},set:function(t){this.node.__shady_slot=t}},className:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_className},set:function(t){return this.node.__shady_className=t}}}),me.forEach((function(t){Object.defineProperty(Ln.prototype,t,{get:function(){return this.node["__shady_"+t]},set:function(e){this.node["__shady_"+t]=e},configurable:!0})}));var jn=new WeakMap;function In(t){if(tt(t)||t instanceof Ln)return t;var e=jn.get(t);return e||(e=new Ln(t),jn.set(t,e)),e}if(K.ia){var Rn=K.D?function(t){return t}:function(t){return Gt(t),Xt(t),t},Bn={inUse:K.ia,patch:Rn,isShadyRoot:tt,enqueue:bt,flush:wt,flushInitial:function(t){!t.qa&&t.R&&xn(t)},settings:K,filterMutations:function(t,e){var n=e.getRootNode();return t.map((function(t){var e=n===t.target.getRootNode();if(e&&t.addedNodes){if((e=Array.from(t.addedNodes).filter((function(t){return n===t.getRootNode()}))).length)return t=Object.create(t),Object.defineProperty(t,"addedNodes",{value:e,configurable:!0}),t}else if(e)return t})).filter((function(t){return t}))},observeChildren:function(t,e){var n=$(t);n.W||(n.W=new xt),n.W.ba.add(e);var r=n.W;return{Ca:e,P:r,Da:t,takeRecords:function(){return r.takeRecords()}}},unobserveChildren:function(t){var e=t&&t.P;e&&(e.ba.delete(t.Ca),e.ba.size||($(t.Da).W=null))},deferConnectionCallbacks:K.deferConnectionCallbacks,preferPerformance:K.preferPerformance,handlesDynamicScoping:!0,wrap:K.G?In:Rn,wrapIfNeeded:!0===K.G?In:function(t){return t},Wrapper:Ln,composedPath:function(t){return t.__composedPath||(t.__composedPath=ne(t.target,!0)),t.__composedPath},noPatch:K.G,patchOnDemand:K.la,nativeMethods:Nt,nativeTree:Dt,patchElementProto:an};window.ShadyDOM=Bn,function(){var t=["dispatchEvent","addEventListener","removeEventListener"];window.EventTarget?Lt(window.EventTarget.prototype,t):(Lt(Node.prototype,t),Lt(Window.prototype,t)),Pt?Lt(Node.prototype,"parentNode firstChild lastChild previousSibling nextSibling childNodes parentElement textContent".split(" ")):Mt(Node.prototype,{parentNode:{get:function(){return jt.currentNode=this,jt.parentNode()}},firstChild:{get:function(){return jt.currentNode=this,jt.firstChild()}},lastChild:{get:function(){return jt.currentNode=this,jt.lastChild()}},previousSibling:{get:function(){return jt.currentNode=this,jt.previousSibling()}},nextSibling:{get:function(){return jt.currentNode=this,jt.nextSibling()}},childNodes:{get:function(){var t=[];jt.currentNode=this;for(var e=jt.firstChild();e;)t.push(e),e=jt.nextSibling();return t}},parentElement:{get:function(){return It.currentNode=this,It.parentNode()}},textContent:{get:function(){switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:for(var t,e=document.createTreeWalker(this,NodeFilter.SHOW_TEXT,null,!1),n="";t=e.nextNode();)n+=t.nodeValue;return n;default:return this.nodeValue}},set:function(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:Bt(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_native_insertBefore(document.createTextNode(t),void 0);break;default:this.nodeValue=t}}}}),Lt(Node.prototype,"appendChild insertBefore removeChild replaceChild cloneNode contains".split(" ")),Lt(HTMLElement.prototype,["parentElement","contains"]),t={firstElementChild:{get:function(){return It.currentNode=this,It.firstChild()}},lastElementChild:{get:function(){return It.currentNode=this,It.lastChild()}},children:{get:function(){var t=[];It.currentNode=this;for(var e=It.firstChild();e;)t.push(e),e=It.nextSibling();return ct(t)}},childElementCount:{get:function(){return this.children?this.children.length:0}}},Pt?(Lt(Element.prototype,zt),Lt(Element.prototype,["previousElementSibling","nextElementSibling","innerHTML","className"]),Lt(HTMLElement.prototype,["children","innerHTML","className"])):(Mt(Element.prototype,t),Mt(Element.prototype,{previousElementSibling:{get:function(){return It.currentNode=this,It.previousSibling()}},nextElementSibling:{get:function(){return It.currentNode=this,It.nextSibling()}},innerHTML:{get:function(){return Tt(this,dt)},set:function(t){var e="template"===this.localName?this.content:this;Bt(e);var n=this.localName||"div";for((n=this.namespaceURI&&this.namespaceURI!==Rt.namespaceURI?Rt.createElementNS(this.namespaceURI,n):Rt.createElement(n)).innerHTML=t,t="template"===this.localName?n.content:n;n=t.__shady_native_firstChild;)e.__shady_native_insertBefore(n,void 0)}},className:{get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)}}})),Lt(Element.prototype,"setAttribute getAttribute hasAttribute removeAttribute focus blur".split(" ")),Lt(Element.prototype,Ft),Lt(HTMLElement.prototype,["focus","blur"]),window.HTMLTemplateElement&&Lt(window.HTMLTemplateElement.prototype,["innerHTML"]),Pt?Lt(DocumentFragment.prototype,zt):Mt(DocumentFragment.prototype,t),Lt(DocumentFragment.prototype,Ft),Pt?(Lt(Document.prototype,zt),Lt(Document.prototype,["activeElement"])):Mt(Document.prototype,t),Lt(Document.prototype,["importNode","getElementById"]),Lt(Document.prototype,Ft)}(),on("__shady_"),Object.defineProperty(document,"_activeElement",Ze.activeElement),pt(Window.prototype,Je,"__shady_"),K.G?K.la&&pt(Element.prototype,He):(on(),function(){if(!Zt&&Object.getOwnPropertyDescriptor(Event.prototype,"isTrusted")){var t=function(){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.__shady_dispatchEvent(t)};Element.prototype.click?Element.prototype.click=t:HTMLElement.prototype.click&&(HTMLElement.prototype.click=t)}}()),function(){for(var t in oe)window.__shady_native_addEventListener(t,(function(t){t.__target||(pe(t),le(t))}),!0)}(),window.Event=ge,window.CustomEvent=ve,window.MouseEvent=ye,window.ShadowRoot=mn}var zn=window.Document.prototype.createElement,Fn=window.Document.prototype.createElementNS,Vn=window.Document.prototype.importNode,qn=window.Document.prototype.prepend,Un=window.Document.prototype.append,Hn=window.DocumentFragment.prototype.prepend,Wn=window.DocumentFragment.prototype.append,Yn=window.Node.prototype.cloneNode,Xn=window.Node.prototype.appendChild,Gn=window.Node.prototype.insertBefore,$n=window.Node.prototype.removeChild,Zn=window.Node.prototype.replaceChild,Kn=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),Qn=window.Element.prototype.attachShadow,Jn=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),tr=window.Element.prototype.getAttribute,er=window.Element.prototype.setAttribute,nr=window.Element.prototype.removeAttribute,rr=window.Element.prototype.getAttributeNS,ir=window.Element.prototype.setAttributeNS,or=window.Element.prototype.removeAttributeNS,ar=window.Element.prototype.insertAdjacentElement,sr=window.Element.prototype.insertAdjacentHTML,lr=window.Element.prototype.prepend,ur=window.Element.prototype.append,cr=window.Element.prototype.before,dr=window.Element.prototype.after,hr=window.Element.prototype.replaceWith,fr=window.Element.prototype.remove,pr=window.HTMLElement,gr=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),vr=window.HTMLElement.prototype.insertAdjacentElement,yr=window.HTMLElement.prototype.insertAdjacentHTML,mr=new Set;function br(t){var e=mr.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!e&&t}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(t){return mr.add(t)}));var wr=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function xr(t){var e=t.isConnected;if(void 0!==e)return e;if(wr(t))return!0;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function _r(t){var e=t.children;if(e)return Array.prototype.slice.call(e);for(e=[],t=t.firstChild;t;t=t.nextSibling)t.nodeType===Node.ELEMENT_NODE&&e.push(t);return e}function Er(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function Sr(t,e,n){t[e]=n}function kr(t){var e=document;this.b=t,this.a=e,this.P=void 0,zr(this.b,this.a),"loading"===this.a.readyState&&(this.P=new MutationObserver(this.c.bind(this)),this.P.observe(this.a,{childList:!0,subtree:!0}))}function Or(t){t.P&&t.P.disconnect()}function Cr(){var t=this;this.a=this.w=void 0,this.b=new Promise((function(e){t.a=e,t.w&&e(t.w)}))}function Tr(t){this.f=new Map,this.u=new Map,this.ta=new Map,this.U=!1,this.b=t,this.ja=new Map,this.c=function(t){return t()},this.a=!1,this.F=[],this.va=t.f?new kr(t):void 0}function Pr(t,e){if(!br(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(Ar(t,e))throw Error("A custom element with name '"+e+"' has already been defined.");if(t.U)throw Error("A custom element is already being defined.")}function Nr(t,e,n){var r;t.U=!0;try{var i=function(t){var e=o[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},o=n.prototype;if(!(o instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var a=i("connectedCallback"),s=i("disconnectedCallback"),l=i("adoptedCallback"),u=(r=i("attributeChangedCallback"))&&n.observedAttributes||[]}catch(t){throw t}finally{t.U=!1}return n={localName:e,constructorFunction:n,connectedCallback:a,disconnectedCallback:s,adoptedCallback:l,attributeChangedCallback:r,observedAttributes:u,constructionStack:[]},t.u.set(e,n),t.ta.set(n.constructorFunction,n),n}function Dr(t){if(!1!==t.a){t.a=!1;for(var e=[],n=t.F,r=new Map,i=0;i<n.length;i++)r.set(n[i],[]);for(zr(t.b,document,{upgrade:function(n){if(void 0===n.__CE_state){var i=n.localName,o=r.get(i);o?o.push(n):t.u.has(i)&&e.push(n)}}}),i=0;i<e.length;i++)Fr(t.b,e[i]);for(i=0;i<n.length;i++){for(var o=n[i],a=r.get(o),s=0;s<a.length;s++)Fr(t.b,a[s]);(o=t.ja.get(o))&&o.resolve(void 0)}n.length=0}}function Ar(t,e){var n=t.u.get(e);if(n)return n;if(n=t.f.get(e)){t.f.delete(e);try{return Nr(t,e,n())}catch(t){qr(t)}}}function Mr(){var t=Yr&&Yr.noDocumentConstructionObserver,e=Yr&&Yr.shadyDomFastWalk;this.b=[],this.c=[],this.a=!1,this.shadyDomFastWalk=e,this.f=!t}function Lr(t,e,n,r){var i=window.ShadyDOM;if(t.shadyDomFastWalk&&i&&i.inUse){if(e.nodeType===Node.ELEMENT_NODE&&n(e),e.querySelectorAll)for(t=i.nativeMethods.querySelectorAll.call(e,"*"),e=0;e<t.length;e++)n(t[e])}else!function t(e,n,r){for(var i=e;i;){if(i.nodeType===Node.ELEMENT_NODE){var o=i;n(o);var a=o.localName;if("link"===a&&"import"===o.getAttribute("rel")){if(i=o.import,void 0===r&&(r=new Set),i instanceof Node&&!r.has(i))for(r.add(i),i=i.firstChild;i;i=i.nextSibling)t(i,n,r);i=Er(e,o);continue}if("template"===a){i=Er(e,o);continue}if(o=o.__CE_shadowRoot)for(o=o.firstChild;o;o=o.nextSibling)t(o,n,r)}i=i.firstChild?i.firstChild:Er(e,i)}}(e,n,r)}function jr(t,e){t.a&&Lr(t,e,(function(e){return Ir(t,e)}))}function Ir(t,e){if(t.a&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.b.length;n++)t.b[n](e);for(n=0;n<t.c.length;n++)t.c[n](e)}}function Rr(t,e){var n=[];for(Lr(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state?t.connectedCallback(r):Fr(t,r)}}function Br(t,e){var n=[];for(Lr(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state&&t.disconnectedCallback(r)}}function zr(t,e,n){var r=(n=void 0===n?{}:n).Za,i=n.upgrade||function(e){return Fr(t,e)},o=[];for(Lr(t,e,(function(e){if(t.a&&Ir(t,e),"link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:e.addEventListener("load",(function(){var n=e.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var o=new Set;r&&(r.forEach((function(t){return o.add(t)})),o.delete(n)),zr(t,n,{Za:o,upgrade:i})}}))}else o.push(e)}),r),e=0;e<o.length;e++)i(o[e])}function Fr(t,e){try{var n=e.ownerDocument,r=n.__CE_registry,i=r&&(n.defaultView||n.__CE_isImportDocument)?Ar(r,e.localName):void 0;if(i&&void 0===e.__CE_state){i.constructionStack.push(e);try{try{if(new i.constructorFunction!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{i.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=i,i.attributeChangedCallback&&e.hasAttributes()){var o=i.observedAttributes;for(i=0;i<o.length;i++){var a=o[i],s=e.getAttribute(a);null!==s&&t.attributeChangedCallback(e,a,null,s,null)}}xr(e)&&t.connectedCallback(e)}}catch(t){qr(t)}}function Vr(t,e,n,r){var i=e.__CE_registry;if(i&&(null===r||"http://www.w3.org/1999/xhtml"===r)&&(i=Ar(i,n)))try{var o=new i.constructorFunction;if(void 0===o.__CE_state||void 0===o.__CE_definition)throw Error("Failed to construct '"+n+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==o.namespaceURI)throw Error("Failed to construct '"+n+"': The constructed element's namespace must be the HTML namespace.");if(o.hasAttributes())throw Error("Failed to construct '"+n+"': The constructed element must not have any attributes.");if(null!==o.firstChild)throw Error("Failed to construct '"+n+"': The constructed element must not have any children.");if(null!==o.parentNode)throw Error("Failed to construct '"+n+"': The constructed element must not have a parent node.");if(o.ownerDocument!==e)throw Error("Failed to construct '"+n+"': The constructed element's owner document is incorrect.");if(o.localName!==n)throw Error("Failed to construct '"+n+"': The constructed element's local name is incorrect.");return o}catch(i){return qr(i),e=null===r?zn.call(e,n):Fn.call(e,r,n),Object.setPrototypeOf(e,HTMLUnknownElement.prototype),e.__CE_state=2,e.__CE_definition=void 0,Ir(t,e),e}return Ir(t,e=null===r?zn.call(e,n):Fn.call(e,r,n)),e}function qr(t){var e=t.message,n=t.sourceURL||t.fileName||"",r=t.line||t.lineNumber||0,i=t.column||t.columnNumber||0,o=void 0;void 0===ErrorEvent.prototype.initErrorEvent?o=new ErrorEvent("error",{cancelable:!0,message:e,filename:n,lineno:r,colno:i,error:t}):((o=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,e,n,r),o.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===o.error&&Object.defineProperty(o,"error",{configurable:!0,enumerable:!0,get:function(){return t}}),window.dispatchEvent(o),o.defaultPrevented||console.error(t)}kr.prototype.c=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||Or(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,r=0;r<n.length;r++)zr(this.b,n[r])},Cr.prototype.resolve=function(t){if(this.w)throw Error("Already resolved.");this.w=t,this.a&&this.a(t)},(e=Tr.prototype).Qa=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");Pr(this,t),this.f.set(t,e),this.F.push(t),this.a||(this.a=!0,this.c((function(){return Dr(n)})))},e.define=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");Pr(this,t),Nr(this,t,e),this.F.push(t),this.a||(this.a=!0,this.c((function(){return Dr(n)})))},e.upgrade=function(t){zr(this.b,t)},e.get=function(t){if(t=Ar(this,t))return t.constructorFunction},e.whenDefined=function(t){if(!br(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.ja.get(t);if(e)return e.b;e=new Cr,this.ja.set(t,e);var n=this.u.has(t)||this.f.has(t);return t=-1===this.F.indexOf(t),n&&t&&e.resolve(void 0),e.b},e.polyfillWrapFlushCallback=function(t){this.va&&Or(this.va);var e=this.c;this.c=function(n){return t((function(){return e(n)}))}},window.CustomElementRegistry=Tr,Tr.prototype.define=Tr.prototype.define,Tr.prototype.upgrade=Tr.prototype.upgrade,Tr.prototype.get=Tr.prototype.get,Tr.prototype.whenDefined=Tr.prototype.whenDefined,Tr.prototype.polyfillDefineLazy=Tr.prototype.Qa,Tr.prototype.polyfillWrapFlushCallback=Tr.prototype.polyfillWrapFlushCallback,Mr.prototype.connectedCallback=function(t){var e=t.__CE_definition;if(e.connectedCallback)try{e.connectedCallback.call(t)}catch(t){qr(t)}},Mr.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;if(e.disconnectedCallback)try{e.disconnectedCallback.call(t)}catch(t){qr(t)}},Mr.prototype.attributeChangedCallback=function(t,e,n,r,i){var o=t.__CE_definition;if(o.attributeChangedCallback&&-1<o.observedAttributes.indexOf(e))try{o.attributeChangedCallback.call(t,e,n,r,i)}catch(t){qr(t)}};var Ur=new function(){};function Hr(t,e,n){function r(e){return function(n){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];i=[];for(var o=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&xr(s)&&o.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(e.apply(this,r),r=0;r<o.length;r++)Br(t,o[r]);if(xr(this))for(r=0;r<i.length;r++)(o=i[r])instanceof Element&&Rr(t,o)}}void 0!==n.prepend&&Sr(e,"prepend",r(n.prepend)),void 0!==n.append&&Sr(e,"append",r(n.append))}function Wr(t){function e(e,n){Object.defineProperty(e,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){var r=this,i=void 0;if(xr(this)&&(i=[],Lr(t,this,(function(t){t!==r&&i.push(t)}))),n.set.call(this,e),i)for(var o=0;o<i.length;o++){var a=i[o];1===a.__CE_state&&t.disconnectedCallback(a)}return this.ownerDocument.__CE_registry?zr(t,this):jr(t,this),e}})}function n(e,n){Sr(e,"insertAdjacentElement",(function(e,r){var i=xr(r);return e=n.call(this,e,r),i&&Br(t,r),xr(e)&&Rr(t,r),e}))}function r(e,n){function r(e,n){for(var r=[];e!==n;e=e.nextSibling)r.push(e);for(n=0;n<r.length;n++)zr(t,r[n])}Sr(e,"insertAdjacentHTML",(function(t,e){if("beforebegin"===(t=t.toLowerCase())){var i=this.previousSibling;n.call(this,t,e),r(i||this.parentNode.firstChild,this)}else if("afterbegin"===t)i=this.firstChild,n.call(this,t,e),r(this.firstChild,i);else if("beforeend"===t)i=this.lastChild,n.call(this,t,e),r(i||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");i=this.nextSibling,n.call(this,t,e),r(this.nextSibling,i)}}))}Qn&&Sr(Element.prototype,"attachShadow",(function(e){if(e=Qn.call(this,e),t.a&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.b.length;n++)t.b[n](e)}return this.__CE_shadowRoot=e})),Jn&&Jn.get?e(Element.prototype,Jn):gr&&gr.get?e(HTMLElement.prototype,gr):function(t,e){t.a=!0,t.c.push(e)}(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return Yn.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName,n=e?this.content:this,r=Fn.call(document,this.namespaceURI,this.localName);for(r.innerHTML=t;0<n.childNodes.length;)$n.call(n,n.childNodes[0]);for(t=e?r.content:r;0<t.childNodes.length;)Xn.call(n,t.childNodes[0])}})})),Sr(Element.prototype,"setAttribute",(function(e,n){if(1!==this.__CE_state)return er.call(this,e,n);var r=tr.call(this,e);er.call(this,e,n),n=tr.call(this,e),t.attributeChangedCallback(this,e,r,n,null)})),Sr(Element.prototype,"setAttributeNS",(function(e,n,r){if(1!==this.__CE_state)return ir.call(this,e,n,r);var i=rr.call(this,e,n);ir.call(this,e,n,r),r=rr.call(this,e,n),t.attributeChangedCallback(this,n,i,r,e)})),Sr(Element.prototype,"removeAttribute",(function(e){if(1!==this.__CE_state)return nr.call(this,e);var n=tr.call(this,e);nr.call(this,e),null!==n&&t.attributeChangedCallback(this,e,n,null,null)})),Sr(Element.prototype,"removeAttributeNS",(function(e,n){if(1!==this.__CE_state)return or.call(this,e,n);var r=rr.call(this,e,n);or.call(this,e,n);var i=rr.call(this,e,n);r!==i&&t.attributeChangedCallback(this,n,r,i,e)})),vr?n(HTMLElement.prototype,vr):ar&&n(Element.prototype,ar),yr?r(HTMLElement.prototype,yr):sr&&r(Element.prototype,sr),Hr(t,Element.prototype,{prepend:lr,append:ur}),function(t){function e(e){return function(n){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];i=[];for(var o=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&xr(s)&&o.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(e.apply(this,r),r=0;r<o.length;r++)Br(t,o[r]);if(xr(this))for(r=0;r<i.length;r++)(o=i[r])instanceof Element&&Rr(t,o)}}var n=Element.prototype;void 0!==cr&&Sr(n,"before",e(cr)),void 0!==dr&&Sr(n,"after",e(dr)),void 0!==hr&&Sr(n,"replaceWith",(function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var i=[],o=0;o<n.length;o++){var a=n[o];if(a instanceof Element&&xr(a)&&i.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)r.push(a);else r.push(a)}for(o=xr(this),hr.apply(this,n),n=0;n<i.length;n++)Br(t,i[n]);if(o)for(Br(t,this),n=0;n<r.length;n++)(i=r[n])instanceof Element&&Rr(t,i)})),void 0!==fr&&Sr(n,"remove",(function(){var e=xr(this);fr.call(this),e&&Br(t,this)}))}(t)}var Yr=window.customElements;function Xr(){var t=new Mr;!function(t){window.HTMLElement=function(){function e(){var e=this.constructor,n=document.__CE_registry.ta.get(e);if(!n)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var r=n.constructionStack;if(0===r.length)return r=zn.call(document,n.localName),Object.setPrototypeOf(r,e.prototype),r.__CE_state=1,r.__CE_definition=n,Ir(t,r),r;var i=r.length-1,o=r[i];if(o===Ur)throw Error("Failed to construct '"+n.localName+"': This element was already constructed.");return r[i]=Ur,Object.setPrototypeOf(o,e.prototype),Ir(t,o),o}return e.prototype=pr.prototype,Object.defineProperty(e.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:e}),e}()}(t),function(t){Sr(Document.prototype,"createElement",(function(e){return Vr(t,this,e,null)})),Sr(Document.prototype,"importNode",(function(e,n){return e=Vn.call(this,e,!!n),this.__CE_registry?zr(t,e):jr(t,e),e})),Sr(Document.prototype,"createElementNS",(function(e,n){return Vr(t,this,n,e)})),Hr(t,Document.prototype,{prepend:qn,append:Un})}(t),Hr(t,DocumentFragment.prototype,{prepend:Hn,append:Wn}),function(t){function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e);else{var r=void 0;if(this.firstChild){var i=this.childNodes,o=i.length;if(0<o&&xr(this)){r=Array(o);for(var a=0;a<o;a++)r[a]=i[a]}}if(n.set.call(this,e),r)for(e=0;e<r.length;e++)Br(t,r[e])}}})}Sr(Node.prototype,"insertBefore",(function(e,n){if(e instanceof DocumentFragment){var r=_r(e);if(e=Gn.call(this,e,n),xr(this))for(n=0;n<r.length;n++)Rr(t,r[n]);return e}return r=e instanceof Element&&xr(e),n=Gn.call(this,e,n),r&&Br(t,e),xr(this)&&Rr(t,e),n})),Sr(Node.prototype,"appendChild",(function(e){if(e instanceof DocumentFragment){var n=_r(e);if(e=Xn.call(this,e),xr(this))for(var r=0;r<n.length;r++)Rr(t,n[r]);return e}return n=e instanceof Element&&xr(e),r=Xn.call(this,e),n&&Br(t,e),xr(this)&&Rr(t,e),r})),Sr(Node.prototype,"cloneNode",(function(e){return e=Yn.call(this,!!e),this.ownerDocument.__CE_registry?zr(t,e):jr(t,e),e})),Sr(Node.prototype,"removeChild",(function(e){var n=e instanceof Element&&xr(e),r=$n.call(this,e);return n&&Br(t,e),r})),Sr(Node.prototype,"replaceChild",(function(e,n){if(e instanceof DocumentFragment){var r=_r(e);if(e=Zn.call(this,e,n),xr(this))for(Br(t,n),n=0;n<r.length;n++)Rr(t,r[n]);return e}r=e instanceof Element&&xr(e);var i=Zn.call(this,e,n),o=xr(this);return o&&Br(t,n),r&&Br(t,e),o&&Rr(t,e),i})),Kn&&Kn.get?e(Node.prototype,Kn):function(t,e){t.a=!0,t.b.push(e)}(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=this.firstChild;e;e=e.nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.textContent);return t.join("")},set:function(t){for(;this.firstChild;)$n.call(this,this.firstChild);null!=t&&""!==t&&Xn.call(this,document.createTextNode(t))}})}))}(t),Wr(t),t=new Tr(t),document.__CE_registry=t,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:t})}function Gr(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function $r(t){var e=t=t.replace(ni,"").replace(ri,""),n=new Gr;n.start=0,n.end=e.length;for(var r=n,i=0,o=e.length;i<o;i++)if("{"===e[i]){r.rules||(r.rules=[]);var a=r,s=a.rules[a.rules.length-1]||null;(r=new Gr).start=i+1,r.parent=a,r.previous=s,a.rules.push(r)}else"}"===e[i]&&(r.end=i+1,r=r.parent||n);return function t(e,n){var r=n.substring(e.start,e.end-1);if(e.parsedCssText=e.cssText=r.trim(),e.parent&&(r=(r=(r=function(t){return t.replace(/\\([0-9a-f]{1,6})\s/gi,(function(t,e){for(e=6-(t=e).length;e--;)t="0"+t;return"\\"+t}))}(r=n.substring(e.previous?e.previous.end:e.parent.start,e.start-1))).replace(ui," ")).substring(r.lastIndexOf(";")+1),r=e.parsedSelector=e.selector=r.trim(),e.atRule=0===r.indexOf("@"),e.atRule?0===r.indexOf("@media")?e.type=ti:r.match(li)&&(e.type=Jr,e.keyframesName=e.selector.split(ui).pop()):e.type=0===r.indexOf("--")?ei:Qr),r=e.rules)for(var i=0,o=r.length,a=void 0;i<o&&(a=r[i]);i++)t(a,n);return e}(n,t)}Yr&&!Yr.forcePolyfill&&"function"==typeof Yr.define&&"function"==typeof Yr.get||Xr(),window.__CE_installPolyfill=Xr;var Zr,Kr,Qr=1,Jr=7,ti=4,ei=1e3,ni=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,ri=/@import[^;]*;/gim,ii=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,oi=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,ai=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,si=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,li=/^@[^\s]*keyframes/,ui=/\s+/g,ci=!(window.ShadyDOM&&window.ShadyDOM.inUse);function di(t){Zr=(!t||!t.shimcssproperties)&&(ci||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(Kr=window.ShadyCSS.cssBuild);var hi=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?Zr=window.ShadyCSS.nativeCss:window.ShadyCSS?(di(window.ShadyCSS),window.ShadyCSS=void 0):di(window.WebComponents&&window.WebComponents.flags);var fi=Zr,pi=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,gi=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,vi=/(--[\w-]+)\s*([:,;)]|$)/gi,yi=/(animation\s*:)|(animation-name\s*:)/,mi=/@media\s(.*)/,bi=/\{[^}]*\}/g,wi=new Set;function xi(t,e){return t?("string"==typeof t&&(t=$r(t)),e&&Si(t,e),function t(e,n,r){r=void 0===r?"":r;var i="";if(e.cssText||e.rules){var o,a=e.rules;if((o=a)&&(o=!((o=a[0])&&o.selector&&0===o.selector.indexOf("--"))),o){o=0;for(var s=a.length,l=void 0;o<s&&(l=a[o]);o++)i=t(l,n,i)}else n?n=e.cssText:n=(n=(n=e.cssText).replace(ii,"").replace(oi,"")).replace(ai,"").replace(si,""),(i=n.trim())&&(i="  "+i+"\n")}return i&&(e.selector&&(r+=e.selector+" {\n"),r+=i,e.selector&&(r+="}\n\n")),r}(t,fi)):""}function _i(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=$r(t.textContent)),t.__cssRules||null}function Ei(t){return!!t.parent&&t.parent.type===Jr}function Si(t,e,n,r){if(t){var i=!1,o=t.type;if(r&&o===ti){var a=t.selector.match(mi);a&&(window.matchMedia(a[1]).matches||(i=!0))}if(o===Qr?e(t):n&&o===Jr?n(t):o===ei&&(i=!0),(t=t.rules)&&!i)for(i=0,o=t.length,a=void 0;i<o&&(a=t[i]);i++)Si(a,e,n,r)}}function ki(t,e,n,r){var i=document.createElement("style");return e&&i.setAttribute("scope",e),i.textContent=t,Ti(i,n,r),i}var Oi=null;function Ci(t){t=document.createComment(" Shady DOM styles for "+t+" ");var e=document.head;return e.insertBefore(t,(Oi?Oi.nextSibling:null)||e.firstChild),Oi=t}function Ti(t,e,n){(e=e||document.head).insertBefore(t,n&&n.nextSibling||e.firstChild),Oi?t.compareDocumentPosition(Oi)===Node.DOCUMENT_POSITION_PRECEDING&&(Oi=t):Oi=t}function Pi(t,e){for(var n=0,r=t.length;e<r;e++)if("("===t[e])n++;else if(")"===t[e]&&0==--n)return e;return-1}function Ni(t,e){ci?t.setAttribute("class",e):window.ShadyDOM.nativeMethods.setAttribute.call(t,"class",e)}var Di=window.ShadyDOM&&window.ShadyDOM.wrap||function(t){return t};function Ai(t){var e=t.localName,n="";return e?-1<e.indexOf("-")||(n=e,e=t.getAttribute&&t.getAttribute("is")||""):(e=t.is,n=t.extends),{is:e,Y:n}}function Mi(t){for(var e=[],n="",r=0;0<=r&&r<t.length;r++)if("("===t[r]){var i=Pi(t,r);n+=t.slice(r,i+1),r=i}else","===t[r]?(e.push(n),n=""):n+=t[r];return n&&e.push(n),e}function Li(t){if(void 0!==Kr)return Kr;if(void 0===t.__cssBuild){var e=t.getAttribute("css-build");if(e)t.__cssBuild=e;else{if(""!==(e=(e="template"===t.localName?t.content.firstChild:t.firstChild)instanceof Comment&&"css-build"===(e=e.textContent.trim().split(":"))[0]?e[1]:"")){var n="template"===t.localName?t.content.firstChild:t.firstChild;n.parentNode.removeChild(n)}t.__cssBuild=e}}return t.__cssBuild||""}function ji(t){return!(""===(t=void 0===t?"":t)||!fi)&&(ci?"shadow"===t:"shady"===t)}function Ii(){}function Ri(t,e,n){var r;if(e.nodeType===Node.ELEMENT_NODE&&n(e),r="template"===e.localName?(e.content||e._content||e).childNodes:e.children||e.childNodes)for(e=0;e<r.length;e++)Ri(t,r[e],n)}function Bi(t,e,n){if(e)if(t.classList)n?(t.classList.remove("style-scope"),t.classList.remove(e)):(t.classList.add("style-scope"),t.classList.add(e));else if(t.getAttribute){var r=t.getAttribute("class");n?r&&Ni(t,e=r.replace("style-scope","").replace(e,"")):Ni(t,(r?r+" ":"")+"style-scope "+e)}}function zi(t,e,n){Ri(eo,t,(function(t){Bi(t,e,!0),Bi(t,n)}))}function Fi(t,e){Ri(eo,t,(function(t){Bi(t,e||"",!0)}))}function Vi(t,e,n,r,i){var o=eo;return""===(i=void 0===i?"":i)&&(ci||"shady"===(void 0===r?"":r)?i=xi(e,n):i=function(t,e,n,r,i){var o=qi(n,r);return n=n?"."+n:"",xi(e,(function(e){e.c||(e.selector=e.B=Ui(t,e,t.b,n,o),e.c=!0),i&&i(e,n,o)}))}(o,e,(t=Ai(t)).is,t.Y,n)+"\n\n"),i.trim()}function qi(t,e){return e?"[is="+t+"]":t}function Ui(t,e,n,r,i){var o=Mi(e.selector);if(!Ei(e)){e=0;for(var a=o.length,s=void 0;e<a&&(s=o[e]);e++)o[e]=n.call(t,s,r,i)}return o.filter((function(t){return!!t})).join(",")}function Hi(t){return t.replace(Xi,(function(t,e,n){return-1<n.indexOf("+")?n=n.replace(/\+/g,"___"):-1<n.indexOf("___")&&(n=n.replace(/___/g,"+")),":"+e+"("+n+")"}))}function Wi(t,e){t=t.split(/(\[.+?\])/);for(var n=[],r=0;r<t.length;r++)if(1==r%2)n.push(t[r]);else{var i=t[r];""===i&&r===t.length-1||((i=i.split(":"))[0]+=e,n.push(i.join(":")))}return n.join("")}function Yi(t){":root"===t.selector&&(t.selector="html")}Ii.prototype.b=function(t,e,n){var r=!1;t=t.trim();var i=Xi.test(t);i&&(t=Hi(t=t.replace(Xi,(function(t,e,n){return":"+e+"("+n.replace(/\s/g,"")+")"}))));var o=to.test(t);if(o){var a=function(t){for(var e,n=[];e=t.match(to);){var r=e.index,i=Pi(t,r);if(-1===i)throw Error(e.input+" selector missing ')'");e=t.slice(r,i+1),t=t.replace(e,"î"),n.push(e)}return{oa:t,matches:n}}(t);t=a.oa,a=a.matches}return t=(t=t.replace(Zi,":host $1")).replace(Gi,(function(t,i,o){return r||(t=function(t,e,n,r){var i=t.indexOf("::slotted");if(0<=t.indexOf(":host")?t=function(t,e){var n=t.match(Ki);return(n=n&&n[2].trim()||"")?n[0].match($i)?t.replace(Ki,(function(t,n,r){return e+r})):n.split($i)[0]===e?n:"should_not_match":t.replace(":host",e)}(t,r):0!==i&&(t=n?Wi(t,n):t),n=!1,0<=i&&(e="",n=!0),n){var o=!0;n&&(t=t.replace(Qi,(function(t,e){return" > "+e})))}return{value:t,Ga:e,stop:o}}(o,i,e,n),r=r||t.stop,i=t.Ga,o=t.value),i+o})),o&&(t=function(t,e){var n=t.split("î");return e.reduce((function(t,e,r){return t+e+n[r+1]}),n[0])}(t,a)),i&&(t=Hi(t)),t.replace(Ji,(function(t,e,n,r){return'[dir="'+n+'"] '+e+r+", "+e+'[dir="'+n+'"]'+r}))},Ii.prototype.c=function(t){return t.match(":host")?"":t.match("::slotted")?this.b(t,":not(.style-scope)"):Wi(t.trim(),":not(.style-scope)")},o.Object.defineProperties(Ii.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var Xi=/:(nth[-\w]+)\(([^)]+)\)/,Gi=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,$i=/[[.:#*]/,Zi=/^(::slotted)/,Ki=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,Qi=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,Ji=/(.*):dir\((?:(ltr|rtl))\)(.*)/,to=/:(?:matches|any|-(?:webkit|moz)-any)/,eo=new Ii;function no(t,e,n,r,i){this.J=t||null,this.b=e||null,this.ka=n||[],this.H=null,this.cssBuild=i||"",this.Y=r||"",this.a=this.I=this.M=null}function ro(t){return t?t.__styleInfo:null}function io(t,e){return t.__styleInfo=e}function oo(t){var e=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return e&&e.call(this,t)}no.prototype.c=function(){return this.J},no.prototype._getStyleRules=no.prototype.c;var ao=/:host\s*>\s*/,so=navigator.userAgent.match("Trident");function lo(){}function uo(t){if(!t.A){var e={},n={};co(t,n)&&(e.L=n,t.rules=null),e.cssText=t.parsedCssText.replace(bi,"").replace(pi,""),t.A=e}}function co(t,e){var n=t.A;if(!n){n=t.parsedCssText;for(var r;t=pi.exec(n);)"inherit"===(r=(t[2]||t[3]).trim())&&"unset"===r||(e[t[1].trim()]=r),r=!0;return r}if(n.L)return Object.assign(e,n.L),!0}function ho(t,e,n){return e&&(e=0<=e.indexOf(";")?fo(t,e,n):function t(e,n){var r=e.indexOf("var(");if(-1===r)return n(e,"","","");var i=Pi(e,r+3),o=e.substring(r+4,i);return r=e.substring(0,r),e=t(e.substring(i+1),n),-1===(i=o.indexOf(","))?n(r,o.trim(),"",e):n(r,o.substring(0,i).trim(),o.substring(i+1).trim(),e)}(e,(function(e,r,i,o){return r?((r=ho(t,n[r],n))&&"initial"!==r?"apply-shim-inherit"===r&&(r="inherit"):r=ho(t,n[i]||i,n)||i,e+(r||"")+o):e+o}))),e&&e.trim()||""}function fo(t,e,n){e=e.split(";");for(var r,i,o=0;o<e.length;o++)if(r=e[o]){if(gi.lastIndex=0,i=gi.exec(r))r=ho(t,n[i[1]],n);else if(-1!==(i=r.indexOf(":"))){var a=r.substring(i);a=ho(t,a=a.trim(),n)||a,r=r.substring(0,i)+a}e[o]=r&&r.lastIndexOf(";")===r.length-1?r.slice(0,-1):r||""}return e.join(";")}function po(t,e,n){var r={},i={};return Si(e,(function(e){!function(t,e,n,r){if(e.A||uo(e),e.A.L){var i=Ai(t);t=i.is,i=i.Y,i=t?qi(t,i):"html";var o=e.parsedSelector,a=!!o.match(ao)||"html"===i&&-1<o.indexOf("html"),s=0===o.indexOf(":host")&&!a;"shady"===n&&(s=!(a=o===i+" > *."+i||-1!==o.indexOf("html"))&&0===o.indexOf(i)),(a||s)&&(n=i,s&&(e.B||(e.B=Ui(eo,e,eo.b,t?"."+t:"",i)),n=e.B||i),a&&"html"===i&&(n=e.B||e.u),r({oa:n,Na:s,ab:a}))}}(t,e,n,(function(n){oo.call(t._element||t,n.oa)&&(n.Na?co(e,r):co(e,i))}))}),null,!0),{Ta:i,La:r}}function go(t,e,n,r){var i=Ai(e),o=qi(i.is,i.Y),a=new RegExp("(?:^|[^.#[:])"+(e.extends?"\\"+o.slice(0,-1)+"\\]":o)+"($|[.:[\\s>+~])"),s=ro(e);i=s.J,s=s.cssBuild;var l=function(t,e){t=t.b;var n={};if(!ci&&t)for(var r=0,i=t[r];r<t.length;i=t[++r]){var o=i,a=e;o.f=new RegExp("\\b"+o.keyframesName+"(?!\\B|-)","g"),o.a=o.keyframesName+"-"+a,o.B=o.B||o.selector,o.selector=o.B.replace(o.keyframesName,o.a),n[i.keyframesName]=vo(i)}return n}(i,r);return Vi(e,i,(function(e){var i="";if(e.A||uo(e),e.A.cssText&&(i=fo(t,e.A.cssText,n)),e.cssText=i,!ci&&!Ei(e)&&e.cssText){var s=i=e.cssText;if(null==e.sa&&(e.sa=yi.test(i)),e.sa)if(null==e.ca)for(var u in e.ca=[],l)i!==(s=(s=l[u])(i))&&(i=s,e.ca.push(u));else{for(u=0;u<e.ca.length;++u)i=(s=l[e.ca[u]])(i);s=i}e.cssText=s,e.B=e.B||e.selector,i="."+r,s=0;for(var c=(u=Mi(e.B)).length,d=void 0;s<c&&(d=u[s]);s++)u[s]=d.match(a)?d.replace(o,i):i+" "+d;e.selector=u.join(",")}}),s)}function vo(t){return function(e){return e.replace(t.f,t.a)}}function yo(t,e){var n=mo,r=_i(t);t.textContent=xi(r,(function(t){var r=t.cssText=t.parsedCssText;t.A&&t.A.cssText&&(r=r.replace(ii,"").replace(oi,""),t.cssText=fo(n,r,e))}))}o.Object.defineProperties(lo.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var mo=new lo,bo={},wo=window.customElements;if(wo&&!ci&&!hi){var xo=wo.define;wo.define=function(t,e,n){bo[t]||(bo[t]=Ci(t)),xo.call(wo,t,e,n)}}function _o(){this.cache={}}function Eo(){}_o.prototype.store=function(t,e,n,r){var i=this.cache[t]||[];i.push({L:e,styleElement:n,I:r}),100<i.length&&i.shift(),this.cache[t]=i};var So=new RegExp(eo.a+"\\s*([^\\s]*)");function ko(t){return(t=(t.classList&&t.classList.value?t.classList.value:t.getAttribute("class")||"").match(So))?t[1]:""}function Oo(t){var e=Di(t).getRootNode();return e===t||e===t.ownerDocument?"":(t=e.host)?Ai(t).is:""}function Co(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.target!==document.documentElement&&n.target!==document.head)for(var r=0;r<n.addedNodes.length;r++){var i=n.addedNodes[r];if(i.nodeType===Node.ELEMENT_NODE){var o=i.getRootNode(),a=ko(i);if(a&&o===i.ownerDocument&&("style"!==i.localName&&"template"!==i.localName||""===Li(i)))Fi(i,a);else if(o instanceof ShadowRoot)for((o=Oo(i))!==a&&zi(i,a,o),i=window.ShadyDOM.nativeMethods.querySelectorAll.call(i,":not(."+eo.a+")"),a=0;a<i.length;a++){var s=Oo(o=i[a]);s&&Bi(o,s)}}}}}if(!(ci||window.ShadyDOM&&window.ShadyDOM.handlesDynamicScoping)){var To=new MutationObserver(Co),Po=function(t){To.observe(t,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)Po(document);else{var No=function(){Po(document.body)};window.HTMLImports?window.HTMLImports.whenReady(No):requestAnimationFrame((function(){if("loading"===document.readyState){var t=function(){No(),document.removeEventListener("readystatechange",t)};document.addEventListener("readystatechange",t)}else No()}))}Eo=function(){Co(To.takeRecords())}}var Do={},Ao=Promise.resolve();function Mo(t){(t=Do[t])&&(t._applyShimCurrentVersion=t._applyShimCurrentVersion||0,t._applyShimValidatingVersion=t._applyShimValidatingVersion||0,t._applyShimNextVersion=(t._applyShimNextVersion||0)+1)}function Lo(t){return t._applyShimCurrentVersion===t._applyShimNextVersion}var jo={},Io=new _o;function Ro(){this.F={},this.c=document.documentElement;var t=new Gr;t.rules=[],this.f=io(this.c,new no(t)),this.u=!1,this.a=this.b=null}function Bo(t){var e=Ai(t),n=e.is;e=e.Y;var r=bo[n]||null,i=Do[n];if(i)return io(t,e=new no(n=i._styleAst,r,i.a,e,i=Li(i))),e}function zo(t){if(!t.b&&window.ShadyCSS&&window.ShadyCSS.ApplyShim){t.b=window.ShadyCSS.ApplyShim,t.b.invalidCallback=Mo;var e=!0}else e=!1;return function(t){!t.a&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(t.a=window.ShadyCSS.CustomStyleInterface,t.a.transformCallback=function(e){t.xa(e)},t.a.validateCallback=function(){requestAnimationFrame((function(){(t.a.enqueued||t.u)&&t.flushCustomStyles()}))})}(t),e}function Fo(t,e,n){var r=Ai(e).is;if(n.H){var i,o=n.H;for(i in o)null===i?e.style.removeProperty(i):e.style.setProperty(i,o[i])}!(o=Do[r])&&e!==t.c||o&&""!==Li(o)||!o||!o._style||Lo(o)||((Lo(o)||o._applyShimValidatingVersion!==o._applyShimNextVersion)&&(zo(t),t.b&&t.b.transformRules(o._styleAst,r),o._style.textContent=Vi(e,n.J),function(t){t._applyShimValidatingVersion=t._applyShimNextVersion,t._validating||(t._validating=!0,Ao.then((function(){t._applyShimCurrentVersion=t._applyShimNextVersion,t._validating=!1})))}(o)),ci&&(t=e.shadowRoot)&&(t=t.querySelector("style"))&&(t.textContent=Vi(e,n.J)),n.J=o._styleAst)}function Vo(t,e){return(e=Di(e).getRootNode().host)?ro(e)||Bo(e)?e:Vo(t,e):t.c}function qo(t,e,n){var r=Vo(t,e),i=ro(r),o=i.M;for(var a in r===t.c||o||(qo(t,r,i),o=i.M),t=Object.create(o||null),r=po(e,n.J,n.cssBuild),e=function(t,e){var n={},r=[];return Si(t,(function(t){t.A||uo(t);var i=t.B||t.parsedSelector;e&&t.A.L&&i&&oo.call(e,i)&&(co(t,n),t=t.index,i=parseInt(t/32,10),r[i]=(r[i]||0)|1<<t%32)}),null,!0),{L:n,key:r}}(i.J,e).L,Object.assign(t,r.La,e,r.Ta),e=n.H)((i=e[a])||0===i)&&(t[a]=i);for(a=mo,e=Object.getOwnPropertyNames(t),i=0;i<e.length;i++)t[r=e[i]]=ho(a,t[r],t);n.M=t}(e=Ro.prototype).flush=function(){Eo()},e.Ja=function(t){return _i(t)},e.Xa=function(t){return xi(t)},e.prepareTemplate=function(t,e,n){this.prepareTemplateDom(t,e),this.prepareTemplateStyles(t,e,n)},e.prepareTemplateStyles=function(t,e,n){if(!t._prepared&&!hi){ci||bo[e]||(bo[e]=Ci(e)),t._prepared=!0,t.name=e,t.extends=n,Do[e]=t;var r=Li(t),i=ji(r);n={is:e,extends:n};for(var o=[],a=t.content.querySelectorAll("style"),s=0;s<a.length;s++){var l=a[s];if(l.hasAttribute("shady-unscoped")){if(!ci){var u=l.textContent;wi.has(u)||(wi.add(u),u=l.cloneNode(!0),document.head.appendChild(u)),l.parentNode.removeChild(l)}}else o.push(l.textContent),l.parentNode.removeChild(l)}o=o.join("").trim()+(jo[e]||""),zo(this),i||((a=!r)&&(a=gi.test(o)||pi.test(o),gi.lastIndex=0,pi.lastIndex=0),s=$r(o),a&&fi&&this.b&&this.b.transformRules(s,e),t._styleAst=s),a=[],fi||(a=function(t){var e={},n=[],r=0;for(var i in Si(t,(function(t){uo(t),t.index=r++,t=t.A.cssText;for(var n;n=vi.exec(t);){var i=n[1];":"!==n[2]&&(e[i]=!0)}}),(function(t){n.push(t)})),t.b=n,t=[],e)t.push(i);return t}(t._styleAst)),a.length&&!fi||(s=ci?t.content:null,e=bo[e]||null,r=(r=Vi(n,t._styleAst,null,r,i?o:"")).length?ki(r,n.is,s,e):null,t._style=r),t.a=a}},e.Ra=function(t,e){jo[e]=t.join(" ")},e.prepareTemplateDom=function(t,e){if(!hi){var n=Li(t);ci||"shady"===n||t._domPrepared||(t._domPrepared=!0,function(t,e){Ri(eo,t,(function(t){Bi(t,e||"")}))}(t.content,e))}},e.flushCustomStyles=function(){if(!hi){var t=zo(this);if(this.a){var e=this.a.processStyles();if((t||this.a.enqueued)&&!ji(this.f.cssBuild)){if(fi){if(!this.f.cssBuild)for(t=0;t<e.length;t++){var n=this.a.getStyleForCustomStyle(e[t]);if(n&&fi&&this.b){var r=_i(n);zo(this),this.b.transformRules(r),n.textContent=xi(r)}}}else{for(function(t,e){(e=e.map((function(e){return t.a.getStyleForCustomStyle(e)})).filter((function(t){return!!t}))).sort((function(t,e){return(t=e.compareDocumentPosition(t))&Node.DOCUMENT_POSITION_FOLLOWING?1:t&Node.DOCUMENT_POSITION_PRECEDING?-1:0})),t.f.J.rules=e.map((function(t){return _i(t)}))}(this,e),qo(this,this.c,this.f),t=0;t<e.length;t++)(n=this.a.getStyleForCustomStyle(e[t]))&&yo(n,this.f.M);this.u&&this.styleDocument()}this.a.enqueued=!1}}}},e.styleElement=function(t,e){if(hi){if(e){ro(t)||io(t,new no(null));var n=ro(t);n.H=n.H||{},Object.assign(n.H,e),Fo(this,t,n)}}else if(n=ro(t)||Bo(t))if(t!==this.c&&(this.u=!0),e&&(n.H=n.H||{},Object.assign(n.H,e)),fi)Fo(this,t,n);else if(this.flush(),qo(this,t,n),n.ka&&n.ka.length){var r;e=Ai(t).is;t:{if(r=Io.cache[e])for(var i=r.length-1;0<=i;i--){var o=r[i];e:{for(var a=n.ka,s=0;s<a.length;s++){var l=a[s];if(o.L[l]!==n.M[l]){a=!1;break e}}a=!0}if(a){r=o;break t}}r=void 0}a=r?r.styleElement:null,i=n.I,(o=r&&r.I)||(o=e+"-"+(o=this.F[e]=(this.F[e]||0)+1)),n.I=o,o=n.I,s=mo,s=a?a.textContent||"":go(s,t,n.M,o);var u=(l=ro(t)).a;u&&!ci&&u!==a&&(u._useCount--,0>=u._useCount&&u.parentNode&&u.parentNode.removeChild(u)),ci?l.a?(l.a.textContent=s,a=l.a):s&&(a=ki(s,o,t.shadowRoot,l.b)):a?a.parentNode||(so&&-1<s.indexOf("@media")&&(a.textContent=s),Ti(a,null,l.b)):s&&(a=ki(s,o,null,l.b)),a&&(a._useCount=a._useCount||0,l.a!=a&&a._useCount++,l.a=a),o=a,ci||(a=n.I,l=s=t.getAttribute("class")||"",i&&(l=s.replace(new RegExp("\\s*x-scope\\s*"+i+"\\s*","g")," ")),s!==(l+=(l?" ":"")+"x-scope "+a)&&Ni(t,l)),r||Io.store(e,n.M,o,n.I)}},e.styleDocument=function(t){this.styleSubtree(this.c,t)},e.styleSubtree=function(t,e){var n=Di(t),r=n.shadowRoot,i=t===this.c;if((r||i)&&this.styleElement(t,e),t=i?n:r)for(t=Array.from(t.querySelectorAll("*")).filter((function(t){return Di(t).shadowRoot})),e=0;e<t.length;e++)this.styleSubtree(t[e])},e.xa=function(t){var e=this,n=Li(t);if(n!==this.f.cssBuild&&(this.f.cssBuild=n),!ji(n)){var r=_i(t);Si(r,(function(t){if(ci)Yi(t);else{var r=eo;t.selector=t.parsedSelector,Yi(t),t.selector=t.B=Ui(r,t,r.c,void 0,void 0)}fi&&""===n&&(zo(e),e.b&&e.b.transformRule(t))})),fi?t.textContent=xi(r):this.f.J.rules.push(r)}},e.getComputedStyleValue=function(t,e){var n;return fi||(n=(ro(t)||ro(Vo(this,t))).M[e]),(n=n||window.getComputedStyle(t).getPropertyValue(e))?n.trim():""},e.Wa=function(t,e){var n,r=Di(t).getRootNode();if(n=e?("string"==typeof e?e:String(e)).split(/\s/):[],!(e=r.host&&r.host.localName)&&(r=t.getAttribute("class"))){r=r.split(/\s/);for(var i=0;i<r.length;i++)if(r[i]===eo.a){e=r[i+1];break}}e&&n.push(eo.a,e),fi||(e=ro(t))&&e.I&&n.push(mo.a,e.I),Ni(t,n.join(" "))},e.Ea=function(t){return ro(t)},e.Va=function(t,e){Bi(t,e)},e.Ya=function(t,e){Bi(t,e,!0)},e.Ua=function(t){return Oo(t)},e.Ha=function(t){return ko(t)},Ro.prototype.flush=Ro.prototype.flush,Ro.prototype.prepareTemplate=Ro.prototype.prepareTemplate,Ro.prototype.styleElement=Ro.prototype.styleElement,Ro.prototype.styleDocument=Ro.prototype.styleDocument,Ro.prototype.styleSubtree=Ro.prototype.styleSubtree,Ro.prototype.getComputedStyleValue=Ro.prototype.getComputedStyleValue,Ro.prototype.setElementClass=Ro.prototype.Wa,Ro.prototype._styleInfoForNode=Ro.prototype.Ea,Ro.prototype.transformCustomStyleForDocument=Ro.prototype.xa,Ro.prototype.getStyleAst=Ro.prototype.Ja,Ro.prototype.styleAstToString=Ro.prototype.Xa,Ro.prototype.flushCustomStyles=Ro.prototype.flushCustomStyles,Ro.prototype.scopeNode=Ro.prototype.Va,Ro.prototype.unscopeNode=Ro.prototype.Ya,Ro.prototype.scopeForNode=Ro.prototype.Ua,Ro.prototype.currentScopeForNode=Ro.prototype.Ha,Ro.prototype.prepareAdoptedCssText=Ro.prototype.Ra,Object.defineProperties(Ro.prototype,{nativeShadow:{get:function(){return ci}},nativeCss:{get:function(){return fi}}});var Uo,Ho,Wo=new Ro;window.ShadyCSS&&(Uo=window.ShadyCSS.ApplyShim,Ho=window.ShadyCSS.CustomStyleInterface),window.ShadyCSS={ScopingShim:Wo,prepareTemplate:function(t,e,n){Wo.flushCustomStyles(),Wo.prepareTemplate(t,e,n)},prepareTemplateDom:function(t,e){Wo.prepareTemplateDom(t,e)},prepareTemplateStyles:function(t,e,n){Wo.flushCustomStyles(),Wo.prepareTemplateStyles(t,e,n)},styleSubtree:function(t,e){Wo.flushCustomStyles(),Wo.styleSubtree(t,e)},styleElement:function(t){Wo.flushCustomStyles(),Wo.styleElement(t)},styleDocument:function(t){Wo.flushCustomStyles(),Wo.styleDocument(t)},flushCustomStyles:function(){Wo.flushCustomStyles()},getComputedStyleValue:function(t,e){return Wo.getComputedStyleValue(t,e)},nativeCss:fi,nativeShadow:ci,cssBuild:Kr,disableRuntime:hi},Uo&&(window.ShadyCSS.ApplyShim=Uo),Ho&&(window.ShadyCSS.CustomStyleInterface=Ho),function(t){function e(t){return""==t&&(o.call(this),this.i=!0),t.toLowerCase()}function n(t){var e=t.charCodeAt(0);return 32<e&&127>e&&-1==[34,35,60,62,63,96].indexOf(e)?t:encodeURIComponent(t)}function r(t){var e=t.charCodeAt(0);return 32<e&&127>e&&-1==[34,35,60,62,96].indexOf(e)?t:encodeURIComponent(t)}function i(t,i,a){var s=i||"scheme start",l=0,f="",p=!1,g=!1;t:for(;(null!=t[l-1]||0==l)&&!this.i;){var v=t[l];switch(s){case"scheme start":if(!v||!d.test(v)){if(i)break t;f="",s="no scheme";continue}f+=v.toLowerCase(),s="scheme";break;case"scheme":if(v&&h.test(v))f+=v.toLowerCase();else{if(":"!=v){if(i)break t;f="",l=0,s="no scheme";continue}if(this.h=f,f="",i)break t;void 0!==u[this.h]&&(this.C=!0),s="file"==this.h?"relative":this.C&&a&&a.h==this.h?"relative or authority":this.C?"authority first slash":"scheme data"}break;case"scheme data":"?"==v?(this.o="?",s="query"):"#"==v?(this.v="#",s="fragment"):null!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this.ga+=n(v));break;case"no scheme":if(a&&void 0!==u[a.h]){s="relative";continue}o.call(this),this.i=!0;break;case"relative or authority":if("/"!=v||"/"!=t[l+1]){s="relative";continue}s="authority ignore slashes";break;case"relative":if(this.C=!0,"file"!=this.h&&(this.h=a.h),null==v){this.j=a.j,this.m=a.m,this.l=a.l.slice(),this.o=a.o,this.s=a.s,this.g=a.g;break t}if("/"==v||"\\"==v)s="relative slash";else if("?"==v)this.j=a.j,this.m=a.m,this.l=a.l.slice(),this.o="?",this.s=a.s,this.g=a.g,s="query";else{if("#"!=v){s=t[l+1];var y=t[l+2];("file"!=this.h||!d.test(v)||":"!=s&&"|"!=s||null!=y&&"/"!=y&&"\\"!=y&&"?"!=y&&"#"!=y)&&(this.j=a.j,this.m=a.m,this.s=a.s,this.g=a.g,this.l=a.l.slice(),this.l.pop()),s="relative path";continue}this.j=a.j,this.m=a.m,this.l=a.l.slice(),this.o=a.o,this.v="#",this.s=a.s,this.g=a.g,s="fragment"}break;case"relative slash":if("/"!=v&&"\\"!=v){"file"!=this.h&&(this.j=a.j,this.m=a.m,this.s=a.s,this.g=a.g),s="relative path";continue}s="file"==this.h?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=v){s="authority ignore slashes";continue}s="authority second slash";break;case"authority second slash":if(s="authority ignore slashes","/"!=v)continue;break;case"authority ignore slashes":if("/"!=v&&"\\"!=v){s="authority";continue}break;case"authority":if("@"==v){for(p&&(f+="%40"),p=!0,v=0;v<f.length;v++)"\t"==(y=f[v])||"\n"==y||"\r"==y||(":"==y&&null===this.g?this.g="":(y=n(y),null!==this.g?this.g+=y:this.s+=y));f=""}else{if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v){l-=f.length,f="",s="host";continue}f+=v}break;case"file host":if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v){2!=f.length||!d.test(f[0])||":"!=f[1]&&"|"!=f[1]?(0!=f.length&&(this.j=e.call(this,f),f=""),s="relative path start"):s="relative path";continue}"\t"==v||"\n"==v||"\r"==v||(f+=v);break;case"host":case"hostname":if(":"!=v||g){if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v){if(this.j=e.call(this,f),f="",s="relative path start",i)break t;continue}"\t"!=v&&"\n"!=v&&"\r"!=v&&("["==v?g=!0:"]"==v&&(g=!1),f+=v)}else if(this.j=e.call(this,f),f="",s="port","hostname"==i)break t;break;case"port":if(/[0-9]/.test(v))f+=v;else{if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v||i){if(""!=f&&((f=parseInt(f,10))!=u[this.h]&&(this.m=f+""),f=""),i)break t;s="relative path start";continue}"\t"==v||"\n"==v||"\r"==v||(o.call(this),this.i=!0)}break;case"relative path start":if(s="relative path","/"!=v&&"\\"!=v)continue;break;case"relative path":null!=v&&"/"!=v&&"\\"!=v&&(i||"?"!=v&&"#"!=v)?"\t"!=v&&"\n"!=v&&"\r"!=v&&(f+=n(v)):((y=c[f.toLowerCase()])&&(f=y),".."==f?(this.l.pop(),"/"!=v&&"\\"!=v&&this.l.push("")):"."==f&&"/"!=v&&"\\"!=v?this.l.push(""):"."!=f&&("file"==this.h&&0==this.l.length&&2==f.length&&d.test(f[0])&&"|"==f[1]&&(f=f[0]+":"),this.l.push(f)),f="","?"==v?(this.o="?",s="query"):"#"==v&&(this.v="#",s="fragment"));break;case"query":i||"#"!=v?null!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this.o+=r(v)):(this.v="#",s="fragment");break;case"fragment":null!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this.v+=v)}l++}}function o(){this.s=this.ga=this.h="",this.g=null,this.m=this.j="",this.l=[],this.v=this.o="",this.C=this.i=!1}function a(t,e){void 0===e||e instanceof a||(e=new a(String(e))),this.a=t,o.call(this),i.call(this,this.a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,""),null,e)}var s=!1;try{var l=new URL("b","http://a");l.pathname="c%20d",s="http://a/c%20d"===l.href}catch(t){}if(!s){var u=Object.create(null);u.ftp=21,u.file=0,u.gopher=70,u.http=80,u.https=443,u.ws=80,u.wss=443;var c=Object.create(null);c["%2e"]=".",c[".%2e"]="..",c["%2e."]="..",c["%2e%2e"]="..";var d=/[a-zA-Z]/,h=/[a-zA-Z0-9\+\-\.]/;a.prototype={toString:function(){return this.href},get href(){if(this.i)return this.a;var t="";return""==this.s&&null==this.g||(t=this.s+(null!=this.g?":"+this.g:"")+"@"),this.protocol+(this.C?"//"+t+this.host:"")+this.pathname+this.o+this.v},set href(t){o.call(this),i.call(this,t)},get protocol(){return this.h+":"},set protocol(t){this.i||i.call(this,t+":","scheme start")},get host(){return this.i?"":this.m?this.j+":"+this.m:this.j},set host(t){!this.i&&this.C&&i.call(this,t,"host")},get hostname(){return this.j},set hostname(t){!this.i&&this.C&&i.call(this,t,"hostname")},get port(){return this.m},set port(t){!this.i&&this.C&&i.call(this,t,"port")},get pathname(){return this.i?"":this.C?"/"+this.l.join("/"):this.ga},set pathname(t){!this.i&&this.C&&(this.l=[],i.call(this,t,"relative path start"))},get search(){return this.i||!this.o||"?"==this.o?"":this.o},set search(t){!this.i&&this.C&&(this.o="?","?"==t[0]&&(t=t.slice(1)),i.call(this,t,"query"))},get hash(){return this.i||!this.v||"#"==this.v?"":this.v},set hash(t){this.i||(t?(this.v="#","#"==t[0]&&(t=t.slice(1)),i.call(this,t,"fragment")):this.v="")},get origin(){var t;if(this.i||!this.h)return"";switch(this.h){case"data":case"file":case"javascript":case"mailto":return"null"}return(t=this.host)?this.h+"://"+t:""}};var f=t.URL;f&&(a.createObjectURL=function(t){return f.createObjectURL.apply(f,arguments)},a.revokeObjectURL=function(t){f.revokeObjectURL(t)}),t.URL=a}}(window),Object.getOwnPropertyDescriptor(Node.prototype,"baseURI")||Object.defineProperty(Node.prototype,"baseURI",{get:function(){var t=(this.ownerDocument||this).querySelector("base[href]");return t&&t.href||window.location.href},configurable:!0,enumerable:!0});var Yo=document.createElement("style");Yo.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var Xo=document.querySelector("head");Xo.insertBefore(Yo,Xo.firstChild);var Go=window.customElements,$o=!1,Zo=null;function Ko(){window.HTMLTemplateElement.bootstrap&&window.HTMLTemplateElement.bootstrap(window.document),Zo&&Zo(),$o=!0,window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}Go.polyfillWrapFlushCallback&&Go.polyfillWrapFlushCallback((function(t){Zo=t,$o&&t()})),"complete"!==document.readyState?(window.addEventListener("load",Ko),window.addEventListener("DOMContentLoaded",(function(){window.removeEventListener("load",Ko),Ko()}))):Ko()}).call(t);var vg="Expected a function",yg=NaN,mg="[object Symbol]",bg=/^\s+|\s+$/g,wg=/^[-+]0x[0-9a-f]+$/i,xg=/^0b[01]+$/i,_g=/^0o[0-7]+$/i,Eg=parseInt,Sg="object"==typeof t&&t&&t.Object===Object&&t,kg="object"==typeof self&&self&&self.Object===Object&&self,Og=Sg||kg||Function("return this")(),Cg=Object.prototype.toString,Tg=Math.max,Pg=Math.min,Ng=function(){return Og.Date.now()};function Dg(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ag(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&Cg.call(t)==mg}(t))return yg;if(Dg(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Dg(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(bg,"");var n=xg.test(t);return n||_g.test(t)?Eg(t.slice(2),n?2:8):wg.test(t)?yg:+t}var Mg=function(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError(vg);function f(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n)}function p(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-u>=o}function g(){var t=Ng();if(p(t))return v(t);s=setTimeout(g,function(t){var n=e-(t-l);return d?Pg(n,o-(t-u)):n}(t))}function v(t){return s=void 0,h&&r?f(t):(r=i=void 0,a)}function y(){var t=Ng(),n=p(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return function(t){return u=t,s=setTimeout(g,e),c?f(t):a}(l);if(d)return s=setTimeout(g,e),f(l)}return void 0===s&&(s=setTimeout(g,e)),a}return e=Ag(e)||0,Dg(n)&&(c=!!n.leading,o=(d="maxWait"in n)?Tg(Ag(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?a:v(Ng())},y},Lg=n((function(e,n){(function(){var t,n,r,i,o,a,s,l,u,c,d,h,f,p,g;r=Math.floor,c=Math.min,n=function(t,e){return t<e?-1:t>e?1:0},u=function(t,e,i,o,a){var s;if(null==i&&(i=0),null==a&&(a=n),i<0)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);i<o;)a(e,t[s=r((i+o)/2)])<0?o=s:i=s+1;return[].splice.apply(t,[i,i-i].concat(e)),e},a=function(t,e,r){return null==r&&(r=n),t.push(e),p(t,0,t.length-1,r)},o=function(t,e){var r,i;return null==e&&(e=n),r=t.pop(),t.length?(i=t[0],t[0]=r,g(t,0,e)):i=r,i},l=function(t,e,r){var i;return null==r&&(r=n),i=t[0],t[0]=e,g(t,0,r),i},s=function(t,e,r){var i;return null==r&&(r=n),t.length&&r(t[0],e)<0&&(e=(i=[t[0],e])[0],t[0]=i[1],g(t,0,r)),e},i=function(t,e){var i,o,a,s,l,u;for(null==e&&(e=n),l=[],o=0,a=(s=function(){u=[];for(var e=0,n=r(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)u.push(e);return u}.apply(this).reverse()).length;o<a;o++)i=s[o],l.push(g(t,i,e));return l},f=function(t,e,r){var i;if(null==r&&(r=n),-1!==(i=t.indexOf(e)))return p(t,0,i,r),g(t,i,r)},d=function(t,e,r){var o,a,l,u,c;if(null==r&&(r=n),!(a=t.slice(0,e)).length)return a;for(i(a,r),l=0,u=(c=t.slice(e)).length;l<u;l++)o=c[l],s(a,o,r);return a.sort(r).reverse()},h=function(t,e,r){var a,s,l,d,h,f,p,g,v;if(null==r&&(r=n),10*e<=t.length){if(!(l=t.slice(0,e).sort(r)).length)return l;for(s=l[l.length-1],d=0,f=(p=t.slice(e)).length;d<f;d++)r(a=p[d],s)<0&&(u(l,a,0,null,r),l.pop(),s=l[l.length-1]);return l}for(i(t,r),v=[],h=0,g=c(e,t.length);0<=g?h<g:h>g;0<=g?++h:--h)v.push(o(t,r));return v},p=function(t,e,r,i){var o,a,s;for(null==i&&(i=n),o=t[r];r>e&&i(o,a=t[s=r-1>>1])<0;)t[r]=a,r=s;return t[r]=o},g=function(t,e,r){var i,o,a,s,l;for(null==r&&(r=n),o=t.length,l=e,a=t[e],i=2*e+1;i<o;)(s=i+1)<o&&!(r(t[i],t[s])<0)&&(i=s),t[e]=t[i],i=2*(e=i)+1;return t[e]=a,p(t,l,e,r)},t=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=a,t.pop=o,t.replace=l,t.pushpop=s,t.heapify=i,t.updateItem=f,t.nlargest=d,t.nsmallest=h,t.prototype.push=function(t){return a(this.nodes,t,this.cmp)},t.prototype.pop=function(){return o(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return l(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return s(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return i(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return f(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),e.exports=t}).call(t)})),jg=e(n((function(t,e){var n;"undefined"!=typeof self&&self,n=function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=20)}([function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(3),o=i?i.navigator:null,a=i?i.document:null,s=r(""),l=r({}),u=r((function(){})),c="undefined"==typeof HTMLElement?"undefined":r(HTMLElement),d=function(t){return t&&t.instanceString&&h.fn(t.instanceString)?t.instanceString():null},h={defined:function(t){return null!=t},string:function(t){return null!=t&&(void 0===t?"undefined":r(t))==s},fn:function(t){return null!=t&&(void 0===t?"undefined":r(t))===u},array:function(t){return Array.isArray?Array.isArray(t):null!=t&&t instanceof Array},plainObject:function(t){return null!=t&&(void 0===t?"undefined":r(t))===l&&!h.array(t)&&t.constructor===Object},object:function(t){return null!=t&&(void 0===t?"undefined":r(t))===l},number:function(t){return null!=t&&(void 0===t?"undefined":r(t))===r(1)&&!isNaN(t)},integer:function(t){return h.number(t)&&Math.floor(t)===t},bool:function(t){return null!=t&&(void 0===t?"undefined":r(t))===r(!0)},htmlElement:function(t){return"undefined"===c?void 0:null!=t&&t instanceof HTMLElement},elementOrCollection:function(t){return h.element(t)||h.collection(t)},element:function(t){return"collection"===d(t)&&t._private.single},collection:function(t){return"collection"===d(t)&&!t._private.single},core:function(t){return"core"===d(t)},style:function(t){return"style"===d(t)},stylesheet:function(t){return"stylesheet"===d(t)},event:function(t){return"event"===d(t)},thread:function(t){return"thread"===d(t)},fabric:function(t){return"fabric"===d(t)},emptyString:function(t){return null==t||!(""!==t&&!t.match(/^\s+$/))},nonemptyString:function(t){return!(!t||!h.string(t)||""===t||t.match(/^\s+$/))},domElement:function(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement},boundingBox:function(t){return h.plainObject(t)&&h.number(t.x1)&&h.number(t.x2)&&h.number(t.y1)&&h.number(t.y2)},promise:function(t){return h.object(t)&&h.fn(t.then)},touch:function(){return i&&("ontouchstart"in i||i.DocumentTouch&&a instanceof DocumentTouch)},gecko:function(){return i&&("undefined"!=typeof InstallTrigger||"MozAppearance"in a.documentElement.style)},webkit:function(){return i&&("undefined"!=typeof webkitURL||"WebkitAppearance"in a.documentElement.style)},chromium:function(){return i&&"undefined"!=typeof chrome},khtml:function(){return o&&o.vendor.match(/kde/i)},khtmlEtc:function(){return h.khtml()||h.webkit()||h.chromium()},ms:function(){return o&&o.userAgent.match(/msie|trident|edge/i)},windows:function(){return o&&o.appVersion.match(/Win/i)},mac:function(){return o&&o.appVersion.match(/Mac/i)},linux:function(){return o&&o.appVersion.match(/Linux/i)},unix:function(){return o&&o.appVersion.match(/X11/i)}};t.exports=h},function(t,e,n){var r=n(0),i=n(2),o={MAX_INT:Number.MAX_SAFE_INTEGER||9007199254740991,trueify:function(){return!0},falsify:function(){return!1},zeroify:function(){return 0},noop:function(){},error:function(t){console.error?(console.error.apply(console,arguments),console.trace&&console.trace()):(console.log.apply(console,arguments),console.trace&&console.trace())},clone:function(t){return this.extend({},t)},copy:function(t){return null==t?t:r.array(t)?t.slice():r.plainObject(t)?this.clone(t):t},copyArray:function(t){return t.slice()},clonePosition:function(t){return{x:t.x,y:t.y}},uuid:function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e}};o.makeBoundingBox=i.makeBoundingBox.bind(i),o._staticEmptyObject={},o.staticEmptyObject=function(){return o._staticEmptyObject},o.extend=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments,n=1;n<e.length;n++){var r=e[n];if(null!=r)for(var i=Object.keys(r),o=0;o<i.length;o++){var a=i[o];t[a]=r[a]}}return t},o.assign=o.extend,o.default=function(t,e){return void 0===t?e:t},o.removeFromArray=function(t,e,n){for(var r=t.length;r>=0&&(t[r]!==e||(t.splice(r,1),n));r--);},o.clearArray=function(t){t.splice(0,t.length)},o.push=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.push(r)}},o.getPrefixedProperty=function(t,e,n){return n&&(e=this.prependCamel(n,e)),t[e]},o.setPrefixedProperty=function(t,e,n,r){n&&(e=this.prependCamel(n,e)),t[e]=r},[n(21),n(22),{memoize:n(13)},n(23),n(24),n(25),n(27)].forEach((function(t){o.extend(o,t)})),t.exports=o},function(t,e,n){var r={arePositionsSame:function(t,e){return t.x===e.x&&t.y===e.y},copyPosition:function(t){return{x:t.x,y:t.y}},modelToRenderedPosition:function(t,e,n){return{x:t.x*e+n.x,y:t.y*e+n.y}},renderedToModelPosition:function(t,e,n){return{x:(t.x-n.x)/e,y:(t.y-n.y)/e}},array2point:function(t){return{x:t[0],y:t[1]}},deg2rad:function(t){return Math.PI*t/180},getAngleFromDisp:function(t,e){return Math.atan2(e,t)-Math.PI/2}};r.log2=Math.log2||function(t){return Math.log(t)/Math.log(2)},r.signum=function(t){return t>0?1:t<0?-1:0},r.dist=function(t,e){return Math.sqrt(r.sqdist(t,e))},r.sqdist=function(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r},r.qbezierAt=function(t,e,n,r){return(1-r)*(1-r)*t+2*(1-r)*r*e+r*r*n},r.qbezierPtAt=function(t,e,n,i){return{x:r.qbezierAt(t.x,e.x,n.x,i),y:r.qbezierAt(t.y,e.y,n.y,i)}},r.lineAt=function(t,e,n,i){var o=e.x-t.x,a=e.y-t.y,s=r.dist(t,e),l=o/s,u=a/s;return n=null==n?0:n,i=null!=i?i:n*s,{x:t.x+l*i,y:t.y+u*i}},r.lineAtDist=function(t,e,n){return r.lineAt(t,e,void 0,n)},r.triangleAngle=function(t,e,n){var i=r.dist(e,n),o=r.dist(t,n),a=r.dist(t,e);return Math.acos((i*i+o*o-a*a)/(2*i*o))},r.bound=function(t,e,n){return Math.max(t,Math.min(n,e))},r.makeBoundingBox=function(t){if(null==t)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=t.x1&&null!=t.y1){if(null!=t.x2&&null!=t.y2&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(null!=t.w&&null!=t.h&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},r.updateBoundingBox=function(t,e){t.x1=Math.min(t.x1,e.x1),t.x2=Math.max(t.x2,e.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,e.y1),t.y2=Math.max(t.y2,e.y2),t.h=t.y2-t.y1},r.expandBoundingBoxByPoint=function(t,e,n){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},r.expandBoundingBox=function(t,e){return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},r.boundingBoxesIntersect=function(t,e){return!(t.x1>e.x2||e.x1>t.x2||t.x2<e.x1||e.x2<t.x1||t.y2<e.y1||e.y2<t.y1||t.y1>e.y2||e.y1>t.y2)},r.inBoundingBox=function(t,e,n){return t.x1<=e&&e<=t.x2&&t.y1<=n&&n<=t.y2},r.pointInBoundingBox=function(t,e){return this.inBoundingBox(t,e.x,e.y)},r.boundingBoxInBoundingBox=function(t,e){return r.inBoundingBox(t,e.x1,e.y1)&&r.inBoundingBox(t,e.x2,e.y2)},r.roundRectangleIntersectLine=function(t,e,n,r,i,o,a){var s=this.getRoundRectangleRadius(i,o),l=i/2,u=o/2,c=void 0,d=n-l+s-a,h=r-u-a,f=n+l-s+a,p=h;if((c=this.finiteLinesIntersect(t,e,n,r,d,h,f,p,!1)).length>0)return c;var g=n+l+a,v=r-u+s-a,y=g,m=r+u-s+a;if((c=this.finiteLinesIntersect(t,e,n,r,g,v,y,m,!1)).length>0)return c;var b=n-l+s-a,w=r+u+a,x=n+l-s+a,_=w;if((c=this.finiteLinesIntersect(t,e,n,r,b,w,x,_,!1)).length>0)return c;var E=n-l-a,S=r-u+s-a,k=E,O=r+u-s+a;if((c=this.finiteLinesIntersect(t,e,n,r,E,S,k,O,!1)).length>0)return c;var C=void 0,T=n-l+s,P=r-u+s;if((C=this.intersectLineCircle(t,e,n,r,T,P,s+a)).length>0&&C[0]<=T&&C[1]<=P)return[C[0],C[1]];var N=n+l-s,D=r-u+s;if((C=this.intersectLineCircle(t,e,n,r,N,D,s+a)).length>0&&C[0]>=N&&C[1]<=D)return[C[0],C[1]];var A=n+l-s,M=r+u-s;if((C=this.intersectLineCircle(t,e,n,r,A,M,s+a)).length>0&&C[0]>=A&&C[1]>=M)return[C[0],C[1]];var L=n-l+s,j=r+u-s;return(C=this.intersectLineCircle(t,e,n,r,L,j,s+a)).length>0&&C[0]<=L&&C[1]>=j?[C[0],C[1]]:[]},r.inLineVicinity=function(t,e,n,r,i,o,a){var s=a,l=Math.min(n,i),u=Math.max(n,i),c=Math.min(r,o),d=Math.max(r,o);return l-s<=t&&t<=u+s&&c-s<=e&&e<=d+s},r.inBezierVicinity=function(t,e,n,r,i,o,a,s,l){var u=Math.min(n,a,i)-l,c=Math.max(n,a,i)+l,d=Math.min(r,s,o)-l,h=Math.max(r,s,o)+l;return!(t<u||t>c||e<d||e>h)},r.solveQuadratic=function(t,e,n,r){var i=e*e-4*t*(n-=r);if(i<0)return[];var o=Math.sqrt(i),a=2*t;return[(-e+o)/a,(-e-o)/a]},r.solveCubic=function(t,e,n,r,i){var o,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,h=void 0;return s=-27*(r/=t)+(e/=t)*(9*(n/=t)-e*e*2),o=(a=(3*n-e*e)/9)*a*a+(s/=54)*s,i[1]=0,d=e/3,o>0?(u=(u=s+Math.sqrt(o))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=(c=s-Math.sqrt(o))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-d+u+c,d+=(u+c)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-c+u)/2,i[3]=d,void(i[5]=-d)):(i[5]=i[3]=0,0===o?(h=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*h-d,void(i[4]=i[2]=-(h+d))):(l=(a=-a)*a*a,l=Math.acos(s/Math.sqrt(l)),h=2*Math.sqrt(a),i[0]=-d+h*Math.cos(l/3),i[2]=-d+h*Math.cos((l+2*Math.PI)/3),void(i[4]=-d+h*Math.cos((l+4*Math.PI)/3))))},r.sqdistToQuadraticBezier=function(t,e,n,r,i,o,a,s){var l=1*n*n-4*n*i+2*n*a+4*i*i-4*i*a+a*a+r*r-4*r*o+2*r*s+4*o*o-4*o*s+s*s,u=9*n*i-3*n*n-3*n*a-6*i*i+3*i*a+9*r*o-3*r*r-3*r*s-6*o*o+3*o*s,c=3*n*n-6*n*i+n*a-n*t+2*i*i+2*i*t-a*t+3*r*r-6*r*o+r*s-r*e+2*o*o+2*o*e-s*e,d=1*n*i-n*n+n*t-i*t+r*o-r*r+r*e-o*e,h=[];this.solveCubic(l,u,c,d,h);for(var f=[],p=0;p<6;p+=2)Math.abs(h[p+1])<1e-7&&h[p]>=0&&h[p]<=1&&f.push(h[p]);f.push(1),f.push(0);for(var g=-1,v=void 0,y=void 0,m=void 0,b=0;b<f.length;b++)v=Math.pow(1-f[b],2)*n+2*(1-f[b])*f[b]*i+f[b]*f[b]*a,y=Math.pow(1-f[b],2)*r+2*(1-f[b])*f[b]*o+f[b]*f[b]*s,m=Math.pow(v-t,2)+Math.pow(y-e,2),g>=0?m<g&&(g=m):g=m;return g},r.sqdistToFiniteLine=function(t,e,n,r,i,o){var a=[t-n,e-r],s=[i-n,o-r],l=s[0]*s[0]+s[1]*s[1],u=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],d=c*c/l;return c<0?u:d>l?(t-i)*(t-i)+(e-o)*(e-o):u-d},r.pointInsidePolygonPoints=function(t,e,n){for(var r=void 0,i=void 0,o=void 0,a=void 0,s=0,l=0;l<n.length/2;l++)if(r=n[2*l],i=n[2*l+1],l+1<n.length/2?(o=n[2*(l+1)],a=n[2*(l+1)+1]):(o=n[2*(l+1-n.length/2)],a=n[2*(l+1-n.length/2)+1]),r==t&&o==t);else{if(!(r>=t&&t>=o||r<=t&&t<=o))continue;(t-r)/(o-r)*(a-i)+i>e&&s++}return s%2!=0},r.pointInsidePolygon=function(t,e,n,i,o,a,s,l,u){var c=new Array(n.length),d=void 0;null!=l[0]?(d=Math.atan(l[1]/l[0]),l[0]<0?d+=Math.PI/2:d=-d-Math.PI/2):d=l;for(var h=Math.cos(-d),f=Math.sin(-d),p=0;p<c.length/2;p++)c[2*p]=a/2*(n[2*p]*h-n[2*p+1]*f),c[2*p+1]=s/2*(n[2*p+1]*h+n[2*p]*f),c[2*p]+=i,c[2*p+1]+=o;var g=void 0;if(u>0){var v=this.expandPolygon(c,-u);g=this.joinLines(v)}else g=c;return r.pointInsidePolygonPoints(t,e,g)},r.joinLines=function(t){for(var e=new Array(t.length/2),n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=0;c<t.length/4;c++){n=t[4*c],r=t[4*c+1],i=t[4*c+2],o=t[4*c+3],c<t.length/4-1?(a=t[4*(c+1)],s=t[4*(c+1)+1],l=t[4*(c+1)+2],u=t[4*(c+1)+3]):(a=t[0],s=t[1],l=t[2],u=t[3]);var d=this.finiteLinesIntersect(n,r,i,o,a,s,l,u,!0);e[2*c]=d[0],e[2*c+1]=d[1]}return e},r.expandPolygon=function(t,e){for(var n=new Array(2*t.length),r=void 0,i=void 0,o=void 0,a=void 0,s=0;s<t.length/2;s++){r=t[2*s],i=t[2*s+1],s<t.length/2-1?(o=t[2*(s+1)],a=t[2*(s+1)+1]):(o=t[0],a=t[1]);var l=a-i,u=-(o-r),c=Math.sqrt(l*l+u*u),d=l/c,h=u/c;n[4*s]=r+d*e,n[4*s+1]=i+h*e,n[4*s+2]=o+d*e,n[4*s+3]=a+h*e}return n},r.intersectLineEllipse=function(t,e,n,r,i,o){var a=n-t,s=r-e;a/=i,s/=o;var l=Math.sqrt(a*a+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(n-t)*c+t,(r-e)*c+e]},r.checkInEllipse=function(t,e,n,r,i,o,a){return t-=i,e-=o,(t/=n/2+a)*t+(e/=r/2+a)*e<=1},r.intersectLineCircle=function(t,e,n,r,i,o,a){var s=[n-t,r-e],l=[t-i,e-o],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),d=c*c-4*u*(l[0]*l[0]+l[1]*l[1]-a*a);if(d<0)return[];var h=(-c+Math.sqrt(d))/(2*u),f=(-c-Math.sqrt(d))/(2*u),p=Math.min(h,f),g=Math.max(h,f),v=[];if(p>=0&&p<=1&&v.push(p),g>=0&&g<=1&&v.push(g),0===v.length)return[];var y=v[0]*s[0]+t,m=v[0]*s[1]+e;return v.length>1?v[0]==v[1]?[y,m]:[y,m,v[1]*s[0]+t,v[1]*s[1]+e]:[y,m]},r.findCircleNearPoint=function(t,e,n,r,i){var o=r-t,a=i-e,s=Math.sqrt(o*o+a*a);return[t+o/s*n,e+a/s*n]},r.findMaxSqDistanceToOrigin=function(t){for(var e=1e-6,n=void 0,r=0;r<t.length/2;r++)(n=t[2*r]*t[2*r]+t[2*r+1]*t[2*r+1])>e&&(e=n);return e},r.midOfThree=function(t,e,n){return e<=t&&t<=n||n<=t&&t<=e?t:t<=e&&e<=n||n<=e&&e<=t?e:n},r.finiteLinesIntersect=function(t,e,n,r,i,o,a,s,l){var u=t-i,c=n-t,d=a-i,h=e-o,f=r-e,p=s-o,g=d*h-p*u,v=c*h-f*u,y=p*c-d*f;if(0!==y){var m=g/y,b=v/y;return-.001<=m&&m<=1.001&&-.001<=b&&b<=1.001?[t+m*c,e+m*f]:l?[t+m*c,e+m*f]:[]}return 0===g||0===v?this.midOfThree(t,n,a)===a?[a,s]:this.midOfThree(t,n,i)===i?[i,o]:this.midOfThree(i,a,n)===n?[n,r]:[]:[]},r.polygonIntersectLine=function(t,e,n,i,o,a,s,l){var u=[],c=void 0,d=new Array(n.length),h=!0;5===arguments.length&&(h=!1);var f=void 0;if(h){for(var p=0;p<d.length/2;p++)d[2*p]=n[2*p]*a+i,d[2*p+1]=n[2*p+1]*s+o;if(l>0){var g=r.expandPolygon(d,-l);f=r.joinLines(g)}else f=d}else f=n;for(var v=void 0,y=void 0,m=void 0,b=void 0,w=0;w<f.length/2;w++)v=f[2*w],y=f[2*w+1],w<f.length/2-1?(m=f[2*(w+1)],b=f[2*(w+1)+1]):(m=f[0],b=f[1]),0!==(c=this.finiteLinesIntersect(t,e,i,o,v,y,m,b)).length&&u.push(c[0],c[1]);return u},r.shortenIntersection=function(t,e,n){var r=[t[0]-e[0],t[1]-e[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),o=(i-n)/i;return o<0&&(o=1e-5),[e[0]+o*r[0],e[1]+o*r[1]]},r.generateUnitNgonPointsFitToSquare=function(t,e){var n=r.generateUnitNgonPoints(t,e);return n=r.fitPolygonToSquare(n)},r.fitPolygonToSquare=function(t){for(var e=void 0,n=void 0,r=t.length/2,i=1/0,o=1/0,a=-1/0,s=-1/0,l=0;l<r;l++)e=t[2*l],n=t[2*l+1],i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,n),s=Math.max(s,n);for(var u=2/(a-i),c=2/(s-o),d=0;d<r;d++)e=t[2*d]=t[2*d]*u,n=t[2*d+1]=t[2*d+1]*c,i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,n),s=Math.max(s,n);if(o<-1)for(var h=0;h<r;h++)n=t[2*h+1]=t[2*h+1]+(-1-o);return t},r.generateUnitNgonPoints=function(t,e){var n=1/t*2*Math.PI,r=t%2==0?Math.PI/2+n/2:Math.PI/2;r+=e;for(var i=new Array(2*t),o=void 0,a=0;a<t;a++)o=a*n+r,i[2*a]=Math.cos(o),i[2*a+1]=Math.sin(-o);return i},r.getRoundRectangleRadius=function(t,e){return Math.min(t/4,e/4,8)},r.getCutRectangleCornerLength=function(){return 8},r.bezierPtsToQuadCoeff=function(t,e,n){return[t-2*e+n,2*(e-t),t]},r.getBarrelCurveConstants=function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},t.exports=r},function(t,e,n){t.exports="undefined"==typeof window?null:window},function(t,e,n){var r=n(1),i={};[n(43),n(45),n(46)].forEach((function(t){r.assign(i,t)})),t.exports=i},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};
/*!
	Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
	Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
	Licensed under The MIT License (http://opensource.org/licenses/MIT)
	*/i.prototype={fulfill:function(t){return o(this,1,"fulfillValue",t)},reject:function(t){return o(this,2,"rejectReason",t)},then:function(t,e){var n=new i;return this.onFulfilled.push(l(t,n,"fulfill")),this.onRejected.push(l(e,n,"reject")),a(this),n.proxy}};var o=function(t,e,n,r){return 0===t.state&&(t.state=e,t[n]=r,a(t)),t},a=function(t){1===t.state?s(t,"onFulfilled",t.fulfillValue):2===t.state&&s(t,"onRejected",t.rejectReason)},s=function(t,e,n){if(0!==t[e].length){var r=t[e];t[e]=[];var i=function(){for(var t=0;t<r.length;t++)r[t](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},l=function(t,e,n){return function(r){if("function"!=typeof t)e[n].call(e,r);else{var i;try{i=t(r)}catch(t){return void e.reject(t)}u(e,i)}}},u=function t(e,n){if(e!==n&&e.proxy!==n){var i;if("object"===(void 0===n?"undefined":r(n))&&null!==n||"function"==typeof n)try{i=n.then}catch(t){return void e.reject(t)}if("function"!=typeof i)e.fulfill(n);else{var o=!1;try{i.call(n,(function(r){o||(o=!0,r===n?e.reject(new TypeError("circular thenable chain")):t(e,r))}),(function(t){o||(o=!0,e.reject(t))}))}catch(t){o||e.reject(t)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};i.all=function(t){return new i((function(e,n){for(var r=new Array(t.length),i=0,o=function(n,o){r[n]=o,++i===t.length&&e(r)},a=0;a<t.length;a++)!function(e){var r=t[e];null!=r&&null!=r.then?r.then((function(t){o(e,t)}),(function(t){n(t)})):o(e,r)}(a)}))},i.resolve=function(t){return new i((function(e,n){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},t.exports="undefined"!=typeof Promise?Promise:i},function(t,e,n){var r=n(0),i=n(1),o=n(10),a=function(t){if(this._private={selectorText:t,invalid:!0},null==t||r.string(t)&&t.match(/^\s*$/))this.length=0;else if("*"===t||"edge"===t||"node"===t)this[0]=o(),this[0].group="*"===t?t:t+"s",this[0].groupOnly=!0,this[0].length=1,this._private.invalid=!1,this.length=1;else if(r.elementOrCollection(t)){var e=t.collection();this[0]=o(),this[0].collection=e,this[0].length=1,this.length=1}else if(r.fn(t))this[0]=o(),this[0].filter=t,this[0].length=1,this.length=1;else{if(!r.string(t))return void i.error("A selector must be created from a string; found ",t);if(!this.parse(t))return}this._private.invalid=!1},s=a.prototype;s.valid=function(){return!this._private.invalid},s.invalid=function(){return this._private.invalid},s.text=function(){return this._private.selectorText},s.size=function(){return this.length},s.eq=function(t){return this[t]},s.sameText=function(t){return this.text()===t.text()},s.toString=s.selector=function(){if(null!=this._private.toStringCache)return this._private.toStringCache;var t=void 0,e="",n=function(t){return null==t?"":t},i=function(t){return r.string(t)?'"'+t+'"':n(t)},o=function(t){return" "+t+" "},a=function e(r){var a="",s=void 0;r.subject===r&&(a+="$");var l=n(r.group);for(a+=l.substring(0,l.length-1),s=0;s<r.data.length;s++){var u=r.data[s];u.value?a+="["+u.field+o(n(u.operator))+i(u.value)+"]":a+="["+n(u.operator)+u.field+"]"}for(s=0;s<r.meta.length;s++){var c=r.meta[s];a+="[["+c.field+o(n(c.operator))+i(c.value)+"]]"}for(s=0;s<r.colonSelectors.length;s++)a+=r.colonSelectors[t];for(s=0;s<r.ids.length;s++)a+="#"+r.ids[t];for(s=0;s<r.classes.length;s++)a+="."+r.classes[s];if(null!=r.source&&null!=r.target&&(a=e(r.source)+" -> "+e(r.target)),null!=r.connectedNodes){var d=r.connectedNodes;a=e(d[0])+" <-> "+e(d[1])}return null!=r.parent&&(a=e(r.parent)+" > "+a),null!=r.ancestor&&(a=e(r.ancestor)+" "+a),null!=r.child&&(a+=" > "+e(r.child)),null!=r.descendant&&(a+=" "+e(r.descendant)),a};for(t=0;t<this.length;t++)e+=a(this[t]),this.length>1&&t<this.length-1&&(e+=", ");return this._private.toStringCache=e,e},[n(49),n(52)].forEach((function(t){return i.assign(s,t)})),t.exports=a},function(t,e,n){var r=n(1),i=n(0),o=n(28),a=n(8),s=n(14),l=function(t,e,n){for(var i=null!=n?n:r.uuid();t.hasElementWithId(i);)i=r.uuid();return i},u=function(t,e,n){if(void 0!==t&&i.core(t)){var u=new o,c=!1;if(e){if(e.length>0&&i.plainObject(e[0])&&!i.element(e[0])){c=!0;for(var d=[],h=new a,f=0,p=e.length;f<p;f++){var g=e[f];null==g.data&&(g.data={});var v=g.data;if(null==v.id)v.id=l(t,g);else if(t.hasElementWithId(v.id)||h.has(v.id))continue;var y=new s(t,g,!1);d.push(y),h.add(v.id)}e=d}}else e=[];this.length=0;for(var m=0,b=e.length;m<b;m++){var w=e[m];if(null!=w){var x=w._private.data.id;(null==n||n.unique&&!u.has(x))&&(u.set(x,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={cy:t,map:u},c&&this.restore()}else r.error("A collection must have a reference to the core")},c=s.prototype=u.prototype;c.instanceString=function(){return"collection"},c.spawn=function(t,e,n){return i.core(t)||(n=e,e=t,t=this.cy()),new u(t,e,n)},c.spawnSelf=function(){return this.spawn(this)},c.cy=function(){return this._private.cy},c.renderer=function(){return this._private.cy.renderer()},c.element=function(){return this[0]},c.collection=function(){return i.collection(this)?this:new u(this._private.cy,[this])},c.unique=function(){return new u(this._private.cy,this,{unique:!0})},c.hasElementWithId=function(t){return this._private.map.has(t)},c.getElementById=function(t){var e=this._private.cy,n=this._private.map.get(t);return n?n.ele:new u(e)},c.$id=c.getElementById,c.poolIndex=function(){var t=this._private.cy._private.elements,e=this._private.data.id;return t._private.map.get(e).index},c.json=function(t){var e=this.element(),n=this.cy();if(null==e&&t)return this;if(null!=e){var o=e._private;if(i.plainObject(t)){if(n.startBatch(),t.data){e.data(t.data);var a=o.data;if(e.isEdge()){var s=!1,l={},u=t.data.source,c=t.data.target;null!=u&&u!==a.source&&(l.source=u,s=!0),null!=c&&c!==a.target&&(l.target=c,s=!0),s&&(e=e.move(l))}else{var d=t.data.parent;null==d&&null==a.parent||d===a.parent||(void 0===d&&(d=null),e=e.move({parent:d}))}}t.position&&e.position(t.position);var h=function(n,r,i){var a=t[n];null!=a&&a!==o[n]&&(a?e[r]():e[i]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),null!=t.classes&&e.classes(t.classes),n.endBatch(),this}if(void 0===t){var f={data:r.copy(o.data),position:r.copy(o.position),group:o.group,removed:o.removed,selected:o.selected,selectable:o.selectable,locked:o.locked,grabbable:o.grabbable,classes:null};f.classes="";var p=0;return o.classes.forEach((function(t){return f.classes+=0==p++?t:" "+t})),f}}},c.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e].json();t.push(n)}return t},c.clone=function(){for(var t=this.cy(),e=[],n=0;n<this.length;n++){var r=this[n].json(),i=new s(t,r,!1);e.push(i)}return new u(t,e)},c.copy=c.clone,c.restore=function(t){var e=this.cy(),n=e._private;void 0===t&&(t=!0);for(var a=[],s=[],c=void 0,d=0,h=this.length;d<h;d++){var f=this[d];f.removed()&&(f.isNode()?a.push(f):s.push(f))}c=a.concat(s);var p=void 0,g=function(){c.splice(p,1),p--};for(p=0;p<c.length;p++){var v=c[p],y=v._private,m=y.data;if(v.clearTraversalCache(),void 0===m.id)m.id=l(e,v);else if(i.number(m.id))m.id=""+m.id;else{if(i.emptyString(m.id)||!i.string(m.id)){r.error("Can not create element with invalid string ID `"+m.id+"`"),g();continue}if(e.hasElementWithId(m.id)){r.error("Can not create second element with ID `"+m.id+"`"),g();continue}}var b=m.id;if(v.isNode()){var w=y.position;null==w.x&&(w.x=0),null==w.y&&(w.y=0)}if(v.isEdge()){for(var x=v,_=["source","target"],E=_.length,S=!1,k=0;k<E;k++){var O=_[k],C=m[O];i.number(C)&&(C=m[O]=""+m[O]),null==C||""===C?(r.error("Can not create edge `"+b+"` with unspecified "+O),S=!0):e.hasElementWithId(C)||(r.error("Can not create edge `"+b+"` with nonexistant "+O+" `"+C+"`"),S=!0)}if(S){g();continue}var T=e.getElementById(m.source),P=e.getElementById(m.target);T._private.edges.push(x),P._private.edges.push(x),x._private.source=T,x._private.target=P}y.map=new o,y.map.set(b,{ele:v,index:0}),y.removed=!1,e.addToPool(v)}for(var N=0;N<a.length;N++){var D=a[N],A=D._private.data;i.number(A.parent)&&(A.parent=""+A.parent);var M=A.parent;if(null!=M){var L=e.getElementById(M);if(L.empty())A.parent=void 0;else{for(var j=!1,I=L;!I.empty();){if(D.same(I)){j=!0,A.parent=void 0;break}I=I.parent()}j||(L[0]._private.children.push(D),D._private.parent=L[0],n.hasCompoundNodes=!0)}}}if(c.length>0){for(var R=new u(e,c),B=0;B<R.length;B++){var z=R[B];z.isNode()||(z.parallelEdges().clearTraversalCache(),z.source().clearTraversalCache(),z.target().clearTraversalCache())}(n.hasCompoundNodes?e.collection().merge(R).merge(R.connectedNodes()).merge(R.parent()):R).dirtyCompoundBoundsCache().updateStyle(t),t?R.emitAndNotify("add"):R.emit("add")}return this},c.removed=function(){var t=this[0];return t&&t._private.removed},c.inside=function(){var t=this[0];return t&&!t._private.removed},c.remove=function(t){var e=[],n=[],i={},o=this._private.cy;function a(t){var e=i[t.id()];t.removed()||e||(i[t.id()]=!0,t.isNode()?(n.push(t),function(t){for(var e=t._private.edges,n=0;n<e.length;n++)a(e[n])}(t),function(t){for(var e=t._private.children,n=0;n<e.length;n++)a(e[n])}(t)):n.unshift(t))}void 0===t&&(t=!0);for(var s=0,l=this.length;s<l;s++)a(this[s]);function c(t,e){var n=t._private.edges;r.removeFromArray(n,e),t.clearTraversalCache()}var d=[];function h(t,e){e=e[0];var n=(t=t[0])._private.children,i=t.id();r.removeFromArray(n,e),d.ids[i]||(d.ids[i]=!0,d.push(t))}d.ids={},this.dirtyCompoundBoundsCache(),o.removeFromPool(n);for(var f=0;f<n.length;f++){var p=n[f];if(p._private.removed=!0,e.push(p),p.isEdge()){var g=p.source()[0],v=p.target()[0];c(g,p),c(v,p),p.parallelEdges().clearTraversalCache()}else{var y=p.parent();0!==y.length&&h(y,p)}}var m=o._private.elements;o._private.hasCompoundNodes=!1;for(var b=0;b<m.length;b++)if(m[b].isParent()){o._private.hasCompoundNodes=!0;break}var w=new u(this.cy(),e);w.size()>0&&(t&&this.cy().notify({type:"remove",eles:w}),w.emit("remove"));for(var x=0;x<d.length;x++){var _=d[x];_.removed()||_.updateStyle()}return new u(o,e)},c.move=function(t){var e=this._private.cy;if(void 0!==t.source||void 0!==t.target){var n=t.source,r=t.target,i=e.hasElementWithId(n),o=e.hasElementWithId(r);if(i||o){var a=this.jsons();this.remove();for(var s=0;s<a.length;s++){var l=a[s],u=this[s];"edges"===l.group&&(i&&(l.data.source=n),o&&(l.data.target=r),l.scratch=u._private.scratch)}return e.add(a)}}else if(void 0!==t.parent){var c=t.parent;if(null===c||e.hasElementWithId(c)){var d=this.jsons(),h=this.descendants(),f=h.union(h.union(this).connectedEdges()).jsons();this.remove();for(var p=0;p<d.length;p++){var g=d[p],v=this[p];"nodes"===g.group&&(g.data.parent=null===c?void 0:c,g.scratch=v._private.scratch)}return e.add(d.concat(f))}}return this},[n(29),n(42),n(47),n(48),n(53),n(54),n(55),n(56),n(61),n(62),n(63),n(7),n(64),n(65),n(66),n(67),n(68)].forEach((function(t){r.extend(c,t)})),t.exports=u},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._obj=Object.create(null),null!=e){var n=void 0;n=null!=e.instanceString&&e.instanceString()===this.instanceString()?e.toArray():e;for(var r=0;r<n.length;r++)this.add(n[r])}}return r(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){this._obj[t]=1}},{key:"delete",value:function(t){this._obj[t]=0}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return 1===this._obj[t]}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter((function(e){return t.has(e)}))}},{key:"forEach",value:function(t,e){return this.toArray().forEach(t,e)}},{key:"size",get:function(){return this.toArray().length}}]),t}();t.exports=i},function(t,e,n){t.exports=n(32)},function(t,e,n){t.exports=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}}},function(t,e,n){var r=n(1),i=n(0),o=n(16),a=/^([^.]+)(\.(?:[^.]+))?$/,s={qualifierCompare:function(t,e){return t===e},eventMatches:function(){return!0},eventFields:function(){return{}},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:void 0};function l(t){r.assign(this,s,t),this.listeners=[],this.emitting=0}var u=l.prototype,c=function(t,e,n,o,s,l,u){i.fn(o)&&(s=o,o=null),u&&(l=null==l?u:r.assign({},l,u));for(var c=n.split(/\s+/),d=0;d<c.length;d++){var h=c[d];if(!i.emptyString(h)){var f=h.match(a);if(f&&!1===e(t,h,f[1],f[2]?f[2]:null,o,s,l))break}}},d=function(t,e){return new o(e.type,r.assign(e,t.eventFields(t.context)))};u.on=u.addListener=function(t,e,n,r,o){return c(this,(function(t,e,n,r,o,a,s){i.fn(a)&&t.listeners.push({event:e,callback:a,type:n,namespace:r,qualifier:o,conf:s})}),t,e,n,r,o),this},u.one=function(t,e,n,r){return this.on(t,e,n,r,{one:!0})},u.removeListener=u.off=function(t,e,n,i){var o=this;0!==this.emitting&&(this.listeners=r.copyArray(this.listeners));for(var a=this.listeners,s=function(r){var s=a[r];c(o,(function(t,e,n,i,o,l){if(s.type===n&&(!i||s.namespace===i)&&(!o||t.qualifierCompare(s.qualifier,o))&&(!l||s.callback===l))return a.splice(r,1),!1}),t,e,n,i)},l=a.length-1;l>=0;l--)s(l);return this},u.emit=u.trigger=function(t,e,n){var o=this.listeners,s=o.length;return this.emitting++,i.array(e)||(e=[e]),function(t,e,n){if(i.event(n))e(t,n);else if(i.plainObject(n))e(t,d(t,n));else for(var r=n.split(/\s+/),o=0;o<r.length;o++){var s=r[o];if(!i.emptyString(s)){var l=s.match(a);if(l){var u=l[1],c=l[2]?l[2]:null;e(t,d(t,{type:u,namespace:c,target:t.context}))}}}}(this,(function(t,i){null!=n&&(o=[{event:i.event,type:i.type,namespace:i.namespace,callback:n}],s=o.length);for(var a=function(n){var a=o[n];if(a.type===i.type&&(!a.namespace||a.namespace===i.namespace||".*"===a.namespace)&&t.eventMatches(t.context,a,i)){var s=[i];null!=e&&r.push(s,e),t.beforeEmit(t.context,a,i),a.conf&&a.conf.one&&(t.listeners=t.listeners.filter((function(t){return t!==a})));var l=t.callbackContext(t.context,a,i),u=a.callback.apply(l,s);t.afterEmit(t.context,a,i),!1===u&&(i.stopPropagation(),i.preventDefault())}},l=0;l<s;l++)a(l);t.bubble(t.context)&&!i.isPropagationStopped()&&t.parent(t.context).emit(i,e)}),t),this.emitting--,this},t.exports=l},function(t,e,n){var r=n(3),i=n(1),o=n(7),a=n(0),s=n(5),l=n(4),u=function(t){var e=this,n=(t=i.extend({},t)).container;n&&!a.htmlElement(n)&&a.htmlElement(n[0])&&(n=n[0]);var l=n?n._cyreg:null;(l=l||{})&&l.cy&&(l.cy.destroy(),l={});var u=l.readies=l.readies||[];n&&(n._cyreg=l),l.cy=e;var c=void 0!==r&&void 0!==n&&!t.headless,d=t;d.layout=i.extend({name:c?"grid":"null"},d.layout),d.renderer=i.extend({name:c?"canvas":"null"},d.renderer);var h=function(t,e,n){return void 0!==e?e:void 0!==n?n:t},f=this._private={container:n,ready:!1,options:d,elements:new o(this),listeners:[],aniEles:new o(this),scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:h(!0,d.zoomingEnabled),userZoomingEnabled:h(!0,d.userZoomingEnabled),panningEnabled:h(!0,d.panningEnabled),userPanningEnabled:h(!0,d.userPanningEnabled),boxSelectionEnabled:h(!0,d.boxSelectionEnabled),autolock:h(!1,d.autolock,d.autolockNodes),autoungrabify:h(!1,d.autoungrabify,d.autoungrabifyNodes),autounselectify:h(!1,d.autounselectify),styleEnabled:void 0===d.styleEnabled?c:d.styleEnabled,zoom:a.number(d.zoom)?d.zoom:1,pan:{x:a.plainObject(d.pan)&&a.number(d.pan.x)?d.pan.x:0,y:a.plainObject(d.pan)&&a.number(d.pan.y)?d.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter();var p=d.selectionType;f.selectionType=void 0===p||"additive"!==p&&"single"!==p?"single":p,a.number(d.minZoom)&&a.number(d.maxZoom)&&d.minZoom<d.maxZoom?(f.minZoom=d.minZoom,f.maxZoom=d.maxZoom):a.number(d.minZoom)&&void 0===d.maxZoom?f.minZoom=d.minZoom:a.number(d.maxZoom)&&void 0===d.minZoom&&(f.maxZoom=d.maxZoom),f.styleEnabled&&e.setStyle([]),e.initRenderer(i.extend({hideEdgesOnViewport:d.hideEdgesOnViewport,textureOnViewport:d.textureOnViewport,wheelSensitivity:a.number(d.wheelSensitivity)&&d.wheelSensitivity>0?d.wheelSensitivity:1,motionBlur:void 0!==d.motionBlur&&d.motionBlur,motionBlurOpacity:void 0===d.motionBlurOpacity?.05:d.motionBlurOpacity,pixelRatio:a.number(d.pixelRatio)&&d.pixelRatio>0?d.pixelRatio:void 0,desktopTapThreshold:void 0===d.desktopTapThreshold?4:d.desktopTapThreshold,touchTapThreshold:void 0===d.touchTapThreshold?8:d.touchTapThreshold},d.renderer)),function(t,e){if(t.some(a.promise))return s.all(t).then(e);e(t)}([d.style,d.elements],(function(t){var n=t[0],r=t[1];f.styleEnabled&&e.style().append(n),function(t,n,r){e.notifications(!1);var o=e.mutableElements();o.length>0&&o.remove(),null!=t&&(a.plainObject(t)||a.array(t))&&e.add(t),e.one("layoutready",(function(t){e.notifications(!0),e.emit(t),e.notify({type:"load",eles:e.mutableElements()}),e.one("load",n),e.emit("load")})).one("layoutstop",(function(){e.one("done",r),e.emit("done")}));var s=i.extend({},e._private.options.layout);s.eles=e.elements(),e.layout(s).run()}(r,(function(){e.startAnimationLoop(),f.ready=!0,a.fn(d.ready)&&e.on("ready",d.ready);for(var t=0;t<u.length;t++){var n=u[t];e.on("ready",n)}l&&(l.readies=[]),e.emit("ready")}),d.done)}))},c=u.prototype;i.extend(c,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},isDestroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.isDestroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return"null"===this._private.options.renderer.name},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container},options:function(){return i.copy(this._private.options)},json:function(t){var e=this,n=e._private,r=e.mutableElements();if(a.plainObject(t)){if(e.startBatch(),t.elements){var o={},s=function(t,n){for(var r=[],a=[],s=0;s<t.length;s++){var l=t[s],u=l.data.id,c=e.getElementById(u);o[u]=!0,0!==c.length?a.push({ele:c,json:l}):n?r.push(i.extend({group:n},l)):r.push(l)}e.add(r);for(var d=0;d<a.length;d++){var h=a[d],f=h.ele,p=h.json;f.json(p)}};if(a.array(t.elements))s(t.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],d=t.elements[c];a.array(d)&&s(d,c)}for(var h=0;h<r.length;h++){var f=r[h];!o[f.id()]&&(f.isParent()?(f.children().move({parent:null}),f.remove()):f.remove())}}t.style&&e.style(t.style),null!=t.zoom&&t.zoom!==n.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x===n.pan.x&&t.pan.y===n.pan.y||e.pan(t.pan));for(var p=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],g=0;g<p.length;g++){var v=p[g];null!=t[v]&&e[v](t[v])}return e.endBatch(),this}if(void 0===t){var y={elements:{}};return r.forEach((function(t){var e=t.group();y.elements[e]||(y.elements[e]=[]),y.elements[e].push(t.json())})),this._private.styleEnabled&&(y.style=e.style().json()),y.zoomingEnabled=e._private.zoomingEnabled,y.userZoomingEnabled=e._private.userZoomingEnabled,y.zoom=e._private.zoom,y.minZoom=e._private.minZoom,y.maxZoom=e._private.maxZoom,y.panningEnabled=e._private.panningEnabled,y.userPanningEnabled=e._private.userPanningEnabled,y.pan=i.copy(e._private.pan),y.boxSelectionEnabled=e._private.boxSelectionEnabled,y.renderer=i.copy(e._private.options.renderer),y.hideEdgesOnViewport=e._private.options.hideEdgesOnViewport,y.textureOnViewport=e._private.options.textureOnViewport,y.wheelSensitivity=e._private.options.wheelSensitivity,y.motionBlur=e._private.options.motionBlur,y}},scratch:l.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:l.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),c.$id=c.getElementById,[n(69),n(70),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(93)].forEach((function(t){i.extend(c,t)})),t.exports=u},function(t,e,n){t.exports=function(t,e){e||(e=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")});var n=function n(){var r=this,i=arguments,o=void 0,a=e.apply(r,i),s=n.cache;return(o=s[a])||(o=s[a]=t.apply(r,i)),o};return n.cache={},n}},function(t,e,n){var r=n(1),i=n(0),o=n(8);t.exports=function(t,e,n){if(n=!(void 0!==n&&!n),void 0!==t&&void 0!==e&&i.core(t)){var a=e.group;if(null==a&&(a=e.data&&null!=e.data.source&&null!=e.data.target?"edges":"nodes"),"nodes"===a||"edges"===a){this.length=1,this[0]=this;var s=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!e.selected,selectable:void 0===e.selectable||!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:void 0===e.grabbable||!!e.grabbable,active:!1,classes:new o,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1};if(e.renderedPosition){var l=e.renderedPosition,u=t.pan(),c=t.zoom();s.position={x:(l.x-u.x)/c,y:(l.y-u.y)/c}}if(i.string(e.classes))for(var d=e.classes.split(/\s+/),h=0,f=d.length;h<f;h++){var p=d[h];p&&""!==p&&s.classes.add(p)}(e.style||e.css)&&t.style().applyBypass(this,e.style||e.css),this.createEmitter(),(void 0===n||n)&&this.restore()}else r.error("An element must be of type `nodes` or `edges`; you specified `"+a+"`")}else r.error("An element must have a core reference and parameters set")}},function(t,e,n){var r=n(1),i=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort((function(t,e){return r.sort.descending(t.selector,e.selector)})),o="("+i.map((function(t){return t.selector})).join("|")+")";t.exports={stateSelectors:i,stateSelectorMatches:function t(e,n){return(t.lookup=t.lookup||function(){for(var t={},e=void 0,n=0;n<i.length;n++)t[(e=i[n]).selector]=e.matches;return t}())[e](n)},stateSelectorRegex:o}},function(t,e,n){
/*!
	Event object based on jQuery events, MIT license

	https://jquery.org/license/
	https://tldrlegal.com/license/mit-license
	https://github.com/jquery/jquery/blob/master/src/event.js
	*/
var r=function(t,e){this.recycle(t,e)};function i(){return!1}function o(){return!0}r.prototype={instanceString:function(){return"event"},recycle:function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=i,null!=t&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?o:i):null!=t&&t.type?e=t:this.type=t,null!=e&&(this.originalEvent=e.originalEvent,this.type=null!=e.type?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*r+a.x,y:n.y*r+a.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=o;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=o;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:i,isPropagationStopped:i,isImmediatePropagationStopped:i},t.exports=r},function(t,e,n){var r=n(1);t.exports=function(t,e){var n=t.cy().hasCompoundNodes();function i(t){var e=t.pstyle("z-compound-depth");return"auto"===e.value?n?t.zDepth():0:"bottom"===e.value?-1:"top"===e.value?r.MAX_INT:0}var o=i(t)-i(e);if(0!==o)return o;function a(t){return"auto"===t.pstyle("z-index-compare").value&&t.isNode()?1:0}var s=a(t)-a(e);if(0!==s)return s;var l=t.pstyle("z-index").value-e.pstyle("z-index").value;return 0!==l?l:t.poolIndex()-e.poolIndex()}},function(t,e,n){var r=n(0),i=n(1),o=n(6),a=function t(e){if(!(this instanceof t))return new t(e);r.core(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):i.error("A style must have a core reference")},s=a.prototype;s.instanceString=function(){return"style"},s.clear=function(){for(var t=0;t<this.length;t++)this[t]=void 0;return this.length=0,this._private.newStyle=!0,this},s.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},s.core=function(){return this._private.coreStyle},s.selector=function(t){var e="core"===t?null:new o(t),n=this.length++;return this[n]={selector:e,properties:[],mappedProperties:[],index:n},this},s.css=function(){var t=this,e=arguments;switch(e.length){case 1:for(var n=e[0],r=0;r<t.properties.length;r++){var o=t.properties[r],a=n[o.name];void 0===a&&(a=n[i.dash2camel(o.name)]),void 0!==a&&this.cssRule(o.name,a)}break;case 2:this.cssRule(e[0],e[1])}return this},s.style=s.css,s.cssRule=function(t,e){var n=this.parse(t,e);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},s.append=function(t){return r.stylesheet(t)?t.appendToStyle(this):r.array(t)?this.appendFromJson(t):r.string(t)&&this.appendFromString(t),this},a.fromJson=function(t,e){var n=new a(t);return n.fromJson(e),n},a.fromString=function(t,e){return new a(t).fromString(e)},[n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92)].forEach((function(t){i.extend(s,t)})),a.types=s.types,a.properties=s.properties,t.exports=a},function(t,e,n){var r=n(1);t.exports={setupDequeueing:function(t){return function(){var e=this,n=this.renderer;if(!e.dequeueingSetup){e.dequeueingSetup=!0;var i=r.debounce((function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()}),t.deqRedrawThreshold),o=t.priority||r.noop;n.beforeRender((function(o,a){for(var s=r.performanceNow(),l=n.averageRedrawTime,u=n.lastRedrawTime,c=[],d=n.cy.extent(),h=n.getPixelRatio();;){var f=r.performanceNow(),p=f-s,g=f-a;if(u<1e3/60){var v=1e3/60-(o?l:0);if(g>=t.deqFastCost*v)break}else if(o){if(p>=t.deqCost*u||p>=t.deqAvgCost*l)break}else if(g>=t.deqNoDrawCost*(1e3/60))break;var y=t.deq(e,h,d);if(!(y.length>0))break;for(var m=0;m<y.length;m++)c.push(y[m])}c.length>0&&(t.onDeqd(e,c),!o&&t.shouldRedraw(e,c,h,d)&&i())}),o(e))}}}}},function(t,e,n){var r=n(0),i=n(12),o=n(94),a=n(136),s=function(t){return void 0===t&&(t={}),r.plainObject(t)?new i(t):r.string(t)?o.apply(o,arguments):void 0};s.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(s),t.apply(null,e),this},s.version=n(137),s.stylesheet=s.Stylesheet=a,t.exports=s},function(t,e,n){var r=n(0);t.exports={hex2tuple:function(t){if((4===t.length||7===t.length)&&"#"===t[0]){var e=void 0,n=void 0,r=void 0;return 4===t.length?(e=parseInt(t[1]+t[1],16),n=parseInt(t[2]+t[2],16),r=parseInt(t[3]+t[3],16)):(e=parseInt(t[1]+t[2],16),n=parseInt(t[3]+t[4],16),r=parseInt(t[5]+t[6],16)),[e,n,r]}},hsl2tuple:function(t){var e=void 0,n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,l=void 0;function u(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var c=new RegExp("^"+this.regex.hsla+"$").exec(t);if(c){if((n=parseInt(c[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(c[2]))<0||r>100)return;if(r/=100,(i=parseFloat(c[3]))<0||i>100)return;if(i/=100,void 0!==(o=c[4])&&((o=parseFloat(o))<0||o>1))return;if(0===r)a=s=l=Math.round(255*i);else{var d=i<.5?i*(1+r):i+r-i*r,h=2*i-d;a=Math.round(255*u(h,d,n+1/3)),s=Math.round(255*u(h,d,n)),l=Math.round(255*u(h,d,n-1/3))}e=[a,s,l,o]}return e},rgb2tuple:function(t){var e=void 0,n=new RegExp("^"+this.regex.rgba+"$").exec(t);if(n){e=[];for(var r=[],i=1;i<=3;i++){var o=n[i];if("%"===o[o.length-1]&&(r[i]=!0),o=parseFloat(o),r[i]&&(o=o/100*255),o<0||o>255)return;e.push(Math.floor(o))}var a=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(a&&!s)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;e.push(l)}}return e},colorname2tuple:function(t){return this.colors[t.toLowerCase()]},color2tuple:function(t){return(r.array(t)?t:null)||this.colorname2tuple(t)||this.hex2tuple(t)||this.rgb2tuple(t)||this.hsl2tuple(t)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},function(t,e,n){var r=n(0);t.exports={mapEmpty:function(t){return null==t||0===Object.keys(t).length},pushMap:function(t){var e=this.getMap(t);null==e?this.setMap(this.extend({},t,{value:[t.value]})):e.push(t.value)},setMap:function(t){for(var e=t.map,n=t.keys,i=n.length,o=0;o<i;o++){var a=n[o];r.plainObject(a)&&this.error("Tried to set map with object key"),o<n.length-1?(null==e[a]&&(e[a]={}),e=e[a]):e[a]=t.value}},getMap:function(t){for(var e=t.map,n=t.keys,i=n.length,o=0;o<i;o++){var a=n[o];if(r.plainObject(a)&&this.error("Tried to get map with object key"),null==(e=e[a]))return e}return e},deleteMap:function(t){for(var e=t.map,n=t.keys,i=n.length,o=t.keepChildren,a=0;a<i;a++){var s=n[a];if(r.plainObject(s)&&this.error("Tried to delete map with object key"),a===t.keys.length-1)if(o)for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];o[c]||(e[c]=void 0)}else e[s]=void 0;else e=e[s]}}}},function(t,e,n){var r="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))";t.exports={regex:{number:r,rgba:"rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",rgbaNoBackRefs:"rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hsla:"hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hslaNoBackRefs:"hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hex3:"\\#[0-9a-fA-F]{3}",hex6:"\\#[0-9a-fA-F]{6}"}}},function(t,e,n){var r=n(13),i=n(0);t.exports={camel2dash:r((function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))})),dash2camel:r((function(t){return t.replace(/(-\w)/g,(function(t){return t[1].toUpperCase()}))})),prependCamel:r((function(t,e){return t+e[0].toUpperCase()+e.substring(1)}),(function(t,e){return t+"$"+e})),capitalize:function(t){return i.emptyString(t)?t:t.charAt(0).toUpperCase()+t.substring(1)}}},function(t,e,n){var r=n(3),i=r?r.performance:null,o={},a=i&&i.now?function(){return i.now()}:function(){return Date.now()},s=function(){if(r){if(r.requestAnimationFrame)return function(t){r.requestAnimationFrame(t)};if(r.mozRequestAnimationFrame)return function(t){r.mozRequestAnimationFrame(t)};if(r.webkitRequestAnimationFrame)return function(t){r.webkitRequestAnimationFrame(t)};if(r.msRequestAnimationFrame)return function(t){r.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout((function(){t(a())}),1e3/60)}}();o.requestAnimationFrame=function(t){s(t)},o.performanceNow=a,o.debounce=n(26),o.now=function(){return Date.now()},t.exports=o},function(e,n){e.exports=t},function(t,e,n){function r(t,e){return t<e?-1:t>e?1:0}t.exports={sort:{ascending:r,descending:function(t,e){return-1*r(t,e)}}}},function(t,e,n){function r(){this._obj={}}var i=r.prototype;i.set=function(t,e){this._obj[t]=e},i.delete=function(t){this._obj[t]=null},i.has=function(t){return null!=this._obj[t]},i.get=function(t){return this._obj[t]},t.exports=r},function(t,e,n){var r=n(1),i={};[n(30),n(31),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41)].forEach((function(t){r.extend(i,t)})),t.exports=i},function(t,e,n){var r=n(0),i=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(e,n,i){var o;r.plainObject(e)&&!r.elementOrCollection(e)&&(e=(o=e).roots||o.root,n=o.visit,i=o.directed),i=2!==arguments.length||r.fn(n)?i:n,n=r.fn(n)?n:function(){};for(var a,s=this._private.cy,l=e=r.string(e)?this.filter(e):e,u=[],c=[],d={},h={},f={},p=0,g=this.nodes(),v=this.edges(),y=0;y<l.length;y++)l[y].isNode()&&(u.unshift(l[y]),t.bfs&&(f[l[y].id()]=!0,c.push(l[y])),h[l[y].id()]=0);for(;0!==u.length;){if(l=t.bfs?u.shift():u.pop(),t.dfs){if(f[l.id()])continue;f[l.id()]=!0,c.push(l)}var m,b=h[l.id()],w=d[l.id()],x=null==w?void 0:w.connectedNodes().not(l)[0];if(!0===(m=n(l,w,x,p++,b))){a=l;break}if(!1===m)break;var _=l.connectedEdges(i?function(t){return t.data("source")===l.id()}:void 0).intersect(v);for(y=0;y<_.length;y++){var E=_[y],S=E.connectedNodes((function(t){return t.id()!==l.id()})).intersect(g);0===S.length||f[S.id()]||(S=S[0],u.push(S),t.bfs&&(f[S.id()]=!0,c.push(S)),d[S.id()]=E,h[S.id()]=h[l.id()]+1)}}var k=[];for(y=0;y<c.length;y++){var O=c[y],C=d[O.id()];C&&k.push(C),k.push(O)}return{path:s.collection(k,{unique:!0}),found:s.collection(a)}}},o={breadthFirstSearch:i({bfs:!0}),depthFirstSearch:i({dfs:!0})};o.bfs=o.breadthFirstSearch,o.dfs=o.depthFirstSearch,t.exports=o},function(t,e,n){var r=n(0),i=n(9),o={dijkstra:function(t,e,n){var o;r.plainObject(t)&&!r.elementOrCollection(t)&&(t=(o=t).root,e=o.weight,n=o.directed);var a=this._private.cy;e=r.fn(e)?e:function(){return 1};for(var s=r.string(t)?this.filter(t)[0]:t[0],l={},u={},c={},d=this.edges().filter((function(t){return!t.isLoop()})),h=this.nodes(),f=function(t){return l[t.id()]},p=function(t,e){l[t.id()]=e,g.updateItem(t)},g=new i((function(t,e){return f(t)-f(e)})),v=0;v<h.length;v++){var y=h[v];l[y.id()]=y.same(s)?0:1/0,g.push(y)}for(var m=function(t,r){for(var i,o=(n?t.edgesTo(r):t.edgesWith(r)).intersect(d),a=1/0,s=0;s<o.length;s++){var l=o[s],u=e(l);(u<a||!i)&&(a=u,i=l)}return{edge:i,dist:a}};g.size()>0;){var b=g.pop(),w=f(b),x=b.id();if(c[x]=w,w!==1/0){var _=b.neighborhood().intersect(h);for(v=0;v<_.length;v++){var E=_[v],S=E.id(),k=m(b,E),O=w+k.dist;O<f(E)&&(p(E,O),u[S]={node:b,edge:k.edge})}}}return{distanceTo:function(t){var e=r.string(t)?h.filter(t)[0]:t[0];return c[e.id()]},pathTo:function(t){var e=r.string(t)?h.filter(t)[0]:t[0],n=[],i=e;if(e.length>0)for(n.unshift(e);u[i.id()];){var o=u[i.id()];n.unshift(o.edge),n.unshift(o.node),i=o.node}return a.collection(n)}}}};t.exports=o},function(t,n){t.exports=e},function(t,e,n){var r=n(0),i={kruskal:function(t){var e=this.cy();function n(t){for(var e=0;e<o.length;e++){var n=o[e];if(n.anySame(t))return{eles:n,index:e}}}t=r.fn(t)?t:function(){return 1};for(var i=e.collection(e,[]),o=[],a=this.nodes(),s=0;s<a.length;s++)o.push(a[s].collection());var l=this.edges().toArray().sort((function(e,n){return t(e)-t(n)}));for(s=0;s<l.length;s++){var u=l[s],c=u.source()[0],d=u.target()[0],h=n(c),f=n(d);h.index!==f.index&&(i=i.add(u),o[h.index]=h.eles.add(f.eles),o.splice(f.index,1))}return a.add(i)}};t.exports=i},function(t,e,n){var r=n(0),i={aStar:function(t){t=t||{};var e=function t(e,n,r,o){if(e==n)return o.unshift(i.getElementById(n)),o;if(n in r){var a=r[n],s=g[n];return o.unshift(i.getElementById(s)),o.unshift(i.getElementById(n)),t(e,a,r,o)}},n=function(t,e){if(0!==t.length){for(var n=0,r=e[t[0]],i=1;i<t.length;i++){var o=e[t[i]];o<r&&(r=o,n=i)}return n}},i=this._private.cy;if(null!=t&&null!=t.root){var o=r.string(t.root)?this.filter(t.root)[0]:t.root[0];if(null!=t.goal){var a=r.string(t.goal)?this.filter(t.goal)[0]:t.goal[0];if(null!=t.heuristic&&r.fn(t.heuristic))var s=t.heuristic;else s=function(){return 0};if(null!=t.weight&&r.fn(t.weight))var l=t.weight;else l=function(t){return 1};if(null!=t.directed)var u=t.directed;else u=!1;var c=o.id(),d=a.id(),h=[],f=[c],p={},g={},v={},y={};v[c]=0,y[c]=s(o);for(var m=0;f.length>0;){var b=n(f,y),w=i.getElementById(f[b]),x=w.id();if(m++,x==d){var _=e(c,d,p,[]);return{found:!0,distance:v[x],path:this.spawn(_),steps:m}}h.push(x),f.splice(b,1);for(var E=w._private.edges,S=0;S<E.length;S++){var k=E[S];if(this.hasElementWithId(k.id())&&(!u||k.data("source")===x)){var O=k.source(),C=k.target(),T=O.id()!==x?O:C,P=T.id();if(this.hasElementWithId(P)&&-1==h.indexOf(P)){var N=v[x]+l(k);-1!=f.indexOf(P)?N<v[P]&&(v[P]=N,y[P]=N+s(T),p[P]=x):(v[P]=N,y[P]=N+s(T),f.push(P),p[P]=x,g[P]=k.id())}}}}return{found:!1,distance:void 0,path:void 0,steps:m}}}}};t.exports=i},function(t,e,n){var r=n(0),i={floydWarshall:function(t){t=t||{};var e=this.cy();if(null!=t.weight&&r.fn(t.weight))var n=t.weight;else n=function(t){return 1};if(null!=t.directed)var i=t.directed;else i=!1;for(var o=this.edges().stdFilter((function(t){return!t.isLoop()})),a=this.nodes(),s=a.length,l={},u=0;u<s;u++)l[a[u].id()]=u;var c=[];for(u=0;u<s;u++){for(var d=new Array(s),h=0;h<s;h++)d[h]=u==h?0:1/0;c.push(d)}var f=[],p=[],g=function(t){for(var e=0;e<s;e++){for(var n=new Array(s),r=0;r<s;r++)n[r]=void 0;t.push(n)}};for(g(f),g(p),u=0;u<o.length;u++){var v=l[o[u].source().id()],y=l[o[u].target().id()],m=n(o[u]);c[v][y]>m&&(c[v][y]=m,f[v][y]=y,p[v][y]=o[u])}if(!i)for(u=0;u<o.length;u++)v=l[o[u].target().id()],y=l[o[u].source().id()],m=n(o[u]),c[v][y]>m&&(c[v][y]=m,f[v][y]=y,p[v][y]=o[u]);for(var b=0;b<s;b++)for(u=0;u<s;u++)for(h=0;h<s;h++)c[u][b]+c[b][h]<c[u][h]&&(c[u][h]=c[u][b]+c[b][h],f[u][h]=f[u][b]);var w=[];for(u=0;u<s;u++)w.push(a[u].id());return{distance:function(t,n){if(r.string(t))var i=e.filter(t)[0].id();else i=t.id();if(r.string(n))var o=e.filter(n)[0].id();else o=n.id();return c[l[i]][l[o]]},path:function(t,n){if(r.string(t))var i=e.filter(t)[0].id();else i=t.id();if(r.string(n))var o=e.filter(n)[0].id();else o=n.id();var a=function(t,n,r,i,o){if(t===n)return e.getElementById(i[t]);if(void 0!==r[t][n]){for(var a=[e.getElementById(i[t])],s=t;t!==n;){s=t,t=r[t][n];var l=o[s][t];a.push(l),a.push(e.getElementById(i[t]))}return a}}(l[i],l[o],f,w,p);return e.collection(a)}}}};t.exports=i},function(t,e,n){var r=n(0),i=n(1),o={bellmanFord:function(t){var e=this;if(null!=(t=t||{}).weight&&r.fn(t.weight))var n=t.weight;else n=function(t){return 1};if(null!=t.directed)var o=t.directed;else o=!1;if(null!=t.root){if(r.string(t.root))var a=this.filter(t.root)[0];else a=t.root[0];for(var s=this._private.cy,l=this.edges().stdFilter((function(t){return!t.isLoop()})),u=this.nodes(),c=u.length,d={},h=0;h<c;h++)d[u[h].id()]=h;var f=[],p=[],g=[];for(h=0;h<c;h++)u[h].id()===a.id()?f[h]=0:f[h]=1/0,p[h]=void 0;var v=!1;for(h=1;h<c;h++){v=!1;for(var y=0;y<l.length;y++){var m,b=d[l[y].source().id()],w=d[l[y].target().id()],x=n(l[y]);(m=f[b]+x)<f[w]&&(f[w]=m,p[w]=b,g[w]=l[y],v=!0),o||(m=f[w]+x)<f[b]&&(f[b]=m,p[b]=w,g[b]=l[y],v=!0)}if(!v)break}if(v)for(y=0;y<l.length;y++)if(b=d[l[y].source().id()],w=d[l[y].target().id()],x=n(l[y]),f[b]+x<f[w])return i.error("Graph contains a negative weight cycle for Bellman-Ford"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0};var _=[];for(h=0;h<c;h++)_.push(u[h].id());return{distanceTo:function(t){if(r.string(t))var e=s.filter(t)[0].id();else e=t.id();return f[d[e]]},pathTo:function(t){if(r.string(t))var n=s.filter(t)[0].id();else n=t.id();var i=function(t,e,n,r,i,o){for(;;){if(i.push(s.getElementById(r[n])),i.push(o[n]),e===n)return i;var a=t[n];if(void 0===a)return;n=a}}(p,d[a.id()],d[n],_,[],g);return null!=i&&i.reverse(),e.spawn(i)},hasNegativeWeightCycle:!1}}}};t.exports=o},function(t,e,n){var r=n(1),i={kargerStein:function(t){t=t||{};var e=function t(e,n,r,i){return r<=i?n:t(e,function(t,e,n){for(var r=n[t],i=r[1],o=r[2],a=e[i],s=e[o],l=n.filter((function(t){return!(e[t[1]]===a&&e[t[2]]===s||e[t[1]]===s&&e[t[2]]===a)})),u=0;u<l.length;u++){var c=l[u];c[1]===s?(l[u]=c.slice(0),l[u][1]=a):c[2]===s&&(l[u]=c.slice(0),l[u][2]=a)}for(u=0;u<e.length;u++)e[u]===s&&(e[u]=a);return l}(Math.floor(Math.random()*n.length),e,n),r-1,i)},n=this._private.cy,i=this.edges().stdFilter((function(t){return!t.isLoop()})),o=this.nodes(),a=o.length,s=i.length,l=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),u=Math.floor(a/Math.sqrt(2));if(!(a<2)){for(var c={},d=0;d<a;d++)c[o[d].id()]=d;var h=[];for(d=0;d<s;d++){var f=i[d];h.push([d,c[f.source().id()],c[f.target().id()]])}var p,g=1/0,v=[];for(d=0;d<a;d++)v.push(d);for(var y=0;y<=l;y++){var m=v.slice(0),b=e(m,h,a,u),w=m.slice(0),x=e(m,b,u,2),_=e(w,b,u,2);x.length<=_.length&&x.length<g?(g=x.length,p=[x,m]):_.length<=x.length&&_.length<g&&(g=_.length,p=[_,w])}var E=p[0].map((function(t){return i[t[0]]})),S=[],k=[],O=p[1][0];for(d=0;d<p[1].length;d++)p[1][d]===O?S.push(o[d]):k.push(o[d]);return{cut:this.spawn(n,E),partition1:this.spawn(S),partition2:this.spawn(k)}}r.error("At least 2 nodes are required for Karger-Stein algorithm")}};t.exports=i},function(t,e,n){var r=n(0),i={pageRank:function(t){var e=function(t){for(var e=t.length,n=0,r=0;r<e;r++)n+=t[r];for(r=0;r<e;r++)t[r]=t[r]/n};if(null!=(t=t||{})&&null!=t.dampingFactor)var n=t.dampingFactor;else n=.8;if(null!=t&&null!=t.precision)var i=t.precision;else i=1e-6;if(null!=t&&null!=t.iterations)var o=t.iterations;else o=200;if(null!=t&&null!=t.weight&&r.fn(t.weight))var a=t.weight;else a=function(t){return 1};for(var s=this._private.cy,l=this.edges().stdFilter((function(t){return!t.isLoop()})),u=this.nodes(),c=u.length,d=l.length,h={},f=0;f<c;f++)h[u[f].id()]=f;var p=[],g=[],v=(1-n)/c;for(f=0;f<c;f++){for(var y=[],m=0;m<c;m++)y.push(0);p.push(y),g.push(0)}for(f=0;f<d;f++){var b=l[f],w=h[b.source().id()],x=h[b.target().id()],_=a(b);p[x][w]+=_,g[w]+=_}var E=1/c+v;for(m=0;m<c;m++)if(0===g[m])for(f=0;f<c;f++)p[f][m]=E;else for(f=0;f<c;f++)p[f][m]=p[f][m]/g[m]+v;var S,k=[],O=[];for(f=0;f<c;f++)k.push(1),O.push(0);for(var C=0;C<o;C++){var T=O.slice(0);for(f=0;f<c;f++)for(m=0;m<c;m++)T[f]+=p[f][m]*k[m];e(T),S=k,k=T;var P=0;for(f=0;f<c;f++)P+=Math.pow(S[f]-k[f],2);if(P<i)break}return{rank:function(t){if(r.string(t))var e=s.filter(t)[0].id();else e=t.id();return k[h[e]]}}}};t.exports=i},function(t,e,n){var r=n(0),i=n(1),o={degreeCentralityNormalized:function(t){t=t||{};var e=this.cy();if(null!=t.directed)var n=t.directed;else n=!1;var o=this.nodes(),a=o.length;if(n){var s={},l={},u=0,c=0;for(f=0;f<a;f++)p=o[f],g=this.degreeCentrality(i.extend({},t,{root:p})),u<g.indegree&&(u=g.indegree),c<g.outdegree&&(c=g.outdegree),s[p.id()]=g.indegree,l[p.id()]=g.outdegree;return{indegree:function(t){return 0==u?0:(t=r.string(t)?e.filter(t)[0].id():t.id(),s[t]/u)},outdegree:function(t){return 0==c?0:(t=r.string(t)?e.filter(t)[0].id():t.id(),l[t]/c)}}}for(var d={},h=0,f=0;f<a;f++){var p=o[f],g=this.degreeCentrality(i.extend({},t,{root:p}));h<g.degree&&(h=g.degree),d[p.id()]=g.degree}return{degree:function(t){return 0==h?0:(t=r.string(t)?e.filter(t)[0].id():t.id(),d[t]/h)}}},degreeCentrality:function(t){if(null!=(t=t||{})&&null!=t.root){var e=r.string(t.root)?this.filter(t.root)[0]:t.root[0];if(null!=t.weight&&r.fn(t.weight))var n=t.weight;else n=function(t){return 1};if(null!=t.directed)var i=t.directed;else i=!1;if(null!=t.alpha&&r.number(t.alpha))var o=t.alpha;else o=0;if(i){var a=e.connectedEdges('edge[target = "'+e.id()+'"]').intersection(this),s=e.connectedEdges('edge[source = "'+e.id()+'"]').intersection(this),l=a.length,u=s.length,c=0,d=0;for(g=0;g<a.length;g++)c+=n(a[g]);for(g=0;g<s.length;g++)d+=n(s[g]);return{indegree:Math.pow(l,1-o)*Math.pow(c,o),outdegree:Math.pow(u,1-o)*Math.pow(d,o)}}for(var h=e.connectedEdges().intersection(this),f=h.length,p=0,g=0;g<h.length;g++)p+=n(h[g]);return{degree:Math.pow(f,1-o)*Math.pow(p,o)}}}};o.dc=o.degreeCentrality,o.dcn=o.degreeCentralityNormalised=o.degreeCentralityNormalized,t.exports=o},function(t,e,n){var r=n(0),i={closenessCentralityNormalized:function(t){t=t||{};var e=this.cy(),n=t.harmonic;void 0===n&&(n=!0);for(var i={},o=0,a=this.nodes(),s=this.floydWarshall({weight:t.weight,directed:t.directed}),l=0;l<a.length;l++){for(var u=0,c=0;c<a.length;c++)if(l!=c){var d=s.distance(a[l],a[c]);u+=n?1/d:d}n||(u=1/u),o<u&&(o=u),i[a[l].id()]=u}return{closeness:function(t){return 0==o?0:(t=r.string(t)?e.filter(t)[0].id():t.id(),i[t]/o)}}},closenessCentrality:function(t){if(null!=(t=t||{}).root){if(r.string(t.root))var e=this.filter(t.root)[0];else e=t.root[0];if(null!=t.weight&&r.fn(t.weight))var n=t.weight;else n=function(){return 1};if(null!=t.directed&&r.bool(t.directed))var i=t.directed;else i=!1;var o=t.harmonic;void 0===o&&(o=!0);for(var a=this.dijkstra({root:e,weight:n,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++)if(l[u].id()!=e.id()){var c=a.distanceTo(l[u]);s+=o?1/c:c}return o?s:1/s}}};i.cc=i.closenessCentrality,i.ccn=i.closenessCentralityNormalised=i.closenessCentralityNormalized,t.exports=i},function(t,e,n){var r=n(0),i=n(9),o={betweennessCentrality:function(t){var e,n;t=t||{},r.fn(t.weight)?(n=t.weight,e=!0):e=!1;for(var o=null!=t.directed&&t.directed,a=this._private.cy,s=this.nodes(),l={},u={},c=0,d=function(t,e){u[t]=e,e>c&&(c=e)},h=function(t){return u[t]},f=0;f<s.length;f++)l[x=(_=s[f]).id()]=o?_.outgoers().nodes():_.openNeighborhood().nodes(),d(x,0);for(var p=0;p<s.length;p++){var g=s[p].id(),v=[],y={},m={},b={},w=new i((function(t,e){return b[t]-b[e]}));for(f=0;f<s.length;f++){var x;y[x=s[f].id()]=[],m[x]=0,b[x]=1/0}for(m[g]=1,b[g]=0,w.push(g);!w.empty();){var _=w.pop();if(v.push(_),e)for(var E=0;E<l[_].length;E++){var S=l[_][E],k=a.getElementById(_),O=n(k.edgesTo(S).length>0?k.edgesTo(S)[0]:S.edgesTo(k)[0]);S=S.id(),b[S]>b[_]+O&&(b[S]=b[_]+O,w.nodes.indexOf(S)<0?w.push(S):w.updateItem(S),m[S]=0,y[S]=[]),b[S]==b[_]+O&&(m[S]=m[S]+m[_],y[S].push(_))}else for(E=0;E<l[_].length;E++)S=l[_][E].id(),b[S]==1/0&&(w.push(S),b[S]=b[_]+1),b[S]==b[_]+1&&(m[S]=m[S]+m[_],y[S].push(_))}var C={};for(f=0;f<s.length;f++)C[s[f].id()]=0;for(;v.length>0;)for(S=v.pop(),E=0;E<y[S].length;E++)C[_=y[S][E]]=C[_]+m[_]/m[S]*(1+C[S]),S!=s[p].id()&&d(S,h(S)+C[S])}var T={betweenness:function(t){return t=r.string(t)?a.filter(t).id():t.id(),h(t)},betweennessNormalized:function(t){return 0==c?0:(t=r.string(t)?a.filter(t).id():t.id(),h(t)/c)}};return T.betweennessNormalised=T.betweennessNormalized,T}};o.bc=o.betweennessCentrality,t.exports=o},function(t,e,n){var r=n(4),i={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop()};t.exports=i},function(t,e,n){var r=n(1),i=n(44),o=n(2),a=n(0),s={animated:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var e=t[0];return e?e._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var e=0;e<t.length;e++)t[e]._private.animation.queue=[];return this}},delay:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animate({delay:t,duration:t,complete:e}):this}},delayAnimation:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animation({delay:t,duration:t,complete:e}):this}},animation:function(){return function(t,e){var n=void 0!==this.length,s=n?this:[this],l=this._private.cy||this,u=!n,c=!u;if(!l.styleEnabled())return this;var d=l.style();if(t=r.assign({},t,e),0===Object.keys(t).length)return new i(s[0],t);switch(void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}if(c&&(t.style=d.getPropsList(t.style||t.css),t.css=void 0),c&&null!=t.renderedPosition){var h=t.renderedPosition,f=l.pan(),p=l.zoom();t.position=o.renderedToModelPosition(h,p,f)}if(u&&null!=t.panBy){var g=t.panBy,v=l.pan();t.pan={x:v.x+g.x,y:v.y+g.y}}var y=t.center||t.centre;if(u&&null!=y){var m=l.getCenterPan(y.eles,t.zoom);null!=m&&(t.pan=m)}if(u&&null!=t.fit){var b=t.fit,w=l.getFitViewport(b.eles||b.boundingBox,b.padding);null!=w&&(t.pan=w.pan,t.zoom=w.zoom)}if(u&&a.plainObject(t.zoom)){var x=l.getZoomedViewport(t.zoom);null!=x&&(x.zoomed&&(t.zoom=x.zoom),x.panned&&(t.pan=x.pan))}return new i(s[0],t)}},animate:function(){return function(t,e){var n=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;e&&(t=r.extend({},t,e));for(var i=0;i<n.length;i++){var o=n[i],a=o.animated()&&(void 0===t.queue||t.queue);o.animation(t,a?{queue:!0}:void 0).play()}return this}},stop:function(){return function(t,e){var n=void 0!==this.length?this:[this],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var i=0;i<n.length;i++){for(var o=n[i]._private,a=o.animation.current,s=0;s<a.length;s++){var l=a[s]._private;e&&(l.duration=0)}t&&(o.animation.queue=[]),e||(o.animation.current=[])}return r.notify({eles:this,type:"draw"}),this}}};t.exports=s},function(t,e,n){var r=n(1),i=n(0),o=n(5),a=function(t,e,n){var o=this._private=r.extend({duration:1e3},e,n);o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&i.fn(o.complete)&&o.completes.push(o.complete),this.length=1,this[0]=this},s=a.prototype;r.extend(s,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var e=t.target._private.animation;(t.queue?e.queue:e.current).push(this),i.elementOrCollection(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return 1===t.progress&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var e=this._private;return void 0===t?e.progress*e.duration:this.progress(t/e.duration)},progress:function(t){var e=this._private,n=e.playing;return void 0===t?e.progress:(n&&this.pause(),e.progress=t,e.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(e,n){var r=t[e];null!=r&&(t[e]=t[n],t[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var r=0;r<t.style.length;r++){var i=t.style[r],o=i.name,a=t.startStyle[o];t.startStyle[o]=i,t.style[r]=a}return e&&this.play(),this},promise:function(t){var e=this._private,n=void 0;switch(t){case"frame":n=e.frames;break;default:case"complete":case"completed":n=e.completes}return new o((function(t,e){n.push((function(){t()}))}))}}),s.complete=s.completed,t.exports=a},function(t,e,n){var r=n(1),i=n(0),o={data:function(t){return t=r.extend({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(t){},beforeSet:function(t,e){},onSet:function(t){},canSet:function(t){return!0}},t),function(e,n){var r=t,o=void 0!==this.length,a=o?this:[this],s=o?this[0]:this;if(i.string(e)){if(r.allowGetting&&void 0===n){var l=void 0;return s&&(r.beforeGet(s),l=s._private[r.field][e]),l}if(r.allowSetting&&void 0!==n&&!r.immutableKeys[e]){var u=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n);r.beforeSet(this,u);for(var c=0,d=a.length;c<d;c++){var h=a[c];r.canSet(h)&&(h._private[r.field][e]=n)}r.updateStyle&&this.updateStyle(),r.onSet(this),r.settingTriggersEvent&&this[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&i.plainObject(e)){var f=e,p=void 0,g=void 0,v=Object.keys(f);r.beforeSet(this,f);for(var y=0;y<v.length;y++)if(g=f[p=v[y]],!r.immutableKeys[p])for(var m=0;m<a.length;m++){var b=a[m];r.canSet(b)&&(b._private[r.field][p]=g)}r.updateStyle&&this.updateStyle(),r.onSet(this),r.settingTriggersEvent&&this[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&i.fn(e)){var w=e;this.on(r.bindingEvent,w)}else if(r.allowGetting&&void 0===e){var x=void 0;return s&&(r.beforeGet(s),x=s._private[r.field]),x}return this}},removeData:function(t){return t=r.extend({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},t),function(e){var n=t,r=void 0!==this.length?this:[this];if(i.string(e)){for(var o=e.split(/\s+/),a=o.length,s=0;s<a;s++){var l=o[s];if(!i.emptyString(l)&&!n.immutableKeys[l])for(var u=0,c=r.length;u<c;u++)r[u]._private[n.field][l]=void 0}n.triggerEvent&&this[n.triggerFnName](n.event)}else if(void 0===e){for(var d=0,h=r.length;d<h;d++)for(var f=r[d]._private[n.field],p=Object.keys(f),g=0;g<p.length;g++){var v=p[g];!n.immutableKeys[v]&&(f[v]=void 0)}n.triggerEvent&&this[n.triggerFnName](n.event)}return this}}};t.exports=o},function(t,e,n){var r=n(5),i={eventAliasesOn:function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(t,e){var n=this,i=Array.prototype.slice.call(arguments,0);return new r((function(t,e){var r=i.concat([function(e){n.off.apply(n,o),t(e)}]),o=r.concat([]);n.on.apply(n,r)}))}}};t.exports=i},function(t,e,n){var r=n(8),i={classes:function(t){t=(t||"").match(/\S+/g)||[];for(var e=this,n=[],i=new r(t),o=function(t){var o=e[t],a=o._private,s=a.classes,l=!1;i.forEach((function(t){s.has(t)||(l=!0)})),l||s.forEach((function(t){i.has(t)||(l=!0)})),l&&(a.classes=new r(i),n.push(o))},a=0;a<e.length;a++)o(a);return n.length>0&&this.spawn(n).updateStyle().emit("class"),e},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var e=this[0];return null!=e&&e._private.classes.has(t)},toggleClass:function(t,e){for(var n=t.match(/\S+/g)||[],r=[],i=0,o=this.length;i<o;i++)for(var a=this[i],s=!1,l=0;l<n.length;l++){var u=n[l],c=a._private.classes,d=c.has(u);e||void 0===e&&!d?(c.add(u),d||s||(r.push(a),s=!0)):(c.delete(u),d&&!s&&(r.push(a),s=!0))}return r.length>0&&this.spawn(r).updateStyle().emit("class"),this},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,e){var n=this;if(null==e)e=250;else if(0===e)return n;return n.addClass(t),setTimeout((function(){n.removeClass(t)}),e),n}};t.exports=i},function(t,e,n){n(0);var r=n(6),i={allAre:function(t){var e=new r(t);return this.every((function(t){return e.matches(t)}))},is:function(t){var e=new r(t);return this.some((function(t){return e.matches(t)}))},some:function(t,e){for(var n=0;n<this.length;n++)if(e?t.apply(e,[this[n],n,this]):t(this[n],n,this))return!0;return!1},every:function(t,e){for(var n=0;n<this.length;n++)if(!(e?t.apply(e,[this[n],n,this]):t(this[n],n,this)))return!1;return!0},same:function(t){return t=this.cy().collection(t),this.length===t.length&&this.every((function(e){return t.hasElementWithId(e.id())}))},anySame:function(t){return t=this.cy().collection(t),this.some((function(e){return t.hasElementWithId(e.id())}))},allAreNeighbors:function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every((function(t){return e.hasElementWithId(t.id())}))},contains:function(t){t=this.cy().collection(t);var e=this;return t.every((function(t){return e.hasElementWithId(t.id())}))}};i.allAreNeighbours=i.allAreNeighbors,i.has=i.contains,t.exports=i},function(t,e,n){var r=n(1),i=n(50),o=n(10),a=function(t){for(var e=void 0,n=void 0,r=void 0,o=0;o<i.length;o++){var a=i[o],s=a.name,l=t.match(a.regexObj);if(null!=l){n=l,e=a,r=s;var u=l[0];t=t.substring(u.length);break}}return{expr:e,match:n,name:r,remaining:t}};t.exports={parse:function(t){var e=this._private.selectorText=t,n=this[0]=o();for(this.length=1,e=function(t){var e=t.match(/^\s+/);if(e){var n=e[0];t=t.substring(n.length)}return t}(e);;){var i=a(e);if(null==i.expr)return r.error("The selector `"+t+"`is invalid"),!1;var s=i.match.slice(1),l=i.expr.populate(this,n,s);if(!1===l)return!1;if(null!=l&&(n=l),(e=i.remaining).match(/^\s*$/))break}for(var u=0;u<this.length;u++){var c=this[u];if(null!=c.subject){for(;c.subject!==c;)if(null!=c.parent){var d=c.parent,h=c;h.parent=null,d.child=h,c=d}else{if(null==c.ancestor)return c.source||c.target||c.connectedNodes?(r.error("The selector `"+this.text()+"` can not contain a subject selector that applies to the source or target of an edge selector"),!1):(r.error("When adjusting references for the selector `"+this.text()+"`, neither parent nor ancestor was found"),!1);var f=c.ancestor,p=c;p.ancestor=null,f.descendant=p,c=f}this[u]=c.subject}}return!0}}},function(t,e,n){var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(15).stateSelectorRegex,o=n(51),a=n(1),s=n(10),l=function(t){return t.replace(new RegExp("\\\\("+o.metaChar+")","g"),(function(t,e){return e}))},u=function(t,e,n){e===t[t.length-1]&&(t[t.length-1]=n)},c=[{name:"group",query:!0,regex:"("+o.group+")",populate:function(t,e,n){var i=r(n,1)[0];e.group="*"===i?i:i+"s"}},{name:"state",query:!0,regex:i,populate:function(t,e,n){var i=r(n,1)[0];e.colonSelectors.push(i)}},{name:"id",query:!0,regex:"\\#("+o.id+")",populate:function(t,e,n){var i=r(n,1)[0];e.ids.push(l(i))}},{name:"className",query:!0,regex:"\\.("+o.className+")",populate:function(t,e,n){var i=r(n,1)[0];e.classes.push(l(i))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+o.variable+")\\s*\\]",populate:function(t,e,n){var i=r(n,1)[0];e.data.push({field:l(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+o.variable+")\\s*("+o.comparatorOp+")\\s*("+o.value+")\\s*\\]",populate:function(t,e,n){var i=r(n,3),a=i[0],s=i[1],u=i[2];u=null!=new RegExp("^"+o.string+"$").exec(u)?u.substring(1,u.length-1):parseFloat(u),e.data.push({field:l(a),operator:s,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+o.boolOp+")\\s*("+o.variable+")\\s*\\]",populate:function(t,e,n){var i=r(n,2),o=i[0],a=i[1];e.data.push({field:l(a),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+o.meta+")\\s*("+o.comparatorOp+")\\s*("+o.number+")\\s*\\]\\]",populate:function(t,e,n){var i=r(n,3),o=i[0],a=i[1],s=i[2];e.meta.push({field:l(o),operator:a,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:o.separator,populate:function(t){var e=t[t.length++]=s();return t.currentSubject=null,e}},{name:"directedEdge",separator:!0,regex:o.directedEdge,populate:function(t,e){var n=s(),r=e,i=s();return n.group="edges",n.target=i,n.source=r,n.subject=t.currentSubject,u(t,e,n),i}},{name:"undirectedEdge",separator:!0,regex:o.undirectedEdge,populate:function(t,e){var n=s(),r=e,i=s();return n.group="edges",n.connectedNodes=[r,i],n.subject=t.currentSubject,u(t,e,n),i}},{name:"child",separator:!0,regex:o.child,populate:function(t,e){var n=s();return n.parent=e,n.subject=t.currentSubject,u(t,e,n),n}},{name:"descendant",separator:!0,regex:o.descendant,populate:function(t,e){var n=s();return n.ancestor=e,n.subject=t.currentSubject,u(t,e,n),n}},{name:"subject",modifier:!0,regex:o.subject,populate:function(t,e){if(null!=t.currentSubject&&e.subject!=e)return a.error("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e,e.subject=e,t[t.length-1].subject=e}}];c.forEach((function(t){return t.regexObj=new RegExp("^"+t.regex)})),t.exports=c},function(t,e,n){var r={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:n(1).regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};r.variable="(?:[\\w-]|(?:\\\\"+r.metaChar+"))+",r.value=r.string+"|"+r.number,r.className=r.variable,r.id=r.variable,function(){var t=void 0,e=void 0,n=void 0;for(t=r.comparatorOp.split("|"),n=0;n<t.length;n++)e=t[n],r.comparatorOp+="|@"+e;for(t=r.comparatorOp.split("|"),n=0;n<t.length;n++)(e=t[n]).indexOf("!")>=0||"="!==e&&(r.comparatorOp+="|\\!"+e)}(),t.exports=r},function(t,e,n){var r=n(15).stateSelectorMatches,i=n(0),o=function(t,e){for(var n=!0,r=0;r<t[e.name].length;r++){var o=t[e.name][r],a=o.operator,s=o.value,l=o.field,u=void 0,c=e.fieldValue(l);if(null!=a&&null!=s){var d=i.string(c)||i.number(c)?""+c:"",h=""+s,f=!1;a.indexOf("@")>=0&&(d=d.toLowerCase(),h=h.toLowerCase(),a=a.replace("@",""),f=!0);var p=!1;a.indexOf("!")>=0&&(a=a.replace("!",""),p=!0),f&&(s=h.toLowerCase(),c=d.toLowerCase());var g=!1;switch(a){case"*=":u=d.indexOf(h)>=0;break;case"$=":u=d.indexOf(h,d.length-h.length)>=0;break;case"^=":u=0===d.indexOf(h);break;case"=":u=c===s;break;case">":g=!0,u=c>s;break;case">=":g=!0,u=c>=s;break;case"<":g=!0,u=c<s;break;case"<=":g=!0,u=c<=s;break;default:u=!1}!p||null==c&&g||(u=!u)}else if(null!=a)switch(a){case"?":u=!!c;break;case"!":u=!c;break;case"^":u=void 0===c}else u=void 0!==c;if(!u){n=!1;break}}return n},a=function(t,e,n){if(null!=t){var r=!1;if(!e)return!1;n=n();for(var i=0;i<n.length;i++)if(s(t,n[i])){r=!0;break}return r}return!0},s=function(t,e){if(t.groupOnly)return"*"===t.group||t.group===e.group();if(null!=t.group&&"*"!=t.group&&t.group!=e.group())return!1;var n=e.cy(),i=void 0,s=!0;for(i=0;i<t.colonSelectors.length;i++){var l=t.colonSelectors[i];if(!(s=r(l,e)))break}if(!s)return!1;var u=!0;for(i=0;i<t.ids.length;i++){var c=t.ids[i],d=e.id();if(!(u=u&&c==d))break}if(!u)return!1;var h=!0;for(i=0;i<t.classes.length;i++){var f=t.classes[i];if(!(h=h&&e.hasClass(f)))break}if(!h)return!1;if(!o(t,{name:"data",fieldValue:function(t){return e.data(t)}}))return!1;if(!o(t,{name:"meta",fieldValue:function(t){return e[t]()}}))return!1;if(null!=t.collection&&!t.collection.hasElementWithId(e.id()))return!1;if(null!=t.filter&&e.collection().some(t.filter))return!1;var p=n.hasCompoundNodes(),g=function(){return e.source()},v=function(){return e.target()};if(!a(t.parent,p,(function(){return e.parent()})))return!1;if(!a(t.ancestor,p,(function(){return e.parents()})))return!1;if(!a(t.child,p,(function(){return e.children()})))return!1;if(!a(t.descendant,p,(function(){return e.descendants()})))return!1;if(!a(t.source,!0,g))return!1;if(!a(t.target,!0,v))return!1;if(t.connectedNodes){var y=t.connectedNodes[0],m=t.connectedNodes[1];if(a(y,!0,g)&&a(m,!0,v));else if(!a(y,!0,v)||!a(m,!0,g))return!1}return!0};t.exports={matches:function(t){if(this.invalid())return!1;for(var e=0;e<this.length;e++){var n=this[e];if(s(n,t))return!0}return!1},filter:function(t){var e=this,n=t.cy();if(e.invalid())return n.collection();if(1===e.length&&1===e[0].length&&1===e[0].ids.length)return t.getElementById(e[0].ids[0]).collection();var r=function(t){for(var n=0;n<e.length;n++){var r=e[n];if(s(r,t))return!0}return!1};return null==e.text()&&(r=function(){return!0}),t.filter(r)}}},function(t,e,n){var r=n(8),i={parent:function(t){var e=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var i=this[r]._private.parent;i&&e.push(i)}return this.spawn(e,{unique:!0}).filter(t)},parents:function(t){for(var e=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];e.push(i)}n=n.parent()}return this.spawn(e,{unique:!0}).filter(t)},commonAncestors:function(t){for(var e=void 0,n=0;n<this.length;n++){var r=this[n].parents();e=(e=e||r).intersect(r)}return e.filter(t)},orphans:function(t){return this.stdFilter((function(t){return t.isOrphan()})).filter(t)},nonorphans:function(t){return this.stdFilter((function(t){return t.isChild()})).filter(t)},children:function(t){for(var e=[],n=0;n<this.length;n++){var r=this[n];e=e.concat(r._private.children)}return this.spawn(e,{unique:!0}).filter(t)},siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&0!==t._private.children.length},isChildless:function(){var t=this[0];if(t)return t.isNode()&&0===t._private.children.length},isChild:function(){var t=this[0];if(t)return t.isNode()&&null!=t._private.parent},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&null==t._private.parent},descendants:function(t){var e=[];return function t(n){for(var r=0;r<n.length;r++){var i=n[r];e.push(i),i.children().nonempty()&&t(i.children())}}(this.children()),this.spawn(e,{unique:!0}).filter(t)}};function o(t,e,n,i){for(var o=[],a=new r,s=t.cy().hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];n?o.push(u):s&&i(o,a,u)}for(;o.length>0;){var c=o.shift();e(c),a.add(c.id()),s&&i(o,a,c)}return t}function a(t,e,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var o=r[i];e.has(o.id())||t.push(o)}}function s(t,e,n){if(n.isChild()){var r=n._private.parent;e.has(r.id())||t.push(r)}}function l(t,e,n){s(t,e,n),a(t,e,n)}i.forEachDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o(this,t,e,a)},i.forEachUp=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o(this,t,e,s)},i.forEachUpAndDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o(this,t,e,l)},i.ancestors=i.parents,t.exports=i},function(t,e,n){var r,i=n(4),o=void 0;(o=r={data:i.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:i.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:i.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:i.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:i.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:i.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}}).attr=o.data,o.removeAttr=o.removeData,t.exports=r},function(t,e,n){var r=n(1),i={};function o(t){return function(e){if(void 0===e&&(e=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var n=0,r=this[0],i=r._private.edges,o=0;o<i.length;o++){var a=i[o];!e&&a.isLoop()||(n+=t(r,a))}return n}}}function a(t,e){return function(n){for(var r=void 0,i=this.nodes(),o=0;o<i.length;o++){var a=i[o][t](n);void 0===a||void 0!==r&&!e(a,r)||(r=a)}return r}}r.extend(i,{degree:o((function(t,e){return e.source().same(e.target())?2:1})),indegree:o((function(t,e){return e.target().same(t)?1:0})),outdegree:o((function(t,e){return e.source().same(t)?1:0}))}),r.extend(i,{minDegree:a("degree",(function(t,e){return t<e})),maxDegree:a("degree",(function(t,e){return t>e})),minIndegree:a("indegree",(function(t,e){return t<e})),maxIndegree:a("indegree",(function(t,e){return t>e})),minOutdegree:a("outdegree",(function(t,e){return t<e})),maxOutdegree:a("outdegree",(function(t,e){return t>e}))}),r.extend(i,{totalDegree:function(t){for(var e=0,n=this.nodes(),r=0;r<n.length;r++)e+=n[r].degree(t);return e}}),t.exports=i},function(t,e,n){var r=n(1),i=n(57),o=n(58),a=n(59),s=n(60);t.exports=r.assign({},i,o,a,s)},function(t,e,n){var r,i=n(4),o=n(0),a=n(2),s=void 0,l=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.isParent()&&!r.locked()){var i=r._private.position,o={x:e.x-i.x,y:e.y-i.y};t.children().shift(o)}}};(s=r={position:i.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:l,onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}}),silentPosition:i.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!1,validKeys:["x","y"],beforeSet:l,onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}}),positions:function(t,e){if(o.plainObject(t))e?this.silentPosition(t):this.position(t);else if(o.fn(t)){var n=t,r=this.cy();r.startBatch();for(var i=0;i<this.length;i++){var a,s=this[i];(a=n(s,i))&&(e?s.silentPosition(a):s.position(a))}r.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,e){var n=void 0;if(o.plainObject(t)?n=t:o.string(t)&&o.number(e)&&((n={x:0,y:0})[t]=e),null!=n)for(var r=0;r<this.length;r++){var i=this[r],a=i.position();i.position({x:a.x+n.x,y:a.y+n.y})}return this},renderedPosition:function(t,e){var n=this[0],r=this.cy(),i=r.zoom(),s=r.pan(),l=o.plainObject(t)?t:void 0,u=void 0!==l||void 0!==e&&o.string(t);if(n&&n.isNode()){if(!u){var c=n.position();return l=a.modelToRenderedPosition(c,i,s),void 0===t?l:l[t]}for(var d=0;d<this.length;d++){var h=this[d];void 0!==e?h.position(t,(e-s[t])/i):void 0!==l&&h.position(a.renderedToModelPosition(l,i,s))}}else if(!u)return;return this},relativePosition:function(t,e){var n=this[0],r=this.cy(),i=o.plainObject(t)?t:void 0,a=void 0!==i||void 0!==e&&o.string(t),s=r.hasCompoundNodes();if(n&&n.isNode()){if(!a){var l=n.position(),u=s?n.parent():null,c=u&&u.length>0,d=c;c&&(u=u[0]);var h=d?u.position():{x:0,y:0};return i={x:l.x-h.x,y:l.y-h.y},void 0===t?i:i[t]}for(var f=0;f<this.length;f++){var p=this[f],g=s?p.parent():null,v=g&&g.length>0,y=v;v&&(g=g[0]);var m=y?g.position():{x:0,y:0};void 0!==e?p.position(t,e+m[t]):void 0!==i&&p.position({x:i.x+m.x,y:i.y+m.y})}}else if(!a)return;return this}}).modelPosition=s.point=s.position,s.modelPositions=s.points=s.positions,s.renderedPoint=s.renderedPosition,s.relativePoint=s.relativePosition,t.exports=r},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=void 0,s=void 0;a=s={},s.renderedBoundingBox=function(t){var e=this.boundingBox(t),n=this.cy(),r=n.zoom(),i=n.pan(),o=e.x1*r+i.x,a=e.x2*r+i.x,s=e.y1*r+i.y,l=e.y2*r+i.y;return{x1:o,x2:a,y1:s,y2:l,w:a-o,h:l-s}},s.dirtyCompoundBoundsCache=function(){var t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp((function(t){t._private.compoundBoundsClean=!1,t.isParent()&&t.emit("bounds")})),this):this},s.updateCompoundBounds=function(){var t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(t.batching())return this;function e(t){if(t.isParent()){var e=t._private,n=t.children(),r="include"===t.pstyle("compound-sizing-wrt-labels").value,i={width:{val:t.pstyle("min-width").pfValue,left:t.pstyle("min-width-bias-left"),right:t.pstyle("min-width-bias-right")},height:{val:t.pstyle("min-height").pfValue,top:t.pstyle("min-height-bias-top"),bottom:t.pstyle("min-height-bias-bottom")}},o=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),a=e.position;0!==o.w&&0!==o.h||((o={w:t.pstyle("width").pfValue,h:t.pstyle("height").pfValue}).x1=a.x-o.w/2,o.x2=a.x+o.w/2,o.y1=a.y-o.h/2,o.y2=a.y+o.h/2);var s=i.width.left.value;"px"===i.width.left.units&&i.width.val>0&&(s=100*s/i.width.val);var l=i.width.right.value;"px"===i.width.right.units&&i.width.val>0&&(l=100*l/i.width.val);var u=i.height.top.value;"px"===i.height.top.units&&i.height.val>0&&(u=100*u/i.height.val);var c=i.height.bottom.value;"px"===i.height.bottom.units&&i.height.val>0&&(c=100*c/i.height.val);var d=y(i.width.val-o.w,s,l),h=d.biasDiff,f=d.biasComplementDiff,p=y(i.height.val-o.h,u,c),g=p.biasDiff,v=p.biasComplementDiff;e.autoPadding=function(t,e,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return t>0?n.pfValue*t:0;case"height":return e>0?n.pfValue*e:0;case"average":return t>0&&e>0?n.pfValue*(t+e)/2:0;case"min":return t>0&&e>0?t>e?n.pfValue*e:n.pfValue*t:0;case"max":return t>0&&e>0?t>e?n.pfValue*t:n.pfValue*e:0;default:return 0}}(o.w,o.h,t.pstyle("padding"),t.pstyle("padding-relative-to").value),e.autoWidth=Math.max(o.w,i.width.val),a.x=(-h+o.x1+o.x2+f)/2,e.autoHeight=Math.max(o.h,i.height.val),a.y=(-g+o.y1+o.y2+v)/2}function y(t,e,n){var r=0,i=0,o=e+n;return t>0&&o>0&&(r=e/o*t,i=n/o*t),{biasDiff:r,biasComplementDiff:i}}}for(var n=0;n<this.length;n++){var r=this[n],i=r._private;i.compoundBoundsClean||(e(r),t._private.batchingStyle||(i.compoundBoundsClean=!0))}return this};var l=function(t){return t===1/0||t===-1/0?0:t},u=function(t,e,n,r,i){r-e!=0&&i-n!=0&&null!=e&&null!=n&&null!=r&&null!=i&&(t.x1=e<t.x1?e:t.x1,t.x2=r>t.x2?r:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=i>t.y2?i:t.y2)},c=function(t,e,n){return i.getPrefixedProperty(t,e,n)},d=function(t,e,n){if(!e.cy().headless()){var r=e._private.rstyle,i=r.arrowWidth/2,o=void 0,a=void 0;"none"!==e.pstyle(n+"-arrow-shape").value&&("source"===n?(o=r.srcX,a=r.srcY):"target"===n?(o=r.tgtX,a=r.tgtY):(o=r.midX,a=r.midY),u(t,o-i,a-i,o+i,a+i))}},h=function(t,e,n){if(!e.cy().headless()){var r=void 0;r=n?n+"-":"";var i=e._private,o=i.rstyle;if(e.pstyle(r+"label").strValue){var a=e.pstyle("text-halign"),s=e.pstyle("text-valign"),l=c(o,"labelWidth",n),d=c(o,"labelHeight",n),h=c(o,"labelX",n),f=c(o,"labelY",n),p=e.pstyle(r+"text-margin-x").pfValue,g=e.pstyle(r+"text-margin-y").pfValue,v=e.isEdge(),y=e.pstyle(r+"text-rotation"),m=e.pstyle("text-outline-width").pfValue,b=e.pstyle("text-border-width").pfValue/2,w=e.pstyle("text-background-padding").pfValue,x=d+2*w,_=l+2*w,E=_/2,S=x/2,k=void 0,O=void 0,C=void 0,T=void 0;if(v)k=h-E,O=h+E,C=f-S,T=f+S;else{switch(a.value){case"left":k=h-_,O=h;break;case"center":k=h-E,O=h+E;break;case"right":k=h,O=h+_}switch(s.value){case"top":C=f-x,T=f;break;case"center":C=f-S,T=f+S;break;case"bottom":C=f,T=f+x}}var P=v&&"autorotate"===y.strValue,N=null!=y.pfValue&&0!==y.pfValue;if(P||N){var D=P?c(i.rstyle,"labelAngle",n):y.pfValue,A=Math.cos(D),M=Math.sin(D),L=function(t,e){return{x:(t-=h)*A-(e-=f)*M+h,y:t*M+e*A+f}},j=L(k,C),I=L(k,T),R=L(O,C),B=L(O,T);k=Math.min(j.x,I.x,R.x,B.x),O=Math.max(j.x,I.x,R.x,B.x),C=Math.min(j.y,I.y,R.y,B.y),T=Math.max(j.y,I.y,R.y,B.y)}k+=p-Math.max(m,b),O+=p+Math.max(m,b),C+=g-Math.max(m,b),T+=g+Math.max(m,b),u(t,k,C,O,T)}return t}},f=function(t){return t?"t":"f"},p=function(t){var e="";return e+=f(t.incudeNodes),e+=f(t.includeEdges),e+=f(t.includeLabels),e+=f(t.includeOverlays)},g=function(t,e){var n=t._private,r=void 0,i=t.cy().headless(),a=e===v?y:p(e);return e.useCache&&!i&&n.bbCache&&n.bbCache[a]?r=n.bbCache[a]:(r=function(t,e){var n=t._private.cy,r=n.styleEnabled(),i=n.headless(),a={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},s=t._private,c=r?t.pstyle("display").value:"element",f=t.isNode(),p=t.isEdge(),g=void 0,v=void 0,y=void 0,m=void 0,b=void 0,w=void 0,x="none"!==c;if(x){var _=0;r&&e.includeOverlays&&0!==t.pstyle("overlay-opacity").value&&(_=t.pstyle("overlay-padding").value);var E=0;if(r&&(E=t.pstyle("width").pfValue/2),f&&e.includeNodes){var S=t.position();b=S.x,w=S.y;var k=t.outerWidth()/2,O=t.outerHeight()/2;u(a,g=b-k-_,y=w-O-_,v=b+k+_,m=w+O+_)}else if(p&&e.includeEdges){var C=s.rstyle||{};if(r&&!i&&(g=Math.min(C.srcX,C.midX,C.tgtX),v=Math.max(C.srcX,C.midX,C.tgtX),y=Math.min(C.srcY,C.midY,C.tgtY),m=Math.max(C.srcY,C.midY,C.tgtY),u(a,g-=E,y-=E,v+=E,m+=E)),r&&!i&&"haystack"===t.pstyle("curve-style").strValue){var T=C.haystackPts||[];if(g=T[0].x,y=T[0].y,g>(v=T[1].x)){var P=g;g=v,v=P}if(y>(m=T[1].y)){var N=y;y=m,m=N}u(a,g-E,y-E,v+E,m+E)}else{for(var D=C.bezierPts||C.linePts||[],A=0;A<D.length;A++){var M=D[A];g=M.x-E,v=M.x+E,y=M.y-E,m=M.y+E,u(a,g,y,v,m)}if(0===D.length){var L=t.source().position(),j=t.target().position();if((g=L.x)>(v=j.x)){var I=g;g=v,v=I}if((y=L.y)>(m=j.y)){var R=y;y=m,m=R}u(a,g-=E,y-=E,v+=E,m+=E)}}}if(r&&e.includeEdges&&p&&(d(a,t,"mid-source"),d(a,t,"mid-target"),d(a,t,"source"),d(a,t,"target")),r&&"yes"===t.pstyle("ghost").value){var B=t.pstyle("ghost-offset-x").pfValue,z=t.pstyle("ghost-offset-y").pfValue;u(a,a.x1+B,a.y1+z,a.x2+B,a.y2+z)}r&&(g=a.x1,v=a.x2,y=a.y1,m=a.y2,u(a,g-_,y-_,v+_,m+_)),r&&e.includeLabels&&(h(a,t,null),p&&(h(a,t,"source"),h(a,t,"target")))}return a.x1=l(a.x1),a.y1=l(a.y1),a.x2=l(a.x2),a.y2=l(a.y2),a.w=l(a.x2-a.x1),a.h=l(a.y2-a.y1),a.w>0&&a.h>0&&x&&o.expandBoundingBox(a,1),a}(t,e),i||(n.bbCache=n.bbCache||{},n.bbCache[a]=r)),r},v={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},y=p(v);function m(t){return{includeNodes:i.default(t.includeNodes,v.includeNodes),includeEdges:i.default(t.includeEdges,v.includeEdges),includeLabels:i.default(t.includeLabels,v.includeLabels),includeOverlays:i.default(t.includeOverlays,v.includeOverlays),useCache:i.default(t.useCache,v.useCache)}}s.boundingBox=function(t){if(1===this.length&&this[0]._private.bbCache&&(void 0===t||void 0===t.useCache||!0===t.useCache))return t=void 0===t?v:m(t),g(this[0],t);var e={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},n=m(t=t||i.staticEmptyObject()),r=this.cy().styleEnabled();r&&this.recalculateRenderedStyle(n.useCache),this.updateCompoundBounds();for(var o,a,s={},c=0;c<this.length;c++){var d=this[c];if(r&&d.isEdge()&&"bezier"===d.pstyle("curve-style").strValue&&!s[d.id()]){for(var h=d.parallelEdges(),f=0;f<h.length;f++)s[h[f].id()]=!0;h.recalculateRenderedStyle(n.useCache)}o=e,a=g(d,n),u(o,a.x1,a.y1,a.x2,a.y2)}return e.x1=l(e.x1),e.y1=l(e.y1),e.x2=l(e.x2),e.y2=l(e.y2),e.w=l(e.x2-e.x1),e.h=l(e.y2-e.y1),e},s.boundingBoxAt=function(t){var e=this.nodes();if(r.plainObject(t)){var n=t;t=function(){return n}}for(var i=0;i<e.length;i++){var o=e[i],a=o._private,s=a.position,l=t.call(o,o,i);a.bbAtOldPos={x:s.x,y:s.y},l&&(s.x=l.x,s.y=l.y)}this.emit("dirty"),e.dirtyCompoundBoundsCache().updateCompoundBounds();for(var u=this.boundingBox({useCache:!1}),c=0;c<e.length;c++){var d=e[c],h=d._private,f=d._private.position,p=h.bbAtOldPos;f.x=p.x,f.y=p.y}return e.dirtyCompoundBoundsCache(),this.emit("dirty"),u},a.boundingbox=a.boundingBox,a.renderedBoundingbox=a.renderedBoundingBox,t.exports=s},function(t,e,n){var r=n(1),i=void 0,o=void 0;i=o={};var a=function(t){t.uppercaseName=r.capitalize(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=r.capitalize(t.outerName),i[t.name]=function(){var e=this[0],n=e._private,r=n.cy._private.styleEnabled;if(e){if(!r)return 1;if(e.isParent())return e.updateCompoundBounds(),n[t.autoName]||0;var i=e.pstyle(t.name);switch(i.strValue){case"label":return e.recalculateRenderedStyle(),n.rstyle[t.labelName]||0;default:return i.pfValue}}},i["outer"+t.uppercaseName]=function(){var e=this[0],n=e._private.cy._private.styleEnabled;if(e)return n?e[t.name]()+e.pstyle("border-width").pfValue+2*e.padding():1},i["rendered"+t.uppercaseName]=function(){var e=this[0];if(e)return e[t.name]()*this.cy().zoom()},i["rendered"+t.uppercaseOuterName]=function(){var e=this[0];if(e)return e[t.outerName]()*this.cy().zoom()}};a({name:"width"}),a({name:"height"}),o.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),void 0!==e.autoPadding?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue},t.exports=o},function(t,e,n){var r=function(t,e){if(t.isEdge())return e(t.renderer())};t.exports={controlPoints:function(){var t=this;return r(this,(function(e){return e.getControlPoints(t)}))},segmentPoints:function(){var t=this;return r(this,(function(e){return e.getSegmentPoints(t)}))},sourceEndpoint:function(){var t=this;return r(this,(function(e){return e.getSourceEndpoint(t)}))},targetEndpoint:function(){var t=this;return r(this,(function(e){return e.getTargetEndpoint(t)}))},midpoint:function(){var t=this;return r(this,(function(e){return e.getEdgeMidpoint(t)}))}}},function(t,e,n){var r=n(11),i=n(4),o=n(0),a=n(1),s=n(6),l={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var r=e.qualifier;return null==r||t!==n.target&&o.element(n.target)&&r.matches(n.target)},eventFields:function(t){return{cy:t.cy(),target:t}},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t},beforeEmit:function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},u=function(t){return o.string(t)?new s(t):t},c={createEmitter:function(){for(var t=0;t<this.length;t++){var e=this[t],n=e._private;n.emitter||(n.emitter=new r(a.assign({context:e},l)))}return this},emitter:function(){return this._private.emitter},on:function(t,e,n){for(var r=0;r<this.length;r++)this[r].emitter().on(t,u(e),n);return this},removeListener:function(t,e,n){for(var r=0;r<this.length;r++)this[r].emitter().removeListener(t,u(e),n);return this},one:function(t,e,n){for(var r=0;r<this.length;r++)this[r].emitter().one(t,u(e),n);return this},once:function(t,e,n){for(var r=0;r<this.length;r++)this[r].emitter().on(t,u(e),n,{once:!0,onceCollection:this})},emit:function(t,e){for(var n=0;n<this.length;n++)this[n].emitter().emit(t,e);return this},emitAndNotify:function(t,e){if(0!==this.length)return this.cy().notify({type:t,eles:this}),this.emit(t,e),this}};i.eventAliasesOn(c),t.exports=c},function(t,e,n){var r=n(0),i=n(6),o={nodes:function(t){return this.filter((function(t){return t.isNode()})).filter(t)},edges:function(t){return this.filter((function(t){return t.isEdge()})).filter(t)},filter:function(t,e){if(void 0===t)return this;if(r.string(t)||r.elementOrCollection(t))return new i(t).filter(this);if(r.fn(t)){for(var n=this.spawn(),o=0;o<this.length;o++){var a=this[o];(e?t.apply(e,[a,o,this]):t(a,o,this))&&n.merge(a)}return n}return this.spawn()},not:function(t){if(t){r.string(t)&&(t=this.filter(t));for(var e=[],n=t._private.map,i=0;i<this.length;i++){var o=this[i];n.has(o.id())||e.push(o)}return this.spawn(e)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(t){if(r.string(t)){var e=t;return this.filter(e)}for(var n=[],i=t,o=this.length<t.length,a=o?i._private.map:this._private.map,s=o?this:i,l=0;l<s.length;l++){var u=s[l]._private.data.id,c=a.get(u);c&&n.push(c.ele)}return this.spawn(n)},xor:function(t){var e=this._private.cy;r.string(t)&&(t=e.$(t));var n=[],i=t,o=function(t,e){for(var r=0;r<t.length;r++){var i=t[r],o=i._private.data.id;e.hasElementWithId(o)||n.push(i)}};return o(this,i),o(i,this),this.spawn(n)},diff:function(t){var e=this._private.cy;r.string(t)&&(t=e.$(t));var n=[],i=[],o=[],a=t,s=function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],a=i._private.data.id;e.hasElementWithId(a)?o.push(i):n.push(i)}};return s(this,a,n),s(a,this,i),{left:this.spawn(n,{unique:!0}),right:this.spawn(i,{unique:!0}),both:this.spawn(o,{unique:!0})}},add:function(t){var e=this._private.cy;if(!t)return this;if(r.string(t)){var n=t;t=e.mutableElements().filter(n)}for(var i=[],o=0;o<this.length;o++)i.push(this[o]);for(var a=this._private.map,s=0;s<t.length;s++){var l=!a.has(t[s].id());l&&i.push(t[s])}return this.spawn(i)},merge:function(t){var e=this._private,n=e.cy;if(!t)return this;if(t&&r.string(t)){var i=t;t=n.mutableElements().filter(i)}for(var o=e.map,a=0;a<t.length;a++){var s=t[a],l=s._private.data.id;if(o.has(l)){var u=o.get(l).index;this[u]=s,o.set(l,{ele:s,index:u})}else{var c=this.length++;this[c]=s,o.set(l,{ele:s,index:c})}}return this},unmergeOne:function(t){t=t[0];var e=this._private,n=t._private.data.id,r=e.map,i=r.get(n);if(!i)return this;var o=i.index;this[o]=void 0,r.delete(n);var a=o===this.length-1;if(this.length>1&&!a){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[o]=l,r.set(u,{ele:l,index:o})}return this.length--,this},unmerge:function(t){var e=this._private.cy;if(!t)return this;if(t&&r.string(t)){var n=t;t=e.mutableElements().filter(n)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},map:function(t,e){for(var n=[],r=0;r<this.length;r++){var i=this[r],o=e?t.apply(e,[i,r,this]):t(i,r,this);n.push(o)}return n},reduce:function(t,e){for(var n=e,r=0;r<this.length;r++)n=t(n,this[r],r,this);return n},max:function(t,e){for(var n=-1/0,r=void 0,i=0;i<this.length;i++){var o=this[i],a=e?t.apply(e,[o,i,this]):t(o,i,this);a>n&&(n=a,r=o)}return{value:n,ele:r}},min:function(t,e){for(var n=1/0,r=void 0,i=0;i<this.length;i++){var o=this[i],a=e?t.apply(e,[o,i,this]):t(o,i,this);a<n&&(n=a,r=o)}return{value:n,ele:r}}},a=o;a.u=a["|"]=a["+"]=a.union=a.or=a.add,a["\\"]=a["!"]=a["-"]=a.difference=a.relativeComplement=a.subtract=a.not,a.n=a["&"]=a["."]=a.and=a.intersection=a.intersect,a["^"]=a["(+)"]=a["(-)"]=a.symmetricDifference=a.symdiff=a.xor,a.fnFilter=a.filterFn=a.stdFilter=a.filter,a.complement=a.abscomp=a.absoluteComplement,t.exports=o},function(t,e,n){t.exports={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var t=this[0];if(t)return t._private.group}}},function(t,e,n){var r=n(0),i=n(17),o=n(1),a={forEach:function(t,e){if(r.fn(t))for(var n=0;n<this.length;n++){var i=this[n];if(!1===(e?t.apply(e,[i,n,this]):t(i,n,this)))break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(t,e){var n=[],r=this.length;null==e&&(e=r),null==t&&(t=0),t<0&&(t=r+t),e<0&&(e=r+e);for(var i=t;i>=0&&i<e&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!r.fn(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},sortByZIndex:function(){return this.sort(i)},zDepth:function(){var t=this[0];if(t){var e=t._private;if("nodes"===e.group){var n=e.data.parent?t.parents().size():0;return t.isParent()?n:o.MAX_INT-1}var r=e.source,i=e.target,a=r.zDepth(),s=i.zDepth();return Math.max(a,s,0)}}};a.each=a.forEach,t.exports=a},function(t,e,n){var r=n(0),i=n(1),o=n(5),a=n(2),s={layoutDimensions:function(t){if((t=i.assign({nodeDimensionsIncludeLabels:!0},t)).nodeDimensionsIncludeLabels){var e=this.boundingBox();return{w:e.w,h:e.h}}return{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function(t,e,n){var s=this.nodes(),l=this.cy(),u=e.eles,c=function(t,e){return t.id()+"$"+e},d=i.memoize(n,c);t.emit({type:"layoutstart",layout:t}),t.animations=[];var h=e.spacingFactor&&1!==e.spacingFactor,f=function(){if(!h)return null;for(var t=a.makeBoundingBox(),e=0;e<s.length;e++){var n=s[e],r=d(n,e);a.expandBoundingBoxByPoint(t,r.x,r.y)}return t}(),p=i.memoize((function(t,n){var i=d(t,n),o=t.position();return r.number(o.x)&&r.number(o.y)||t.silentPosition({x:0,y:0}),h&&(i=function(t,e,n){var r=e.x1+e.w/2,i=e.y1+e.h/2;return{x:r+(n.x-r)*t,y:i+(n.y-i)*t}}(Math.abs(e.spacingFactor),f,i)),null!=e.transform&&(i=e.transform(t,i)),i}),c);if(e.animate){for(var g=0;g<s.length;g++){var v=s[g],y=p(v,g);if(null==e.animateFilter||e.animateFilter(v,g)){var m=v.animation({position:y,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(m),m.play()}else v.position(y)}if(e.fit){var b=l.animation({fit:{boundingBox:u.boundingBoxAt(p),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(b),b.play()}else if(void 0!==e.zoom&&void 0!==e.pan){var w=l.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(w),w.play()}t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),o.all(t.animations.map((function(t){return t.promise()}))).then((function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})}))}else s.positions(p),e.fit&&l.fit(e.eles,e.padding),null!=e.zoom&&l.zoom(e.zoom),e.pan&&l.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){return this.cy().makeLayout(i.extend({},t,{eles:this}))}};s.createLayout=s.makeLayout=s.layout,t.exports=s},function(t,e,n){var r=n(0);function i(t,e,n){var r,i=n._private,o=i.styleCache=i.styleCache||{};return null!=(r=o[t])?r:r=o[t]=e(n)}function o(t,e){return function(n){return i(t,e,n)}}function a(t,e){var n=function(t){return e.call(t)};return function(){var e=this[0];if(e)return i(t,n,e)}}var s={recalculateRenderedStyle:function(t){var e=this.cy(),n=e.renderer(),r=e.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),e=function(t){return t._private.styleCache={}};if(t.hasCompoundNodes()){var n=void 0;(n=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(n.connectedEdges()),n.forEach(e)}else this.forEach((function(t){e(t),t.connectedEdges().forEach(e)}));return this},updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e._private.batchingStyle)return e._private.batchStyleEles.merge(this),this;var n=e.hasCompoundNodes(),r=e.style(),i=this;t=!(!t&&void 0!==t),n&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=r.apply(i);return o.dirtyStyleCache(),o.dirtyCompoundBoundsCache(),t?o.emitAndNotify("style"):o.emit("style"),this},updateMappers:function(t){var e=this._private.cy,n=e.style();if(t=!(!t&&void 0!==t),!e.styleEnabled())return this;var r=n.updateMappers(this);return r.dirtyStyleCache(),r.dirtyCompoundBoundsCache(),t?r.emitAndNotify("style"):r.emit("style"),this},parsedStyle:function(t){var e=this[0],n=e.cy();if(n.styleEnabled())return e?e._private.style[t]||n.style().getDefaultProperty(t):void 0},numericStyle:function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var n=e.pstyle(t);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(t){var e=this[0];if(e.cy().styleEnabled())return e?e.pstyle(t).units:void 0},renderedStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=this[0];return n?e.style().getRenderedStyle(n,t):void 0},style:function(t,e){var n=this.cy();if(!n.styleEnabled())return this;var i=n.style();if(r.plainObject(t)){var o=t;i.applyBypass(this,o,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(r.string(t)){if(void 0===e){var a=this[0];return a?i.getStylePropertyValue(a,t):void 0}i.applyBypass(this,t,e,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(void 0===t){var s=this[0];return s?i.getRawStyle(s):void 0}return this},removeStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=e.style();if(void 0===t)for(var r=0;r<this.length;r++){var i=this[r];n.removeAllBypasses(i,!1)}else{t=t.split(/\s+/);for(var o=0;o<this.length;o++){var a=this[o];n.removeBypasses(a,t,!1)}}return this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!e)return i;var o=r.data.parent?n.parents():null;if(o)for(var a=0;a<o.length;a++)i*=o[a].pstyle("opacity").value;return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var t=this[0],e=t.cy().hasCompoundNodes();return t?e?0===t.effectiveOpacity():0===t.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function l(t,e){var n=t._private.data.parent?t.parents():null;if(n)for(var r=0;r<n.length;r++)if(!e(n[r]))return!1;return!0}function u(t){var e=t.ok,n=t.edgeOkViaNode||t.ok,r=t.parentOk||t.ok;return function(){var t=this.cy();if(!t.styleEnabled())return!0;var i=this[0],o=t.hasCompoundNodes();if(i){var a=i._private;if(!e(i))return!1;if(i.isNode())return!o||l(i,r);var s=a.source,u=a.target;return n(s)&&(!o||l(s,n))&&(s===u||n(u)&&(!o||l(u,n)))}}}var c=o("eleTakesUpSpace",(function(t){return"element"===t.pstyle("display").value&&0!==t.width()&&(!t.isNode()||0!==t.height())}));s.takesUpSpace=a("takesUpSpace",u({ok:c}));var d=o("eleInteractive",(function(t){return"yes"===t.pstyle("events").value&&"visible"===t.pstyle("visibility").value&&c(t)})),h=o("parentInteractive",(function(t){return"visible"===t.pstyle("visibility").value&&c(t)}));s.interactive=a("interactive",u({ok:d,parentOk:h,edgeOkViaNode:c})),s.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var f=o("eleVisible",(function(t){return"visible"===t.pstyle("visibility").value&&0!==t.pstyle("opacity").pfValue&&c(t)})),p=c;s.visible=a("visible",u({ok:f,edgeOkViaNode:p})),s.hidden=function(){var t=this[0];if(t)return!t.visible()},s.bypass=s.css=s.style,s.renderedCss=s.renderedStyle,s.removeBypass=s.removeCss=s.removeStyle,s.pstyle=s.parsedStyle,t.exports=s},function(t,e,n){var r={};function i(t){return function(){var e=arguments,n=[];if(2===e.length){var r=e[0],i=e[1];this.on(t.event,r,i)}else if(1===e.length){var o=e[0];this.on(t.event,o)}else if(0===e.length){for(var a=0;a<this.length;a++){var s=this[a],l=!t.ableField||s._private[t.ableField],u=s._private[t.field]!=t.value;if(t.overrideAble){var c=t.overrideAble(s);if(void 0!==c&&(l=c,!c))return this}l&&(s._private[t.field]=t.value,u&&n.push(s))}var d=this.spawn(n);d.updateStyle(),d.emit(t.event)}return this}}function o(t){r[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var n=t.overrideField(e);if(void 0!==n)return n}return e._private[t.field]}},r[t.on]=i({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),r[t.off]=i({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}o({field:"locked",overrideField:function(t){return!!t.cy().autolock()||void 0},on:"lock",off:"unlock"}),o({field:"grabbable",overrideField:function(t){return!t.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),o({field:"selected",ableField:"selectable",overrideAble:function(t){return!t.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),o({field:"selectable",overrideField:function(t){return!t.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),r.deselect=r.unselect,r.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},o({field:"active",on:"activate",off:"unactivate"}),r.inactive=function(){var t=this[0];if(t)return!t._private.active},t.exports=r},function(t,e,n){var r=n(1),i=n(0),o={},a=function(t,e){return function(n,r,o,a){var s=n,l=void 0;if(null==s?l="null":i.elementOrCollection(s)&&1===s.length&&(l="#"+s.id()),1===this.length&&l){var u=this[0]._private,c=u.traversalCache=u.traversalCache||{},d=c[e]=c[e]||{},h=d[l];return h||(d[l]=t.call(this,n,r,o,a))}return t.call(this,n,r,o,a)}},s=function(t){return function(e){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode()){for(var o=!1,a=i.connectedEdges(),s=0;s<a.length;s++){var l=a[s],u=l.source(),c=l.target();if(t.noIncomingEdges&&c===i&&u!==i||t.noOutgoingEdges&&u===i&&c!==i){o=!0;break}}o||n.push(i)}}return this.spawn(n,{unique:!0}).filter(e)}},l=function(t){return function(e){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode())for(var o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target();t.outgoing&&l===i?(n.push(s),n.push(u)):t.incoming&&u===i&&(n.push(s),n.push(l))}}return this.spawn(n,{unique:!0}).filter(e)}},u=function(t){return function(e){for(var n=this,r=[],i={};;){var o=t.outgoing?n.outgoers():n.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],u=l.id();i[u]||(i[u]=!0,r.push(l),a=!0)}if(!a)break;n=o}return this.spawn(r,{unique:!0}).filter(e)}};function c(t){return function(e){for(var n=[],r=0;r<this.length;r++){var i=this[r]._private[t.attr];i&&n.push(i)}return this.spawn(n,{unique:!0}).filter(e)}}function d(t){return function(e){var n=[],r=this._private.cy,o=t||{};i.string(e)&&(e=r.$(e));for(var a=0;a<e.length;a++)for(var s=e[a]._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data,d=this.hasElementWithId(c.source)&&e.hasElementWithId(c.target),h=e.hasElementWithId(c.source)&&this.hasElementWithId(c.target);if(d||h){if(o.thisIsSrc||o.thisIsTgt){if(o.thisIsSrc&&!d)continue;if(o.thisIsTgt&&!h)continue}n.push(u)}}return this.spawn(n,{unique:!0})}}function h(t){return t=r.extend({},{codirected:!1},t),function(e){for(var n=[],r=this.edges(),i=t,o=0;o<r.length;o++)for(var a=r[o]._private,s=a.source,l=s._private.data.id,u=a.data.target,c=s._private.edges,d=0;d<c.length;d++){var h=c[d],f=h._private.data,p=f.target,g=f.source,v=p===u&&g===l,y=l===p&&u===g;(i.codirected&&v||!i.codirected&&(v||y))&&n.push(h)}return this.spawn(n,{unique:!0}).filter(e)}}o.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},r.extend(o,{roots:s({noIncomingEdges:!0}),leaves:s({noOutgoingEdges:!0}),outgoers:a(l({outgoing:!0}),"outgoers"),successors:u({outgoing:!0}),incomers:a(l({incoming:!0}),"incomers"),predecessors:u({incoming:!0})}),r.extend(o,{neighborhood:a((function(t){for(var e=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&e.push(c[0]),e.push(s[0])}return this.spawn(e,{unique:!0}).filter(t)}),"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),o.neighbourhood=o.neighborhood,o.closedNeighbourhood=o.closedNeighborhood,o.openNeighbourhood=o.openNeighborhood,r.extend(o,{source:a((function(t){var e=this[0],n=void 0;return e&&(n=e._private.source||e.cy().collection()),n&&t?n.filter(t):n}),"source"),target:a((function(t){var e=this[0],n=void 0;return e&&(n=e._private.target||e.cy().collection()),n&&t?n.filter(t):n}),"target"),sources:c({attr:"source"}),targets:c({attr:"target"})}),r.extend(o,{edgesWith:a(d(),"edgesWith"),edgesTo:a(d({thisIsSrc:!0}),"edgesTo")}),r.extend(o,{connectedEdges:a((function(t){for(var e=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r._private.edges,o=0;o<i.length;o++){var a=i[o];e.push(a)}}return this.spawn(e,{unique:!0}).filter(t)}),"connectedEdges"),connectedNodes:a((function(t){for(var e=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(e.push(r.source()[0]),e.push(r.target()[0]))}return this.spawn(e,{unique:!0}).filter(t)}),"connectedNodes"),parallelEdges:a(h(),"parallelEdges"),codirectedEdges:a(h({codirected:!0}),"codirectedEdges")}),r.extend(o,{components:function(){var t=this,e=t.cy(),n=t.spawn(),r=t.nodes().spawnSelf(),i=[],o=function(t,e){n.merge(t),r.unmerge(t),e.merge(t)};if(r.empty())return t.spawn();var a=function(){var n=e.collection();i.push(n);var a=r[0];o(a,n),t.bfs({directed:!1,roots:a,visit:function(t,e,r,i,a){o(t,n)}})};do{a()}while(r.length>0);return i.map((function(t){var e=t.connectedEdges().stdFilter((function(e){return t.anySame(e.source())&&t.anySame(e.target())}));return t.union(e)}))}}),t.exports=o},function(t,e,n){var r=n(0),i=n(1),o=n(7),a=n(14),s={add:function(t){var e=void 0,n=this;if(r.elementOrCollection(t)){var s=t;if(s._private.cy===n)e=s.restore();else{for(var l=[],u=0;u<s.length;u++){var c=s[u];l.push(c.json())}e=new o(n,l)}}else if(r.array(t))e=new o(n,t);else if(r.plainObject(t)&&(r.array(t.nodes)||r.array(t.edges))){for(var d=t,h=[],f=["nodes","edges"],p=0,g=f.length;p<g;p++){var v=f[p],y=d[v];if(r.array(y))for(var m=0,b=y.length;m<b;m++){var w=i.extend({group:v},y[m]);h.push(w)}}e=new o(n,h)}else e=new a(n,t).collection();return e},remove:function(t){if(r.elementOrCollection(t));else if(r.string(t)){var e=t;t=this.$(e)}return t.remove()}};t.exports=s},function(t,e,n){var r=n(4),i=n(1),o=n(71),a={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop(),addToAnimationPool:function(t){this.styleEnabled()&&this._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var e=t.renderer();e&&e.beforeRender?e.beforeRender((function(e,n){o(n,t)}),e.beforeRenderPriorities.animations):function e(){t._private.animationsRunning&&i.requestAnimationFrame((function(n){o(n,t),e()}))}()}}};t.exports=a},function(t,e,n){var r=n(72),i=n(77);t.exports=function(t,e){var n=e._private.aniEles,o=[];function a(e,n){var a=e._private,s=a.animation.current,l=a.animation.queue,u=!1;if(!n&&"none"===e.pstyle("display").value){s=s.splice(0,s.length).concat(l.splice(0,l.length));for(var c=0;c<s.length;c++)s[c].stop()}if(0===s.length){var d=l.shift();d&&s.push(d)}for(var h=function(t){for(var e=t.length-1;e>=0;e--)(0,t[e])();t.splice(0,t.length)},f=s.length-1;f>=0;f--){var p=s[f],g=p._private;g.stopped?(s.splice(f,1),g.hooked=!1,g.playing=!1,g.started=!1,h(g.frames)):(g.playing||g.applying)&&(g.playing&&g.applying&&(g.applying=!1),g.started||i(e,p,t,n),r(e,p,t,n),g.applying&&(g.applying=!1),h(g.frames),null!=g.step&&g.step(t),p.completed()&&(s.splice(f,1),g.hooked=!1,g.playing=!1,g.started=!1,h(g.completes)),u=!0)}return n||0!==s.length||0!==l.length||o.push(e),u}for(var s=!1,l=0;l<n.length;l++){var u=a(n[l]);s=s||u}var c=a(e,!0);(s||c)&&(n.length>0?(n.dirtyCompoundBoundsCache(),e.notify({type:"draw",eles:n})):e.notify({type:"draw"})),n.unmerge(o),e.emit("step")}},function(t,e,n){var r=n(73),i=n(76),o=n(0);function a(t,e){return!!(null!=t&&null!=e&&(o.number(t)&&o.number(e)||t&&e))}t.exports=function(t,e,n,s){var l=!s,u=t._private,c=e._private,d=c.easing,h=c.startTime,f=(s?t:t.cy()).style();if(!c.easingImpl)if(null==d)c.easingImpl=r.linear;else{var p=void 0;p=o.string(d)?f.parse("transition-timing-function",d).value:d;var g=void 0,v=void 0;o.string(p)?(g=p,v=[]):(g=p[1],v=p.slice(2).map((function(t){return+t}))),v.length>0?("spring"===g&&v.push(c.duration),c.easingImpl=r[g].apply(null,v)):c.easingImpl=r[g]}var y=c.easingImpl,m=void 0;if(m=0===c.duration?1:(n-h)/c.duration,c.applying&&(m=c.progress),m<0?m=0:m>1&&(m=1),null==c.delay){var b=c.startPosition,w=c.position;if(w&&l&&!t.locked()){var x=t.position();a(b.x,w.x)&&(x.x=i(b.x,w.x,m,y)),a(b.y,w.y)&&(x.y=i(b.y,w.y,m,y)),t.emit("position")}var _=c.startPan,E=c.pan,S=u.pan,k=null!=E&&s;k&&(a(_.x,E.x)&&(S.x=i(_.x,E.x,m,y)),a(_.y,E.y)&&(S.y=i(_.y,E.y,m,y)),t.emit("pan"));var O=c.startZoom,C=c.zoom,T=null!=C&&s;T&&(a(O,C)&&(u.zoom=i(O,C,m,y)),t.emit("zoom")),(k||T)&&t.emit("viewport");var P=c.style;if(P&&P.length>0&&l){for(var N=0;N<P.length;N++){var D=P[N],A=D.name,M=D,L=c.startStyle[A],j=f.properties[L.name],I=i(L,M,m,y,j);f.overrideBypass(t,A,I)}t.emit("style")}}return c.progress=m,m}},function(t,e,n){var r=n(74),i=n(75),o=function(t,e,n,i){var o=r(t,e,n,i);return function(t,e,n){return t+(e-t)*o(n)}},a={linear:function(t,e,n){return t+(e-t)*n},ease:o(.25,.1,.25,1),"ease-in":o(.42,0,1,1),"ease-out":o(0,0,.58,1),"ease-in-out":o(.42,0,.58,1),"ease-in-sine":o(.47,0,.745,.715),"ease-out-sine":o(.39,.575,.565,1),"ease-in-out-sine":o(.445,.05,.55,.95),"ease-in-quad":o(.55,.085,.68,.53),"ease-out-quad":o(.25,.46,.45,.94),"ease-in-out-quad":o(.455,.03,.515,.955),"ease-in-cubic":o(.55,.055,.675,.19),"ease-out-cubic":o(.215,.61,.355,1),"ease-in-out-cubic":o(.645,.045,.355,1),"ease-in-quart":o(.895,.03,.685,.22),"ease-out-quart":o(.165,.84,.44,1),"ease-in-out-quart":o(.77,0,.175,1),"ease-in-quint":o(.755,.05,.855,.06),"ease-out-quint":o(.23,1,.32,1),"ease-in-out-quint":o(.86,0,.07,1),"ease-in-expo":o(.95,.05,.795,.035),"ease-out-expo":o(.19,1,.22,1),"ease-in-out-expo":o(1,0,0,1),"ease-in-circ":o(.6,.04,.98,.335),"ease-out-circ":o(.075,.82,.165,1),"ease-in-out-circ":o(.785,.135,.15,.86),spring:function(t,e,n){if(0===n)return a.linear;var r=i(t,e,n);return function(t,e,n){return t+(e-t)*r(n)}},"cubic-bezier":o};t.exports=a},function(t,e,n){t.exports=
/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */
function(t,e,n,r){var i=4,o=.001,a=1e-7,s=10,l=11,u=1/(l-1),c="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var d=0;d<4;++d)if("number"!=typeof arguments[d]||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var h=c?new Float32Array(l):new Array(l);function f(t,e){return 1-3*e+3*t}function p(t,e){return 3*e-6*t}function g(t){return 3*t}function v(t,e,n){return((f(e,n)*t+p(e,n))*t+g(e))*t}function y(t,e,n){return 3*f(e,n)*t*t+2*p(e,n)*t+g(e)}function m(e){for(var r=0,c=1,d=l-1;c!==d&&h[c]<=e;++c)r+=u;--c;var f=r+(e-h[c])/(h[c+1]-h[c])*u,p=y(f,t,n);return p>=o?function(e,r){for(var o=0;o<i;++o){var a=y(r,t,n);if(0===a)return r;r-=(v(r,t,n)-e)/a}return r}(e,f):0===p?f:function(e,r,i){var o=void 0,l=void 0,u=0;do{(o=v(l=r+(i-r)/2,t,n)-e)>0?i=l:r=l}while(Math.abs(o)>a&&++u<s);return l}(e,r,r+u)}var b=!1;function w(){b=!0,t===e&&n===r||function(){for(var e=0;e<l;++e)h[e]=v(e*u,t,n)}()}var x=function(i){return b||w(),t===e&&n===r?i:0===i?0:1===i?1:v(m(i),e,r)};x.getControlPoints=function(){return[{x:t,y:e},{x:n,y:r}]};var _="generateBezier("+[t,e,n,r]+")";return x.toString=function(){return _},x}},function(t,e,n){
/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */
var r=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,r){var i={x:e.x+r.dx*n,v:e.v+r.dv*n,tension:e.tension,friction:e.friction};return{dx:i.v,dv:t(i)}}function n(n,r){var i={dx:n.v,dv:t(n)},o=e(n,.5*r,i),a=e(n,.5*r,o),s=e(n,r,a),l=1/6*(i.dx+2*(o.dx+a.dx)+s.dx),u=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+l*r,n.v=n.v+u*r,n}return function t(e,r,i){var o,a={x:-1,v:0,tension:null,friction:null},s=[0],l=0,u=void 0,c=void 0;for(e=parseFloat(e)||500,r=parseFloat(r)||20,i=i||null,a.tension=e,a.friction=r,u=(o=null!==i)?(l=t(e,r))/i*.016:.016;c=n(c||a,u),s.push(1+c.x),l+=16,Math.abs(c.x)>1e-4&&Math.abs(c.v)>1e-4;);return o?function(t){return s[t*(s.length-1)|0]}:l}}();t.exports=r},function(t,e,n){var r=n(0);function i(t,e,n,r,i){if(1===r)return n;var o=i(e,n,r);return null==t?o:((t.roundValue||t.color)&&(o=Math.round(o)),void 0!==t.min&&(o=Math.max(o,t.min)),void 0!==t.max&&(o=Math.min(o,t.max)),o)}function o(t,e){return null!=t.pfValue||null!=t.value?null==t.pfValue||null!=e&&"%"===e.type.units?t.value:t.pfValue:t}t.exports=function(t,e,n,a,s){var l=null!=s?s.type:null;n<0?n=0:n>1&&(n=1);var u=o(t,s),c=o(e,s);if(r.number(u)&&r.number(c))return i(l,u,c,n,a);if(r.array(u)&&r.array(c)){for(var d=[],h=0;h<c.length;h++){var f=u[h],p=c[h];if(null!=f&&null!=p){var g=i(l,f,p,n,a);d.push(g)}else d.push(p)}return d}}},function(t,e,n){t.exports=function(t,e,n,r){var i=!r,o=t,a=e._private,s=r?t:t.cy(),l=s.style();if(i){var u=o.position();a.startPosition=a.startPosition||{x:u.x,y:u.y},a.startStyle=a.startStyle||l.getAnimationStartStyle(o,a.style)}if(r){var c=s._private.pan;a.startPan=a.startPan||{x:c.x,y:c.y},a.startZoom=null!=a.startZoom?a.startZoom:s._private.zoom}a.started=!0,a.startTime=n-a.progress*a.duration}},function(t,e,n){var r=n(11),i=n(4),o=n(0),a=n(1),s=n(6),l={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var r=e.qualifier;return null==r||t!==n.target&&o.element(n.target)&&r.matches(n.target)},eventFields:function(t){return{cy:t,target:t}},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t}},u=function(t){return o.string(t)?new s(t):t},c={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new r(a.assign({context:this},l))),this},emitter:function(){return this._private.emitter},on:function(t,e,n){return this.emitter().on(t,u(e),n),this},removeListener:function(t,e,n){return this.emitter().removeListener(t,u(e),n),this},one:function(t,e,n){return this.emitter().one(t,u(e),n),this},once:function(t,e,n){return this.emitter().one(t,u(e),n),this},emit:function(t,e){return this.emitter().emit(t,e),this}};i.eventAliasesOn(c),t.exports=c},function(t,e,n){var r={png:function(t){return t=t||{},this._private.renderer.png(t)},jpg:function(t){var e=this._private.renderer;return(t=t||{}).bg=t.bg||"#fff",e.jpg(t)}};r.jpeg=r.jpg,t.exports=r},function(t,e,n){var r=n(1),i=n(0),o={layout:function(t){if(null!=t)if(null!=t.name){var e=t.name,n=this.extension("layout",e);if(null!=n){var o=void 0;o=i.string(t.eles)?this.$(t.eles):null!=t.eles?t.eles:this.$();var a=new n(r.extend({},t,{cy:this,eles:o}));return a}r.error("Can not apply layout: No such layout `"+e+"` found; did you include its JS file?")}else r.error("A `name` must be specified to make a layout");else r.error("Layout options must be specified to make a layout")}};o.createLayout=o.makeLayout=o.layout,t.exports=o},function(t,e,n){var r={notify:function(t){var e=this._private;if(e.batchingNotify){var n=e.batchNotifyEles,r=e.batchNotifyTypes;return t.eles&&n.merge(t.eles),void(r.ids[t.type]||(r.push(t.type),r.ids[t.type]=!0))}if(e.notificationsEnabled){var i=this.renderer();!this.isDestroyed()&&i&&i.notify(t)}},notifications:function(t){var e=this._private;if(void 0===t)return e.notificationsEnabled;e.notificationsEnabled=!!t},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return null==t.batchCount&&(t.batchCount=0),0===t.batchCount&&(t.batchingStyle=t.batchingNotify=!0,t.batchStyleEles=this.collection(),t.batchNotifyEles=this.collection(),t.batchNotifyTypes=[],t.batchNotifyTypes.ids={}),t.batchCount++,this},endBatch:function(){var t=this._private;return t.batchCount--,0===t.batchCount&&(t.batchingStyle=!1,t.batchStyleEles.updateStyle(),t.batchingNotify=!1,this.notify({type:t.batchNotifyTypes,eles:t.batchNotifyEles})),this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch((function(){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];e.getElementById(i).data(o)}}))}};t.exports=r},function(t,e,n){var r=n(1),i={renderTo:function(t,e,n,r){return this._private.renderer.renderTo(t,e,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.invalidateSize(),this.notify({type:"resize"}),this.emit("resize"),this},initRenderer:function(t){var e=this.extension("renderer",t.name);null!=e?(this._private.renderer=new e(r.extend({},t,{cy:this})),this.notify({type:"init"})):r.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",t.name)},destroyRenderer:function(){this.notify({type:"destroy"});var t=this.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);this._private.renderer=null},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};i.invalidateDimensions=i.resize,t.exports=i},function(t,e,n){var r=n(0),i=n(7),o={collection:function(t,e){return r.string(t)?this.$(t):r.elementOrCollection(t)?t.collection():r.array(t)?new i(this,t,e):new i(this)},nodes:function(t){var e=this.$((function(t){return t.isNode()}));return t?e.filter(t):e},edges:function(t){var e=this.$((function(t){return t.isEdge()}));return t?e.filter(t):e},$:function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},mutableElements:function(){return this._private.elements}};o.elements=o.filter=o.$,t.exports=o},function(t,e,n){var r=n(0),i=n(18),o={style:function(t){return t&&this.setStyle(t).update(),this._private.style},setStyle:function(t){var e=this._private;return r.stylesheet(t)?e.style=t.generateStyle(this):r.array(t)?e.style=i.fromJson(this,t):r.string(t)?e.style=i.fromString(this,t):e.style=i(this),e.style}};t.exports=o},function(t,e,n){var r=n(1),i=n(0),o=n(5),a={apply:function(t){var e=this._private,n=e.cy.collection();e.newStyle&&(e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0));for(var r=0;r<t.length;r++){var i=t[r],o=this.getContextMeta(i);if(!o.empty){n.merge(i);var a=this.getContextStyle(o),s=this.applyContextStyle(o,a,i);e.newStyle||this.updateTransitions(i,s.diffProps),this.updateStyleHints(i)}}return e.newStyle=!1,n},getPropertiesDiff:function(t,e){var n=this._private.propDiffs=this._private.propDiffs||{},r=t+"-"+e,i=n[r];if(i)return i;for(var o=[],a={},s=0;s<this.length;s++){var l=this[s],u="t"===t[s]!=("t"===e[s]),c=l.mappedProperties.length>0;if(u||c){var d=void 0;u&&c?d=l.properties:u?d=l.properties:c&&(d=l.mappedProperties);for(var h=0;h<d.length;h++){for(var f=d[h],p=f.name,g=!1,v=s+1;v<this.length;v++){var y=this[v];if("t"===e[v]&&(g=null!=y.properties[f.name]))break}a[p]||g||(a[p]=!0,o.push(p))}}}return n[r]=o,o},getContextMeta:function(t){var e,n="",r=t._private.styleCxtKey||"";this._private.newStyle&&(r="");for(var i=0;i<this.length;i++){var o=this[i];n+=o.selector&&o.selector.matches(t)?"t":"f"}return e=this.getPropertiesDiff(r,n),t._private.styleCxtKey=n,{key:n,diffPropNames:e,empty:0===e.length}},getContextStyle:function(t){var e=t.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var r={_private:{key:e}},i=0;i<this.length;i++){var o=this[i];if("t"===e[i])for(var a=0;a<o.properties.length;a++){var s=o.properties[a];r[s.name]=s}}return n[e]=r,r},applyContextStyle:function(t,e,n){for(var r=t.diffPropNames,i={},o=0;o<r.length;o++){var a=r[o],s=e[a],l=n.pstyle(a);if(!s){if(!l)continue;s=l.bypass?{name:a,deleteBypassed:!0}:{name:a,delete:!0}}if(l!==s){var u=i[a]={prev:l};this.applyParsedProperty(n,s),u.next=n.pstyle(a),u.next&&u.next.bypass&&(u.next=u.next.bypassed)}}return{diffProps:i}},updateStyleHints:function(t){var e=t._private;if(!t.removed()){var n=!1;if("nodes"===e.group)for(var r=1;r<=this.pieBackgroundN;r++)if(t.pstyle("pie-"+r+"-background-size").value>0){n=!0;break}e.hasPie=n;var i=t.pstyle("text-transform").strValue,o=t.pstyle("label").strValue,a=t.pstyle("source-label").strValue,s=t.pstyle("target-label").strValue,l=t.pstyle("font-style").strValue,u=t.pstyle("font-size").pfValue+"px",c=t.pstyle("font-family").strValue,d=t.pstyle("font-weight").strValue,h=l+"$"+u+"$"+c+"$"+d+"$"+i+"$"+t.pstyle("text-valign").strValue+"$"+t.pstyle("text-valign").strValue+"$"+t.pstyle("text-outline-width").pfValue+"$"+t.pstyle("text-wrap").strValue+"$"+t.pstyle("text-max-width").pfValue;e.labelStyleKey=h,e.sourceLabelKey=h+"$"+a,e.targetLabelKey=h+"$"+s,e.labelKey=h+"$"+o,e.fontKey=l+"$"+d+"$"+u+"$"+c,e.styleKey=Date.now()}},applyParsedProperty:function(t,e){var n=this,o=e,a=t._private.style,s=void 0,l=n.types,u=n.properties[o.name].type,c=o.bypass,d=a[o.name],h=d&&d.bypass,f=t._private,p=function(){n.checkZOrderTrigger(t,o.name,d?d.value:null,o.value)};if("curve-style"===e.name&&"haystack"===e.value&&t.isEdge()&&(t.isLoop()||t.source().isParent()||t.target().isParent())&&(o=e=this.parse(e.name,"bezier",c)),o.delete)return a[o.name]=void 0,p(),!0;if(o.deleteBypassed)return d?!!d.bypass&&(d.bypassed=void 0,p(),!0):(p(),!0);if(o.deleteBypass)return d?!!d.bypass&&(a[o.name]=d.bypassed,p(),!0):(p(),!0);var g=function(){r.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+t.id()+"` for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case l.mapData:for(var v=o.field.split("."),y=f.data,m=0;m<v.length&&y;m++)y=y[v[m]];var b=void 0;if((b=i.number(y)?(y-o.fieldMin)/(o.fieldMax-o.fieldMin):0)<0?b=0:b>1&&(b=1),u.color){var w=o.valueMin[0],x=o.valueMax[0],_=o.valueMin[1],E=o.valueMax[1],S=o.valueMin[2],k=o.valueMax[2],O=null==o.valueMin[3]?1:o.valueMin[3],C=null==o.valueMax[3]?1:o.valueMax[3],T=[Math.round(w+(x-w)*b),Math.round(_+(E-_)*b),Math.round(S+(k-S)*b),Math.round(O+(C-O)*b)];s={bypass:o.bypass,name:o.name,value:T,strValue:"rgb("+T[0]+", "+T[1]+", "+T[2]+")"}}else{if(!u.number)return!1;var P=o.valueMin+(o.valueMax-o.valueMin)*b;s=this.parse(o.name,P,o.bypass,"mapping")}s||(s=this.parse(o.name,d.strValue,o.bypass,"mapping")),s||g(),s.mapping=o,o=s;break;case l.data:var N=o.field.split("."),D=f.data;if(D)for(var A=0;A<N.length;A++)D=D[N[A]];if(!(s=this.parse(o.name,D,o.bypass,"mapping"))){var M=d?d.strValue:"";s=this.parse(o.name,M,o.bypass,"mapping")}s||g(),s.mapping=o,o=s;break;case l.fn:var L=(0,o.value)(t);(s=this.parse(o.name,L,o.bypass,"mapping")).mapping=o,o=s;break;case void 0:break;default:return!1}return c?(o.bypassed=h?d.bypassed:d,a[o.name]=o):h?d.bypassed=o:a[o.name]=o,p(),!0},cleanElements:function(t,e){for(var n=this.properties,r=0;r<t.length;r++){var i=t[r];if(e)for(var o=i._private.style,a=0;a<n.length;a++){var s=n[a],l=o[s.name];l&&(l.bypass?l.bypassed=null:o[s.name]=null)}else i._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateMappers:function(t){for(var e=this._private.cy.collection(),n=0;n<t.length;n++){for(var r=t[n],i=r._private.style,o=!1,a=0;a<this.properties.length;a++){var s=i[this.properties[a].name];if(s&&s.mapping){var l=s.mapping;this.applyParsedProperty(r,l),o=!0}}o&&(this.updateStyleHints(r),e.merge(r))}return e},updateTransitions:function(t,e,n){var r=this,a=t._private,s=t.pstyle("transition-property").value,l=t.pstyle("transition-duration").pfValue,u=t.pstyle("transition-delay").pfValue;if(s.length>0&&l>0){for(var c={},d=!1,h=0;h<s.length;h++){var f=s[h],p=t.pstyle(f),g=e[f];if(g){var v=g.prev,y=null!=g.next?g.next:p,m=!1,b=void 0;v&&(i.number(v.pfValue)&&i.number(y.pfValue)?(m=y.pfValue-v.pfValue,b=v.pfValue+1e-6*m):i.number(v.value)&&i.number(y.value)?(m=y.value-v.value,b=v.value+1e-6*m):i.array(v.value)&&i.array(y.value)&&(m=v.value[0]!==y.value[0]||v.value[1]!==y.value[1]||v.value[2]!==y.value[2],b=v.strValue),m&&(c[f]=y.strValue,this.applyBypass(t,f,b),d=!0))}}if(!d)return;a.transitioning=!0,new o((function(e){u>0?t.delayAnimation(u).play().promise().then(e):e()})).then((function(){return t.animation({style:c,duration:l,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){r.removeBypasses(t,s),t.emitAndNotify("style"),a.transitioning=!1}))}else a.transitioning&&(this.removeBypasses(t,s),t.emitAndNotify("style"),a.transitioning=!1)},checkZOrderTrigger:function(t,e,n,r){var i=this.properties[e];null==i.triggersZOrder||null!=n&&!i.triggersZOrder(n,r)||this._private.cy.notify({type:"zorder",eles:t})}};t.exports=a},function(t,e,n){var r=n(0),i=n(1),o={applyBypass:function(t,e,n,o){var a=[];if("*"===e||"**"===e){if(void 0!==n)for(var s=0;s<this.properties.length;s++){var l=this.properties[s].name,u=this.parse(l,n,!0);u&&a.push(u)}}else if(r.string(e)){var c=this.parse(e,n,!0);c&&a.push(c)}else{if(!r.plainObject(e))return!1;var d=e;o=n;for(var h=Object.keys(d),f=0;f<h.length;f++){var p=h[f],g=(this.properties[p],d[p]);if(void 0===g&&(g=d[i.dash2camel(p)]),void 0!==g){var v=this.parse(p,g,!0);v&&a.push(v)}}}if(0===a.length)return!1;for(var y=!1,m=0;m<t.length;m++){for(var b=t[m],w={},x=void 0,_=0;_<a.length;_++){var E=a[_];if(o){var S=b.pstyle(E.name);x=w[E.name]={prev:S}}y=this.applyParsedProperty(b,E)||y,o&&(x.next=b.pstyle(E.name))}y&&this.updateStyleHints(b),o&&this.updateTransitions(b,w,!0)}return y},overrideBypass:function(t,e,n){e=i.camel2dash(e);for(var r=0;r<t.length;r++){var o=t[r],a=o._private.style[e],s=this.properties[e].type,l=s.color,u=s.mutiple;if(a&&a.bypass){var c=null!=a.pfValue?a.pfValue:a.value;a.value=n,null!=a.pfValue&&(a.pfValue=n),a.strValue=l?"rgb("+n.join(",")+")":u?n.join(" "):""+n,this.checkZOrderTrigger(o,e,c,n)}else this.applyBypass(o,e,n)}},removeAllBypasses:function(t,e){return this.removeBypasses(t,this.propertyNames,e)},removeBypasses:function(t,e,n){for(var r=0;r<t.length;r++){for(var i=t[r],o={},a=0;a<e.length;a++){var s=e[a],l=this.properties[s],u=i.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),d=o[l.name]={prev:u};this.applyParsedProperty(i,c),d.next=i.pstyle(l.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,o,!0)}}};t.exports=o},function(t,e,n){var r=n(3),i={getEmSizeInPixels:function(){var t=this.containerCss("font-size");return null!=t?parseFloat(t):1},containerCss:function(t){var e=this._private.cy.container();if(r&&e&&r.getComputedStyle)return r.getComputedStyle(e).getPropertyValue(t)}};t.exports=i},function(t,e,n){var r=n(1),i=n(0),o={getRenderedStyle:function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},getRawStyle:function(t,e){if(t=t[0]){for(var n={},i=0;i<this.properties.length;i++){var o=this.properties[i],a=this.getStylePropertyValue(t,o.name,e);null!=a&&(n[o.name]=a,n[r.dash2camel(o.name)]=a)}return n}},getIndexedStyle:function(t,e,n,r){var i=t.pstyle(e)[n][r];return null!=i?i:t.cy().style().getDefaultProperty(e)[n][0]},getStylePropertyValue:function(t,e,n){if(t=t[0]){var r=this.properties[e];r.alias&&(r=r.pointsTo);var o=r.type,a=t.pstyle(r.name);if(a){var s=a.value,l=a.units,u=a.strValue;if(n&&o.number&&null!=s&&i.number(s)){var c=t.cy().zoom(),d=function(t){return t*c},h=function(t,e){return d(t)+e},f=i.array(s);return(f?l.every((function(t){return null!=t})):null!=l)?f?s.map((function(t,e){return h(t,l[e])})).join(" "):h(s,l):f?s.map((function(t){return i.string(t)?t:""+d(t)})).join(" "):""+d(s)}if(null!=u)return u}return null}},getAnimationStartStyle:function(t,e){for(var n={},r=0;r<e.length;r++){var o=e[r].name,a=t.pstyle(o);void 0!==a&&(a=i.plainObject(a)?this.parse(o,a.strValue):this.parse(o,a)),a&&(n[o]=a)}return n},getPropsList:function(t){var e=[],n=t,i=this.properties;if(n)for(var o=Object.keys(n),a=0;a<o.length;a++){var s=o[a],l=n[s],u=i[s]||i[r.camel2dash(s)],c=this.parse(u.name,l);c&&e.push(c)}return e}};t.exports=o},function(t,e,n){var r={appendFromJson:function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.selector,i=n.style||n.css,o=Object.keys(i);this.selector(r);for(var a=0;a<o.length;a++){var s=o[a],l=i[s];this.css(s,l)}}return this},fromJson:function(t){return this.resetToDefault(),this.appendFromJson(t),this},json:function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var n=this[e],r=n.selector,i=n.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}t.push({selector:r?r.toString():"core",style:o})}return t}};t.exports=r},function(t,e,n){var r=n(1),i=n(6),o={appendFromString:function(t){var e=""+t,n=void 0,o=void 0,a=void 0;function s(){e=e.length>n.length?e.substr(n.length):""}function l(){o=o.length>a.length?o.substr(a.length):""}for(e=e.replace(/[/][*](\s|.)+?[*][/]/g,"");!e.match(/^\s*$/);){var u=e.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!u){r.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+e);break}n=u[0];var c=u[1];if("core"!==c&&new i(c)._private.invalid)r.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+c),s();else{var d=u[2],h=!1;o=d;for(var f=[];!o.match(/^\s*$/);){var p=o.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!p){r.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),h=!0;break}a=p[0];var g=p[1],v=p[2];this.properties[g]?this.parse(g,v)?(f.push({name:g,val:v}),l()):(r.error("Skipping property: Invalid property definition in: "+a),l()):(r.error("Skipping property: Invalid property name in: "+a),l())}if(h){s();break}this.selector(c);for(var y=0;y<f.length;y++){var m=f[y];this.css(m.name,m.val)}s()}}return this},fromString:function(t){return this.resetToDefault(),this.appendFromString(t),this}};t.exports=o},function(t,e,n){var r=n(1),i=n(0),o={};!function(){var t=r.regex.number,e=r.regex.rgbaNoBackRefs,n=r.regex.hslaNoBackRefs,a=r.regex.hex3,s=r.regex.hex6,l=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},u=function(r){var i=t+"|\\w+|"+e+"|"+n+"|"+a+"|"+s;return"^"+r+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"},c=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];o.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"]},color:{color:!0},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontletiant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","cutrectangle","bottomroundrectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","half-triangle-overshot","vee","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:l("data")},layoutData:{mapping:!0,regex:l("layoutData")},scratch:{mapping:!0,regex:l("scratch")},mapData:{mapping:!0,regex:u("mapData")},mapLayoutData:{mapping:!0,regex:u("mapLayoutData")},mapScratch:{mapping:!0,regex:u("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:c,singleRegexMatchValue:!0},urls:{regexes:c,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-line"],singleEnum:!0,validate:function(t,e){switch(t.length){case 2:return"deg"!==e[0]&&"rad"!==e[0]&&"deg"!==e[1]&&"rad"!==e[1];case 1:return i.string(t[0])||"deg"===e[0]||"rad"===e[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]}};var d={zeroNonZero:function(t,e){return 0===t&&0!==e||0!==t&&0===e},anyDiff:function(t,e){return t!==e}},h=o.types,f=o.properties=[{name:"label",type:h.text},{name:"text-rotation",type:h.textRotation},{name:"text-margin-x",type:h.bidirectionalSize},{name:"text-margin-y",type:h.bidirectionalSize},{name:"source-label",type:h.text},{name:"source-text-rotation",type:h.textRotation},{name:"source-text-margin-x",type:h.bidirectionalSize},{name:"source-text-margin-y",type:h.bidirectionalSize},{name:"source-text-offset",type:h.size},{name:"target-label",type:h.text},{name:"target-text-rotation",type:h.textRotation},{name:"target-text-margin-x",type:h.bidirectionalSize},{name:"target-text-margin-y",type:h.bidirectionalSize},{name:"target-text-offset",type:h.size},{name:"text-valign",type:h.valign},{name:"text-halign",type:h.halign},{name:"color",type:h.color},{name:"text-outline-color",type:h.color},{name:"text-outline-width",type:h.size},{name:"text-outline-opacity",type:h.zeroOneNumber},{name:"text-opacity",type:h.zeroOneNumber},{name:"text-background-color",type:h.color},{name:"text-background-opacity",type:h.zeroOneNumber},{name:"text-background-padding",type:h.size},{name:"text-border-opacity",type:h.zeroOneNumber},{name:"text-border-color",type:h.color},{name:"text-border-width",type:h.size},{name:"text-border-style",type:h.borderStyle},{name:"text-background-shape",type:h.textBackgroundShape},{name:"text-transform",type:h.textTransform},{name:"text-wrap",type:h.textWrap},{name:"text-max-width",type:h.size},{name:"text-events",type:h.bool},{name:"font-family",type:h.fontFamily},{name:"font-style",type:h.fontStyle},{name:"font-weight",type:h.fontWeight},{name:"font-size",type:h.size},{name:"min-zoomed-font-size",type:h.size},{name:"events",type:h.bool},{name:"display",type:h.display,triggersZOrder:d.anyDiff},{name:"visibility",type:h.visibility,triggersZOrder:d.anyDiff},{name:"opacity",type:h.zeroOneNumber,triggersZOrder:d.zeroNonZero},{name:"z-compound-depth",type:h.zCompoundDepth,triggersZOrder:d.anyDiff},{name:"z-index-compare",type:h.zIndexCompare,triggersZOrder:d.anyDiff},{name:"z-index",type:h.nonNegativeInt,triggersZOrder:d.anyDiff},{name:"overlay-padding",type:h.size},{name:"overlay-color",type:h.color},{name:"overlay-opacity",type:h.zeroOneNumber},{name:"transition-property",type:h.propList},{name:"transition-duration",type:h.time},{name:"transition-delay",type:h.time},{name:"transition-timing-function",type:h.easing},{name:"height",type:h.nodeSize},{name:"width",type:h.nodeSize},{name:"shape",type:h.nodeShape},{name:"shape-polygon-points",type:h.polygonPointList},{name:"background-color",type:h.color},{name:"background-opacity",type:h.zeroOneNumber},{name:"background-blacken",type:h.nOneOneNumber},{name:"padding",type:h.sizeMaybePercent},{name:"padding-relative-to",type:h.paddingRelativeTo},{name:"border-color",type:h.color},{name:"border-opacity",type:h.zeroOneNumber},{name:"border-width",type:h.size},{name:"border-style",type:h.borderStyle},{name:"background-image",type:h.urls},{name:"background-image-crossorigin",type:h.bgCrossOrigin},{name:"background-image-opacity",type:h.zeroOneNumbers},{name:"background-position-x",type:h.bgPos},{name:"background-position-y",type:h.bgPos},{name:"background-width-relative-to",type:h.bgRelativeTo},{name:"background-height-relative-to",type:h.bgRelativeTo},{name:"background-repeat",type:h.bgRepeat},{name:"background-fit",type:h.bgFit},{name:"background-clip",type:h.bgClip},{name:"background-width",type:h.bgWH},{name:"background-height",type:h.bgWH},{name:"position",type:h.position},{name:"compound-sizing-wrt-labels",type:h.compoundIncludeLabels},{name:"min-width",type:h.size},{name:"min-width-bias-left",type:h.sizeMaybePercent},{name:"min-width-bias-right",type:h.sizeMaybePercent},{name:"min-height",type:h.size},{name:"min-height-bias-top",type:h.sizeMaybePercent},{name:"min-height-bias-bottom",type:h.sizeMaybePercent},{name:"line-style",type:h.lineStyle},{name:"line-color",type:h.color},{name:"curve-style",type:h.curveStyle},{name:"haystack-radius",type:h.zeroOneNumber},{name:"source-endpoint",type:h.edgeEndpoint},{name:"target-endpoint",type:h.edgeEndpoint},{name:"control-point-step-size",type:h.size},{name:"control-point-distances",type:h.bidirectionalSizes},{name:"control-point-weights",type:h.numbers},{name:"segment-distances",type:h.bidirectionalSizes},{name:"segment-weights",type:h.numbers},{name:"edge-distances",type:h.edgeDistances},{name:"arrow-scale",type:h.positiveNumber},{name:"loop-direction",type:h.angle},{name:"loop-sweep",type:h.angle},{name:"source-distance-from-node",type:h.size},{name:"target-distance-from-node",type:h.size},{name:"ghost",type:h.bool},{name:"ghost-offset-x",type:h.bidirectionalSize},{name:"ghost-offset-y",type:h.bidirectionalSize},{name:"ghost-opacity",type:h.zeroOneNumber},{name:"selection-box-color",type:h.color},{name:"selection-box-opacity",type:h.zeroOneNumber},{name:"selection-box-border-color",type:h.color},{name:"selection-box-border-width",type:h.size},{name:"active-bg-color",type:h.color},{name:"active-bg-opacity",type:h.zeroOneNumber},{name:"active-bg-size",type:h.size},{name:"outside-texture-bg-color",type:h.color},{name:"outside-texture-bg-opacity",type:h.zeroOneNumber}],p=o.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];o.pieBackgroundN=16,f.push({name:"pie-size",type:h.sizeMaybePercent});for(var g=1;g<=o.pieBackgroundN;g++)f.push({name:"pie-"+g+"-background-color",type:h.color}),f.push({name:"pie-"+g+"-background-size",type:h.percent}),f.push({name:"pie-"+g+"-background-opacity",type:h.zeroOneNumber});var v=o.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:h.arrowShape},{name:"arrow-color",type:h.color},{name:"arrow-fill",type:h.arrowFill}].forEach((function(t){v.forEach((function(e){var n=e+"-"+t.name,r=t.type;f.push({name:n,type:r})}))}),{}),o.propertyNames=f.map((function(t){return t.name}));for(var y=0;y<f.length;y++){var m=f[y];f[m.name]=m}for(var b=0;b<p.length;b++){var w=p[b],x=f[w.pointsTo],_={name:w.name,alias:!0,pointsTo:x};f.push(_),f[w.name]=_}}(),o.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},o.getDefaultProperties=r.memoize((function(){for(var t=r.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(t,e){for(var n=1;n<=o.pieBackgroundN;n++){var r=e.name.replace("{{i}}",n),i=e.value;t[r]=i}return t}),{}),{"line-style":"solid","line-color":"#999","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"edge-distances":"intersection","curve-style":"bezier","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node"},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(t,e){return o.arrowPrefixes.forEach((function(n){var r=n+"-"+e.name,i=e.value;t[r]=i})),t}),{})),e={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,s=t[a],l=this.parse(a,s);e[a]=l}}return e})),o.addDefaultStylesheet=function(){this.selector("$node > node").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3,"curve-style":"haystack"}).selector(":parent <-> node").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector("node:parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},t.exports=o},function(t,e,n){var r=n(1),i=n(0),o=n(2),a={parse:function(t,e,n,o){if(i.fn(e))return this.parseImplWarn(t,e,n,o);var a=[t,e,n,"mapping"===o||!0===o||!1===o||null==o?"dontcare":o].join("$"),s=this.propCache=this.propCache||{},l=void 0;return(l=s[a])||(l=s[a]=this.parseImplWarn(t,e,n,o)),(n||"mapping"===o)&&(l=r.copy(l))&&(l.value=r.copy(l.value)),l},parseImplWarn:function(t,e,n,i){var o=this.parseImpl(t,e,n,i);return o||null==e||r.error("The style property `%s: %s` is invalid",t,e),o},parseImpl:function(t,e,n,a){t=r.camel2dash(t);var s=this.properties[t],l=e,u=this.types;if(!s)return null;if(void 0===e)return null;s.alias&&(s=s.pointsTo,t=s.name);var c=i.string(e);c&&(e=e.trim());var d=s.type;if(!d)return null;if(n&&(""===e||null===e))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(i.fn(e))return{name:t,value:e,strValue:"fn",mapped:u.fn,bypass:n};var h=void 0,f=void 0;if(!c||a);else{if(h=new RegExp(u.data.regex).exec(e)){if(n)return!1;var p=u.data;return{name:t,value:h,strValue:""+e,mapped:p,field:h[1],bypass:n}}if(f=new RegExp(u.mapData.regex).exec(e)){if(n)return!1;if(d.multiple)return!1;var g=u.mapData;if(!d.color&&!d.number)return!1;var v=this.parse(t,f[4]);if(!v||v.mapped)return!1;var y=this.parse(t,f[5]);if(!y||y.mapped)return!1;if(v.value===y.value)return!1;if(d.color){var m=v.value,b=y.value;if(!(m[0]!==b[0]||m[1]!==b[1]||m[2]!==b[2]||m[3]!==b[3]&&(null!=m[3]&&1!==m[3]||null!=b[3]&&1!==b[3])))return!1}return{name:t,value:f,strValue:""+e,mapped:g,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:v.value,valueMax:y.value,bypass:n}}}if(d.multiple&&"multiple"!==a){var w=void 0;if(w=c?e.split(/\s+/):i.array(e)?e:[e],d.evenMultiple&&w.length%2!=0)return null;for(var x=[],_=[],E=[],S=!1,k=0;k<w.length;k++){var O=this.parse(t,w[k],n,"multiple");S=S||i.string(O.value),x.push(O.value),E.push(null!=O.pfValue?O.pfValue:O.value),_.push(O.units)}return d.validate&&!d.validate(x,_)?null:d.singleEnum&&S?1===x.length&&i.string(x[0])?{name:t,value:x[0],strValue:x[0],bypass:n}:null:{name:t,value:x,pfValue:E,strValue:x.map((function(t,e){return t+(_[e]||"")})).join(" "),bypass:n,units:_}}var C=function(){for(var r=0;r<d.enums.length;r++)if(d.enums[r]===e)return{name:t,value:e,strValue:""+e,bypass:n};return null};if(d.number){var T=void 0,P="px";if(d.units&&(T=d.units),d.implicitUnits&&(P=d.implicitUnits),!d.unitless)if(c){var N="px|em"+(d.allowPercent?"|\\%":"");T&&(N=T);var D=e.match("^("+r.regex.number+")("+N+")?$");D&&(e=D[1],T=D[2]||P)}else T&&!d.implicitUnits||(T=P);if(e=parseFloat(e),isNaN(e)&&void 0===d.enums)return null;if(isNaN(e)&&void 0!==d.enums)return e=l,C();if(d.integer&&!i.integer(e))return null;if(void 0!==d.min&&(e<d.min||d.strictMin&&e===d.min)||void 0!==d.max&&(e>d.max||d.strictMax&&e===d.max))return null;var A={name:t,value:e,strValue:""+e+(T||""),units:T,bypass:n};return d.unitless||"px"!==T&&"em"!==T?A.pfValue=e:A.pfValue="px"!==T&&T?this.getEmSizeInPixels()*e:e,"ms"!==T&&"s"!==T||(A.pfValue="ms"===T?e:1e3*e),"deg"!==T&&"rad"!==T||(A.pfValue="rad"===T?e:o.deg2rad(e)),"%"===T&&(A.pfValue=e/100),A}if(d.propList){var M=[],L=""+e;if("none"===L);else{for(var j=L.split(","),I=0;I<j.length;I++){var R=j[I].trim();this.properties[R]&&M.push(R)}if(0===M.length)return null}return{name:t,value:M,strValue:0===M.length?"none":M.join(", "),bypass:n}}if(d.color){var B=r.color2tuple(e);return B?{name:t,value:B,pfValue:B,strValue:""+e,bypass:n}:null}if(d.regex||d.regexes){if(d.enums){var z=C();if(z)return z}for(var F=d.regexes?d.regexes:[d.regex],V=0;V<F.length;V++){var q=new RegExp(F[V]).exec(e);if(q)return{name:t,value:d.singleRegexMatchValue?q[1]:q,strValue:""+e,bypass:n}}return null}return d.string?{name:t,value:""+e,strValue:""+e,bypass:n}:d.enums?C():null}};t.exports=a},function(t,e,n){var r=n(0),i=n(3),o=n(2),a={autolock:function(t){return void 0===t?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return void 0===t?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return void 0===t?this._private.autounselectify:(this._private.autounselectify=!!t,this)},panningEnabled:function(t){return void 0===t?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return void 0===t?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return void 0===t?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return void 0===t?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return void 0===t?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var t=arguments,e=this._private.pan,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0;switch(t.length){case 0:return e;case 1:if(r.string(t[0]))return e[n=t[0]];if(r.plainObject(t[0])){if(!this._private.panningEnabled)return this;a=(o=t[0]).x,s=o.y,r.number(a)&&(e.x=a),r.number(s)&&(e.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=t[0],i=t[1],"x"!==n&&"y"!==n||!r.number(i)||(e[n]=i),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(t,e){var n=arguments,i=this._private.pan,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0;if(!this._private.panningEnabled)return this;switch(n.length){case 1:r.plainObject(t)&&(l=(s=n[0]).x,u=s.y,r.number(l)&&(i.x+=l),r.number(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=e,"x"!==(o=t)&&"y"!==o||!r.number(a)||(i[o]+=a),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(t,e){var n=this.getFitViewport(t,e);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(t,e){if(r.number(t)&&void 0===e&&(e=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n=void 0;if(r.string(t)){var i=t;t=this.$(i)}else if(r.boundingBox(t)){var o=t;(n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else r.elementOrCollection(t)||(t=this.mutableElements());if(!r.elementOrCollection(t)||!t.empty()){n=n||t.boundingBox();var a=this.width(),s=this.height(),l=void 0;if(e=r.number(e)?e:0,!isNaN(a)&&!isNaN(s)&&a>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:l=(l=(l=Math.min((a-2*e)/n.w,(s-2*e)/n.h))>this._private.maxZoom?this._private.maxZoom:l)<this._private.minZoom?this._private.minZoom:l,pan:{x:(a-l*(n.x1+n.x2))/2,y:(s-l*(n.y1+n.y2))/2}}}}},minZoom:function(t){return void 0===t?this._private.minZoom:(r.number(t)&&(this._private.minZoom=t),this)},maxZoom:function(t){return void 0===t?this._private.maxZoom:(r.number(t)&&(this._private.maxZoom=t),this)},getZoomedViewport:function(t){var e=this._private,n=e.pan,i=e.zoom,a=void 0,s=void 0,l=!1;if(e.zoomingEnabled||(l=!0),r.number(t)?s=t:r.plainObject(t)&&(s=t.level,null!=t.position?a=o.modelToRenderedPosition(t.position,i,n):null!=t.renderedPosition&&(a=t.renderedPosition),null==a||e.panningEnabled||(l=!0)),s=(s=s>e.maxZoom?e.maxZoom:s)<e.minZoom?e.minZoom:s,l||!r.number(s)||s===i||null!=a&&(!r.number(a.x)||!r.number(a.y)))return null;if(null!=a){var u=n,c=i,d=s;return{zoomed:!0,panned:!0,zoom:d,pan:{x:-d/c*(a.x-u.x)+a.x,y:-d/c*(a.y-u.y)+a.y}}}return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(t){if(void 0===t)return this._private.zoom;var e=this.getZoomedViewport(t),n=this._private;return null!=e&&e.zoomed?(n.zoom=e.zoom,e.panned&&(n.pan.x=e.pan.x,n.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify({type:"viewport"}),this):this},viewport:function(t){var e=this._private,n=!0,i=!0,o=[],a=!1,s=!1;if(!t)return this;if(r.number(t.zoom)||(n=!1),r.plainObject(t.pan)||(i=!1),!n&&!i)return this;if(n){var l=t.zoom;l<e.minZoom||l>e.maxZoom||!e.zoomingEnabled?a=!0:(e.zoom=l,o.push("zoom"))}if(i&&(!a||!t.cancelOnFailedZoom)&&e.panningEnabled){var u=t.pan;r.number(u.x)&&(e.pan.x=u.x,s=!1),r.number(u.y)&&(e.pan.y=u.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify({type:"viewport"})),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(t,e){if(this._private.panningEnabled){if(r.string(t)){var n=t;t=this.mutableElements().filter(n)}else r.elementOrCollection(t)||(t=this.mutableElements());if(0!==t.length){var i=t.boundingBox(),o=this.width(),a=this.height();return{x:(o-(e=void 0===e?this._private.zoom:e)*(i.x1+i.x2))/2,y:(a-e*(i.y1+i.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,e=t.container;return t.sizeCache=t.sizeCache||(e?function(){var t=i.getComputedStyle(e),n=function(e){return parseFloat(t.getPropertyValue(e))};return{width:e.clientWidth-n("padding-left")-n("padding-right"),height:e.clientHeight-n("padding-top")-n("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,e=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-t.x)/e,x2:(n.x2-t.x)/e,y1:(n.y1-t.y)/e,y2:(n.y2-t.y)/e};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}}};a.centre=a.center,a.autolockNodes=a.autolock,a.autoungrabifyNodes=a.autoungrabify,t.exports=a},function(t,e,n){var r=n(1),i=n(4),o=n(7),a=n(12),s=n(95),l=n(0),u=n(11),c={},d={};function h(t,e,n){var s=n,d=function(n){r.error("Can not register `"+e+"` for `"+t+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===t){if(a.prototype[e])return d(e);a.prototype[e]=n}else if("collection"===t){if(o.prototype[e])return d(e);o.prototype[e]=n}else if("layout"===t){for(var h=function(t){this.options=t,n.call(this,t),l.plainObject(this._private)||(this._private={}),this._private.cy=t.cy,this._private.listeners=[],this.createEmitter()},p=h.prototype=Object.create(n.prototype),g=[],v=0;v<g.length;v++){var y=g[v];p[y]=p[y]||function(){return this}}p.start&&!p.run?p.run=function(){return this.start(),this}:!p.start&&p.run&&(p.start=function(){return this.run(),this});var m=n.prototype.stop;p.stop=function(){var t=this.options;if(t&&t.animate){var e=this.animations;if(e)for(var n=0;n<e.length;n++)e[n].stop()}return m?m.call(this):this.emit("layoutstop"),this},p.destroy||(p.destroy=function(){return this}),p.cy=function(){return this._private.cy};var b=function(t){return t._private.cy};r.assign(p,{createEmitter:function(){return this._private.emitter=new u({eventFields:function(t){return{layout:t,cy:b(t),target:t}},bubble:function(){return!0},parent:function(t){return b(t)},context:this}),this},emitter:function(){return this._private.emitter},on:function(t,e){return this.emitter().on(t,e),this},one:function(t,e){return this.emitter().one(t,e),this},once:function(t,e){return this.emitter().one(t,e),this},removeListener:function(t,e){return this.emitter().removeListener(t,e),this},emit:function(t,e){return this.emitter().emit(t,e),this}}),i.eventAliasesOn(p),s=h}else if("renderer"===t&&"null"!==e&&"base"!==e){var w=f("renderer","base"),x=w.prototype,_=n,E=n.prototype,S=function(){w.apply(this,arguments),_.apply(this,arguments)},k=S.prototype;for(var O in x){var C=x[O];if(null!=E[O])return d(O);k[O]=C}for(var T in E)k[T]=E[T];x.clientFunctions.forEach((function(t){k[t]=k[t]||function(){r.error("Renderer does not implement `renderer."+t+"()` on its prototype")}})),s=S}return r.setMap({map:c,keys:[t,e],value:s})}function f(t,e){return r.getMap({map:c,keys:[t,e]})}function p(t,e,n,i,o){return r.setMap({map:d,keys:[t,e,n,i],value:o})}function g(t,e,n,i){return r.getMap({map:d,keys:[t,e,n,i]})}var v=function(){return 2===arguments.length?f.apply(null,arguments):3===arguments.length?h.apply(null,arguments):4===arguments.length?g.apply(null,arguments):5===arguments.length?p.apply(null,arguments):void r.error("Invalid extension access syntax")};a.prototype.extension=v,s.forEach((function(t){t.extensions.forEach((function(e){h(t.type,e.name,e.impl)}))})),t.exports=v},function(t,e,n){t.exports=[{type:"layout",extensions:n(96)},{type:"renderer",extensions:n(105)}]},function(t,e,n){t.exports=[{name:"breadthfirst",impl:n(97)},{name:"circle",impl:n(98)},{name:"concentric",impl:n(99)},{name:"cose",impl:n(100)},{name:"grid",impl:n(101)},{name:"null",impl:n(102)},{name:"preset",impl:n(103)},{name:"random",impl:n(104)}]},function(t,e,n){var r=n(1),i=n(2),o=n(0),a={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function s(t){this.options=r.extend({},a,t)}s.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,a=r.nodes().not(":parent"),s=r,l=i.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u=void 0;if(o.elementOrCollection(e.roots))u=e.roots;else if(o.array(e.roots)){for(var c=[],d=0;d<e.roots.length;d++){var h=e.roots[d],f=n.getElementById(h);c.push(f)}u=n.collection(c)}else if(o.string(e.roots))u=n.$(e.roots);else if(e.directed)u=a.roots();else{for(var p=[],g=a,v=function(){var t=n.collection();r.bfs({roots:g[0],visit:function(e,n,r,i,o){t=t.add(e)},directed:!1}),g=g.not(t),p.push(t)};g.length>0;)v();u=n.collection();for(var y=function(t){var e=p[t],n=e.maxDegree(!1),r=e.filter((function(t){return t.degree(!1)===n}));u=u.add(r)},m=0;m<p.length;m++)y(m)}var b=[],w={},x={},_={};s.bfs({roots:u,directed:e.directed,visit:function(t,e,n,r,i){var o=t[0],a=o.id();if(b[i]||(b[i]=[]),b[i].push(o),w[a]=!0,x[a]=i,n){var s=n.id();(_[s]=_[s]||[]).push(t)}}});for(var E=[],S=0;S<a.length;S++){var k=a[S];w[k.id()]||E.push(k)}for(var O=3*E.length,C=0;0!==E.length&&C<O;){for(var T=E.shift(),P=T.neighborhood().nodes(),N=!1,D=0;D<P.length;D++){var A=x[P[D].id()];if(void 0!==A){b[A].push(T),N=!0;break}}N||E.push(T),C++}for(;0!==E.length;){var M=E.shift();0===b.length&&b.push([]),b[0].push(M)}var L=function(){for(var t=0;t<b.length;t++)for(var e=b[t],n=0;n<e.length;n++){var r=e[n];null!=r?r._private.scratch.breadthfirst={depth:t,index:n}:(e.splice(n,1),n--)}};L();for(var j=function(t){for(var e=t.connectedEdges((function(e){return e.data("target")===t.id()})),n=t._private.scratch.breadthfirst,r=0,i=void 0,o=0;o<e.length;o++){var a=e[o].source()[0],s=a._private.scratch.breadthfirst;n.depth<=s.depth&&r<s.depth&&(r=s.depth,i=a)}return i},I=0;I<e.maximalAdjustments;I++){for(var R=b.length,B=[],z=0;z<R;z++)for(var F=b[z],V=F.length,q=0;q<V;q++){var U=F[q],H=U._private.scratch.breadthfirst,W=j(U);W&&(H.intEle=W,B.push(U))}for(var Y=0;Y<B.length;Y++){var X=B[Y],G=X._private.scratch.breadthfirst,$=G.intEle._private.scratch.breadthfirst;b[G.depth][G.index]=null;for(var Z=$.depth+1;Z>b.length-1;)b.push([]);b[Z].push(X),G.depth=Z,G.index=b[Z].length-1}L()}var K=0;if(e.avoidOverlap)for(var Q=0;Q<a.length;Q++){var J=a[Q].layoutDimensions(e),tt=J.w,et=J.h;K=Math.max(K,tt,et)}for(var nt={},rt=function(t){if(nt[t.id()])return nt[t.id()];for(var e=t._private.scratch.breadthfirst.depth,n=t.neighborhood().nodes().not(":parent").intersection(a),r=0,i=0,o=0;o<n.length;o++){var s=n[o]._private.scratch.breadthfirst,l=s.index,u=s.depth,c=b[u].length;(e>u||0===e)&&(r+=l/c,i++)}return r/=i=Math.max(1,i),0===i&&(r=void 0),nt[t.id()]=r,r},it=function(t,e){return rt(t)-rt(e)},ot=0;ot<3;ot++){for(var at=0;at<b.length;at++)b[at]=b[at].sort(it);L()}for(var st=0,lt=0;lt<b.length;lt++)st=Math.max(b[lt].length,st);for(var ut=l.x1+l.w/2,ct=l.x1+l.h/2,dt=function(t,n){var r=t._private.scratch.breadthfirst,i=r.depth,o=r.index,a=b[i].length,s=Math.max(l.w/(a+1),K),u=Math.max(l.h/(b.length+1),K),c=Math.min(l.w/2/b.length,l.h/2/b.length);if(c=Math.max(c,K),e.circle){if(e.circle){var d=c*i+c-(b.length>0&&b[0].length<=3?c/2:0),h=2*Math.PI/b[i].length*o;return 0===i&&1===b[0].length&&(d=1),{x:ut+d*Math.cos(h),y:ct+d*Math.sin(h)}}return{x:ut+(o+1-(a+1)/2)*s,y:(i+1)*u}}var f={x:ut+(o+1-(a+1)/2)*s,y:(i+1)*u};return f},ht={},ft=b.length-1;ft>=0;ft--)for(var pt=b[ft],gt=0;gt<pt.length;gt++){var vt=pt[gt];ht[vt.id()]=dt(vt,b.length)}return a.layoutPositions(this,e,(function(t){return ht[t.id()]})),this},t.exports=s},function(t,e,n){var r=n(1),i=n(2),o=n(0),a={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function s(t){this.options=r.extend({},a,t)}s.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,a=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,s=r.nodes().not(":parent");e.sort&&(s=s.sort(e.sort));for(var l=i.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u=l.x1+l.w/2,c=l.y1+l.h/2,d=(void 0===e.sweep?2*Math.PI-2*Math.PI/s.length:e.sweep)/Math.max(1,s.length-1),h=void 0,f=0,p=0;p<s.length;p++){var g=s[p].layoutDimensions(e),v=g.w,y=g.h;f=Math.max(f,v,y)}if(h=o.number(e.radius)?e.radius:s.length<=1?0:Math.min(l.h,l.w)/2-f,s.length>1&&e.avoidOverlap){f*=1.75;var m=Math.cos(d)-Math.cos(0),b=Math.sin(d)-Math.sin(0),w=Math.sqrt(f*f/(m*m+b*b));h=Math.max(w,h)}return s.layoutPositions(this,e,(function(t,n){var r=e.startAngle+n*d*(a?1:-1),i=h*Math.cos(r),o=h*Math.sin(r);return{x:u+i,y:c+o}})),this},t.exports=s},function(t,e,n){var r=n(1),i=n(2),o={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function a(t){this.options=r.extend({},o,t)}a.prototype.run=function(){for(var t=this.options,e=t,n=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,r=t.cy,o=e.eles.nodes().not(":parent"),a=i.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s=a.x1+a.w/2,l=a.y1+a.h/2,u=[],c=(e.startAngle,0),d=0;d<o.length;d++){var h,f=o[d];h=e.concentric(f),u.push({value:h,node:f}),f._private.scratch.concentric=h}o.updateStyle();for(var p=0;p<o.length;p++){var g=o[p].layoutDimensions(e);c=Math.max(c,g.w,g.h)}u.sort((function(t,e){return e.value-t.value}));for(var v=e.levelWidth(o),y=[[]],m=y[0],b=0;b<u.length;b++){var w=u[b];m.length>0&&Math.abs(m[0].value-w.value)>=v&&(m=[],y.push(m)),m.push(w)}var x=c+e.minNodeSpacing;if(!e.avoidOverlap){var _=y.length>0&&y[0].length>1,E=(Math.min(a.w,a.h)/2-x)/(y.length+_?1:0);x=Math.min(x,E)}for(var S=0,k=0;k<y.length;k++){var O=y[k],C=void 0===e.sweep?2*Math.PI-2*Math.PI/O.length:e.sweep,T=O.dTheta=C/Math.max(1,O.length-1);if(O.length>1&&e.avoidOverlap){var P=Math.cos(T)-Math.cos(0),N=Math.sin(T)-Math.sin(0),D=Math.sqrt(x*x/(P*P+N*N));S=Math.max(D,S)}O.r=S,S+=x}if(e.equidistant){for(var A=0,M=0,L=0;L<y.length;L++){var j=y[L].r-M;A=Math.max(A,j)}M=0;for(var I=0;I<y.length;I++){var R=y[I];0===I&&(M=R.r),R.r=M,M+=A}}for(var B={},z=0;z<y.length;z++)for(var F=y[z],V=F.dTheta,q=F.r,U=0;U<F.length;U++){var H=F[U],W=e.startAngle+(n?1:-1)*V*U,Y={x:s+q*Math.cos(W),y:l+q*Math.sin(W)};B[H.node.id()]=Y}return o.layoutPositions(this,e,(function(t){var e=t.id();return B[e]})),this},t.exports=a},function(t,e,n){var r,i=n(1),o=n(2),a=n(0),s=n(5),l={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,e){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1,weaver:!1};function u(t){this.options=i.extend({},l,t),this.options.layout=this}u.prototype.run=function(){var t=this.options,e=t.cy,n=this,o=this.thread,l=t.weaver?t.weaver.Thread:null,u={listeners:[],on:function(t,e){return this.listeners.push({event:t,callback:e}),this},trigger:function(t){a.string(t)&&(t={type:t});var e=function(e){e.callback(t)};return this.listeners.filter((function(e){return e.event===t.type})).forEach(e),this},pass:function(t){return this.pass=t,this},run:function(t){var e=this.pass;return new s((function(n){n(t(e))}))},stop:function(){return this},stopped:function(){return!0}};o&&!o.stopped()||(o=this.thread=l?new l:u),n.stopped=!1,!0!==t.animate&&!1!==t.animate||n.emit({type:"layoutstart",layout:n}),r=!0===t.debug;var d=c(e,n,t);r&&f(d),t.randomize&&p(d,e);var h=Date.now(),v=!1,y=function(n){n=n||{},v&&!n.next||!n.force&&Date.now()-h<t.animationThreshold||(v=!0,i.requestAnimationFrame((function(){g(d,e,t),!0===t.fit&&e.fit(t.padding),v=!1,n.next&&n.next()})))};o.on("message",(function(t){var e=t.message;d.layoutNodes=e,y()})),o.pass({layoutInfo:d,options:{animate:t.animate,refresh:t.refresh,componentSpacing:t.componentSpacing,nodeOverlap:t.nodeOverlap,nestingFactor:t.nestingFactor,gravity:t.gravity,numIter:t.numIter,initialTemp:t.initialTemp,coolingFactor:t.coolingFactor,minTemp:t.minTemp}}).run((function(t){var e,n,r=t.layoutInfo,i=t.options,o=function(t,e){for(var n=0;n<t.graphSet.length;n++)for(var r=t.graphSet[n],i=r.length,o=0;o<i;o++)for(var a=t.layoutNodes[t.idToIndex[r[o]]],l=o+1;l<i;l++){var u=t.layoutNodes[t.idToIndex[r[l]]];s(a,u,t,e)}},a=function(t){return-t+2*t*Math.random()},s=function(t,e,n,r){if(t.cmptId===e.cmptId||n.isCompound){var i=e.positionX-t.positionX,o=e.positionY-t.positionY;0===i&&0===o&&(i=a(1),o=a(1));var s=l(t,e,i,o);if(s>0)var u=(h=r.nodeOverlap*s)*i/(m=Math.sqrt(i*i+o*o)),d=h*o/m;else{var h,f=c(t,i,o),p=c(e,-1*i,-1*o),g=p.x-f.x,v=p.y-f.y,y=g*g+v*v,m=Math.sqrt(y);u=(h=(t.nodeRepulsion+e.nodeRepulsion)/y)*g/m,d=h*v/m}t.isLocked||(t.offsetX-=u,t.offsetY-=d),e.isLocked||(e.offsetX+=u,e.offsetY+=d)}},l=function(t,e,n,r){if(n>0)var i=t.maxX-e.minX;else i=e.maxX-t.minX;if(r>0)var o=t.maxY-e.minY;else o=e.maxY-t.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},c=function(t,e,n){var r=t.positionX,i=t.positionY,o=t.height||1,a=t.width||1,s=n/e,l=o/a,u={};return 0===e&&0<n?(u.x=r,u.y=i+o/2,u):0===e&&0>n?(u.x=r,u.y=i+o/2,u):0<e&&-1*l<=s&&s<=l?(u.x=r+a/2,u.y=i+a*n/2/e,u):0>e&&-1*l<=s&&s<=l?(u.x=r-a/2,u.y=i-a*n/2/e,u):0<n&&(s<=-1*l||s>=l)?(u.x=r+o*e/2/n,u.y=i+o/2,u):0>n&&(s<=-1*l||s>=l)?(u.x=r-o*e/2/n,u.y=i-o/2,u):u},d=function(t,e){for(var n=0;n<t.edgeSize;n++){var r=t.layoutEdges[n],i=t.idToIndex[r.sourceId],o=t.layoutNodes[i],a=t.idToIndex[r.targetId],s=t.layoutNodes[a],l=s.positionX-o.positionX,u=s.positionY-o.positionY;if(0!==l||0!==u){var d=c(o,l,u),h=c(s,-1*l,-1*u),f=h.x-d.x,p=h.y-d.y,g=Math.sqrt(f*f+p*p),v=Math.pow(r.idealLength-g,2)/r.elasticity;if(0!==g)var y=v*f/g,m=v*p/g;else y=0,m=0;o.isLocked||(o.offsetX+=y,o.offsetY+=m),s.isLocked||(s.offsetX-=y,s.offsetY-=m)}}},h=function(t,e){for(var n=0;n<t.graphSet.length;n++){var r=t.graphSet[n],i=r.length;if(0===n)var o=t.clientHeight/2,a=t.clientWidth/2;else{var s=t.layoutNodes[t.idToIndex[r[0]]],l=t.layoutNodes[t.idToIndex[s.parentId]];o=l.positionX,a=l.positionY}for(var u=0;u<i;u++){var c=t.layoutNodes[t.idToIndex[r[u]]];if(!c.isLocked){var d=o-c.positionX,h=a-c.positionY,f=Math.sqrt(d*d+h*h);if(f>1){var p=e.gravity*d/f,g=e.gravity*h/f;c.offsetX+=p,c.offsetY+=g}}}}},f=function(t,e){var n=[],r=0,i=-1;for(n.push.apply(n,t.graphSet[0]),i+=t.graphSet[0].length;r<=i;){var o=n[r++],a=t.idToIndex[o],s=t.layoutNodes[a],l=s.children;if(0<l.length&&!s.isLocked){for(var u=s.offsetX,c=s.offsetY,d=0;d<l.length;d++){var h=t.layoutNodes[t.idToIndex[l[d]]];h.offsetX+=u,h.offsetY+=c,n[++i]=l[d]}s.offsetX=0,s.offsetY=0}}},p=function(t,e){for(var n=0;n<t.nodeSize;n++)0<(i=t.layoutNodes[n]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0);for(n=0;n<t.nodeSize;n++)if(!(0<(i=t.layoutNodes[n]).children.length||i.isLocked)){var r=g(i.offsetX,i.offsetY,t.temperature);i.positionX+=r.x,i.positionY+=r.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,v(i,t)}for(n=0;n<t.nodeSize;n++){var i;0<(i=t.layoutNodes[n]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},g=function(t,e,n){var r=Math.sqrt(t*t+e*e);if(r>n)var i={x:n*t/r,y:n*e/r};else i={x:t,y:e};return i},v=function t(e,n){var r=e.parentId;if(null!=r){var i=n.layoutNodes[n.idToIndex[r]],o=!1;return(null==i.maxX||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(null==i.minX||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(null==i.maxY||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(null==i.minY||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o?t(i,n):void 0}},y=function(t){return function(t,e,n){o(t,e),d(t,e),h(t,e),f(t,e),p(t,e)}(r,i),r.temperature=r.temperature*i.coolingFactor,!(r.temperature<i.minTemp)},m=0;do{for(var b=0;(b<i.refresh||0===i.refresh)&&m<i.numIter;){var w;if(!(w=y()))break;b++,m++}!0===i.animate&&(e=r.layoutNodes,n=void 0,n={type:"message",message:e},u.trigger(n))}while(w&&m+1<i.numIter);return function(t,e){for(var n=r.layoutNodes,i=[],o=0;o<n.length;o++){var a=n[o],s=a.cmptId;(i[s]=i[s]||[]).push(a)}var l=0;for(o=0;o<i.length;o++)if(v=i[o]){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var u=0;u<v.length;u++){var c=v[u];v.x1=Math.min(v.x1,c.positionX-c.width/2),v.x2=Math.max(v.x2,c.positionX+c.width/2),v.y1=Math.min(v.y1,c.positionY-c.height/2),v.y2=Math.max(v.y2,c.positionY+c.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,l+=v.w*v.h}i.sort((function(t,e){return e.w*e.h-t.w*t.h}));var d=0,h=0,f=0,p=0,g=Math.sqrt(l)*r.clientWidth/r.clientHeight;for(o=0;o<i.length;o++){var v;if(v=i[o]){for(u=0;u<v.length;u++)(c=v[u]).isLocked||(c.positionX+=d,c.positionY+=h);d+=v.w+e.componentSpacing,f+=v.w+e.componentSpacing,p=Math.max(p,v.h),f>g&&(h+=p+e.componentSpacing,d=0,f=0,p=0)}}}(0,i),r})).then((function(t){d.layoutNodes=t.layoutNodes,o.stop(),m()}));var m=function(){!0===t.animate||!1===t.animate?y({force:!0,next:function(){n.one("layoutstop",t.stop),n.emit({type:"layoutstop",layout:n})}}):t.eles.nodes().layoutPositions(n,t,(function(t){var e=d.layoutNodes[d.idToIndex[t.data("id")]];return{x:e.positionX,y:e.positionY}}))};return this},u.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},u.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var c=function(t,e,n){for(var r=n.eles.edges(),i=n.eles.nodes(),s={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:o.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var h=l[c],f=0;f<h.length;f++)u[h[f].id()]=c;for(c=0;c<s.nodeSize;c++){var p=(b=i[c]).layoutDimensions(n);(j={}).isLocked=b.locked(),j.id=b.data("id"),j.parentId=b.data("parent"),j.cmptId=u[b.id()],j.children=[],j.positionX=b.position("x"),j.positionY=b.position("y"),j.offsetX=0,j.offsetY=0,j.height=p.w,j.width=p.h,j.maxX=j.positionX+j.width/2,j.minX=j.positionX-j.width/2,j.maxY=j.positionY+j.height/2,j.minY=j.positionY-j.height/2,j.padLeft=parseFloat(b.style("padding")),j.padRight=parseFloat(b.style("padding")),j.padTop=parseFloat(b.style("padding")),j.padBottom=parseFloat(b.style("padding")),j.nodeRepulsion=a.fn(n.nodeRepulsion)?n.nodeRepulsion(b):n.nodeRepulsion,s.layoutNodes.push(j),s.idToIndex[j.id]=c}var g=[],v=0,y=-1,m=[];for(c=0;c<s.nodeSize;c++){var b,w=(b=s.layoutNodes[c]).parentId;null!=w?s.layoutNodes[s.idToIndex[w]].children.push(b.id):(g[++y]=b.id,m.push(b.id))}for(s.graphSet.push(m);v<=y;){var x=g[v++],_=s.idToIndex[x],E=s.layoutNodes[_].children;if(E.length>0)for(s.graphSet.push(E),c=0;c<E.length;c++)g[++y]=E[c]}for(c=0;c<s.graphSet.length;c++){var S=s.graphSet[c];for(f=0;f<S.length;f++){var k=s.idToIndex[S[f]];s.indexToGraph[k]=c}}for(c=0;c<s.edgeSize;c++){var O=r[c],C={};C.id=O.data("id"),C.sourceId=O.data("source"),C.targetId=O.data("target");var T=a.fn(n.idealEdgeLength)?n.idealEdgeLength(O):n.idealEdgeLength,P=a.fn(n.edgeElasticity)?n.edgeElasticity(O):n.edgeElasticity,N=s.idToIndex[C.sourceId],D=s.idToIndex[C.targetId];if(s.indexToGraph[N]!=s.indexToGraph[D]){for(var A=d(C.sourceId,C.targetId,s),M=s.graphSet[A],L=0,j=s.layoutNodes[N];-1===M.indexOf(j.id);)j=s.layoutNodes[s.idToIndex[j.parentId]],L++;for(j=s.layoutNodes[D];-1===M.indexOf(j.id);)j=s.layoutNodes[s.idToIndex[j.parentId]],L++;T*=L*n.nestingFactor}C.idealLength=T,C.elasticity=P,s.layoutEdges.push(C)}return s},d=function(t,e,n){var r=h(t,e,0,n);return 2>r.count?0:r.graph},h=function t(e,n,r,i){var o=i.graphSet[r];if(-1<o.indexOf(e)&&-1<o.indexOf(n))return{count:2,graph:r};for(var a=0,s=0;s<o.length;s++){var l=o[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(0!==c.length){var d=t(e,n,i.indexToGraph[i.idToIndex[c[0]]],i);if(0!==d.count){if(1!==d.count)return d;if(2==++a)break}}}return{count:a,graph:r}},f=function(t){if(r){console.debug("layoutNodes:");for(var e=0;e<t.nodeSize;e++){var n=t.layoutNodes[e],i="\nindex: "+e+"\nId: "+n.id+"\nChildren: "+n.children.toString()+"\nparentId: "+n.parentId+"\npositionX: "+n.positionX+"\npositionY: "+n.positionY+"\nOffsetX: "+n.offsetX+"\nOffsetY: "+n.offsetY+"\npadLeft: "+n.padLeft+"\npadRight: "+n.padRight+"\npadTop: "+n.padTop+"\npadBottom: "+n.padBottom;console.debug(i)}for(var e in console.debug("idToIndex"),t.idToIndex)console.debug("Id: "+e+"\nIndex: "+t.idToIndex[e]);console.debug("Graph Set");var o=t.graphSet;for(e=0;e<o.length;e++)console.debug("Set : "+e+": "+o[e].toString());for(i="IndexToGraph",e=0;e<t.indexToGraph.length;e++)i+="\nIndex : "+e+" Graph: "+t.indexToGraph[e];for(console.debug(i),i="Layout Edges",e=0;e<t.layoutEdges.length;e++){var a=t.layoutEdges[e];i+="\nEdge Index: "+e+" ID: "+a.id+" SouceID: "+a.sourceId+" TargetId: "+a.targetId+" Ideal Length: "+a.idealLength}console.debug(i),i="nodeSize: "+t.nodeSize,i+="\nedgeSize: "+t.edgeSize,i+="\ntemperature: "+t.temperature,console.debug(i)}},p=function(t,e){for(var n=t.clientWidth,r=t.clientHeight,i=0;i<t.nodeSize;i++){var o=t.layoutNodes[i];0!==o.children.length||o.isLocked||(o.positionX=Math.random()*n,o.positionY=Math.random()*r)}},g=function(t,e,n){var r=n.layout,i=n.eles.nodes(),o=t.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};n.boundingBox&&(i.forEach((function(e){var n=t.layoutNodes[t.idToIndex[e.data("id")]];a.x1=Math.min(a.x1,n.positionX),a.x2=Math.max(a.x2,n.positionX),a.y1=Math.min(a.y1,n.positionY),a.y2=Math.max(a.y2,n.positionY)})),a.w=a.x2-a.x1,a.h=a.y2-a.y1),i.positions((function(e,r){var i=t.layoutNodes[t.idToIndex[e.data("id")]];if(n.boundingBox){var s=(i.positionX-a.x1)/a.w,l=(i.positionY-a.y1)/a.h;return{x:o.x1+s*o.w,y:o.y1+l*o.h}}return{x:i.positionX,y:i.positionY}})),!0!==t.ready&&(t.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))};t.exports=u},function(t,e,n){var r=n(1),i=n(2),o={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function a(t){this.options=r.extend({},o,t)}a.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles.nodes().not(":parent");e.sort&&(r=r.sort(e.sort));var o=i.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===o.h||0===o.w)r.layoutPositions(this,e,(function(t){return{x:o.x1,y:o.y1}}));else{var a=r.size(),s=Math.sqrt(a*o.h/o.w),l=Math.round(s),u=Math.round(o.w/o.h*s),c=function(t){if(null==t)return Math.min(l,u);Math.min(l,u)==l?l=t:u=t},d=function(t){if(null==t)return Math.max(l,u);Math.max(l,u)==l?l=t:u=t},h=e.rows,f=null!=e.cols?e.cols:e.columns;if(null!=h&&null!=f)l=h,u=f;else if(null!=h&&null==f)l=h,u=Math.ceil(a/l);else if(null==h&&null!=f)u=f,l=Math.ceil(a/u);else if(u*l>a){var p=c(),g=d();(p-1)*g>=a?c(p-1):(g-1)*p>=a&&d(g-1)}else for(;u*l<a;){var v=c(),y=d();(y+1)*v>=a?d(y+1):c(v+1)}var m=o.w/u,b=o.h/l;if(e.condense&&(m=0,b=0),e.avoidOverlap)for(var w=0;w<r.length;w++){var x=r[w],_=x._private.position;null!=_.x&&null!=_.y||(_.x=0,_.y=0);var E=x.layoutDimensions(e),S=e.avoidOverlapPadding,k=E.w+S,O=E.h+S;m=Math.max(m,k),b=Math.max(b,O)}for(var C={},T=function(t,e){return!!C["c-"+t+"-"+e]},P=function(t,e){C["c-"+t+"-"+e]=!0},N=0,D=0,A=function(){++D>=u&&(D=0,N++)},M={},L=0;L<r.length;L++){var j=r[L],I=e.position(j);if(I&&(void 0!==I.row||void 0!==I.col)){var R={row:I.row,col:I.col};if(void 0===R.col)for(R.col=0;T(R.row,R.col);)R.col++;else if(void 0===R.row)for(R.row=0;T(R.row,R.col);)R.row++;M[j.id()]=R,P(R.row,R.col)}}r.layoutPositions(this,e,(function(t,e){var n=void 0,r=void 0;if(t.locked()||t.isParent())return!1;var i=M[t.id()];if(i)n=i.col*m+m/2+o.x1,r=i.row*b+b/2+o.y1;else{for(;T(N,D);)A();n=D*m+m/2+o.x1,r=N*b+b/2+o.y1,P(N,D),A()}return{x:n,y:r}}))}return this},t.exports=a},function(t,e,n){var r=n(1),i={ready:function(){},stop:function(){}};function o(t){this.options=r.extend({},i,t)}o.prototype.run=function(){var t=this.options,e=t.eles;return t.cy,this.emit("layoutstart"),e.nodes().positions((function(){return{x:0,y:0}})),this.one("layoutready",t.ready),this.emit("layoutready"),this.one("layoutstop",t.stop),this.emit("layoutstop"),this},o.prototype.stop=function(){return this},t.exports=o},function(t,e,n){var r=n(1),i=n(0),o={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function a(t){this.options=r.extend({},o,t)}a.prototype.run=function(){var t=this.options,e=t.eles.nodes(),n=i.fn(t.positions);return e.layoutPositions(this,t,(function(e,r){var i=function(e){if(null==t.positions)return null;if(n)return t.positions(e);var r=t.positions[e._private.data.id];return null==r?null:r}(e);return!e.locked()&&null!=i&&i})),this},t.exports=a},function(t,e,n){var r=n(1),i=n(2),o={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function a(t){this.options=r.extend({},o,t)}a.prototype.run=function(){var t=this.options,e=t.cy,n=t.eles.nodes().not(":parent"),r=i.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()});return n.layoutPositions(this,t,(function(t,e){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}})),this},t.exports=a},function(t,e,n){t.exports=[{name:"null",impl:n(106)},{name:"base",impl:n(107)},{name:"canvas",impl:n(123)}]},function(t,e,n){function r(t){this.options=t,this.notifications=0}var i=function(){};r.prototype={recalculateRenderedStyle:i,notify:function(){this.notifications++},init:i},t.exports=r},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=function(t){this.init(t)},s=a.prototype;s.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],s.init=function(t){var e=this;e.options=t,e.cy=t.cy;var n=e.container=t.cy.container();if(o){var r=o.document,a=r.head,s="__________cytoscape_container",l=null!=r.getElementById("__________cytoscape_stylesheet");if(n.className.indexOf(s)<0&&(n.className=(n.className||"")+" "+s),!l){var u=r.createElement("style");u.id="__________cytoscape_stylesheet",u.innerHTML="."+s+" { position: relative; }",a.insertBefore(u,a.children[0])}"static"===o.getComputedStyle(n).getPropertyValue("position")&&i.error("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.hideLabelsOnViewport=t.hideLabelsOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=t.pixelRatio,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},s.notify=function(t){var e,n=this;if(!this.destroyed){e=r.array(t.type)?t.type:[t.type];for(var i={},o=0;o<e.length;o++)i[e[o]]=!0;i.init?n.load():i.destroy?n.destroy():((i.add||i.remove||i.load||i.zorder)&&n.invalidateCachedZSortedEles(),i.viewport&&n.redrawHint("select",!0),(i.load||i.resize)&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw())}},s.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var n=t.bindings[e],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch(t){}},[n(108),n(109),n(119),n(120),n(121),n(122)].forEach((function(t){i.extend(s,t)})),t.exports=a},function(t,e,n){var r=n(2),i=n(0),o=n(1),a={arrowShapeWidth:.3,registerArrowShapes:function(){var t=this.arrowShapes={},e=this,n=function(t,e,n,r,i,o,a){var s=i.x-n/2-a,l=i.x+n/2+a,u=i.y-n/2-a,c=i.y+n/2+a;return s<=t&&t<=l&&u<=e&&e<=c},a=function(t,e,n,r,i){var o=t*Math.cos(r)-e*Math.sin(r),a=(t*Math.sin(r)+e*Math.cos(r))*n;return{x:o*n+i.x,y:a+i.y}},s=function(t,e,n,r){for(var i=[],o=0;o<t.length;o+=2){var s=t[o],l=t[o+1];i.push(a(s,l,e,n,r))}return i},l=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r.x,r.y)}return e},u=function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").pfValue*2},c=function(a,c){i.string(c)&&(c=t[c]),t[a]=o.extend({name:a,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(t,e,n,i,o,a){var u=l(s(this.points,n+2*a,i,o));return r.pointInsidePolygonPoints(t,e,u)},roughCollide:n,draw:function(t,n,r,i){var o=s(this.points,n,r,i);e.arrowShapeImpl("polygon")(t,o)},spacing:function(t){return 0},gap:u},c)};c("none",{collide:o.falsify,roughCollide:o.falsify,draw:o.noop,spacing:o.zeroify,gap:o.zeroify}),c("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),c("arrow","triangle"),c("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(t,n,r,i,o){var l=s(this.points,n,r,i),u=this.controlPoint,c=a(u[0],u[1],n,r,i);e.arrowShapeImpl(this.name)(t,l,c)},gap:function(t){return.8*u(t)}}),c("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,e,n,i,o,a,u){var c=l(s(this.points,n+2*u,i,o)),d=l(s(this.pointsTee,n+2*u,i,o));return r.pointInsidePolygonPoints(t,e,c)||r.pointInsidePolygonPoints(t,e,d)},draw:function(t,n,r,i,o){var a=s(this.points,n,r,i),l=s(this.pointsTee,n,r,i);e.arrowShapeImpl(this.name)(t,a,l)}}),c("triangle-cross",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(t,e){var n=this.baseCrossLinePts.slice(),r=e/t;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(t,e,n,i,o,a,u){var c=l(s(this.points,n+2*u,i,o)),d=l(s(this.crossLinePts(n,a),n+2*u,i,o));return r.pointInsidePolygonPoints(t,e,c)||r.pointInsidePolygonPoints(t,e,d)},draw:function(t,n,r,i,o){var a=s(this.points,n,r,i),l=s(this.crossLinePts(n,o),n,r,i);e.arrowShapeImpl(this.name)(t,a,l)}}),c("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(t){return.525*u(t)}}),c("circle",{radius:.15,collide:function(t,e,n,r,i,o,a){var s=i;return Math.pow(s.x-t,2)+Math.pow(s.y-e,2)<=Math.pow((n+2*a)*this.radius,2)},draw:function(t,n,r,i,o){e.arrowShapeImpl(this.name)(t,i.x,i.y,this.radius*n)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),c("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(t){return 1},gap:function(t){return 1}}),c("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),c("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}})}};t.exports=a},function(t,e,n){var r=n(1),i={};[n(110),n(111),n(112),n(113),n(114),n(115),n(116),n(117),n(118)].forEach((function(t){r.extend(i,t)})),t.exports=i},function(t,e,n){var r=n(3),i=n(2),o=n(1),a=(r=n(3),{projectIntoViewport:function(t,e){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],o=r[1],a=r[4],s=n.pan(),l=n.zoom();return[((t-i)/a-s.x)/l,((e-o)/a-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),n=r.getComputedStyle(t),i=function(t){return parseFloat(n.getPropertyValue(t))},o=i("padding-left"),a=i("padding-right"),s=i("padding-top"),l=i("padding-bottom"),u=i("border-left-width"),c=i("border-right-width"),d=i("border-top-width"),h=(i("border-bottom-width"),t.clientWidth),f=t.clientHeight,p=o+a,g=s+l,v=u+c,y=e.width/(h+v),m=h-p,b=f-g,w=(e.width,e.height,e.left+o+u),x=e.top+s+d;return this.containerBB=[w,x,m,b,y]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(t,e,n,r){return this.findNearestElements(t,e,n,r)[0]},findNearestElements:function(t,e,n,r){var a,s,l=this,u=this,c=u.getCachedZSortedEles(),d=[],h=u.cy.zoom(),f=u.cy.hasCompoundNodes(),p=(r?24:8)/h,g=(r?8:2)/h,v=(r?8:2)/h,y=1/0;function m(t,e){if(t.isNode()){if(s)return;s=t,d.push(t)}if(t.isEdge()&&(null==e||e<y))if(a){if(a.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value&&a.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value)for(var n=0;n<d.length;n++)if(d[n].isEdge()){d[n]=t,a=t,y=null!=e?e:y;break}}else d.push(t),a=t,y=null!=e?e:y}function b(n){var r=n.outerWidth()+2*g,i=n.outerHeight()+2*g,o=r/2,a=i/2,s=n.position();if(s.x-o<=t&&t<=s.x+o&&s.y-a<=e&&e<=s.y+a&&u.nodeShapes[l.getNodeShape(n)].checkPoint(t,e,0,r,i,s.x,s.y))return m(n,0),!0}function w(n){var r,o=n._private,a=o.rscratch,s=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,h=s/2+p,g=h*h,v=2*h,y=o.source,w=o.target;if("segments"===a.edgeType||"straight"===a.edgeType||"haystack"===a.edgeType){for(var x=a.allpts,_=0;_+3<x.length;_+=2)if(i.inLineVicinity(t,e,x[_],x[_+1],x[_+2],x[_+3],v)&&g>(r=i.sqdistToFiniteLine(t,e,x[_],x[_+1],x[_+2],x[_+3])))return m(n,r),!0}else if("bezier"===a.edgeType||"multibezier"===a.edgeType||"self"===a.edgeType||"compound"===a.edgeType)for(x=a.allpts,_=0;_+5<a.allpts.length;_+=4)if(i.inBezierVicinity(t,e,x[_],x[_+1],x[_+2],x[_+3],x[_+4],x[_+5],v)&&g>(r=i.sqdistToQuadraticBezier(t,e,x[_],x[_+1],x[_+2],x[_+3],x[_+4],x[_+5])))return m(n,r),!0;y=y||o.source,w=w||o.target;var E=l.getArrowWidth(s,c),S=[{name:"source",x:a.arrowStartX,y:a.arrowStartY,angle:a.srcArrowAngle},{name:"target",x:a.arrowEndX,y:a.arrowEndY,angle:a.tgtArrowAngle},{name:"mid-source",x:a.midX,y:a.midY,angle:a.midsrcArrowAngle},{name:"mid-target",x:a.midX,y:a.midY,angle:a.midtgtArrowAngle}];for(_=0;_<S.length;_++){var k=S[_],O=u.arrowShapes[n.pstyle(k.name+"-arrow-shape").value],C=n.pstyle("width").pfValue;if(O.roughCollide(t,e,E,k.angle,{x:k.x,y:k.y},C,p)&&O.collide(t,e,E,k.angle,{x:k.x,y:k.y},C,p))return m(n),!0}f&&d.length>0&&(b(y),b(w))}function x(t,e,n){return o.getPrefixedProperty(t,e,n)}function _(n,r){var o,a=n._private,s=v;o=r?r+"-":"";var l=n.pstyle(o+"label").value;if("yes"===n.pstyle("text-events").strValue&&l){var u=a.rstyle,c=n.pstyle("text-border-width").pfValue,d=n.pstyle("text-background-padding").pfValue,h=x(u,"labelWidth",r)+c+2*s+2*d,f=x(u,"labelHeight",r)+c+2*s+2*d,p=x(u,"labelX",r),g=x(u,"labelY",r),y=x(a.rscratch,"labelAngle",r),b=p-h/2,w=p+h/2,_=g-f/2,E=g+f/2;if(y){var S=Math.cos(y),k=Math.sin(y),O=function(t,e){return{x:(t-=p)*S-(e-=g)*k+p,y:t*k+e*S+g}},C=O(b,_),T=O(b,E),P=O(w,_),N=O(w,E),D=[C.x,C.y,P.x,P.y,N.x,N.y,T.x,T.y];if(i.pointInsidePolygonPoints(t,e,D))return m(n),!0}else{var A={w:h,h:f,x1:b,x2:w,y1:_,y2:E};if(i.inBoundingBox(A,t,e))return m(n),!0}}}n&&(c=c.interactive);for(var E=c.length-1;E>=0;E--){var S=c[E];S.isNode()?b(S)||_(S):w(S)||_(S)||_(S,"source")||_(S,"target")}return d},getAllInBox:function(t,e,n,r){var o=this.getCachedZSortedEles().interactive,a=[],s=Math.min(t,n),l=Math.max(t,n),u=Math.min(e,r),c=Math.max(e,r);t=s,n=l,e=u,r=c;for(var d=i.makeBoundingBox({x1:t,y1:e,x2:n,y2:r}),h=0;h<o.length;h++){var f=o[h];if(f.isNode()){var p=f,g=p.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});i.boundingBoxesIntersect(d,g)&&!i.boundingBoxInBoundingBox(g,d)&&a.push(p)}else{var v=f,y=v._private,m=y.rscratch;if(null!=m.startX&&null!=m.startY&&!i.inBoundingBox(d,m.startX,m.startY))continue;if(null!=m.endX&&null!=m.endY&&!i.inBoundingBox(d,m.endX,m.endY))continue;if("bezier"===m.edgeType||"multibezier"===m.edgeType||"self"===m.edgeType||"compound"===m.edgeType||"segments"===m.edgeType||"haystack"===m.edgeType){for(var b=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,w=!0,x=0;x<b.length;x++)if(!i.pointInBoundingBox(d,b[x])){w=!1;break}w&&a.push(v)}else"haystack"!==m.edgeType&&"straight"!==m.edgeType||a.push(v)}}return a}});t.exports=a},function(t,e,n){var r=n(2),i={calculateArrowAngles:function(t){var e,n,i,o,a,s,l=t._private.rscratch,u="haystack"===l.edgeType,c="bezier"===l.edgeType,d="multibezier"===l.edgeType,h="segments"===l.edgeType,f="compound"===l.edgeType,p="self"===l.edgeType;if(u?(i=l.haystackPts[0],o=l.haystackPts[1],a=l.haystackPts[2],s=l.haystackPts[3]):(i=l.arrowStartX,o=l.arrowStartY,a=l.arrowEndX,s=l.arrowEndY),v=l.midX,y=l.midY,h)e=i-l.segpts[0],n=o-l.segpts[1];else if(d||f||p||c){var g=l.allpts;e=i-r.qbezierAt(g[0],g[2],g[4],.1),n=o-r.qbezierAt(g[1],g[3],g[5],.1)}else e=i-v,n=o-y;l.srcArrowAngle=r.getAngleFromDisp(e,n);var v=l.midX,y=l.midY;if(u&&(v=(i+a)/2,y=(o+s)/2),e=a-i,n=s-o,h)if((g=l.allpts).length/2%2==0){var m=(b=g.length/2)-2;e=g[b]-g[m],n=g[b+1]-g[m+1]}else{m=(b=g.length/2-1)-2;var b,w=b+2;e=g[b]-g[m],n=g[b+1]-g[m+1]}else if(d||f||p){var x,_,E,S,g=l.allpts;if(l.ctrlpts.length/2%2==0){var k=2+(O=2+(C=g.length/2-1));x=r.qbezierAt(g[C],g[O],g[k],0),_=r.qbezierAt(g[C+1],g[O+1],g[k+1],0),E=r.qbezierAt(g[C],g[O],g[k],1e-4),S=r.qbezierAt(g[C+1],g[O+1],g[k+1],1e-4)}else{var O,C=(O=g.length/2-1)-2;k=O+2,x=r.qbezierAt(g[C],g[O],g[k],.4999),_=r.qbezierAt(g[C+1],g[O+1],g[k+1],.4999),E=r.qbezierAt(g[C],g[O],g[k],.5),S=r.qbezierAt(g[C+1],g[O+1],g[k+1],.5)}e=E-x,n=S-_}if(l.midtgtArrowAngle=r.getAngleFromDisp(e,n),l.midDispX=e,l.midDispY=n,e*=-1,n*=-1,h&&((g=l.allpts).length/2%2==0||(e=-(g[w=2+(b=g.length/2-1)]-g[b]),n=-(g[w+1]-g[b+1]))),l.midsrcArrowAngle=r.getAngleFromDisp(e,n),h)e=a-l.segpts[l.segpts.length-2],n=s-l.segpts[l.segpts.length-1];else if(d||f||p||c){var T=(g=l.allpts).length;e=a-r.qbezierAt(g[T-6],g[T-4],g[T-2],.9),n=s-r.qbezierAt(g[T-5],g[T-3],g[T-1],.9)}else e=a-v,n=s-y;l.tgtArrowAngle=r.getAngleFromDisp(e,n)}};i.getArrowWidth=i.getArrowHeight=function(t,e){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[t+", "+e];return r||(r=Math.max(Math.pow(13.37*t,.9),29)*e,n[t+", "+e]=r,r)},t.exports=i},function(t,e,n){var r=n(2),i=n(0),o={};function a(t){var e=[];if(null!=t){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e.push({x:r,y:i})}return e}}o.findEdgeControlPoints=function(t){if(t&&0!==t.length){for(var e,n,o,a,s,l=this,u=l.cy.hasCompoundNodes(),c={},d=[],h=[],f=0;f<t.length;f++){var p=(Xe=(Ye=t[f])._private).data,g="unbundled-bezier"===(M=Ye.pstyle("curve-style").value)||"segments"===M,v="unbundled-bezier"===M||"bezier"===M;if("none"!==Ye.pstyle("display").value)if("haystack"!==M){var y=p.source,m=p.target;e=y>m?m+"$-$"+y:y+"$-$"+m,g&&(e="unbundled$-$"+p.id);var b=c[e];null==b&&(b=c[e]=[],d.push(e)),b.push(Ye),g&&(b.hasUnbundled=!0),v&&(b.hasBezier=!0)}else h.push(Ye)}for(var w=0;w<d.length;w++){var x=c[e=d[w]];if(x.sort((function(t,e){return t.poolIndex()-e.poolIndex()})),Ke=x[0]._private.source,Qe=x[0]._private.target,!x.hasUnbundled&&Ke.id()>Qe.id()){var _=Ke;Ke=Qe,Qe=_}Je=Ke.position(),tn=Qe.position(),en=Ke.outerWidth(),rn=Ke.outerHeight(),nn=Qe.outerWidth(),on=Qe.outerHeight(),n=l.nodeShapes[this.getNodeShape(Ke)],o=l.nodeShapes[this.getNodeShape(Qe)],s=!1;var E={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0},S=Je.x,k=Je.y,O=en,C=rn,T=tn.x,P=tn.y,N=nn,D=on,A=x.length;for(f=0;f<x.length;f++){var M,L,j=($e=(Ye=x[f])._private.rscratch).lastEdgeIndex,I=f,R=$e.lastNumEdges,B=(g="unbundled-bezier"===(M=Ye.pstyle("curve-style").value)||"segments"===M,Ke.id()!==Ye.source().id()),z=Ye.pstyle("control-point-distances"),F=Ye.pstyle("loop-direction").pfValue,V=Ye.pstyle("loop-sweep").pfValue,q=Ye.pstyle("control-point-weights"),U=z&&q?Math.min(z.value.length,q.value.length):1,H=Ye.pstyle("control-point-step-size").pfValue,W=z?z.pfValue[0]:void 0,Y=q.value[0],X=Ye.pstyle("edge-distances").value,G=Ye.pstyle("source-distance-from-node").pfValue,$=Ye.pstyle("target-distance-from-node").pfValue,Z=Ye.pstyle("segment-weights"),K=Ye.pstyle("segment-distances"),Q=Math.min(Z.pfValue.length,K.pfValue.length),J=Ye.pstyle("source-endpoint").value,tt=Ye.pstyle("target-endpoint").value,et=Ye.pstyle("source-arrow-shape").value,nt=Ye.pstyle("target-arrow-shape").value,rt=Ye.pstyle("arrow-scale").value,it=Ye.pstyle("width").pfValue,ot=$e.lastSrcCtlPtX,at=$e.lastSrcCtlPtY,st=$e.lastSrcCtlPtW,lt=$e.lastSrcCtlPtH,ut=$e.lastTgtCtlPtX,ct=$e.lastTgtCtlPtY,dt=$e.lastTgtCtlPtW,ht=$e.lastTgtCtlPtH,ft=$e.lastCurveStyle,pt=M,gt=$e.lastCtrlptDists,vt=z?z.strValue:null,yt=$e.lastCtrlptWs,mt=q.strValue,bt=$e.lastSegmentWs,wt=Z.strValue,xt=$e.lastSegmentDs,_t=K.strValue,Et=$e.lastStepSize,St=H,kt=$e.lastLoopDir,Ot=F,Ct=$e.lastLoopSwp,Tt=V,Pt=$e.lastEdgeDistances,Nt=X,Dt=$e.lastSrcDistFNode,At=G,Mt=$e.lastTgtDistFNode,Lt=$,jt=$e.lastSrcEndpt,It=J,Rt=$e.lastTgtEndpt,Bt=tt,zt=$e.lastSrcArr,Ft=et,Vt=$e.lastTgtArr,qt=nt,Ut=$e.lastLineW,Ht=it,Wt=$e.lastArrScl,Yt=rt;if($e.badBezier=!!s,ot===S&&at===k&&st===O&&lt===C&&ut===T&&ct===P&&dt===N&&ht===D&&ft===pt&&gt===vt&&yt===mt&&bt===wt&&xt===_t&&Et===St&&kt===Ot&&Ct===Tt&&Pt===Nt&&Dt===At&&Mt===Lt&&jt===It&&Rt===Bt&&zt===Ft&&Vt===qt&&Ut===Ht&&Wt===Yt&&(j===I&&R===A||g)?L=!0:(L=!1,$e.lastSrcCtlPtX=S,$e.lastSrcCtlPtY=k,$e.lastSrcCtlPtW=O,$e.lastSrcCtlPtH=C,$e.lastTgtCtlPtX=T,$e.lastTgtCtlPtY=P,$e.lastTgtCtlPtW=N,$e.lastTgtCtlPtH=D,$e.lastEdgeIndex=I,$e.lastNumEdges=A,$e.lastCurveStyle=pt,$e.lastCtrlptDists=vt,$e.lastCtrlptWs=mt,$e.lastSegmentDs=_t,$e.lastSegmentWs=wt,$e.lastStepSize=St,$e.lastLoopDir=Ot,$e.lastLoopSwp=Tt,$e.lastEdgeDistances=Nt,$e.lastSrcDistFNode=At,$e.lastTgtDistFNode=Lt,$e.lastSrcEndpt=It,$e.lastTgtEndpt=Bt,$e.lastSrcArr=Ft,$e.lastTgtArr=qt,$e.lastLineW=Ht,$e.lastArrScl=Yt),!L){if(!x.calculatedIntersection&&Ke!==Qe&&(x.hasBezier||x.hasUnbundled)){x.calculatedIntersection=!0;var Xt=n.intersectLine(Je.x,Je.y,en,rn,tn.x,tn.y,0);x.srcIntn=Xt;var Gt=o.intersectLine(tn.x,tn.y,nn,on,Je.x,Je.y,0);x.tgtIntn=Gt;var $t={x1:Xt[0],x2:Gt[0],y1:Xt[1],y2:Gt[1]},Zt={x1:Je.x,x2:tn.x,y1:Je.y,y2:tn.y},Kt=Gt[1]-Xt[1],Qt=Gt[0]-Xt[0],Jt=Math.sqrt(Qt*Qt+Kt*Kt),te={x:Qt,y:Kt},ee={x:te.x/Jt,y:te.y/Jt};a={x:-ee.y,y:ee.x},o.checkPoint(Xt[0],Xt[1],0,nn,on,tn.x,tn.y)&&n.checkPoint(Gt[0],Gt[1],0,en,rn,Je.x,Je.y)&&(a={},s=!0)}if(B?($e.srcIntn=x.tgtIntn,$e.tgtIntn=x.srcIntn):($e.srcIntn=x.srcIntn,$e.tgtIntn=x.tgtIntn),Ke===Qe){$e.edgeType="self";var ne=f,re=H;g&&(ne=0,re=W);var ie=F-Math.PI/2,oe=ie-V/2,ae=ie+V/2,se=String(F+"_"+V);ne=void 0===E[se]?E[se]=0:++E[se],$e.ctrlpts=[Je.x+1.4*Math.cos(oe)*re*(ne/3+1),Je.y+1.4*Math.sin(oe)*re*(ne/3+1),Je.x+1.4*Math.cos(ae)*re*(ne/3+1),Je.y+1.4*Math.sin(ae)*re*(ne/3+1)]}else if(u&&(Ke.isParent()||Ke.isChild()||Qe.isParent()||Qe.isChild())&&(Ke.parents().anySame(Qe)||Qe.parents().anySame(Ke))){$e.edgeType="compound",$e.badBezier=!1,ne=f,re=H,g&&(ne=0,re=W);var le={x:Je.x-en/2,y:Je.y-rn/2},ue={x:tn.x-nn/2,y:tn.y-on/2},ce={x:Math.min(le.x,ue.x),y:Math.min(le.y,ue.y)},de=Math.max(.5,Math.log(.01*en)),he=Math.max(.5,Math.log(.01*nn));$e.ctrlpts=[ce.x,ce.y-(1+Math.pow(50,1.12)/100)*re*(ne/3+1)*de,ce.x-(1+Math.pow(50,1.12)/100)*re*(ne/3+1)*he,ce.y]}else if("segments"===M){$e.edgeType="segments",$e.segpts=[];for(var fe=0;fe<Q;fe++){var pe=Z.pfValue[fe],ge=K.pfValue[fe],ve=1-pe,ye=pe,me={x:(Se="node-position"===X?Zt:$t).x1*ve+Se.x2*ye,y:Se.y1*ve+Se.y2*ye};$e.segpts.push(me.x+a.x*ge,me.y+a.y*ge)}}else if(x.length%2!=1||f!==Math.floor(x.length/2)||g){var be=g;$e.edgeType=be?"multibezier":"bezier",$e.ctrlpts=[];for(var we=0;we<U;we++){var xe,_e=(.5-x.length/2+f)*H,Ee=r.signum(_e);be&&(W=z?z.pfValue[we]:H,Y=q.value[we]);var Se,ke=void 0!==(xe=g?W:void 0!==W?Ee*W:void 0)?xe:_e;ve=1-Y,ye=Y,B&&(_=ve,ve=ye,ye=_),me={x:(Se="node-position"===X?Zt:$t).x1*ve+Se.x2*ye,y:Se.y1*ve+Se.y2*ye},$e.ctrlpts.push(me.x+a.x*ke,me.y+a.y*ke)}}else $e.edgeType="straight";this.findEndpoints(Ye);var Oe=!i.number($e.startX)||!i.number($e.startY),Ce=!i.number($e.arrowStartX)||!i.number($e.arrowStartY),Te=!i.number($e.endX)||!i.number($e.endY),Pe=!i.number($e.arrowEndX)||!i.number($e.arrowEndY),Ne=this.getArrowWidth(Ye.pstyle("width").pfValue,Ye.pstyle("arrow-scale").value)*this.arrowShapeWidth*3;if("bezier"===$e.edgeType){var De=r.dist({x:$e.ctrlpts[0],y:$e.ctrlpts[1]},{x:$e.startX,y:$e.startY}),Ae=De<Ne,Me=r.dist({x:$e.ctrlpts[0],y:$e.ctrlpts[1]},{x:$e.endX,y:$e.endY}),Le=Me<Ne,je=!1;if(Oe||Ce||Ae){je=!0;var Ie={x:$e.ctrlpts[0]-Je.x,y:$e.ctrlpts[1]-Je.y},Re=Math.sqrt(Ie.x*Ie.x+Ie.y*Ie.y),Be={x:Ie.x/Re,y:Ie.y/Re},ze=Math.max(en,rn),Fe={x:$e.ctrlpts[0]+2*Be.x*ze,y:$e.ctrlpts[1]+2*Be.y*ze},Ve=n.intersectLine(Je.x,Je.y,en,rn,Fe.x,Fe.y,0);Ae?($e.ctrlpts[0]=$e.ctrlpts[0]+Be.x*(Ne-De),$e.ctrlpts[1]=$e.ctrlpts[1]+Be.y*(Ne-De)):($e.ctrlpts[0]=Ve[0]+Be.x*Ne,$e.ctrlpts[1]=Ve[1]+Be.y*Ne)}if(Te||Pe||Le){je=!0,Ie={x:$e.ctrlpts[0]-tn.x,y:$e.ctrlpts[1]-tn.y},Re=Math.sqrt(Ie.x*Ie.x+Ie.y*Ie.y),Be={x:Ie.x/Re,y:Ie.y/Re},ze=Math.max(en,rn),Fe={x:$e.ctrlpts[0]+2*Be.x*ze,y:$e.ctrlpts[1]+2*Be.y*ze};var qe=o.intersectLine(tn.x,tn.y,nn,on,Fe.x,Fe.y,0);Le?($e.ctrlpts[0]=$e.ctrlpts[0]+Be.x*(Ne-Me),$e.ctrlpts[1]=$e.ctrlpts[1]+Be.y*(Ne-Me)):($e.ctrlpts[0]=qe[0]+Be.x*Ne,$e.ctrlpts[1]=qe[1]+Be.y*Ne)}je&&this.findEndpoints(Ye)}if("multibezier"===$e.edgeType||"bezier"===$e.edgeType||"self"===$e.edgeType||"compound"===$e.edgeType){for($e.allpts=[],$e.allpts.push($e.startX,$e.startY),we=0;we+1<$e.ctrlpts.length;we+=2)$e.allpts.push($e.ctrlpts[we],$e.ctrlpts[we+1]),we+3<$e.ctrlpts.length&&$e.allpts.push(($e.ctrlpts[we]+$e.ctrlpts[we+2])/2,($e.ctrlpts[we+1]+$e.ctrlpts[we+3])/2);var Ue;$e.allpts.push($e.endX,$e.endY),$e.ctrlpts.length/2%2==0?(Ue=$e.allpts.length/2-1,$e.midX=$e.allpts[Ue],$e.midY=$e.allpts[Ue+1]):(Ue=$e.allpts.length/2-3,$e.midX=r.qbezierAt($e.allpts[Ue],$e.allpts[Ue+2],$e.allpts[Ue+4],.5),$e.midY=r.qbezierAt($e.allpts[Ue+1],$e.allpts[Ue+3],$e.allpts[Ue+5],.5))}else if("straight"===$e.edgeType)$e.allpts=[$e.startX,$e.startY,$e.endX,$e.endY],$e.midX=($e.startX+$e.endX+$e.arrowStartX+$e.arrowEndX)/4,$e.midY=($e.startY+$e.endY+$e.arrowStartY+$e.arrowEndY)/4;else if("segments"===$e.edgeType)if($e.allpts=[],$e.allpts.push($e.startX,$e.startY),$e.allpts.push.apply($e.allpts,$e.segpts),$e.allpts.push($e.endX,$e.endY),$e.segpts.length%4==0){var He=$e.segpts.length/2,We=He-2;$e.midX=($e.segpts[We]+$e.segpts[He])/2,$e.midY=($e.segpts[We+1]+$e.segpts[He+1])/2}else We=$e.segpts.length/2-1,$e.midX=$e.segpts[We],$e.midY=$e.segpts[We+1];this.storeEdgeProjections(Ye),this.calculateArrowAngles(Ye)}this.recalculateEdgeLabelProjections(Ye),this.calculateLabelAngles(Ye)}}for(f=0;f<h.length;f++){var Ye,Xe,Ge=(Xe=(Ye=h[f])._private).rscratch,$e=Ge;if(!Ge.haystack){var Ze=2*Math.random()*Math.PI;Ge.source={x:Math.cos(Ze),y:Math.sin(Ze)},Ze=2*Math.random()*Math.PI,Ge.target={x:Math.cos(Ze),y:Math.sin(Ze)}}var Ke=Xe.source,Qe=Xe.target,Je=Ke.position(),tn=Qe.position(),en=Ke.width(),nn=Qe.width(),rn=Ke.height(),on=Qe.height(),an=(ze=Ye.pstyle("haystack-radius").value)/2;$e.haystackPts=$e.allpts=[$e.source.x*en*an+Je.x,$e.source.y*rn*an+Je.y,$e.target.x*nn*an+tn.x,$e.target.y*on*an+tn.y],$e.midX=($e.allpts[0]+$e.allpts[2])/2,$e.midY=($e.allpts[1]+$e.allpts[3])/2,Ge.edgeType=Ge.lastCurveStyle="haystack",Ge.haystack=!0,this.storeEdgeProjections(Ye),this.calculateArrowAngles(Ye),this.recalculateEdgeLabelProjections(Ye),this.calculateLabelAngles(Ye)}}},o.getSegmentPoints=function(t){var e=t[0]._private.rscratch;if("segments"===e.edgeType)return a(e.segpts)},o.getControlPoints=function(t){var e=t[0]._private.rscratch,n=e.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return a(e.ctrlpts)},o.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return{x:e.midX,y:e.midY}},t.exports=o},function(t,e,n){var r=n(2),i=n(0),o={manualEndptToPx:function(t,e){var n=t.position(),r=t.outerWidth(),i=t.outerHeight();if(2===e.value.length){var o=[e.pfValue[0],e.pfValue[1]];return"%"===e.units[0]&&(o[0]=o[0]*r),"%"===e.units[1]&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}var a=e.pfValue[0];a=-Math.PI/2+a;var s=2*Math.max(r,i),l=[n.x+Math.cos(a)*s,n.y+Math.sin(a)*s];return this.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,r,i,l[0],l[1],0)},findEndpoints:function(t){var e=this,n=void 0,o=t.source()[0],a=t.target()[0],s=o.position(),l=a.position(),u=t.pstyle("target-arrow-shape").value,c=t.pstyle("source-arrow-shape").value,d=t.pstyle("target-distance-from-node").pfValue,h=t.pstyle("source-distance-from-node").pfValue,f=t._private.rscratch,p=f.edgeType,g="self"===p||"compound"===p,v="bezier"===p||"multibezier"===p||g,y="bezier"!==p,m="straight"===p||"segments"===p,b="segments"===p,w=v||y||m,x=t.pstyle("source-endpoint"),_=g?"outside-to-node":x.value,E=t.pstyle("target-endpoint"),S=g?"outside-to-node":E.value;f.srcManEndpt=x,f.tgtManEndpt=E;var k=void 0,O=void 0,C=void 0,T=void 0;if(v){var P=[f.ctrlpts[0],f.ctrlpts[1]];k=y?[f.ctrlpts[f.ctrlpts.length-2],f.ctrlpts[f.ctrlpts.length-1]]:P,O=P}else if(m){var N=b?f.segpts.slice(0,2):[l.x,l.y];k=b?f.segpts.slice(f.segpts.length-2):[s.x,s.y],O=N}"inside-to-node"===S?n=[l.x,l.y]:E.units?n=this.manualEndptToPx(a,E):"outside-to-line"===S?n=f.tgtIntn:("outside-to-node"===S?C=k:"outside-to-line"===S&&(C=[s.x,s.y]),n=e.nodeShapes[this.getNodeShape(a)].intersectLine(l.x,l.y,a.outerWidth(),a.outerHeight(),C[0],C[1],0));var D=r.shortenIntersection(n,k,e.arrowShapes[u].spacing(t)+d),A=r.shortenIntersection(n,k,e.arrowShapes[u].gap(t)+d);f.endX=A[0],f.endY=A[1],f.arrowEndX=D[0],f.arrowEndY=D[1],"inside-to-node"===_?n=[s.x,s.y]:x.units?n=this.manualEndptToPx(o,x):"outside-to-line"===_?n=f.srcIntn:("outside-to-node"===_?T=O:"outside-to-line"===_&&(T=[l.x,l.y]),n=e.nodeShapes[this.getNodeShape(o)].intersectLine(s.x,s.y,o.outerWidth(),o.outerHeight(),T[0],T[1],0));var M=r.shortenIntersection(n,O,e.arrowShapes[c].spacing(t)+h),L=r.shortenIntersection(n,O,e.arrowShapes[c].gap(t)+h);f.startX=L[0],f.startY=L[1],f.arrowStartX=M[0],f.arrowStartY=M[1],w&&(i.number(f.startX)&&i.number(f.startY)&&i.number(f.endX)&&i.number(f.endY)?f.badLine=!1:f.badLine=!0)},getSourceEndpoint:function(t){var e=t[0]._private.rscratch;switch(e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}},getTargetEndpoint:function(t){var e=t[0]._private.rscratch;switch(e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}}};t.exports=o},function(t,e,n){var r=n(2),i={};function o(t,e,n){for(var i=function(t,e,n,i){return r.qbezierAt(t,e,n,i)},o=e._private.rstyle.bezierPts,a=0;a<t.bezierProjPcts.length;a++){var s=t.bezierProjPcts[a];o.push({x:i(n[0],n[2],n[4],s),y:i(n[1],n[3],n[5],s)})}}i.storeEdgeProjections=function(t){var e=t._private,n=e.rscratch,r=n.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){e.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)o(this,t,n.allpts.slice(i,i+6))}else if("segments"===r){var a=e.rstyle.linePts=[];for(i=0;i+1<n.allpts.length;i+=2)a.push({x:n.allpts[i],y:n.allpts[i+1]})}else if("haystack"===r){var s=n.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},i.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)},t.exports=i},function(t,e,n){var r=n(2),i=n(0),o=n(1),a={recalculateNodeLabelProjection:function(t){var e=t.pstyle("label").strValue;if(!i.emptyString(e)){var n,r,o=t._private,a=t.width(),s=t.height(),l=t.padding(),u=t.position(),c=t.pstyle("text-halign").strValue,d=t.pstyle("text-valign").strValue,h=o.rscratch,f=o.rstyle;switch(c){case"left":n=u.x-a/2-l;break;case"right":n=u.x+a/2+l;break;default:n=u.x}switch(d){case"top":r=u.y-s/2-l;break;case"bottom":r=u.y+s/2+l;break;default:r=u.y}h.labelX=n,h.labelY=r,f.labelX=n,f.labelY=r,this.applyLabelDimensions(t)}}},s=function(t,e){var n=Math.atan(e/t);return 0===t&&n<0&&(n*=-1),n},l=function(t,e){var n=e.x-t.x,r=e.y-t.y;return s(n,r)};a.recalculateEdgeLabelProjections=function(t){var e,n=t._private,i=n.rscratch,a=this,u={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(u.mid||u.source||u.target){e={x:i.midX,y:i.midY};var c=function(t,e,r){o.setPrefixedProperty(n.rscratch,t,e,r),o.setPrefixedProperty(n.rstyle,t,e,r)};c("labelX",null,e.x),c("labelY",null,e.y);var d=s(i.midDispX,i.midDispY);c("labelAutoAngle",null,d);var h=function(o){var s,d="source"===o;if(u[o]){var h=t.pstyle(o+"-text-offset").pfValue;switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var f,p=function t(){if(t.cache)return t.cache;for(var e=[],o=0;o+5<i.allpts.length;o+=4){var s={x:i.allpts[o],y:i.allpts[o+1]},l={x:i.allpts[o+2],y:i.allpts[o+3]},u={x:i.allpts[o+4],y:i.allpts[o+5]};e.push({p0:s,p1:l,p2:u,startDist:0,length:0,segments:[]})}var c=n.rstyle.bezierPts,d=a.bezierProjPcts.length;function h(t,e,n,i,o){var a=r.dist(e,n),s=t.segments[t.segments.length-1],l={p0:e,p1:n,t0:i,t1:o,startDist:s?s.startDist+s.length:0,length:a};t.segments.push(l),t.length+=a}for(o=0;o<e.length;o++){var f=e[o],p=e[o-1];p&&(f.startDist=p.startDist+p.length),h(f,f.p0,c[o*d],0,a.bezierProjPcts[0]);for(var g=0;g<d-1;g++)h(f,c[o*d+g],c[o*d+g+1],a.bezierProjPcts[g],a.bezierProjPcts[g+1]);h(f,c[o*d+d-1],f.p2,a.bezierProjPcts[d-1],1)}return t.cache=e}(),g=0,v=0,y=0;y<p.length;y++){for(var m=p[d?y:p.length-1-y],b=0;b<m.segments.length;b++){var w=m.segments[d?b:m.segments.length-1-b],x=y===p.length-1&&b===m.segments.length-1;if(g=v,(v+=w.length)>=h||x){f={cp:m,segment:w};break}}if(f)break}m=f.cp;var _=(h-g)/(w=f.segment).length,E=w.t1-w.t0,S=d?w.t0+E*_:w.t1-E*_;S=r.bound(0,S,1),e=r.qbezierPtAt(m.p0,m.p1,m.p2,S),s=function(t,e,n,i){var o=r.bound(0,i-.001,1),a=r.bound(0,i+.001,1),s=r.qbezierPtAt(t,e,n,o),u=r.qbezierPtAt(t,e,n,a);return l(s,u)}(m.p0,m.p1,m.p2,S);break;case"straight":case"segments":case"haystack":var k,O,C,T,P=0,N=i.allpts.length;for(y=0;y+3<N&&(d?(C={x:i.allpts[y],y:i.allpts[y+1]},T={x:i.allpts[y+2],y:i.allpts[y+3]}):(C={x:i.allpts[N-2-y],y:i.allpts[N-1-y]},T={x:i.allpts[N-4-y],y:i.allpts[N-3-y]}),O=P,!((P+=k=r.dist(C,T))>=h));y+=2);S=(h-O)/k,S=r.bound(0,S,1),e=r.lineAt(C,T,S),s=l(C,T)}c("labelX",o,e.x),c("labelY",o,e.y),c("labelAutoAngle",o,s)}};h("source"),h("target"),this.applyLabelDimensions(t)}},a.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},a.applyPrefixedLabelDimensions=function(t,e){var n=t._private,r=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,r);o.setPrefixedProperty(n.rstyle,"labelWidth",e,i.width),o.setPrefixedProperty(n.rscratch,"labelWidth",e,i.width),o.setPrefixedProperty(n.rstyle,"labelHeight",e,i.height),o.setPrefixedProperty(n.rscratch,"labelHeight",e,i.height)},a.getLabelText=function(t,e){var n=t._private,r=e?e+"-":"",i=t.pstyle(r+"label").strValue,a=t.pstyle("text-transform").value,s=function(t,r){return r?(o.setPrefixedProperty(n.rscratch,t,e,r),r):o.getPrefixedProperty(n.rscratch,t,e)};if(!i)return"";"none"==a||("uppercase"==a?i=i.toUpperCase():"lowercase"==a&&(i=i.toLowerCase()));var l=t.pstyle("text-wrap").value;if("wrap"===l){var u=s("labelKey");if(u&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var c=i.split("\n"),d=t.pstyle("text-max-width").pfValue,h=[],f=0;f<c.length;f++){var p=c[f];if(this.calculateLabelDimensions(t,p,"line="+p).width>d){for(var g=p.split(/\s+/),v="",y=0;y<g.length;y++){var m=g[y],b=0===v.length?m:v+" "+m;this.calculateLabelDimensions(t,b,"testLine="+b).width<=d?v+=m+" ":(h.push(v),v=m+" ")}v.match(/^\s+$/)||h.push(v)}else h.push(p)}s("labelWrapCachedLines",h),i=s("labelWrapCachedText",h.join("\n")),s("labelWrapKey",u)}else if("ellipsis"===l){d=t.pstyle("text-max-width").pfValue;for(var w="",x=!1,_=0;_<i.length&&!(this.calculateLabelDimensions(t,w+i[_]+"â¦").width>d);_++)w+=i[_],_===i.length-1&&(x=!0);return x||(w+="â¦"),w}return i},a.calculateLabelDimensions=function(t,e,n){var r=t._private.labelStyleKey+"$@$"+e;n&&(r+="$@$"+n);var i=this.labelDimCache||(this.labelDimCache={});if(i[r])return i[r];var o=t.pstyle("font-style").strValue,a=1*t.pstyle("font-size").pfValue+"px",s=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,u=this.labelCalcDiv;u||(u=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(u));var c=u.style;return c.fontFamily=s,c.fontStyle=o,c.fontSize=a,c.fontWeight=l,c.position="absolute",c.left="-9999px",c.top="-9999px",c.zIndex="-1",c.visibility="hidden",c.pointerEvents="none",c.padding="0",c.lineHeight="1","wrap"===t.pstyle("text-wrap").value?c.whiteSpace="pre":c.whiteSpace="normal",u.textContent=e,i[r]={width:Math.ceil(u.clientWidth/1),height:Math.ceil(u.clientHeight/1)},i[r]},a.calculateLabelAngles=function(t){var e=t._private.rscratch,n=t.isEdge(),r=t.pstyle("text-rotation"),i=r.strValue;"none"===i?e.labelAngle=e.sourceLabelAngle=e.targetLabelAngle=0:n&&"autorotate"===i?(e.labelAngle=e.labelAutoAngle,e.sourceLabelAngle=e.sourceLabelAutoAngle,e.targetLabelAngle=e.targetLabelAutoAngle):e.labelAngle=e.sourceLabelAngle=e.targetLabelAngle="autorotate"===i?0:r.pfValue},t.exports=a},function(t,e,n){var r={getNodeShape:function(t){var e=t.pstyle("shape").value;if(t.isParent())return"rectangle"===e||"roundrectangle"===e||"cutrectangle"===e||"barrel"===e?e:"rectangle";if("polygon"===e){var n=t.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return e}};t.exports=r},function(t,e,n){var r={registerCalculationListeners:function(){var t=this.cy,e=t.collection(),n=this,r=function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.merge(t);for(var i=0;i<t.length;i++){var o=t[i],a=o._private,s=a.rstyle;r&&(s.clean=!1,a.bbCache=null);var l=s.dirtyEvents=s.dirtyEvents||{length:0};l[n.type]||(l[n.type]=!0,l.length++)}};n.binder(t).on("position.* style.* free.* bounds.*","node",(function(t){var e=t.target;r(e,t),r(e.connectedEdges(),t)})).on("add.*","node",(function(t){var e=t.target;r(e,t)})).on("background.*","node",(function(t){var e=t.target;r(e,t,!1)})).on("add.* style.*","edge",(function(t){var e=t.target;r(e,t),r(e.parallelEdges(),t)})).on("remove.*","edge",(function(t){for(var e=t.target.parallelEdges(),n=0;n<e.length;n++){var i=e[n];i.removed()||r(i,t)}})).on("dirty.*","node",(function(t){var e=t.target;r(e,t)})),n.beforeRender((function(r){if(r){var i=n.onUpdateEleCalcsFns;if(i)for(var o=0;o<i.length;o++)(0,i[o])(r,e);for(n.recalculateRenderedStyle(e,!1),o=0;o<e.length;o++)e[o]._private.rstyle.dirtyEvents=null;e=t.collection()}}),n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(t){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(t)},recalculateRenderedStyle:function(t,e){var n=[],r=[];if(!this.destroyed){void 0===e&&(e=!0);for(var i=0;i<t.length;i++){var o=(l=(s=t[i])._private).rstyle;e&&o.clean||s.removed()||"none"!==s.pstyle("display").value&&("nodes"===l.group?r.push(s):n.push(s),o.clean=!0)}for(i=0;i<r.length;i++){o=(l=(s=r[i])._private).rstyle;var a=s.position();this.recalculateNodeLabelProjection(s),o.nodeX=a.x,o.nodeY=a.y,o.nodeW=s.pstyle("width").pfValue,o.nodeH=s.pstyle("height").pfValue}for(this.recalculateEdgeProjections(n),i=0;i<n.length;i++){o=(l=(s=n[i])._private).rstyle;var s,l,u=l.rscratch;this.recalculateEdgeLabelProjections(s),o.srcX=u.arrowStartX,o.srcY=u.arrowStartY,o.tgtX=u.arrowEndX,o.tgtY=u.arrowEndY,o.midX=u.midX,o.midY=u.midY,o.labelAngle=u.labelAngle,o.sourceLabelAngle=u.sourceLabelAngle,o.targetLabelAngle=u.targetLabelAngle}}}};t.exports=r},function(t,e,n){var r=n(17),i={updateCachedGrabbedEles:function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],n=0;n<t.length;n++){var r=(i=t[n])._private.rscratch;i.grabbed()&&!i.isParent()?e.push(i):r.inDragLayer?t.drag.push(i):t.nondrag.push(i)}for(n=0;n<e.length;n++){var i=e[n];t.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(r),e.interactive=e.filter((function(t){return t.interactive()})),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e}};t.exports=i},function(t,e,n){var r={getCachedImage:function(t,e,n){var r=this.imageCache=this.imageCache||{},i=r[t];if(i)return i.image.complete||i.image.addEventListener("load",n),i.image;var o=(i=r[t]=r[t]||{}).image=new Image;return o.addEventListener("load",n),o.addEventListener("error",(function(){o.error=!0})),"data:"===t.substring(0,"data:".length).toLowerCase()||(o.crossOrigin=e),o.src=t,o}};t.exports=r},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=(n(16),{registerBinding:function(t,e,n,r){var i=Array.prototype.slice.apply(arguments,[1]),o=this.binder(t);return o.on.apply(o,i)},binder:function(t){var e=this,n=t===window||t===document||t===document.body||r.domElement(t);if(null==e.supportsPassiveEvents){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,o)}catch(t){}e.supportsPassiveEvents=i}var a=function(r,i,o){var a=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(a[2]={capture:null!=o&&o,passive:!1,once:!1}),e.bindings.push({target:t,args:a}),(t.addEventListener||t.on).apply(t,a),this};return{on:a,addEventListener:a,addListener:a,bind:a}},nodeIsDraggable:function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},nodeIsGrabbable:function(t){return this.nodeIsDraggable(t)&&t.interactive()}});a.load=function(){var t=this,e=function(e,n,r,o){null==e&&(e=t.cy);for(var a=0;a<n.length;a++){var s=n[a];e.emit(i.extend({originalEvent:r,type:s},o))}},n=function(t){return t.shiftKey||t.metaKey||t.ctrlKey},a=function(e,n){var r=!0;if(t.cy.hasCompoundNodes()&&e&&e.isEdge()){for(var i=0;n&&i<n.length;i++)if((e=n[i]).isNode()&&e.isParent()){r=!1;break}}else r=!0;return r},s=function(t){t[0]._private.rscratch.inDragLayer=!0},l=function(t){t[0]._private.rscratch.isGrabTarget=!0},u=function(e,n){var r=function(e){var n;if(e.addToList&&t.cy.hasCompoundNodes()){if(!e.addToList.hasId){e.addToList.hasId={};for(var r=0;r<e.addToList.length;r++){var i=e.addToList[r];e.addToList.hasId[i.id()]=!0}}n=e.addToList.hasId}return n||{}}(n);r[e.id()]||(n.addToList.push(e),r[e.id()]=!0,function(t){t[0]._private.grabbed=!0}(e))},c=function(e,n){n=n||{};var r=e.cy().hasCompoundNodes();n.inDragLayer&&(e.forEach(s),e.neighborhood().stdFilter((function(t){return!r||t.isEdge()})).forEach(s)),n.addToList&&e.forEach((function(t){u(t,n)})),function(t,e){if(t.cy().hasCompoundNodes()&&(null!=e.inDragLayer||null!=e.addToList)){var n=t.descendants();e.inDragLayer&&(n.forEach(s),n.connectedEdges().forEach(s)),e.addToList&&n.forEach((function(t){u(t,e)}))}}(e,n),f(e,{inDragLayer:n.inDragLayer}),t.updateCachedGrabbedEles()},d=c,h=function(e){e&&(e.hasId={},t.getCachedZSortedEles().forEach((function(t){!function(t){t[0]._private.grabbed=!1}(t),function(t){t[0]._private.rscratch.inDragLayer=!1}(t),function(t){t[0]._private.rscratch.isGrabTarget=!1}(t)})),t.updateCachedGrabbedEles())},f=function(t,e){if((null!=e.inDragLayer||null!=e.addToList)&&t.cy().hasCompoundNodes()){var n=t.ancestors().orphans();if(!n.same(t)){var r=n.descendants().spawnSelf().merge(n).unmerge(t).unmerge(t.descendants()),i=r.connectedEdges();e.inDragLayer&&(i.forEach(s),r.forEach(s)),e.addToList&&r.forEach((function(t){u(t,e)}))}}},p=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},g="undefined"!=typeof MutationObserver;g?(t.removeObserver=new MutationObserver((function(e){for(var n=0;n<e.length;n++){var r=e[n].removedNodes;if(r)for(var i=0;i<r.length;i++)if(r[i]===t.container){t.destroy();break}}})),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",(function(e){t.destroy()}));var v=i.debounce((function(){t.cy.resize()}),100);g&&(t.styleObserver=new MutationObserver(v),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",v);var y=function(){t.invalidateContainerClientCoordsCache()};!function(t,e){for(;null!=t;)e(t),t=t.parentNode}(t.container,(function(e){t.registerBinding(e,"transitionend",y),t.registerBinding(e,"animationend",y),t.registerBinding(e,"scroll",y)})),t.registerBinding(t.container,"contextmenu",(function(t){t.preventDefault()}));var m,b,w,x,_,E,S,k,O,C,T,P,N,D=function(e){for(var n=t.findContainerClientCoords(),r=n[0],i=n[1],o=n[2],a=n[3],s=e.touches?e.touches:[e],l=!1,u=0;u<s.length;u++){var c=s[u];if(r<=c.clientX&&c.clientX<=r+o&&i<=c.clientY&&c.clientY<=i+a){l=!0;break}}if(!l)return!1;for(var d=t.container,h=e.target.parentNode,f=!1;h;){if(h===d){f=!0;break}h=h.parentNode}return!!f};t.registerBinding(t.container,"mousedown",(function(n){if(D(n)){n.preventDefault(),p(),t.hoverData.capture=!0,t.hoverData.which=n.which;var r=t.cy,i=[n.clientX,n.clientY],o=t.projectIntoViewport(i[0],i[1]),a=t.selection,s=t.findNearestElements(o[0],o[1],!0,!1),u=s[0],h=t.dragData.possibleDragElements;if(t.hoverData.mdownPos=o,t.hoverData.mdownGPos=i,3==n.which){t.hoverData.cxtStarted=!0;var f={originalEvent:n,type:"cxttapstart",position:{x:o[0],y:o[1]}};u?(u.activate(),u.emit(f),t.hoverData.down=u):r.emit(f),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==n.which){if(u&&u.activate(),null!=u&&t.nodeIsGrabbable(u)){var g=function(t){return{originalEvent:n,type:t,position:{x:o[0],y:o[1]}}};if(l(u),u.selected()){h=t.dragData.possibleDragElements=[];var v=r.$((function(e){return e.isNode()&&e.selected()&&t.nodeIsGrabbable(e)}));c(v,{addToList:h}),u.emit(g("grabon")),v.forEach((function(t){t.emit(g("grab"))}))}else h=t.dragData.possibleDragElements=[],d(u,{addToList:h}),u.emit(g("grabon")).emit(g("grab"));t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=u,t.hoverData.downs=s,t.hoverData.downTime=(new Date).getTime(),e(u,["mousedown","tapstart","vmousedown"],n,{position:{x:o[0],y:o[1]}}),null==u?(a[4]=1,t.data.bgActivePosistion={x:o[0],y:o[1]},t.redrawHint("select",!0),t.redraw()):u.isEdge()&&(a[4]=1),t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout((function(){if(!t.hoverData.tapholdCancelled){var e=t.hoverData.down;e?e.emit({originalEvent:n,type:"taphold",position:{x:o[0],y:o[1]}}):r.emit({originalEvent:n,type:"taphold",position:{x:o[0],y:o[1]}})}}),t.tapholdDuration)}a[0]=a[2]=o[0],a[1]=a[3]=o[1]}}),!1),t.registerBinding(window,"mousemove",(function(i){if(t.hoverData.capture||D(i)){var s=!1,l=t.cy,u=l.zoom(),d=[i.clientX,i.clientY],f=t.projectIntoViewport(d[0],d[1]),p=t.hoverData.mdownPos,g=t.hoverData.mdownGPos,v=t.selection,y=null;t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.selecting||(y=t.findNearestElement(f[0],f[1],!0,!1));var m,b=t.hoverData.last,w=t.hoverData.down,x=[f[0]-v[2],f[1]-v[3]],_=t.dragData.possibleDragElements;if(g){var E=d[0]-g[0],S=E*E,k=d[1]-g[1],O=S+k*k;t.hoverData.isOverThresholdDrag=m=O>=t.desktopTapThreshold2}var C=n(i);m&&(t.hoverData.tapholdCancelled=!0),s=!0,e(y,["mousemove","vmousemove","tapdrag"],i,{position:{x:f[0],y:f[1]}});var T=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||l.emit("boxstart"),v[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(3===t.hoverData.which){if(m){var P={originalEvent:i,type:"cxtdrag",position:{x:f[0],y:f[1]}};w?w.emit(P):l.emit(P),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&y===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:i,type:"cxtdragout",position:{x:f[0],y:f[1]}}),t.hoverData.cxtOver=y,y&&y.emit({originalEvent:i,type:"cxtdragover",position:{x:f[0],y:f[1]}}))}}else if(t.hoverData.dragging){if(s=!0,l.panningEnabled()&&l.userPanningEnabled()){var N;if(t.hoverData.justStartedPan){var A=t.hoverData.mdownPos;N={x:(f[0]-A[0])*u,y:(f[1]-A[1])*u},t.hoverData.justStartedPan=!1}else N={x:x[0]*u,y:x[1]*u};l.panBy(N),t.hoverData.dragged=!0}f=t.projectIntoViewport(i.clientX,i.clientY)}else if(1!=v[4]||null!=w&&!w.isEdge()){if(w&&w.isEdge()&&w.active()&&w.unactivate(),w&&w.grabbed()||y==b||(b&&e(b,["mouseout","tapdragout"],i,{position:{x:f[0],y:f[1]}}),y&&e(y,["mouseover","tapdragover"],i,{position:{x:f[0],y:f[1]}}),t.hoverData.last=y),w)if(m){if(l.boxSelectionEnabled()&&C)w&&w.grabbed()&&(h(_),w.emit("free")),T();else if(w&&w.grabbed()&&t.nodeIsDraggable(w)){var M=!t.dragData.didDrag;M&&t.redrawHint("eles",!0),t.dragData.didDrag=!0;var L=[];t.hoverData.draggingEles||c(l.collection(_),{inDragLayer:!0});for(var j=0;j<_.length;j++){var I=_[j];if(t.nodeIsDraggable(I)&&I.grabbed()){var R=I.position();if(L.push(I),r.number(x[0])&&r.number(x[1])&&(R.x+=x[0],R.y+=x[1],M)){var B=t.hoverData.dragDelta;B&&r.number(B[0])&&r.number(B[1])&&(R.x+=B[0],R.y+=B[1])}}}t.hoverData.draggingEles=!0;var z=l.collection(L);z.dirtyCompoundBoundsCache(),z.emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else!function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];0===e.length?(e.push(x[0]),e.push(x[1])):(e[0]+=x[0],e[1]+=x[1])}();s=!0}else m&&(t.hoverData.dragging||!l.boxSelectionEnabled()||!C&&l.panningEnabled()&&l.userPanningEnabled()?!t.hoverData.selecting&&l.panningEnabled()&&l.userPanningEnabled()&&a(w,t.hoverData.downs)&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,v[4]=0,t.data.bgActivePosistion=o.array2point(p),t.redrawHint("select",!0),t.redraw()):T(),w&&w.isEdge()&&w.active()&&w.unactivate());return v[2]=f[0],v[3]=f[1],s?(i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault(),!1):void 0}}),!1),t.registerBinding(window,"mouseup",(function(r){if(t.hoverData.capture){t.hoverData.capture=!1;var i=t.cy,o=t.projectIntoViewport(r.clientX,r.clientY),a=t.selection,s=t.findNearestElement(o[0],o[1],!0,!1),l=t.dragData.possibleDragElements,u=t.hoverData.down,c=n(r);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,u&&u.unactivate(),3===t.hoverData.which){var d={originalEvent:r,type:"cxttapend",position:{x:o[0],y:o[1]}};if(u?u.emit(d):i.emit(d),!t.hoverData.cxtDragged){var f={originalEvent:r,type:"cxttap",position:{x:o[0],y:o[1]}};u?u.emit(f):i.emit(f)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(1===t.hoverData.which){if(null!=u||t.dragData.didDrag||t.hoverData.selecting||t.hoverData.dragged||n(r)||(i.$((function(t){return t.selected()})).unselect(),l.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=l=[]),e(s,["mouseup","tapend","vmouseup"],r,{position:{x:o[0],y:o[1]}}),t.dragData.didDrag||t.hoverData.dragged||t.hoverData.selecting||t.hoverData.isOverThresholdDrag||e(u,["click","tap","vclick"],r,{position:{x:o[0],y:o[1]}}),s!=u||t.dragData.didDrag||t.hoverData.selecting||null!=s&&s._private.selectable&&(t.hoverData.dragging||("additive"===i.selectionType()||c?s.selected()?s.unselect():s.select():c||(i.$(":selected").unmerge(s).unselect(),s.select())),t.redrawHint("eles",!0)),t.hoverData.selecting){var p=i.collection(t.getAllInBox(a[0],a[1],a[2],a[3]));t.redrawHint("select",!0),p.length>0&&t.redrawHint("eles",!0),i.emit("boxend");var g=function(t){return t.selectable()&&!t.selected()};"additive"===i.selectionType()?p.emit("box").stdFilter(g).select().emit("boxselect"):(c||i.$(":selected").unmerge(p).unselect(),p.emit("box").stdFilter(g).select().emit("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!a[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var v=u&&u.grabbed();h(l),v&&u.emit("free")}}a[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}}),!1),t.registerBinding(t.container,"wheel",(function(e){if(!t.scrollingPage){var n,r=t.cy,i=t.projectIntoViewport(e.clientX,e.clientY),o=[i[0]*r.zoom()+r.pan().x,i[1]*r.zoom()+r.pan().y];t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||0!==t.selection[4]?e.preventDefault():r.panningEnabled()&&r.userPanningEnabled()&&r.zoomingEnabled()&&r.userZoomingEnabled()&&(e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout((function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()}),150),n=null!=e.deltaY?e.deltaY/-250:null!=e.wheelDeltaY?e.wheelDeltaY/1e3:e.wheelDelta/1e3,n*=t.wheelSensitivity,1===e.deltaMode&&(n*=33),r.zoom({level:r.zoom()*Math.pow(10,n),renderedPosition:{x:o[0],y:o[1]}}))}}),!0),t.registerBinding(window,"scroll",(function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout((function(){t.scrollingPage=!1}),250)}),!0),t.registerBinding(t.container,"mouseout",(function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseout",position:{x:n[0],y:n[1]}})}),!1),t.registerBinding(t.container,"mouseover",(function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseover",position:{x:n[0],y:n[1]}})}),!1);var A,M,L,j,I=function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))},R=function(t,e,n,r){return(n-t)*(n-t)+(r-e)*(r-e)};if(t.registerBinding(t.container,"touchstart",A=function(n){if(D(n)){p(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var r=t.cy,i=t.touchData.now,o=t.touchData.earlier;if(n.touches[0]){var a=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);i[0]=a[0],i[1]=a[1]}if(n.touches[1]&&(a=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY),i[2]=a[0],i[3]=a[1]),n.touches[2]&&(a=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY),i[4]=a[0],i[5]=a[1]),n.touches[1]){h(t.dragData.touchDragEles);var s=t.findContainerClientCoords();O=s[0],C=s[1],T=s[2],P=s[3],m=n.touches[0].clientX-O,b=n.touches[0].clientY-C,w=n.touches[1].clientX-O,x=n.touches[1].clientY-C,N=0<=m&&m<=T&&0<=w&&w<=T&&0<=b&&b<=P&&0<=x&&x<=P;var u=r.pan(),f=r.zoom();if(_=I(m,b,w,x),E=R(m,b,w,x),k=[((S=[(m+w)/2,(b+x)/2])[0]-u.x)/f,(S[1]-u.y)/f],E<4e4&&!n.touches[2]){var g=t.findNearestElement(i[0],i[1],!0,!0),v=t.findNearestElement(i[2],i[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:n,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start=g):v&&v.isNode()?(v.activate().emit({originalEvent:n,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start=v):r.emit({originalEvent:n,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(n.touches[2]);else if(n.touches[1]);else if(n.touches[0]){var y=t.findNearestElements(i[0],i[1],!0,!0),A=y[0];if(null!=A&&(A.activate(),t.touchData.start=A,t.touchData.starts=y,t.nodeIsGrabbable(A))){var M=t.dragData.touchDragEles=[],L=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),A.selected()?(L=r.$((function(e){return e.selected()&&t.nodeIsGrabbable(e)})),c(L,{addToList:M})):d(A,{addToList:M}),l(A);var j=function(t){return{originalEvent:n,type:t,position:{x:i[0],y:i[1]}}};A.emit(j("grabon")),L?L.forEach((function(t){t.emit(j("grab"))})):A.emit(j("grab"))}e(A,["touchstart","tapstart","vmousedown"],n,{position:{x:i[0],y:i[1]}}),null==A&&(t.data.bgActivePosistion={x:a[0],y:a[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout((function(){!1!==t.touchData.singleTouchMoved||t.pinching||t.touchData.selecting||(e(t.touchData.start,["taphold"],n,{position:{x:i[0],y:i[1]}}),t.touchData.start||r.$(":selected").unselect())}),t.tapholdDuration)}if(n.touches.length>=1){for(var B=t.touchData.startPosition=[],z=0;z<i.length;z++)B[z]=o[z]=i[z];var F=n.touches[0];t.touchData.startGPosition=[F.clientX,F.clientY]}}},!1),t.registerBinding(window,"touchmove",M=function(n){var i=t.touchData.capture;if(i||D(n)){var s=t.selection,l=t.cy,u=t.touchData.now,d=t.touchData.earlier,f=l.zoom();if(n.touches[0]){var p=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);u[0]=p[0],u[1]=p[1]}n.touches[1]&&(p=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY),u[2]=p[0],u[3]=p[1]),n.touches[2]&&(p=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY),u[4]=p[0],u[5]=p[1]);var g,v=t.touchData.startGPosition;if(i&&n.touches[0]&&v){for(var y=[],S=0;S<u.length;S++)y[S]=u[S]-d[S];var T=n.touches[0].clientX-v[0],P=T*T,A=n.touches[0].clientY-v[1];g=P+A*A>=t.touchTapThreshold2}if(i&&t.touchData.cxt){n.preventDefault();var M=n.touches[0].clientX-O,L=n.touches[0].clientY-C,j=n.touches[1].clientX-O,B=n.touches[1].clientY-C,z=R(M,L,j,B);if(z/E>=2.25||z>=22500){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var F={originalEvent:n,type:"cxttapend",position:{x:u[0],y:u[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(F),t.touchData.start=null):l.emit(F)}}if(i&&t.touchData.cxt){F={originalEvent:n,type:"cxtdrag",position:{x:u[0],y:u[1]}},t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(F):l.emit(F),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var V=t.findNearestElement(u[0],u[1],!0,!0);t.touchData.cxtOver&&V===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:n,type:"cxtdragout",position:{x:u[0],y:u[1]}}),t.touchData.cxtOver=V,V&&V.emit({originalEvent:n,type:"cxtdragover",position:{x:u[0],y:u[1]}}))}else if(i&&n.touches[2]&&l.boxSelectionEnabled())n.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||l.emit("boxstart"),t.touchData.selecting=!0,t.redrawHint("select",!0),s&&0!==s.length&&void 0!==s[0]?(s[2]=(u[0]+u[2]+u[4])/3,s[3]=(u[1]+u[3]+u[5])/3):(s[0]=(u[0]+u[2]+u[4])/3,s[1]=(u[1]+u[3]+u[5])/3,s[2]=(u[0]+u[2]+u[4])/3+1,s[3]=(u[1]+u[3]+u[5])/3+1),s[4]=1,t.touchData.selecting=!0,t.redraw();else if(i&&n.touches[1]&&l.zoomingEnabled()&&l.panningEnabled()&&l.userZoomingEnabled()&&l.userPanningEnabled()){if(n.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),tt=t.dragData.touchDragEles){t.redrawHint("drag",!0);for(var q=0;q<tt.length;q++){var U=tt[q]._private;U.grabbed=!1,U.rscratch.inDragLayer=!1}}M=n.touches[0].clientX-O,L=n.touches[0].clientY-C,j=n.touches[1].clientX-O,B=n.touches[1].clientY-C;var H=I(M,L,j,B),W=H/_;if(N){var Y=(M-m+(j-w))/2,X=(L-b+(B-x))/2,G=l.zoom(),$=G*W,Z=l.pan(),K=k[0]*G+Z.x,Q=k[1]*G+Z.y,J={x:-$/G*(K-Z.x-Y)+K,y:-$/G*(Q-Z.y-X)+Q};if(t.touchData.start&&t.touchData.start.active()){var tt=t.dragData.touchDragEles;h(tt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),t.touchData.start.unactivate().emit("free")}l.viewport({zoom:$,pan:J,cancelOnFailedZoom:!0}),_=H,m=M,b=L,w=j,x=B,t.pinching=!0}n.touches[0]&&(p=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY),u[0]=p[0],u[1]=p[1]),n.touches[1]&&(p=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY),u[2]=p[0],u[3]=p[1]),n.touches[2]&&(p=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY),u[4]=p[0],u[5]=p[1])}else if(n.touches[0]){var et=t.touchData.start,nt=t.touchData.last;if(t.hoverData.draggingEles||t.swipePanning||(V=t.findNearestElement(u[0],u[1],!0,!0)),i&&null!=et&&n.preventDefault(),i&&null!=et&&t.nodeIsDraggable(et))if(g){tt=t.dragData.touchDragEles;var rt=!t.dragData.didDrag;rt&&c(l.collection(tt),{inDragLayer:!0});for(var it=0;it<tt.length;it++){var ot=tt[it];if(t.nodeIsDraggable(ot)&&ot.grabbed()){t.dragData.didDrag=!0;var at=ot.position();r.number(y[0])&&r.number(y[1])&&(at.x+=y[0],at.y+=y[1]),rt&&(t.redrawHint("eles",!0),(lt=t.touchData.dragDelta)&&r.number(lt[0])&&r.number(lt[1])&&(at.x+=lt[0],at.y+=lt[1]))}}var st=l.collection(tt);st.dirtyCompoundBoundsCache(),st.emit("position drag"),t.hoverData.draggingEles=!0,t.redrawHint("drag",!0),t.touchData.startPosition[0]==d[0]&&t.touchData.startPosition[1]==d[1]&&t.redrawHint("eles",!0),t.redraw()}else{var lt;0===(lt=t.touchData.dragDelta=t.touchData.dragDelta||[]).length?(lt.push(y[0]),lt.push(y[1])):(lt[0]+=y[0],lt[1]+=y[1])}if(e(et||V,["touchmove","tapdrag","vmousemove"],n,{position:{x:u[0],y:u[1]}}),et&&et.grabbed()||V==nt||(nt&&nt.emit({originalEvent:n,type:"tapdragout",position:{x:u[0],y:u[1]}}),V&&V.emit({originalEvent:n,type:"tapdragover",position:{x:u[0],y:u[1]}})),t.touchData.last=V,i)for(q=0;q<u.length;q++)u[q]&&t.touchData.startPosition[q]&&g&&(t.touchData.singleTouchMoved=!0);i&&(null==et||et.isEdge())&&l.panningEnabled()&&l.userPanningEnabled()&&(a(et,t.touchData.starts)&&(n.preventDefault(),t.swipePanning?l.panBy({x:y[0]*f,y:y[1]*f}):g&&(t.swipePanning=!0,l.panBy({x:T*f,y:A*f}),et&&(et.unactivate(),t.data.bgActivePosistion||(t.data.bgActivePosistion=o.array2point(t.touchData.startPosition)),t.redrawHint("select",!0),t.touchData.start=null))),p=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY),u[0]=p[0],u[1]=p[1])}for(S=0;S<u.length;S++)d[S]=u[S];i&&n.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&null!=t.data.bgActivePosistion&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1),t.registerBinding(window,"touchcancel",L=function(e){var n=t.touchData.start;t.touchData.capture=!1,n&&n.unactivate()}),t.registerBinding(window,"touchend",j=function(n){var r=t.touchData.start;if(t.touchData.capture){0===n.touches.length&&(t.touchData.capture=!1),n.preventDefault();var i=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var o,a=t.cy,s=a.zoom(),l=t.touchData.now,u=t.touchData.earlier;if(n.touches[0]){var c=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=c[0],l[1]=c[1]}if(n.touches[1]&&(c=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY),l[2]=c[0],l[3]=c[1]),n.touches[2]&&(c=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY),l[4]=c[0],l[5]=c[1]),r&&r.unactivate(),t.touchData.cxt){if(o={originalEvent:n,type:"cxttapend",position:{x:l[0],y:l[1]}},r?r.emit(o):a.emit(o),!t.touchData.cxtDragged){var d={originalEvent:n,type:"cxttap",position:{x:l[0],y:l[1]}};r?r.emit(d):a.emit(d)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!n.touches[2]&&a.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var f=a.collection(t.getAllInBox(i[0],i[1],i[2],i[3]));i[0]=void 0,i[1]=void 0,i[2]=void 0,i[3]=void 0,i[4]=0,t.redrawHint("select",!0),a.emit("boxend"),f.emit("box").stdFilter((function(t){return t.selectable()&&!t.selected()})).select().emit("boxselect"),f.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(null!=r&&r.unactivate(),n.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var p=t.dragData.touchDragEles;if(null!=r){var g=r._private.grabbed;h(p),t.redrawHint("drag",!0),t.redrawHint("eles",!0),g&&r.emit("free"),e(r,["touchend","tapend","vmouseup","tapdragout"],n,{position:{x:l[0],y:l[1]}}),r.unactivate(),t.touchData.start=null}else{var v=t.findNearestElement(l[0],l[1],!0,!0);e(v,["touchend","tapend","vmouseup","tapdragout"],n,{position:{x:l[0],y:l[1]}})}var y=t.touchData.startPosition[0]-l[0],m=y*y,b=t.touchData.startPosition[1]-l[1],w=(m+b*b)*s*s;null!=r&&!t.dragData.didDrag&&r._private.selectable&&w<t.touchTapThreshold2&&!t.pinching&&("single"===a.selectionType()?(a.$(":selected").unmerge(r).unselect(),r.select()):r.selected()?r.unselect():r.select(),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved||e(r,["tap","vclick"],n,{position:{x:l[0],y:l[1]}}),t.touchData.singleTouchMoved=!0}for(var x=0;x<l.length;x++)u[x]=l[x];t.dragData.didDrag=!1,0===n.touches.length&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null),n.touches.length<2&&(t.pinching=!1,t.redrawHint("eles",!0),t.redraw())}},!1),"undefined"==typeof TouchEvent){var B=[],z=function(t){return{clientX:t.clientX,clientY:t.clientY,force:1,identifier:t.pointerId,pageX:t.pageX,pageY:t.pageY,radiusX:t.width/2,radiusY:t.height/2,screenX:t.screenX,screenY:t.screenY,target:t.target}},F=function(t){B.push(function(t){return{event:t,touch:z(t)}}(t))},V=function(t){for(var e=0;e<B.length;e++)if(B[e].event.pointerId===t.pointerId)return void B.splice(e,1)},q=function(t){t.touches=B.map((function(t){return t.touch}))},U=function(t){return"mouse"===t.pointerType||4===t.pointerType};t.registerBinding(t.container,"pointerdown",(function(t){U(t)||(t.preventDefault(),F(t),q(t),A(t))})),t.registerBinding(t.container,"pointerup",(function(t){U(t)||(V(t),q(t),j(t))})),t.registerBinding(t.container,"pointercancel",(function(t){U(t)||(V(t),q(t),L())})),t.registerBinding(t.container,"pointermove",(function(t){U(t)||(t.preventDefault(),function(t){var e=B.filter((function(e){return e.event.pointerId===t.pointerId}))[0];e.event=t,e.touch=z(t)}(t),q(t),M(t))}))}},t.exports=a},function(t,e,n){var r=n(2),i={generatePolygon:function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl("polygon",t,e,n,r,i,this.points)},intersectLine:function(t,e,n,i,o,a,s){return r.polygonIntersectLine(o,a,this.points,t,e,n/2,i/2,s)},checkPoint:function(t,e,n,i,o,a,s){return r.pointInsidePolygon(t,e,this.points,a,s,i,o,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,i,o,a,s){return r.intersectLineEllipse(o,a,t,e,n/2+s,i/2+s)},checkPoint:function(t,e,n,i,o,a,s){return r.checkInEllipse(t,e,i,o,a,s,n)}}},generateRoundRectangle:function(){return this.nodeShapes.roundrectangle={renderer:this,name:"roundrectangle",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,i,o,a,s){return r.roundRectangleIntersectLine(o,a,t,e,n,i,s)},checkPoint:function(t,e,n,i,o,a,s){var l=r.getRoundRectangleRadius(i,o),u=2*l;return!!(r.pointInsidePolygon(t,e,this.points,a,s,i,o-u,[0,-1],n)||r.pointInsidePolygon(t,e,this.points,a,s,i-u,o,[0,-1],n)||r.checkInEllipse(t,e,u,u,a-i/2+l,s-o/2+l,n)||r.checkInEllipse(t,e,u,u,a+i/2-l,s-o/2+l,n)||r.checkInEllipse(t,e,u,u,a+i/2-l,s+o/2-l,n)||r.checkInEllipse(t,e,u,u,a-i/2+l,s+o/2-l,n))}}},generateCutRectangle:function(){return this.nodeShapes.cutrectangle={renderer:this,name:"cutrectangle",cornerLength:r.getCutRectangleCornerLength(),points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},generateCutTrianglePts:function(t,e,n,r){var i=this.cornerLength,o=e/2,a=t/2,s=n-a,l=n+a,u=r-o,c=r+o;return{topLeft:[s,u+i,s+i,u,s+i,u+i],topRight:[l-i,u,l,u+i,l-i,u+i],bottomRight:[l,c-i,l-i,c,l-i,c-i],bottomLeft:[s+i,c,s,c-i,s+i,c-i]}},intersectLine:function(t,e,n,i,o,a,s){var l=this.generateCutTrianglePts(n+2*s,i+2*s,t,e),u=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return r.polygonIntersectLine(o,a,u,t,e)},checkPoint:function(t,e,n,i,o,a,s){if(r.pointInsidePolygon(t,e,this.points,a,s,i,o-2*this.cornerLength,[0,-1],n))return!0;if(r.pointInsidePolygon(t,e,this.points,a,s,i-2*this.cornerLength,o,[0,-1],n))return!0;var l=this.generateCutTrianglePts(i,o,a,s);return r.pointInsidePolygonPoints(t,e,l.topLeft)||r.pointInsidePolygonPoints(t,e,l.topRight)||r.pointInsidePolygonPoints(t,e,l.bottomRight)||r.pointInsidePolygonPoints(t,e,l.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,i,o,a,s){var l=this.generateBarrelBezierPts(n+2*s,i+2*s,t,e),u=function(t){var e=r.qbezierPtAt({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.15),n=r.qbezierPtAt({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.5),i=r.qbezierPtAt({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.85);return[t[0],t[1],e.x,e.y,n.x,n.y,i.x,i.y,t[4],t[5]]},c=[].concat(u(l.topLeft),u(l.topRight),u(l.bottomRight),u(l.bottomLeft));return r.polygonIntersectLine(o,a,c,t,e)},generateBarrelBezierPts:function(t,e,n,i){var o=e/2,a=t/2,s=n-a,l=n+a,u=i-o,c=i+o,d=r.getBarrelCurveConstants(t,e),h=d.heightOffset,f=d.widthOffset,p=d.ctrlPtOffsetPct*t,g={topLeft:[s,u+h,s+p,u,s+f,u],topRight:[l-f,u,l-p,u,l,u+h],bottomRight:[l,c-h,l-p,c,l-f,c],bottomLeft:[s+f,c,s+p,c,s,c-h]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(t,e,n,i,o,a,s){var l=r.getBarrelCurveConstants(i,o),u=l.heightOffset,c=l.widthOffset;if(r.pointInsidePolygon(t,e,this.points,a,s,i,o-2*u,[0,-1],n))return!0;if(r.pointInsidePolygon(t,e,this.points,a,s,i-2*c,o,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(i,o,a,s),h=function(t,e,n){var i=n[4],o=n[2],a=n[0],s=n[5],l=n[1],u=Math.min(i,a),c=Math.max(i,a),d=Math.min(s,l),h=Math.max(s,l);if(u<=t&&t<=c&&d<=e&&e<=h){var f=r.bezierPtsToQuadCoeff(i,o,a),p=r.solveQuadratic(f[0],f[1],f[2],t).filter((function(t){return 0<=t&&t<=1}));if(p.length>0)return p[0]}return null},f=Object.keys(d),p=0;p<f.length;p++){var g=d[f[p]],v=h(t,e,g);if(null!=v){var y=g[5],m=g[3],b=g[1],w=r.qbezierAt(y,m,b,v);if(g.isTop&&w<=e)return!0;if(g.isBottom&&e<=w)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottomroundrectangle",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,i,o,a,s){var l=t-(n/2+s),u=e-(i/2+s),c=u,d=t+(n/2+s),h=r.finiteLinesIntersect(o,a,t,e,l,u,d,c,!1);return h.length>0?h:r.roundRectangleIntersectLine(o,a,t,e,n,i,s)},checkPoint:function(t,e,n,i,o,a,s){var l=r.getRoundRectangleRadius(i,o),u=2*l;if(r.pointInsidePolygon(t,e,this.points,a,s,i,o-u,[0,-1],n))return!0;if(r.pointInsidePolygon(t,e,this.points,a,s,i-u,o,[0,-1],n))return!0;var c=i/2+2*n,d=o/2+2*n,h=[a-c,s-d,a-c,s,a+c,s,a+c,s-d];return!!r.pointInsidePolygonPoints(t,e,h)||!!r.checkInEllipse(t,e,u,u,a+i/2-l,s+o/2-l,n)||!!r.checkInEllipse(t,e,u,u,a-i/2+l,s+o/2-l,n)}}},registerNodeShapes:function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",r.generateUnitNgonPointsFitToSquare(3,0)),this.generatePolygon("rectangle",r.generateUnitNgonPointsFitToSquare(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",r.generateUnitNgonPointsFitToSquare(5,0)),this.generatePolygon("hexagon",r.generateUnitNgonPointsFitToSquare(6,0)),this.generatePolygon("heptagon",r.generateUnitNgonPointsFitToSquare(7,0)),this.generatePolygon("octagon",r.generateUnitNgonPointsFitToSquare(8,0));var n=new Array(20),i=r.generateUnitNgonPoints(5,0),o=r.generateUnitNgonPoints(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<o.length/2;s++)o[2*s]*=a,o[2*s+1]*=a;for(s=0;s<5;s++)n[4*s]=i[2*s],n[4*s+1]=i[2*s+1],n[4*s+2]=o[2*s],n[4*s+3]=o[2*s+1];n=r.fitPolygonToSquare(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("concavehexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),t.makePolygon=function(t){var n,r="polygon-"+t.join("$");return(n=this[r])?n:e.generatePolygon(r,t)}}};t.exports=i},function(t,e,n){var r=n(1),i={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(t){t=t||r.staticEmptyObject();var e=this;void 0===e.averageRedrawTime&&(e.averageRedrawTime=0),void 0===e.lastRedrawTime&&(e.lastRedrawTime=0),void 0===e.lastDrawTime&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},beforeRender:function(t,e){if(!this.destroyed){e=e||0;var n=this.beforeRenderCallbacks;n.push({fn:t,priority:e}),n.sort((function(t,e){return e.priority-t.priority}))}}},o=function(t,e,n){for(var r=t.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(e,n)};i.startRenderLoop=function(){var t=this;t.renderLoopStarted||(t.renderLoopStarted=!0,r.requestAnimationFrame((function e(n){if(!t.destroyed){if(t.requestedFrame&&!t.skipFrame){o(t,!0,n);var i=r.performanceNow();t.render(t.renderOptions);var a=t.lastDrawTime=r.performanceNow();void 0===t.averageRedrawTime&&(t.averageRedrawTime=a-i),void 0===t.redrawCount&&(t.redrawCount=0),t.redrawCount++,void 0===t.redrawTotalTime&&(t.redrawTotalTime=0);var s=a-i;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else o(t,!1,n);t.skipFrame=!1,r.requestAnimationFrame(e)}})))},t.exports=i},function(t,e,n){var r=n(1),i=n(0),o=n(124),a=n(125),s=u,l=u.prototype;function u(t){var e=this;e.data={canvases:new Array(l.CANVAS_LAYERS),contexts:new Array(l.CANVAS_LAYERS),canvasNeedsRedraw:new Array(l.CANVAS_LAYERS),bufferCanvases:new Array(l.BUFFER_COUNT),bufferContexts:new Array(l.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color: rgba(0,0,0,0);";e.data.canvasContainer=document.createElement("div");var r=e.data.canvasContainer.style;e.data.canvasContainer.setAttribute("style",n),r.position="relative",r.zIndex="0",r.overflow="hidden";var s=t.cy.container();s.appendChild(e.data.canvasContainer),(s.getAttribute("style")||"").indexOf(n)<0&&s.setAttribute("style",(s.getAttribute("style")||"")+n);for(var u=0;u<l.CANVAS_LAYERS;u++){var c=e.data.canvases[u]=document.createElement("canvas");e.data.contexts[u]=c.getContext("2d"),c.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(i.ms()?" -ms-touch-action: none; touch-action: none; ":"")),c.style.position="absolute",c.setAttribute("data-id","layer"+u),c.style.zIndex=String(l.CANVAS_LAYERS-u),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[u]=!1}for(e.data.topCanvas=e.data.canvases[0],e.data.canvases[l.NODE].setAttribute("data-id","layer"+l.NODE+"-node"),e.data.canvases[l.SELECT_BOX].setAttribute("data-id","layer"+l.SELECT_BOX+"-selectbox"),e.data.canvases[l.DRAG].setAttribute("data-id","layer"+l.DRAG+"-drag"),u=0;u<l.BUFFER_COUNT;u++)e.data.bufferCanvases[u]=document.createElement("canvas"),e.data.bufferContexts[u]=e.data.bufferCanvases[u].getContext("2d"),e.data.bufferCanvases[u].style.position="absolute",e.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),e.data.bufferCanvases[u].style.zIndex=String(-u-1),e.data.bufferCanvases[u].style.visibility="hidden";e.pathsEnabled=!0,e.data.eleTxrCache=new o(e),e.data.lyrTxrCache=new a(e,e.data.eleTxrCache),e.onUpdateEleCalcs((function(t,n){for(var r=0;r<n.length;r++){var i=n[r],o=i._private.rstyle,a=o.dirtyEvents;if(i.isNode()&&a&&1===a.length&&a.position);else if(e.data.eleTxrCache.invalidateElement(i),i.isParent()&&a.style){var s=o.prevParentOpacity,l=i.pstyle("opacity").pfValue;if(o.prevParentOpacity=l,s!==l)for(var u=i.descendants(),c=0;c<u.length;c++)e.data.eleTxrCache.invalidateElement(u[c])}}n.length>0&&e.data.lyrTxrCache.invalidateElements(n)}))}l.CANVAS_LAYERS=3,l.SELECT_BOX=0,l.DRAG=1,l.NODE=2,l.BUFFER_COUNT=3,l.TEXTURE_BUFFER=0,l.MOTIONBLUR_BUFFER_NODE=1,l.MOTIONBLUR_BUFFER_DRAG=2,l.redrawHint=function(t,e){var n=this;switch(t){case"eles":n.data.canvasNeedsRedraw[l.NODE]=e;break;case"drag":n.data.canvasNeedsRedraw[l.DRAG]=e;break;case"select":n.data.canvasNeedsRedraw[l.SELECT_BOX]=e}};var c="undefined"!=typeof Path2D;l.path2dEnabled=function(t){if(void 0===t)return this.pathsEnabled;this.pathsEnabled=!!t},l.usePaths=function(){return c&&this.pathsEnabled},[n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(135)].forEach((function(t){r.extend(l,t)})),t.exports=s},function(t,e,n){var r=n(2),i=n(1),o=n(9),a=n(19),s={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},l=function(t){this.renderer=t,this.onDequeues=[],this.setupDequeueing()},u=l.prototype;u.reasons=s,u.getTextureQueue=function(t){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[t]=this.eleImgCaches[t]||[]},u.getRetiredTextureQueue=function(t){var e=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return e[t]=e[t]||[]},u.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new o((function(t,e){return e.reqs-t.reqs}))},u.getElementIdToQueue=function(){return this.eleIdToCacheQueue=this.eleIdToCacheQueue||{}},u.getElement=function(t,e,n,i,o){var a=this,l=this.renderer,u=t._private.rscratch,c=l.cy.zoom();if(0===e.w||0===e.h||!t.visible())return null;if(null==i&&(i=Math.ceil(r.log2(c*n))),i<-4)i=-4;else if(c>=3.99||i>2)return null;var d,h=Math.pow(2,i),f=e.h*h,p=e.w*h,g=u.imgCaches=u.imgCaches||{},v=g[i];if(v)return v;if(d=f<=25?25:f<=50?50:50*Math.ceil(f/50),f>1024||p>1024||t.isEdge()||t.isParent())return null;var y=a.getTextureQueue(d),m=y[y.length-2],b=function(){return a.recycleTexture(d,p)||a.addTexture(d,p)};m||(m=y[y.length-1]),m||(m=b()),m.width-m.usedWidth<p&&(m=b());for(var w,x=l.eleTextBiggerThanMin(t,h),_=function(t){return t&&t.scaledLabelShown===x},E=o&&o===s.dequeue,S=o&&o===s.highQuality,k=o&&o===s.downscale,O=i+1;O<=2;O++)if(N=g[O]){w=N;break}var C=w&&w.level===i+1?w:null,T=function(){m.context.drawImage(C.texture.canvas,C.x,0,C.width,C.height,m.usedWidth,0,p,f)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,p,d),_(C))T();else if(_(w)){if(!S)return a.queueElement(t,w.level-1),w;for(O=w.level;O>i;O--)C=a.getElement(t,e,n,O,s.downscale);T()}else{var P;if(!E&&!S&&!k)for(O=i-1;O>=-4;O--){var N;if(N=g[O]){P=N;break}}if(_(P))return a.queueElement(t,i),P;m.context.translate(m.usedWidth,0),m.context.scale(h,h),l.drawElement(m.context,t,e,x),m.context.scale(1/h,1/h),m.context.translate(-m.usedWidth,0)}return v=g[i]={ele:t,x:m.usedWidth,texture:m,level:i,scale:h,width:p,height:f,scaledLabelShown:x},m.usedWidth+=Math.ceil(p+8),m.eleCaches.push(v),a.checkTextureFullness(m),v},u.invalidateElement=function(t){var e=t._private.rscratch.imgCaches;if(e)for(var n=-4;n<=2;n++){var r=e[n];if(r){var o=r.texture;o.invalidatedWidth+=r.width,e[n]=null,i.removeFromArray(o.eleCaches,r),this.removeFromQueue(t),this.checkTextureUtility(o)}}},u.checkTextureUtility=function(t){t.invalidatedWidth>=.5*t.width&&this.retireTexture(t)},u.checkTextureFullness=function(t){var e=this.getTextureQueue(t.height);t.usedWidth/t.width>.8&&t.fullnessChecks>=10?i.removeFromArray(e,t):t.fullnessChecks++},u.retireTexture=function(t){var e=t.height,n=this.getTextureQueue(e);i.removeFromArray(n,t),t.retired=!0;for(var r=t.eleCaches,o=0;o<r.length;o++){var a=r[o],s=a.ele,l=a.level,u=s._private.rscratch.imgCaches;u&&(u[l]=null)}i.clearArray(r),this.getRetiredTextureQueue(e).push(t)},u.addTexture=function(t,e){var n={};return this.getTextureQueue(t).push(n),n.eleCaches=[],n.height=t,n.width=Math.max(1024,e),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=document.createElement("canvas"),n.canvas.width=n.width,n.canvas.height=n.height,n.context=n.canvas.getContext("2d"),n},u.recycleTexture=function(t,e){for(var n=this.getTextureQueue(t),r=this.getRetiredTextureQueue(t),o=0;o<r.length;o++){var a=r[o];if(a.width>=e)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,i.clearArray(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),i.removeFromArray(r,a),n.push(a),a}},u.queueElement=function(t,e){var n=this.getElementQueue(),r=this.getElementIdToQueue(),i=t.id(),o=r[i];if(o)o.level=Math.max(o.level,e),o.reqs++,n.updateItem(o);else{var a={ele:t,level:e,reqs:1};n.push(a),r[i]=a}},u.dequeue=function(t){for(var e=this.getElementQueue(),n=this.getElementIdToQueue(),r=[],i=0;i<1&&e.size()>0;i++){var o=e.pop(),a=o.ele;if(null==a._private.rscratch.imgCaches[o.level]){n[a.id()]=null,r.push(o);var l=a.boundingBox();this.getElement(a,l,t,o.level,s.dequeue)}}return r},u.removeFromQueue=function(t){var e=this.getElementQueue(),n=this.getElementIdToQueue(),r=n[t.id()];null!=r&&(r.reqs=i.MAX_INT,e.updateItem(r),e.pop(),n[t.id()]=null)},u.onDequeue=function(t){this.onDequeues.push(t)},u.offDequeue=function(t){i.removeFromArray(this.onDequeues,t)},u.setupDequeueing=a.setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e,n){return t.dequeue(e,n)},onDeqd:function(t,e){for(var n=0;n<t.onDequeues.length;n++)(0,t.onDequeues[n])(e)},shouldRedraw:function(t,e,n,i){for(var o=0;o<e.length;o++){var a=e[o].ele.boundingBox();if(r.boundingBoxesIntersect(a,i))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}}),t.exports=l},function(t,e,n){var r=n(1),i=n(2),o=n(9),a=n(0),s=n(19),l=function(t,e){var n=this,i=n.renderer=t;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=r.performanceNow()-500,n.skipping=!1,i.beforeRender((function(t,e){e-n.lastInvalidationTime<=250?n.skipping=!0:n.skipping=!1})),n.layersQueue=new o((function(t,e){return e.reqs-t.reqs})),n.eleTxrCache=e,n.setupEleCacheInvalidation(),n.setupDequeueing()},u=l.prototype,c=0,d=Math.pow(2,53)-1;function h(t,e){null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)}u.makeLayer=function(t,e){var n=Math.pow(2,e),r=Math.ceil(t.w*n),i=Math.ceil(t.h*n),o=document.createElement("canvas");o.width=r,o.height=i;var a={id:c=++c%d,bb:t,level:e,width:r,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,l=-a.bb.x1,u=-a.bb.y1;return s.scale(n,n),s.translate(l,u),a},u.getLayers=function(t,e,n){var o=this,a=o.renderer.cy.zoom(),s=o.firstGet;if(o.firstGet=!1,null==n)if((n=Math.ceil(i.log2(a*e)))<-4)n=-4;else if(a>=3.99||n>2)return null;o.validateLayersElesOrdering(n,t);var l,u,c=o.layersByLevel,d=Math.pow(2,n),h=c[n]=c[n]||[];if(o.levelIsComplete(n,t))return h;!function(){var e=function(e){if(o.validateLayersElesOrdering(e,t),o.levelIsComplete(e,t))return u=c[e],!0},i=function(t){if(!u)for(var r=n+t;-4<=r&&r<=2&&!e(r);r+=t);};i(1),i(-1);for(var a=h.length-1;a>=0;a--){var s=h[a];s.invalid&&r.removeFromArray(h,s)}}();var f=function(e){var r=(e=e||{}).after;if(function(){if(!l){l=i.makeBoundingBox();for(var e=0;e<t.length;e++)i.updateBoundingBox(l,t[e].boundingBox())}}(),l.w*d*(l.h*d)>16e6)return null;var a=o.makeLayer(l,n);if(null!=r){var s=h.indexOf(r)+1;h.splice(s,0,a)}else(void 0===e.insert||e.insert)&&h.unshift(a);return a};if(o.skipping&&!s)return null;for(var p=null,g=t.length/1,v=!s,y=0;y<t.length;y++){var m=t[y],b=m._private.rscratch,w=b.imgLayerCaches=b.imgLayerCaches||{},x=w[n];if(x)p=x;else{if((!p||p.eles.length>=g||!i.boundingBoxInBoundingBox(p.bb,m.boundingBox()))&&!(p=f({insert:!0,after:p})))return null;u||v?o.queueLayer(p,m):o.drawEleInLayer(p,m,n,e),p.eles.push(m),w[n]=p}}return u||(v?null:h)},u.getEleLevelForLayerLevel=function(t,e){return t},u.drawEleInLayer=function(t,e,n,r){var i=this.renderer,o=t.context,a=e.boundingBox();if(0!==a.w&&0!==a.h&&e.visible()){var s=this.eleTxrCache,l=s.reasons.highQuality;n=this.getEleLevelForLayerLevel(n,r);var u=s.getElement(e,a,null,n,l);u?(h(o,!1),o.drawImage(u.texture.canvas,u.x,0,u.width,u.height,a.x1,a.y1,a.w,a.h),h(o,!0)):i.drawElement(o,e)}},u.levelIsComplete=function(t,e){var n=this.layersByLevel[t];if(!n||0===n.length)return!1;for(var r=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0)return!1;if(o.invalid)return!1;r+=o.eles.length}return r===e.length},u.validateLayersElesOrdering=function(t,e){var n=this.layersByLevel[t];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],o=-1,a=0;a<e.length;a++)if(i.eles[0]===e[a]){o=a;break}if(o<0)this.invalidateLayer(i);else{var s=o;for(a=0;a<i.eles.length;a++)if(i.eles[a]!==e[s+a]){this.invalidateLayer(i);break}}}},u.updateElementsInLayers=function(t,e){for(var n=a.element(t[0]),r=0;r<t.length;r++)for(var i=n?null:t[r],o=n?t[r]:t[r].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},u=-4;u<=2;u++){var c=l[u];c&&(i&&this.getEleLevelForLayerLevel(c.level)!==i.level||e(c,o,i))}},u.haveLayers=function(){for(var t=!1,e=-4;e<=2;e++){var n=this.layersByLevel[e];if(n&&n.length>0){t=!0;break}}return t},u.invalidateElements=function(t){var e=this;e.lastInvalidationTime=r.performanceNow(),0!==t.length&&e.haveLayers()&&e.updateElementsInLayers(t,(function(t,n,r){e.invalidateLayer(t)}))},u.invalidateLayer=function(t){if(this.lastInvalidationTime=r.performanceNow(),!t.invalid){var e=t.level,n=t.eles,i=this.layersByLevel[e];r.removeFromArray(i,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var o=0;o<n.length;o++){var a=n[o]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}},u.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,(function(t,n,r){var i=t.replacement;if(i||((i=t.replacement=e.makeLayer(t.bb,t.level)).replaces=t,i.eles=t.eles),!i.reqs)for(var o=0;o<i.eles.length;o++)e.queueLayer(i,i.eles[o])}))},u.setupEleCacheInvalidation=function(){var t=this,e=[],n=r.debounce((function(){t.refineElementTextures(e),e=[]}),50);t.eleTxrCache.onDequeue((function(t){for(var r=0;r<t.length;r++)e.push(t[r]);n()}))},u.queueLayer=function(t,e){var n=this.layersQueue,r=t.elesQueue,i=r.hasId=r.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;r.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}},u.dequeue=function(t){for(var e=this.layersQueue,n=[],r=0;r<1&&0!==e.size();){var i=e.peek();if(i.replacement)e.pop();else if(i.replaces&&i!==i.replaces.replacement)e.pop();else if(i.invalid)e.pop();else{var o=i.elesQueue.shift();o&&(this.drawEleInLayer(i,o,i.level,t),r++),0===n.length&&n.push(!0),0===i.elesQueue.length&&(e.pop(),i.reqs=0,i.replaces&&this.applyLayerReplacement(i),this.requestRedraw())}}return n},u.applyLayerReplacement=function(t){var e=this.layersByLevel[t.level],n=t.replaces,r=e.indexOf(n);if(!(r<0||n.invalid)){e[r]=t;for(var i=0;i<t.eles.length;i++){var o=t.eles[i]._private,a=o.imgLayerCaches=o.imgLayerCaches||{};a&&(a[t.level]=t)}this.requestRedraw()}},u.requestRedraw=r.debounce((function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()}),100),u.setupDequeueing=s.setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e){return t.dequeue(e)},onDeqd:r.noop,shouldRedraw:r.trueify,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}}),t.exports=l},function(t,e,n){var r,i={arrowShapeImpl:function(t){return(r||(r={polygon:function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.lineTo(r.x,r.y)}},"triangle-backcurve":function(t,e,n){for(var r,i=0;i<e.length;i++){var o=e[i];0===i&&(r=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(n.x,n.y,r.x,r.y)},"triangle-tee":function(t,e,n){t.beginPath&&t.beginPath();for(var r=e,i=0;i<r.length;i++){var o=r[i];t.lineTo(o.x,o.y)}t.closePath&&t.closePath(),t.beginPath&&t.beginPath();var a=n,s=n[0];for(t.moveTo(s.x,s.y),i=0;i<a.length;i++)o=a[i],t.lineTo(o.x,o.y);t.closePath&&t.closePath()},"triangle-cross":function(t,e,n){t.beginPath&&t.beginPath();for(var r=e,i=0;i<r.length;i++){var o=r[i];t.lineTo(o.x,o.y)}t.closePath&&t.closePath(),t.beginPath&&t.beginPath();var a=n,s=n[0];for(t.moveTo(s.x,s.y),i=0;i<a.length;i++)o=a[i],t.lineTo(o.x,o.y);t.closePath&&t.closePath()},circle:function(t,e,n,r){t.arc(e,n,r,0,2*Math.PI,!1)}}))[t]}};t.exports=i},function(t,e,n){var r=n(2),i={drawElement:function(t,e,n,r){e.isNode()?this.drawNode(t,e,n,r):this.drawEdge(t,e,n,r)},drawCachedElement:function(t,e,n,i){var o=e.boundingBox();if(0!==o.w&&0!==o.h&&(!i||r.boundingBoxesIntersect(o,i))){var a=this.data.eleTxrCache.getElement(e,o,n);null!=a?t.drawImage(a.texture.canvas,a.x,0,a.width,a.height,o.x1,o.y1,o.w,o.h):this.drawElement(t,e)}},drawElements:function(t,e){for(var n=0;n<e.length;n++){var r=e[n];this.drawElement(t,r)}},drawCachedElements:function(t,e,n,r){for(var i=0;i<e.length;i++){var o=e[i];this.drawCachedElement(t,o,n,r)}},drawCachedNodes:function(t,e,n,r){for(var i=0;i<e.length;i++){var o=e[i];o.isNode()&&this.drawCachedElement(t,o,n,r)}},drawLayeredElements:function(t,e,n,r){var i=this.data.lyrTxrCache.getLayers(e,n);if(i)for(var o=0;o<i.length;o++){var a=i[o],s=a.bb;0!==s.w&&0!==s.h&&t.drawImage(a.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(t,e,n,r)},drawDebugPoints:function(t,e){for(var n=function(e,n,r){t.fillStyle=r,t.fillRect(e-1,n-1,3,3)},r=0;r<e.length;r++){var i=e[r],o=i._private.rscratch;if(i.isNode()){var a=i.position();n(a.x,a.y,"magenta")}else{for(var s=o.allpts,l=0;l+1<s.length;l+=2)n(s[l],s[l+1],"cyan");n(o.midX,o.midY,"yellow")}}}};t.exports=i},function(t,e,n){var r={drawEdge:function(t,e,n,r){var i=this,o=e._private.rscratch,a=i.usePaths();if(e.visible()&&!o.badLine&&null!=o.allpts&&!isNaN(o.allpts[0])){var s=void 0;n&&(s=n,t.translate(-s.x1,-s.y1));var l=2*e.pstyle("overlay-padding").pfValue,u=e.pstyle("overlay-opacity").value,c=e.pstyle("overlay-color").value,d=e.pstyle("line-color").value,h=e.pstyle("opacity").value,f=e.pstyle("line-style").value,p=e.pstyle("width").pfValue,g=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;t.lineWidth=p,t.lineCap="butt",i.strokeStyle(t,d[0],d[1],d[2],n),i.drawEdgePath(e,t,o.allpts,f)},v=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;i.drawArrowheads(t,e,n)};if(t.lineJoin="round","yes"===e.pstyle("ghost").value){var y=e.pstyle("ghost-offset-x").pfValue,m=e.pstyle("ghost-offset-y").pfValue,b=e.pstyle("ghost-opacity").value,w=h*b;t.translate(y,m),g(w),v(w),t.translate(-y,-m)}g(),v(),function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;t.lineWidth=l,"self"!==o.edgeType||a?t.lineCap="round":t.lineCap="butt",i.strokeStyle(t,c[0],c[1],c[2],n),i.drawEdgePath(e,t,o.allpts,"solid")}(),i.drawElementText(t,e,r),n&&t.translate(s.x1,s.y1)}},drawEdgePath:function(t,e,n,r){var i=t._private.rscratch,o=e,a=void 0,s=!1,l=this.usePaths();if(l){var u=n.join("$");i.pathCacheKey&&i.pathCacheKey===u?(a=e=i.pathCache,s=!0):(a=e=new Path2D,i.pathCacheKey=u,i.pathCache=a)}if(o.setLineDash)switch(r){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash([6,3]);break;case"solid":o.setLineDash([])}if(!s&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var c=2;c+3<n.length;c+=4)e.quadraticCurveTo(n[c],n[c+1],n[c+2],n[c+3]);break;case"straight":case"segments":case"haystack":for(var d=2;d+1<n.length;d+=2)e.lineTo(n[d],n[d+1])}e=o,l?e.stroke(a):e.stroke(),e.setLineDash&&e.setLineDash([])},drawArrowheads:function(t,e,n){var r=e._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(t,e,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(t,e,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(t,e,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(t,e,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},drawArrowhead:function(t,e,n,r,i,o,a){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(o)||null==o)){var s=e.pstyle(n+"-arrow-shape").value;if("none"!==s){var l="hollow"===e.pstyle(n+"-arrow-fill").value?"both":"filled",u=e.pstyle(n+"-arrow-fill").value,c=e.pstyle("width").pfValue,d=e.pstyle("opacity").value;void 0===a&&(a=d);var h=t.globalCompositeOperation;1===a&&"hollow"!==u||(t.globalCompositeOperation="destination-out",this.fillStyle(t,255,255,255,1),this.strokeStyle(t,255,255,255,1),this.drawArrowShape(e,n,t,l,c,s,r,i,o),t.globalCompositeOperation=h);var f=e.pstyle(n+"-arrow-color").value;this.fillStyle(t,f[0],f[1],f[2],a),this.strokeStyle(t,f[0],f[1],f[2],a),this.drawArrowShape(e,n,t,u,c,s,r,i,o)}}},drawArrowShape:function(t,e,n,r,i,o,a,s,l){var u=this.usePaths(),c=t._private.rscratch,d=!1,h=void 0,f=n,p={x:a,y:s},g=t.pstyle("arrow-scale").value,v=this.getArrowWidth(i,g),y=this.arrowShapes[o];if(u){var m=v+"$"+o+"$"+l+"$"+a+"$"+s;c.arrowPathCacheKey=c.arrowPathCacheKey||{},c.arrowPathCache=c.arrowPathCache||{},c.arrowPathCacheKey[e]===m?(h=n=c.arrowPathCache[e],d=!0):(h=n=new Path2D,c.arrowPathCacheKey[e]=m,c.arrowPathCache[e]=h)}n.beginPath&&n.beginPath(),d||y.draw(n,v,l,p,i),!y.leavePathOpen&&n.closePath&&n.closePath(),n=f,"filled"!==r&&"both"!==r||(u?n.fill(h):n.fill()),"hollow"!==r&&"both"!==r||(n.lineWidth=y.matchEdgeWidth?i:1,n.lineJoin="miter",u?n.stroke(h):n.stroke())}};t.exports=r},function(t,e,n){var r={safeDrawImage:function(t,e,n,r,i,o,a,s,l,u){i<=0||o<=0||l<=0||u<=0||t.drawImage(e,n,r,i,o,a,s,l,u)},drawInscribedImage:function(t,e,n,r,i){var o=this,a=n.position(),s=a.x,l=a.y,u=n.cy().style(),c=u.getIndexedStyle.bind(u),d=c(n,"background-fit","value",r),h=c(n,"background-repeat","value",r),f=n.width(),p=n.height(),g=2*n.padding(),v=f+("inner"===c(n,"background-width-relative-to","value",r)?0:g),y=p+("inner"===c(n,"background-height-relative-to","value",r)?0:g),m=n._private.rscratch,b="node"===n.pstyle("background-clip").value,w=c(n,"background-image-opacity","value",r)*i,x=e.width||e.cachedW,_=e.height||e.cachedH;null!=x&&null!=_||(document.body.appendChild(e),x=e.cachedW=e.width||e.offsetWidth,_=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var E=x,S=_;if("auto"!==c(n,"background-width","value",r)&&(E="%"===c(n,"background-width","units",r)?c(n,"background-width","pfValue",r)*v:c(n,"background-width","pfValue",r)),"auto"!==c(n,"background-height","value",r)&&(S="%"===c(n,"background-height","units",r)?c(n,"background-height","pfValue",r)*y:c(n,"background-height","pfValue",r)),0!==E&&0!==S){if("contain"===d)E*=k=Math.min(v/E,y/S),S*=k;else if("cover"===d){var k;E*=k=Math.max(v/E,y/S),S*=k}var O=s-v/2;"%"===c(n,"background-position-x","units",r)?O+=(v-E)*c(n,"background-position-x","pfValue",r):O+=c(n,"background-position-x","pfValue",r);var C=l-y/2;"%"===c(n,"background-position-y","units",r)?C+=(y-S)*c(n,"background-position-y","pfValue",r):C+=c(n,"background-position-y","pfValue",r),m.pathCache&&(O-=s,C-=l,s=0,l=0);var T=t.globalAlpha;if(t.globalAlpha=w,"no-repeat"===h)b&&(t.save(),m.pathCache?t.clip(m.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(t,s,l,v,y),t.clip())),o.safeDrawImage(t,e,0,0,x,_,O,C,E,S),b&&t.restore();else{var P=t.createPattern(e,h);t.fillStyle=P,o.nodeShapes[o.getNodeShape(n)].draw(t,s,l,v,y),t.translate(O,C),t.fill(),t.translate(-O,-C)}t.globalAlpha=T}}};t.exports=r},function(t,e,n){var r=n(1),i=n(2),o={eleTextBiggerThanMin:function(t,e){if(!e){var n=t.cy().zoom(),r=this.getPixelRatio(),o=Math.ceil(i.log2(n*r));e=Math.pow(2,o)}return!(t.pstyle("font-size").pfValue*e<t.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(t,e,n){var r=this;if(void 0===n){if(!r.eleTextBiggerThanMin(e))return}else if(!n)return;if(e.isNode()){if(!(o=e.pstyle("label"))||!o.value)return;var i=e.pstyle("text-halign").strValue;switch(e.pstyle("text-valign").strValue,i){case"left":t.textAlign="right";break;case"right":t.textAlign="left";break;default:t.textAlign="center"}t.textBaseline="bottom"}else{var o=e.pstyle("label"),a=e.pstyle("source-label"),s=e.pstyle("target-label");if(!(o&&o.value||a&&a.value||s&&s.value))return;t.textAlign="center",t.textBaseline="bottom"}r.drawText(t,e),e.isEdge()&&(r.drawText(t,e,"source"),r.drawText(t,e,"target"))}};o.drawNodeText=o.drawEdgeText=o.drawElementText,o.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((e=this.fontCaches[n]).context===t)return e;return e={context:t},this.fontCaches.push(e),e},o.setupTextStyle=function(t,e){var n=e.effectiveOpacity(),r=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,a=e.pstyle("font-weight").strValue,s=e.pstyle("text-opacity").value*e.pstyle("opacity").value*n,l=e.pstyle("text-outline-opacity").value*s,u=e.pstyle("color").value,c=e.pstyle("text-outline-color").value,d=e._private.fontKey,h=this.getFontCache(t);h.key!==d&&(t.font=r+" "+a+" "+i+" "+o,h.key=d),t.lineJoin="round",this.fillStyle(t,u[0],u[1],u[2],s),this.strokeStyle(t,c[0],c[1],c[2],l)},o.drawText=function(t,e,n){var i=e._private.rscratch,o=e.effectiveOpacity();if(0!==o&&0!==e.pstyle("text-opacity").value){var a,s,l,u,c,d,h=r.getPrefixedProperty(i,"labelX",n),f=r.getPrefixedProperty(i,"labelY",n),p=this.getLabelText(e,n);if(null!=p&&""!==p&&!isNaN(h)&&!isNaN(f)){this.setupTextStyle(t,e);var g=n?n+"-":"",v=r.getPrefixedProperty(i,"labelWidth",n),y=r.getPrefixedProperty(i,"labelHeight",n),m=r.getPrefixedProperty(i,"labelAngle",n),b=e.pstyle(g+"text-margin-x").pfValue,w=e.pstyle(g+"text-margin-y").pfValue,x=e.isEdge(),_=(e.isNode(),e.pstyle("text-halign").value),E=e.pstyle("text-valign").value;x&&(_="center",E="center"),h+=b,f+=w;var S,k=e.pstyle(g+"text-rotation");if(0!==(S="autorotate"===k.strValue?x?m:0:"none"===k.strValue?0:k.pfValue)){var O=h,C=f;t.translate(O,C),t.rotate(S),h=0,f=0}switch(E){case"top":break;case"center":f+=y/2;break;case"bottom":f+=y}var T=e.pstyle("text-background-opacity").value,P=e.pstyle("text-border-opacity").value,N=e.pstyle("text-border-width").pfValue,D=e.pstyle("text-background-padding").pfValue;if(T>0||N>0&&P>0){var A=h-D;switch(_){case"left":A-=v;break;case"center":A-=v/2}var M=f-y-D,L=v+2*D,j=y+2*D;if(T>0){var I=t.fillStyle,R=e.pstyle("text-background-color").value;t.fillStyle="rgba("+R[0]+","+R[1]+","+R[2]+","+T*o+")","roundrectangle"==e.pstyle("text-background-shape").strValue?(s=A,l=M,u=L,c=j,d=(d=2)||5,(a=t).beginPath(),a.moveTo(s+d,l),a.lineTo(s+u-d,l),a.quadraticCurveTo(s+u,l,s+u,l+d),a.lineTo(s+u,l+c-d),a.quadraticCurveTo(s+u,l+c,s+u-d,l+c),a.lineTo(s+d,l+c),a.quadraticCurveTo(s,l+c,s,l+c-d),a.lineTo(s,l+d),a.quadraticCurveTo(s,l,s+d,l),a.closePath(),a.fill()):t.fillRect(A,M,L,j),t.fillStyle=I}if(N>0&&P>0){var B=t.strokeStyle,z=t.lineWidth,F=e.pstyle("text-border-color").value,V=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+F[0]+","+F[1]+","+F[2]+","+P*o+")",t.lineWidth=N,t.setLineDash)switch(V){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=N/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(t.strokeRect(A,M,L,j),"double"===V){var q=N/2;t.strokeRect(A+q,M+q,L-2*q,j-2*q)}t.setLineDash&&t.setLineDash([]),t.lineWidth=z,t.strokeStyle=B}}var U=2*e.pstyle("text-outline-width").pfValue;if(U>0&&(t.lineWidth=U),"wrap"===e.pstyle("text-wrap").value){var H=r.getPrefixedProperty(i,"labelWrapCachedLines",n),W=y/H.length;switch(E){case"top":f-=(H.length-1)*W;break;case"center":case"bottom":f-=(H.length-1)*W}for(var Y=0;Y<H.length;Y++)U>0&&t.strokeText(H[Y],h,f),t.fillText(H[Y],h,f),f+=W}else U>0&&t.strokeText(p,h,f),t.fillText(p,h,f);0!==S&&(t.rotate(-S),t.translate(-O,-C))}}},t.exports=o},function(t,e,n){var r=n(0),i={drawNode:function(t,e,n,i){var o,a,s=this,l=e._private,u=l.rscratch,c=e.position();if(r.number(c.x)&&r.number(c.y)&&e.visible()){var d=e.effectiveOpacity(),h=s.usePaths(),f=void 0,p=!1,g=e.padding();o=e.width()+2*g,a=e.height()+2*g;var v=void 0;n&&(v=n,t.translate(-v.x1,-v.y1));for(var y=e.pstyle("background-image").value,m=new Array(y.length),b=new Array(y.length),w=0,x=0;x<y.length;x++){var _=y[x];if(m[x]=null!=_&&"none"!==_){var E=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",x);w++,b[x]=s.getCachedImage(_,E,(function(){e.emitAndNotify("background")}))}}var S=e.pstyle("background-blacken").value,k=e.pstyle("border-width").pfValue,O=e.pstyle("background-color").value,C=e.pstyle("background-opacity").value*d,T=e.pstyle("border-color").value,P=e.pstyle("border-style").value,N=e.pstyle("border-opacity").value*d;t.lineJoin="miter";var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;s.fillStyle(t,O[0],O[1],O[2],e)},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;s.strokeStyle(t,T[0],T[1],T[2],e)},M=e.pstyle("shape").strValue,L=e.pstyle("shape-polygon-points").pfValue;if(h){var j=M+"$"+o+"$"+a+("polygon"===M?"$"+L.join("$"):"");t.translate(c.x,c.y),u.pathCacheKey===j?(f=u.pathCache,p=!0):(f=new Path2D,u.pathCacheKey=j,u.pathCache=f)}var I,R,B,z=function(){if(!p){var n=c;h&&(n={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(f||t,n.x,n.y,o,a)}h?t.fill(f):t.fill()},F=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,r=l.backgrounding,i=0,o=0;o<b.length;o++)m[o]&&b[o].complete&&!b[o].error&&(i++,s.drawInscribedImage(t,b[o],e,o,n));l.backgrounding=!(i===w),r!==l.backgrounding&&e.updateStyle(!1)},V=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;s.hasPie(e)&&(s.drawPie(t,e,r),n&&(h||s.nodeShapes[s.getNodeShape(e)].draw(t,c.x,c.y,o,a)))},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=(S>0?S:-S)*e,r=S>0?0:255;0!==S&&(s.fillStyle(t,r,r,r,n),h?t.fill(f):t.fill())},U=function(){if(k>0){if(t.lineWidth=k,t.lineCap="butt",t.setLineDash)switch(P){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}if(h?t.stroke(f):t.stroke(),"double"===P){t.lineWidth=k/3;var e=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",h?t.stroke(f):t.stroke(),t.globalCompositeOperation=e}t.setLineDash&&t.setLineDash([])}};if("yes"===e.pstyle("ghost").value){var H=e.pstyle("ghost-offset-x").pfValue,W=e.pstyle("ghost-offset-y").pfValue,Y=e.pstyle("ghost-opacity").value,X=Y*d;t.translate(H,W),D(Y*C),z(),F(X),V(0!==S||0!==k),q(X),A(Y*N),U(),t.translate(-H,-W)}D(),z(),F(),V(0!==S||0!==k),q(),A(),U(),h&&t.translate(-c.x,-c.y),s.drawElementText(t,e,i),I=e.pstyle("overlay-padding").pfValue,R=e.pstyle("overlay-opacity").value,B=e.pstyle("overlay-color").value,R>0&&(s.fillStyle(t,B[0],B[1],B[2],R),s.nodeShapes.roundrectangle.draw(t,c.x,c.y,o+2*I,a+2*I),t.fill()),n&&t.translate(v.x1,v.y1)}},hasPie:function(t){return(t=t[0])._private.hasPie},drawPie:function(t,e,n,r){e=e[0],r=r||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),a=r.x,s=r.y,l=e.width(),u=e.height(),c=Math.min(l,u)/2,d=0;this.usePaths()&&(a=0,s=0),"%"===o.units?c*=o.pfValue:void 0!==o.pfValue&&(c=o.pfValue/2);for(var h=1;h<=i.pieBackgroundN;h++){var f=e.pstyle("pie-"+h+"-background-size").value,p=e.pstyle("pie-"+h+"-background-color").value,g=e.pstyle("pie-"+h+"-background-opacity").value*n,v=f/100;v+d>1&&(v=1-d);var y=1.5*Math.PI+2*Math.PI*d,m=y+2*Math.PI*v;0===f||d>=1||d+v>1||(t.beginPath(),t.moveTo(a,s),t.arc(a,s,c,y,m),t.closePath(),this.fillStyle(t,p[0],p[1],p[2],g),t.fill(),d+=v)}}};t.exports=i},function(t,e,n){var r={},i=n(1);r.getPixelRatio=function(){var t=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},r.paintCache=function(t){for(var e,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if((e=n[i]).context===t){r=!1;break}return r&&(e={context:t},n.push(e)),e},r.fillStyle=function(t,e,n,r,i){t.fillStyle="rgba("+e+","+n+","+r+","+i+")"},r.strokeStyle=function(t,e,n,r,i){t.strokeStyle="rgba("+e+","+n+","+r+","+i+")"},r.matchCanvasSize=function(t){var e=this,n=e.data,r=e.findContainerClientCoords(),i=r[2],o=r[3],a=e.getPixelRatio(),s=e.motionBlurPxRatio;t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]&&t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG]||(a=s);var l,u=i*a,c=o*a;if(u!==e.canvasWidth||c!==e.canvasHeight){e.fontCaches=null;var d=n.canvasContainer;d.style.width=i+"px",d.style.height=o+"px";for(var h=0;h<e.CANVAS_LAYERS;h++)(l=n.canvases[h]).width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px";for(h=0;h<e.BUFFER_COUNT;h++)(l=n.bufferCanvases[h]).width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px";e.textureMult=1,a<=1&&(l=n.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,l.width=u*e.textureMult,l.height=c*e.textureMult),e.canvasWidth=u,e.canvasHeight=c}},r.renderTo=function(t,e,n,r){this.render({forcedContext:t,forcedZoom:e,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},r.render=function(t){var e=(t=t||i.staticEmptyObject()).forcedContext,n=t.drawAllLayers,r=t.drawOnlyNodeLayer,o=t.forcedZoom,a=t.forcedPan,s=this,l=void 0===t.forcedPxRatio?this.getPixelRatio():t.forcedPxRatio,u=s.cy,c=s.data,d=c.canvasNeedsRedraw,h=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),f=void 0!==t.motionBlur?t.motionBlur:s.motionBlur,p=s.motionBlurPxRatio,g=u.hasCompoundNodes(),v=s.hoverData.draggingEles,y=!(!s.hoverData.selecting&&!s.touchData.selecting),m=f=f&&!e&&s.motionBlurEnabled&&!y;e||(s.prevPxRatio!==l&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=l),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),f&&(null==s.mbFrames&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(m=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!h&&(d[s.NODE]=!0,d[s.SELECT_BOX]=!0);var b=u.style()._private.coreStyle,w=u.zoom(),x=void 0!==o?o:w,_=u.pan(),E={x:_.x,y:_.y},S={zoom:w,pan:{x:_.x,y:_.y}},k=s.prevViewport;void 0===k||S.zoom!==k.zoom||S.pan.x!==k.pan.x||S.pan.y!==k.pan.y||v&&!g||(s.motionBlurPxRatio=1),a&&(E=a),x*=l,E.x*=l,E.y*=l;var O=s.getCachedZSortedEles();function C(t,e,n,r,i){var o=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",s.fillStyle(t,255,255,255,s.motionBlurTransparency),t.fillRect(e,n,r,i),t.globalCompositeOperation=o}function T(t,r){var i,l,u,d;s.clearingMotionBlur||t!==c.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]&&t!==c.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]?(i=E,l=x,u=s.canvasWidth,d=s.canvasHeight):(i={x:_.x*p,y:_.y*p},l=w*p,u=s.canvasWidth*p,d=s.canvasHeight*p),t.setTransform(1,0,0,1,0,0),"motionBlur"===r?C(t,0,0,u,d):e||void 0!==r&&!r||t.clearRect(0,0,u,d),n||(t.translate(i.x,i.y),t.scale(l,l)),a&&t.translate(a.x,a.y),o&&t.scale(o,o)}if(h||(s.textureDrawLastFrame=!1),h){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=u.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var P=s.data.bufferContexts[s.TEXTURE_BUFFER];P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:P,drawOnlyNodeLayer:!0,forcedPxRatio:l*s.textureMult}),(S=s.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:s.canvasWidth,height:s.canvasHeight}).mpan={x:(0-S.pan.x)/S.zoom,y:(0-S.pan.y)/S.zoom}}d[s.DRAG]=!1,d[s.NODE]=!1;var N=c.contexts[s.NODE],D=s.textureCache.texture;S=s.textureCache.viewport,s.textureCache.bb,N.setTransform(1,0,0,1,0,0),f?C(N,0,0,S.width,S.height):N.clearRect(0,0,S.width,S.height);var A=b["outside-texture-bg-color"].value,M=b["outside-texture-bg-opacity"].value;s.fillStyle(N,A[0],A[1],A[2],M),N.fillRect(0,0,S.width,S.height),w=u.zoom(),T(N,!1),N.clearRect(S.mpan.x,S.mpan.y,S.width/S.zoom/l,S.height/S.zoom/l),N.drawImage(D,S.mpan.x,S.mpan.y,S.width/S.zoom/l,S.height/S.zoom/l)}else s.textureOnViewport&&!e&&(s.textureCache=null);var L=u.extent(),j=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles,I=s.hideEdgesOnViewport&&j,R=[];if(R[s.NODE]=!d[s.NODE]&&f&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,R[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),R[s.DRAG]=!d[s.DRAG]&&f&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,R[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),d[s.NODE]||n||r||R[s.NODE]){var B=f&&!R[s.NODE]&&1!==p;T(N=e||(B?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:c.contexts[s.NODE]),f&&!B?"motionBlur":void 0),I?s.drawCachedNodes(N,O.nondrag,l,L):s.drawLayeredElements(N,O.nondrag,l,L),s.debug&&s.drawDebugPoints(N,O.nondrag),n||f||(d[s.NODE]=!1)}if(!r&&(d[s.DRAG]||n||R[s.DRAG])&&(B=f&&!R[s.DRAG]&&1!==p,T(N=e||(B?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:c.contexts[s.DRAG]),f&&!B?"motionBlur":void 0),I?s.drawCachedNodes(N,O.drag,l,L):s.drawCachedElements(N,O.drag,l,L),s.debug&&s.drawDebugPoints(N,O.drag),n||f||(d[s.DRAG]=!1)),s.showFps||!r&&d[s.SELECT_BOX]&&!n){if(T(N=e||c.contexts[s.SELECT_BOX]),1==s.selection[4]&&(s.hoverData.selecting||s.touchData.selecting)){w=s.cy.zoom();var z=b["selection-box-border-width"].value/w;N.lineWidth=z,N.fillStyle="rgba("+b["selection-box-color"].value[0]+","+b["selection-box-color"].value[1]+","+b["selection-box-color"].value[2]+","+b["selection-box-opacity"].value+")",N.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),z>0&&(N.strokeStyle="rgba("+b["selection-box-border-color"].value[0]+","+b["selection-box-border-color"].value[1]+","+b["selection-box-border-color"].value[2]+","+b["selection-box-opacity"].value+")",N.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(c.bgActivePosistion&&!s.hoverData.selecting){w=s.cy.zoom();var F=c.bgActivePosistion;N.fillStyle="rgba("+b["active-bg-color"].value[0]+","+b["active-bg-color"].value[1]+","+b["active-bg-color"].value[2]+","+b["active-bg-opacity"].value+")",N.beginPath(),N.arc(F.x,F.y,b["active-bg-size"].pfValue/w,0,2*Math.PI),N.fill()}var V=s.lastRedrawTime;if(s.showFps&&V){V=Math.round(V);var q=Math.round(1e3/V);N.setTransform(1,0,0,1,0,0),N.fillStyle="rgba(255, 0, 0, 0.75)",N.strokeStyle="rgba(255, 0, 0, 0.75)",N.lineWidth=1,N.fillText("1 frame = "+V+" ms = "+q+" fps",0,20),N.strokeRect(0,30,250,20),N.fillRect(0,30,250*Math.min(q/60,1),20)}n||(d[s.SELECT_BOX]=!1)}if(f&&1!==p){var U=c.contexts[s.NODE],H=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],W=c.contexts[s.DRAG],Y=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],X=function(t,e,n){t.setTransform(1,0,0,1,0,0),n||!m?t.clearRect(0,0,s.canvasWidth,s.canvasHeight):C(t,0,0,s.canvasWidth,s.canvasHeight);var r=p;t.drawImage(e,0,0,s.canvasWidth*r,s.canvasHeight*r,0,0,s.canvasWidth,s.canvasHeight)};(d[s.NODE]||R[s.NODE])&&(X(U,H,R[s.NODE]),d[s.NODE]=!1),(d[s.DRAG]||R[s.DRAG])&&(X(W,Y,R[s.DRAG]),d[s.DRAG]=!1)}s.prevViewport=S,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),f&&(s.motionBlurTimeout=setTimeout((function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!h,s.mbFrames=0,d[s.NODE]=!0,d[s.DRAG]=!0,s.redraw()}),100)),e||u.emit("render")},t.exports=r},function(t,e,n){for(var r=n(2),i={drawPolygonPath:function(t,e,n,r,i,o){var a=r/2,s=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+a*o[0],n+s*o[1]);for(var l=1;l<o.length/2;l++)t.lineTo(e+a*o[2*l],n+s*o[2*l+1]);t.closePath()},drawRoundRectanglePath:function(t,e,n,i,o){var a=i/2,s=o/2,l=r.getRoundRectangleRadius(i,o);t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.arcTo(e+a,n-s,e+a,n,l),t.arcTo(e+a,n+s,e,n+s,l),t.arcTo(e-a,n+s,e-a,n,l),t.arcTo(e-a,n-s,e,n-s,l),t.lineTo(e,n-s),t.closePath()},drawBottomRoundRectanglePath:function(t,e,n,i,o){var a=i/2,s=o/2,l=r.getRoundRectangleRadius(i,o);t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.lineTo(e+a,n-s),t.lineTo(e+a,n),t.arcTo(e+a,n+s,e,n+s,l),t.arcTo(e-a,n+s,e-a,n,l),t.lineTo(e-a,n-s),t.lineTo(e,n-s),t.closePath()},drawCutRectanglePath:function(t,e,n,i,o){var a=i/2,s=o/2,l=r.getCutRectangleCornerLength();t.beginPath&&t.beginPath(),t.moveTo(e-a+l,n-s),t.lineTo(e+a-l,n-s),t.lineTo(e+a,n-s+l),t.lineTo(e+a,n+s-l),t.lineTo(e+a-l,n+s),t.lineTo(e-a+l,n+s),t.lineTo(e-a,n+s-l),t.lineTo(e-a,n-s+l),t.closePath()},drawBarrelPath:function(t,e,n,i,o){var a=i/2,s=o/2,l=e-a,u=e+a,c=n-s,d=n+s,h=r.getBarrelCurveConstants(i,o),f=h.widthOffset,p=h.heightOffset,g=h.ctrlPtOffsetPct*f;t.beginPath&&t.beginPath(),t.moveTo(l,c+p),t.lineTo(l,d-p),t.quadraticCurveTo(l+g,d,l+f,d),t.lineTo(u-f,d),t.quadraticCurveTo(u-g,d,u,d-p),t.lineTo(u,c+p),t.quadraticCurveTo(u-g,c,u-f,c),t.lineTo(l+f,c),t.quadraticCurveTo(l+g,c,l,c+p),t.closePath()}},o=Math.sin(0),a=Math.cos(0),s={},l={},u=Math.PI/40,c=0*Math.PI;c<2*Math.PI;c+=u)s[c]=Math.sin(c),l[c]=Math.cos(c);i.drawEllipsePath=function(t,e,n,r,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,n,r/2,i/2,0,0,2*Math.PI);else for(var c,d,h=r/2,f=i/2,p=0*Math.PI;p<2*Math.PI;p+=u)c=e-h*s[p]*o+h*l[p]*a,d=n+f*l[p]*o+f*s[p]*a,0===p?t.moveTo(c,d):t.lineTo(c,d);t.closePath()},t.exports=i},function(t,e,n){var r=n(0),i={};function o(t){var e=t.indexOf(",");return t.substr(e+1)}function a(t,e,n){var r=e.toDataURL(n,t.quality);switch(t.output){case"blob":return function(t,e){for(var n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([r],{type:e})}(o(r),n);case"base64":return o(r);case"base64uri":default:return r}}i.createBuffer=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d")]},i.bufferCanvasImage=function(t){var e=this.cy,n=e.mutableElements().boundingBox(),i=this.findContainerClientCoords(),o=t.full?Math.ceil(n.w):i[2],a=t.full?Math.ceil(n.h):i[3],s=r.number(t.maxWidth)||r.number(t.maxHeight),l=this.getPixelRatio(),u=1;if(void 0!==t.scale)o*=t.scale,a*=t.scale,u=t.scale;else if(s){var c=1/0,d=1/0;r.number(t.maxWidth)&&(c=u*t.maxWidth/o),r.number(t.maxHeight)&&(d=u*t.maxHeight/a),o*=u=Math.min(c,d),a*=u}s||(o*=l,a*=l,u*=l);var h=document.createElement("canvas");h.width=o,h.height=a,h.style.width=o+"px",h.style.height=a+"px";var f=h.getContext("2d");if(o>0&&a>0){f.clearRect(0,0,o,a),f.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(t.full)f.translate(-n.x1*u,-n.y1*u),f.scale(u,u),this.drawElements(f,p),f.scale(1/u,1/u),f.translate(n.x1*u,n.y1*u);else{var g=e.pan(),v={x:g.x*u,y:g.y*u};u*=e.zoom(),f.translate(v.x,v.y),f.scale(u,u),this.drawElements(f,p),f.scale(1/u,1/u),f.translate(-v.x,-v.y)}t.bg&&(f.globalCompositeOperation="destination-over",f.fillStyle=t.bg,f.rect(0,0,o,a),f.fill())}return h},i.png=function(t){return a(t,this.bufferCanvasImage(t),"image/png")},i.jpg=function(t){return a(t,this.bufferCanvasImage(t),"image/jpeg")},t.exports=i},function(t,e,n){var r={nodeShapeImpl:function(t,e,n,r,i,o,a){switch(t){case"ellipse":return this.drawEllipsePath(e,n,r,i,o);case"polygon":return this.drawPolygonPath(e,n,r,i,o,a);case"roundrectangle":return this.drawRoundRectanglePath(e,n,r,i,o);case"cutrectangle":return this.drawCutRectanglePath(e,n,r,i,o);case"bottomroundrectangle":return this.drawBottomRoundRectanglePath(e,n,r,i,o);case"barrel":return this.drawBarrelPath(e,n,r,i,o)}}};t.exports=r},function(t,e,n){var r=n(0),i=n(1),o=n(18),a=function t(){if(!(this instanceof t))return new t;this.length=0},s=a.prototype;s.instanceString=function(){return"stylesheet"},s.selector=function(t){return this[this.length++]={selector:t,properties:[]},this},s.css=function(t,e){var n=this.length-1;if(r.string(t))this[n].properties.push({name:t,value:e});else if(r.plainObject(t))for(var a=t,s=0;s<o.properties.length;s++){var l=o.properties[s],u=a[l.name];if(void 0===u&&(u=a[i.dash2camel(l.name)]),void 0!==u){var c=l.name,d=u;this[n].properties.push({name:c,value:d})}}return this},s.style=s.css,s.generateStyle=function(t){var e=new o(t);return this.appendToStyle(e)},s.appendToStyle=function(t){for(var e=0;e<this.length;e++){var n=this[e],r=n.selector,i=n.properties;t.selector(r);for(var o=0;o<i.length;o++){var a=i[o];t.css(a.name,a.value)}}return t},t.exports=a},function(t,e,n){t.exports="3.2.22"}])},t.exports=n(Mg,Lg)})));function Ig(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Rg=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.id=n,this.cy=jg(),r&&this.addElems(r)}var e,n,r;return e=t,(n=[{key:"addElems",value:function(t){this.cy.add(t)}},{key:"getElems",value:function(){return this.nodes.union(this.edges)}},{key:"nodes",get:function(){return this.cy.nodes().jsons()}},{key:"edges",get:function(){return this.cy.edges().jsons()}},{key:"elems",get:function(){return this.nodes.union(this.edges)}}])&&Ig(e.prototype,n),r&&Ig(e,r),t}();function Bg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zg=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prefixes=e,this.value=n,this.standard=r}var e,n,r;return e=t,(n=[{key:"isStandard",value:function(){return this.standard}},{key:"value",get:function(){return this._value},set:function(t){t.endsWith("/")||t.endsWith("#")||(t+="/"),this._value=t}}])&&Bg(e.prototype,n),r&&Bg(e,r),t}();function Fg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Vg=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.version=n,this.namespaces=r,this.diagrams=i}var e,n,r;return e=t,(n=[{key:"addIri",value:function(t){this.namespaces.push(t)}},{key:"getIriFromValue",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.namespaces[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(a.value==t)return a}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"getIriFromPrefix",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.namespaces[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(a.prefixes.includes(t))return a}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"destructureIri",value:function(t){var e={namespace:"",prefix:"",rem_chars:""},n=!0,r=!1,i=void 0;try{for(var o,a=this.namespaces[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(-1!=t.search(s.value)){e.namespace=s.value,e.prefix=s.prefixes[0],e.rem_chars=t.slice(s.value.length);break}if(-1!=t.search(s.value.slice(0,-1))){e.namespace=s.value,e.prefix=s.prefixes[0],e.rem_chars=t.slice(s.value.length-1);break}}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e}},{key:"addDiagram",value:function(t){this.diagrams.push(t)}},{key:"getDiagram",value:function(t){if(!(t<0||t>this.diagrams.length)){if(this.diagrams[t])return this.diagrams[t];var e=!0,n=!1,r=void 0;try{for(var i,o=this.diagrams[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(a.name.toLowerCase()===t.toLowerCase())return a}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}}},{key:"getElem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!0,r=!1,i=void 0;try{for(var o,a=this.diagrams[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=s.cy.$id(t);if(l&&l.length>0)return e?l.json():l}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!1}},{key:"getEntity",value:function(t){return this.getEntities().find((function(e){return e.data.iri.full_iri===t||e.data.iri.prefix+e.data.iri.rem_chars===t}))}},{key:"getElemByDiagramAndId",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.getDiagram(e);if(r){var i=r.cy.$('[id_xml = "'.concat(t,'"]'));if(i)return n?i.json():i}return!1}},{key:"getEntities",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=jg().collection();return this.diagrams.forEach((function(t){e=e.union(t.cy.$(".predicate"))})),e=e.sort((function(t,e){return t.data("displayed_name").localeCompare(e.data("displayed_name"))})),t?e.jsons():e}}])&&Fg(e.prototype,n),r&&Fg(e,r),t}();function qg(t){if(null==t||null==t.nextSibling)return null;for(t=t.nextSibling;1!==t.nodeType;){if(null==t.nextSibling)return null;t=t.nextSibling}return t}function Ug(t){switch(t.getAttribute("type")){case"concept":case"attribute":case"role":case"individual":return!0}return!1}function Hg(t,e,n){var r=[];r.x=n.x-e.x,r.y=n.y-e.y;var i=[];i.x=t.x-e.x,i.y=t.y-e.y;var o,a=[];if(0==i.x)a.x=0,a.y=r.y;else if(0==i.y)a.x=r.x,a.y=0,o=0;else{o=i.y/i.x;var s=r.y+r.x/o;a.x=s*o/(Math.pow(o,2)+1),a.y=a.x*o}var l=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2)),u=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))/l;i.x>0&&a.x<0&&(u=-u),i.x<0&&a.x>0&&(u=-u);var c=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2));return i.x<0&&r.y>o*r.x&&(c=-c),i.x>0&&r.y<o*r.x&&(c=-c),0==i.x&&i.y>0&&r.x>0&&(c=-c),0==i.x&&i.y<0&&r.x<0&&(c=-c),[c,u]}function Wg(t,e,n){var r=[];if(r.x=t.x-e.position("x"),r.y=t.y-e.position("y"),0==r.x&&0==r.y)return r;var i=[];if(i.x=n.x-e.position("x"),i.y=n.y-e.position("y"),r.x==i.x){if(i.y>0)return r.y=e.data("height")/2,r;if(i.y<0)return r.y=-e.data("height")/2,r}else if(r.y==i.y){if(i.x>0)return r.x=e.data("width")/2,r;if(i.x<0)return r.x=-e.data("width")/2,r}return r}var Yg=new Set;var Xg=Object.freeze({warnings:Yg,getOntologyInfo:function(t){var e=t.getElementsByTagName("ontology")[0];return{name:e.getElementsByTagName("name")[0].textContent,version:e.getElementsByTagName("version")[0]?e.getElementsByTagName("version")[0].textContent:"Undefined",languages:[""]}},getIriPrefixesDictionary:function(t){var e=[];if(0===t.getElementsByTagName("IRI_prefixes_nodes_dict").length)e.push({prefix:"",value:t.getElementsByTagName("iri")[0].textContent,standard:!1});else{var n,r,i,o,a,s=t.getElementsByTagName("iri"),l=!0,u=!1,c=void 0;try{for(var d,h=s[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value;r=f.getAttribute("iri_value"),i=!1,o=f.getElementsByTagName("prefix"),n=[];var p=!0,g=!1,v=void 0;try{for(var y,m=o[Symbol.iterator]();!(p=(y=m.next()).done);p=!0){var b=y.value;n.push(b.getAttribute("prefix_value"))}}catch(t){g=!0,v=t}finally{try{p||null==m.return||m.return()}finally{if(g)throw v}}0==n.length&&n.push(""),a=f.getElementsByTagName("property");var w=!0,x=!1,_=void 0;try{for(var E,S=a[Symbol.iterator]();!(w=(E=S.next()).done);w=!0){i="Standard_IRI"==E.value.getAttribute("property_value")}}catch(t){x=!0,_=t}finally{try{w||null==S.return||S.return()}finally{if(x)throw _}}e.push({prefixes:n,value:r,standard:i})}}catch(t){u=!0,c=t}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}return e},getIri:function(t,e){var n={},r=t.getElementsByTagName("label")[0];if(r){var i,o,a=(r=r.textContent.replace(/\n/g,"")).split(":"),s=a.length>1?a[0]:"";return-1!=s.search(/"[\w]+"\^\^[\w]+:/)?(o=r,i="",s=s.slice(s.lastIndexOf("^")+1,s.lastIndexOf(":")+1)):(o=a.length>1?r.slice(r.indexOf(":")+1):r,!(i=e.getIriFromPrefix(s))&&Ug(t)&&this.warnings.add('The prefix "'.concat(s,'" is not associated to any namespace')),i=i?i.value:""),n.remaining_chars=o,n.prefix=s.length>0?s+":":s,n.full_iri=i+o,n}},getLabel:function(t){return t.getElementsByTagName("label")[0]?{"":t.getElementsByTagName("label")[0].textContent}:void 0},getPredicateInfo:function(t,e){var n,r,i,o={},a=t.getElementsByTagName("label")[0].textContent.replace(/\n/g,""),s=t.getAttribute("type"),l=e.getElementsByTagName("predicate"),u=!0,c=!1,d=void 0;try{for(var h,f=l[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value;if(a===p.getAttribute("name")&&s===p.getAttribute("type")){r=(n=(n=p.getElementsByTagName("description")[0].textContent).replace(/font-size:0pt/g,"")).indexOf("<p"),i=n.indexOf("</body"),n&&(o.description={"":[n.slice(r,i)]}),"attribute"!==s&&"role"!==s||(o.functional=parseInt(p.getElementsByTagName("functional")[0].textContent)),"role"===s&&(o.inverseFunctional=parseInt(p.getElementsByTagName("inverseFunctional")[0].textContent),o.asymmetric=parseInt(p.getElementsByTagName("asymmetric")[0].textContent),o.irreflexive=parseInt(p.getElementsByTagName("irreflexive")[0].textContent),o.reflexive=parseInt(p.getElementsByTagName("reflexive")[0].textContent),o.symmetric=parseInt(p.getElementsByTagName("symmetric")[0].textContent),o.transitive=parseInt(p.getElementsByTagName("transitive")[0].textContent));break}}}catch(t){c=!0,d=t}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}return o}});function Gg(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var $g=new Set;function Zg(t){var e,n,r,i={description:{},annotations:{}},o=Kg(t,"annotations");if(o){var a=!0,s=!1,l=void 0;try{for(var u,c=o.children[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;n=tv(Qg(d,"property")),e=Qg(d,"language"),r=Qg(d,"lexicalForm"),"comment"==n?(i.description[e]||(i.description[e]=[]),i.description[e].push(r)):(i.annotations[n]||(i.annotations[n]={}),i.annotations[n][e]||(i.annotations[n][e]=r))}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}return i}function Kg(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t&&t.getElementsByTagName(e[n]))return t.getElementsByTagName(e)[n]}function Qg(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t&&t.getElementsByTagName(e)[n])return t.getElementsByTagName(e)[n].textContent}function Jg(t,e){var n=null;if(!(n="string"==typeof t?t:Qg(t,"iri")))return null;var r=e.getElementsByTagName("iris")[0].children,i=!0,o=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;if(n==Qg(u,"value"))return u}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return null}function tv(t){var e=t.slice(t.lastIndexOf("#")+1);return e.length==t.length&&(e=t.slice(t.lastIndexOf("/")+1)),e}var ev=Object.freeze({warnings:$g,getOntologyInfo:function(t){var e=t.getElementsByTagName("project")[0],n=t.getElementsByTagName("languages")[0].children,r=Kg(t,"ontology").getAttribute("iri"),i=Jg(r,t);return{name:e.getAttribute("name"),version:e.getAttribute("version"),iri:r,languages:Gg(n).map((function(t){return t.textContent})),default_language:Kg(t,"ontology").getAttribute("lang"),other_infos:Zg(i)}},getIriPrefixesDictionary:function(t){var e=[];return Kg(t,"prefixes").children.forEach((function(t){e.push({prefixes:[Qg(t,"value")],value:Qg(t,"namespace"),standard:!1})})),e},getIri:function(t,e){var n={},r=Qg(t,"iri")||"";if(r){n.full_iri=r;var i=e.destructureIri(r);i.namespace?(n.prefix=i.prefix.length>0?i.prefix+":":i.prefix,n.remaining_chars=i.rem_chars):(this.warnings.add("Namespace not found for [".concat(r,']. The prefix "undefined" has been assigned')),n.prefix="undefined:",n.remaining_chars=r)}return n},getLabel:function(t,e,n){if("facet"===t.getAttribute("type")){var r=e.destructureIri(Qg(t,"constrainingFacet"));r=r.prefix+":"+r.rem_chars;var i=Qg(t,"lexicalForm"),o=e.destructureIri(Qg(t,"datatype"));return o=o.prefix+":"+o.rem_chars,r+'^^"'+i+'"'}var a=Qg(t,"label");if(a)return a;var s=Qg(t,"iri");if(!s)return{union:"or",intersection:"and","role-chain":"chain","role-inverse":"inv",complement:"not","datatype-restriction":"data",enumeration:"oneOf"}[t.getAttribute("type")];var l=e.destructureIri(s),u=l.rem_chars||s,c=(l.prefix||"undefined")+":"+u;if("value-domain"==t.getAttribute("type"))return c;var d=Jg(t,n);if(!d)return s==u?s:c;var h=e.getIriFromPrefix("rdfs").value+"label",f=Kg(d,"annotations"),p={};if(f){f=f.children;var g=!0,v=!1,y=void 0;try{for(var m,b=f[Symbol.iterator]();!(g=(m=b.next()).done);g=!0){var w=m.value;Qg(w,"property")==h&&(p[Qg(w,"language")]=Qg(w,"lexicalForm"))}}catch(t){v=!0,y=t}finally{try{g||null==b.return||b.return()}finally{if(v)throw y}}}return Object.keys(p).length?p:c},getPredicateInfo:function(t,e){var n={},r=Jg(t,e);if(n=Zg(r),r&&r.children){var i=!0,o=!1,a=void 0;try{for(var s,l=r.children[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;"value"!=u.tagName&&"annotations"!=u.tagName&&(n[u.tagName]=parseInt(u.textContent)||0)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}return n}});function nv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rv(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function iv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ov=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.xmlDocument=e instanceof XMLDocument?e:(new DOMParser).parseFromString(e,"text/xml"),this.graphol_ver=this.xmlDocument.getElementsByTagName("graphol")[0].getAttribute("version")||-1,2==this.graphol_ver||-1==this.graphol_ver)this.graphol=Xg;else{if(3!=this.graphol_ver)throw new Error("Graphol version [".concat(this.graphol_ver,"] not supported"));this.graphol=ev}}var e,n,r;return e=t,(n=[{key:"parseGraphol",value:function(){var t,e,n,r,i,o,a,s,l=this,u=this.graphol.getOntologyInfo(this.xmlDocument);this.ontology=new Vg(u.name,u.version),this.ontology.languages=u.languages||[],this.ontology.default_language=u.default_language||u.languages[0],u.other_infos&&(this.ontology.annotations=u.other_infos.annotations,this.ontology.description=u.other_infos.description),this.graphol.getIriPrefixesDictionary(this.xmlDocument).forEach((function(t){l.ontology.addIri(new zg(t.prefixes,t.value,t.standard))}));var c=this.xmlDocument.getElementsByTagName("diagram");for(t=0;t<c.length;t++){for(a=new Rg(c[t].getAttribute("name"),t),this.ontology.addDiagram(a),o=[],n=c[t].getElementsByTagName("node"),r=c[t].getElementsByTagName("edge"),i=0,e=0;e<n.length;e++){if((s=this.getBasicNodeInfos(n[e],t)).data.iri=this.graphol.getIri(n[e],this.ontology),s.data.label=this.graphol.getLabel(n[e],this.ontology,this.xmlDocument),"string"==typeof s.data.label){var d=s.data.label;s.data.label={},s.data.label[this.ontology.default_language]=d}if(s.data.label)if(s.data.label[this.ontology.default_language])s.data.displayed_name=s.data.label[this.ontology.default_language];else{var h=!0,f=!1,p=void 0;try{for(var g,v=this.ontology.languages[Symbol.iterator]();!(h=(g=v.next()).done);h=!0){var y=g.value;if(s.data.label[y]){s.data.displayed_name=s.data.label[y];break}}}catch(t){f=!0,p=t}finally{try{h||null==v.return||v.return()}finally{if(f)throw p}}}Ug(n[e])&&function(){var t=l.graphol.getPredicateInfo(n[e],l.xmlDocument,l.ontology);t&&Object.keys(t).forEach((function(e){s.data[e]=t[e]}))}(),o.push(s),"property-assertion"===o[i].data.type||"facet"===o[i].data.type||o[i].data.functional&&o[i].data.inverseFunctional?(this.addFakeNodes(o),i+=o.length-i):i++}for(a.addElems(o),o=[],e=0;e<r.length;e++)o.push(this.EdgeXmlToJson(r[e],t));a.addElems(o)}if(0==t)throw new Error("The selected .graphol file has no defined diagram");if(this.getIdentityForNeutralNodes(),this.warnings=rv(this.graphol.warnings),this.warnings.length>10){var m=this.warnings.length;this.warnings=this.warnings.slice(0,9),this.warnings.push("...".concat(m-10," warnings not shown"))}return this.warnings.forEach((function(t){return console.warn(t)})),this.ontology}},{key:"getBasicNodeInfos",value:function(t,e){var n={data:{id_xml:t.getAttribute("id"),diagram_id:e,id:t.getAttribute("id")+"_"+e,fillColor:t.getAttribute("color"),type:t.getAttribute("type")},position:{},classes:t.getAttribute("type")},r=t.getElementsByTagName("geometry")[0];switch(n.data.width=parseInt(r.getAttribute("width")),n.data.height=parseInt(r.getAttribute("height")),n.data.width<0&&(n.data.width=-n.data.width),n.data.height<0&&(n.data.height=-n.data.height),"facet"===n.data.type&&(n.data.height=40),n.position.x=parseInt(r.getAttribute("x")),n.position.y=parseInt(r.getAttribute("y")),n.data.type){case"concept":case"domain-restriction":n.data.shape="rectangle",n.data.identity="concept";break;case"range-restriction":n.data.shape="rectangle",n.data.identity="neutral";break;case"role":n.data.shape="diamond",n.data.identity="role";break;case"attribute":n.data.shape="ellipse",n.data.identity="attribute";break;case"union":case"disjoint-union":case"complement":case"intersection":case"enumeration":n.data.shape="hexagon",n.data.identity="neutral";break;case"role-inverse":case"role-chain":n.data.shape="hexagon",n.data.identity="role","role-chain"===n.data.type&&""!==t.getAttribute("inputs")&&(n.data.inputs=t.getAttribute("inputs").split(","));break;case"datatype-restriction":n.data.shape="hexagon",n.data.identity="value_domain";break;case"value-domain":n.data.shape="roundrectangle",n.data.identity="value_domain";break;case"property-assertion":n.data.shape="roundrectangle",n.data.identity="neutral",n.data.inputs=t.getAttribute("inputs").split(",");break;case"individual":n.data.shape="octagon",n.data.identity="individual";break;case"facet":n.data.shape="polygon",n.data.shape_points="-0.9 -1 1 -1 0.9 1 -1 1",n.data.fillColor="#ffffff",n.data.identity="facet";break;default:console.error("tipo di nodo sconosciuto")}var i=t.getElementsByTagName("label")[0];return null!=i&&(n.data.labelXpos=parseInt(i.getAttribute("x"))-n.position.x+1,n.data.labelYpos=parseInt(i.getAttribute("y"))-n.position.y+(n.data.height+2)/2+parseInt(i.getAttribute("height"))/4),Ug(t)&&(n.classes+=" predicate"),n}},{key:"EdgeXmlToJson",value:function(t,e){var n,r={data:{target:t.getAttribute("target")+"_"+e,source:t.getAttribute("source")+"_"+e,id:t.getAttribute("id")+"_"+e,id_xml:t.getAttribute("id"),diagram_id:e,type:t.getAttribute("type"),breakpoints:[]}};"membership"==r.data.type.toLowerCase()?r.data.displayed_name="instance Of":"same"!=r.data.type.toLowerCase()&&"different"!=r.data.type.toLowerCase()||(r.data.displayed_name=r.data.type.toLowerCase());var i=this.ontology.getDiagram(e).cy.$id(r.data.source),o=this.ontology.getDiagram(e).cy.$id(r.data.target);if("role-chain"===o.data("type")||"property-assertion"===o.data("type"))for(n=0;n<o.data("inputs").length;n++)if(o.data("inputs")[n]===r.data.id_xml){r.data.target_label=n+1;break}var a,s=function(t){return null==t||null==t.firstChild?null:(1!==(t=t.firstChild).nodeType&&(t=qg(t)),t)}(t),l=[],u=[],c=[],d=0;for(a=0;a<t.childNodes.length;a++)if(1==t.childNodes[a].nodeType){if(l[d]={x:parseInt(s.getAttribute("x")),y:parseInt(s.getAttribute("y"))},null==qg(s))break;if(s=qg(s),d>0){var h=Hg(o.position(),i.position(),l[d]);c.push(h[0]),u.push(h[1])}d++}d>1&&(r.data.breakpoints=l.slice(1,d),r.data.segment_distances=c,r.data.segment_weights=u);var f=[];f.x=l[0].x,f.y=l[0].y,0==(f=Wg(f,i,l[1])).x&&0==f.y||(r.data.source_endpoint=[],r.data.source_endpoint.push(f.x),r.data.source_endpoint.push(f.y));var p=[];return p.x=l[l.length-1].x,p.y=l[l.length-1].y,0==(p=Wg(p,o,l[l.length-2])).x&&0==p.y||(r.data.target_endpoint=[],r.data.target_endpoint.push(p.x),r.data.target_endpoint.push(p.y)),r}},{key:"addFakeNodes",value:function(t){var e=t[t.length-1];if("facet"===e.data.type){e.data.displayed_name=e.data.displayed_name.replace("^^","\n\n"),e.data.labelYpos=e.data.height;var n={selectable:!1,data:{height:e.data.height,width:e.data.width,shape:"polygon",shape_points:"-0.9 -1 1 -1 0.95 0 -0.95 0",diagram_id:e.data.diagram_id,parent_node_id:e.data.id,type:e.data.type},position:{x:e.position.x,y:e.position.y},classes:"fake-top-rhomboid"},r={selectable:!1,data:{height:e.data.height,width:e.data.width,shape:"polygon",shape_points:"-0.95 0 0.95 0 0.9 1 -1 1",diagram_id:e.data.diagram_id,parent_node_id:e.data.id,type:e.data.type},position:{x:e.position.x,y:e.position.y}};return t[t.length-1]=n,t.push(r),void t.push(e)}if(1===e.data.functional&&1===e.data.inverseFunctional){var i={selectable:!1,data:{height:e.data.height,width:e.data.width,fillColor:"#000",shape:"polygon",shape_points:"0 -1 1 0 0 1",diagram_id:e.data.diagram_id,type:e.data.type},position:{x:e.position.x,y:e.position.y},classes:"fake-triangle fake-triangle-right"},o={selectable:!1,data:{height:e.data.height,width:e.data.width+2,fillColor:"#fcfcfc",shape:"polygon",shape_points:"0 -1 -1 0 0 1",diagram_id:e.data.diagram_id,type:e.data.type},position:{x:e.position.x,y:e.position.y},classes:"fake-triangle"};e.data.height-=8,e.data.width-=10,null!=e.data.displayed_name&&(e.data.labelYpos-=4),t[t.length-1]=o,t.push(i),t.push(e)}if("property-assertion"===e.data.type){var a={selectable:!1,classes:"no_overlay",data:{height:e.data.height,width:e.data.height,shape:"ellipse",diagram_id:e.data.diagram_id,fillColor:"#fff",parent_node_id:e.data.id,type:e.data.type},position:{x:e.position.x-(e.data.width-e.data.height)/2,y:e.position.y}},s={selectable:!1,classes:"no_overlay",data:{height:e.data.height,width:e.data.height,shape:"ellipse",diagram_id:e.data.diagram_id,fillColor:"#fff",parent_node_id:e.data.id,type:e.data.type},position:{x:e.position.x+(e.data.width-e.data.height)/2,y:e.position.y}},l={data:{selectable:!1,height:e.data.height,width:e.data.width-e.data.height,shape:"rectangle",diagram_id:e.data.diagram_id,fillColor:"#fff",parent_node_id:e.data.id,type:e.data.type},position:e.position},u={data:nv({type:"property-assertion",height:e.data.height-1,width:e.data.width-e.data.height,shape:"rectangle",diagram_id:e.data.diagram_id,fillColor:"#fff",parent_node_id:e.data.id},"type",e.data.type),position:e.position,classes:"property-assertion no_border"};e.classes+=" hidden",t[t.length-1]=e,t.push(l),t.push(a),t.push(s),t.push(u)}}},{key:"getIdentityForNeutralNodes",value:function(){this.ontology.diagrams.forEach((function(t){t.cy.nodes('[identity = "neutral"]').forEach((function(t){t.data("identity",function t(e){var n=e.incomers('[type = "input"]').sources(),r=n.data("identity");if("neutral"===r)return t(n);switch(e.data("type")){case"range-restriction":return"role"===r?"concept":"attribute"===r?"value_domain":r;case"enumeration":return"individual"===r?"concept":r;default:return r}}(t))}))}))}}])&&iv(e.prototype,n),r&&iv(e,r),t}(),av=new WeakMap,sv=function(t){return"function"==typeof t&&av.has(t)},lv=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,uv=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e!==n;){var r=e.nextSibling;t.removeChild(e),e=r}},cv={},dv={};
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
var hv="{{lit-".concat(String(Math.random()).slice(2),"}}"),fv="\x3c!--".concat(hv,"--\x3e"),pv=new RegExp("".concat(hv,"|").concat(fv)),gv=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parts=[],this.element=n;for(var r=[],i=[],o=document.createTreeWalker(n.content,133,null,!1),a=0,s=-1,l=0,u=e.strings,c=e.values.length;l<c;){var d=o.nextNode();if(null!==d){if(s++,1===d.nodeType){if(d.hasAttributes()){for(var h=d.attributes,f=h.length,p=0,g=0;g<f;g++)vv(h[g].name,"$lit$")&&p++;for(;p-- >0;){var v=u[l],y=bv.exec(v)[2],m=y.toLowerCase()+"$lit$",b=d.getAttribute(m);d.removeAttribute(m);var w=b.split(pv);this.parts.push({type:"attribute",index:s,name:y,strings:w}),l+=w.length-1}}"TEMPLATE"===d.tagName&&(i.push(d),o.currentNode=d.content)}else if(3===d.nodeType){var x=d.data;if(x.indexOf(hv)>=0){for(var _=d.parentNode,E=x.split(pv),S=E.length-1,k=0;k<S;k++){var O=void 0,C=E[k];if(""===C)O=mv();else{var T=bv.exec(C);null!==T&&vv(T[2],"$lit$")&&(C=C.slice(0,T.index)+T[1]+T[2].slice(0,-"$lit$".length)+T[3]),O=document.createTextNode(C)}_.insertBefore(O,d),this.parts.push({type:"node",index:++s})}""===E[S]?(_.insertBefore(mv(),d),r.push(d)):d.data=E[S],l+=S}}else if(8===d.nodeType)if(d.data===hv){var P=d.parentNode;null!==d.previousSibling&&s!==a||(s++,P.insertBefore(mv(),d)),a=s,this.parts.push({type:"node",index:s}),null===d.nextSibling?d.data="":(r.push(d),s--),l++}else for(var N=-1;-1!==(N=d.data.indexOf(hv,N+1));)this.parts.push({type:"node",index:-1}),l++}else o.currentNode=i.pop()}for(var D=0,A=r;D<A.length;D++){var M=A[D];M.parentNode.removeChild(M)}},vv=function(t,e){var n=t.length-e.length;return n>=0&&t.slice(n)===e},yv=function(t){return-1!==t.index},mv=function(){return document.createComment("")},bv=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function wv(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function xv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _v=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.__parts=[],this.template=e,this.processor=n,this.options=r}var e,n,r;return e=t,(n=[{key:"update",value:function(t){var e=0,n=!0,r=!1,i=void 0;try{for(var o,a=this.__parts[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;void 0!==s&&s.setValue(t[e]),e++}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}var l=!0,u=!1,c=void 0;try{for(var d,h=this.__parts[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value;void 0!==f&&f.commit()}}catch(t){u=!0,c=t}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}},{key:"_clone",value:function(){for(var t,e=lv?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,i=document.createTreeWalker(e,133,null,!1),o=0,a=0,s=i.nextNode();o<r.length;)if(t=r[o],yv(t)){for(;a<t.index;)a++,"TEMPLATE"===s.nodeName&&(n.push(s),i.currentNode=s.content),null===(s=i.nextNode())&&(i.currentNode=n.pop(),s=i.nextNode());if("node"===t.type){var l=this.processor.handleTextExpression(this.options);l.insertAfterNode(s.previousSibling),this.__parts.push(l)}else{var u;(u=this.__parts).push.apply(u,wv(this.processor.handleAttributeExpressions(s,t.name,t.strings,this.options)))}o++}else this.__parts.push(void 0),o++;return lv&&(document.adoptNode(e),customElements.upgrade(e)),e}}])&&xv(e.prototype,n),r&&xv(e,r),t}();function Ev(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Sv=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.strings=e,this.values=n,this.type=r,this.processor=i}var e,n,r;return e=t,(n=[{key:"getHTML",value:function(){for(var t=this.strings.length-1,e="",n=!1,r=0;r<t;r++){var i=this.strings[r],o=i.lastIndexOf("\x3c!--");n=(o>-1||n)&&-1===i.indexOf("--\x3e",o+1);var a=bv.exec(i);e+=null===a?i+(n?hv:fv):i.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+hv}return e+=this.strings[t]}},{key:"getTemplateElement",value:function(){var t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}])&&Ev(e.prototype,n),r&&Ev(e,r),t}();function kv(t,e){return!e||"object"!==Mv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ov(t,e,n){return(Ov="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cv(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Cv(t){return(Cv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tv(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pv(t,e)}function Pv(t,e){return(Pv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Av(t,e,n){return e&&Dv(t.prototype,e),n&&Dv(t,n),t}function Mv(t){return(Mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Lv=function(t){return null===t||!("object"===Mv(t)||"function"==typeof t)},jv=function(t){return Array.isArray(t)||!(!t||!t[Symbol.iterator])},Iv=function(){function t(e,n,r){Nv(this,t),this.dirty=!0,this.element=e,this.name=n,this.strings=r,this.parts=[];for(var i=0;i<r.length-1;i++)this.parts[i]=this._createPart()}return Av(t,[{key:"_createPart",value:function(){return new Rv(this)}},{key:"_getValue",value:function(){for(var t=this.strings,e=t.length-1,n="",r=0;r<e;r++){n+=t[r];var i=this.parts[r];if(void 0!==i){var o=i.value;if(Lv(o)||!jv(o))n+="string"==typeof o?o:String(o);else{var a=!0,s=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;n+="string"==typeof d?d:String(d)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}}}return n+=t[e]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),t}(),Rv=function(){function t(e){Nv(this,t),this.value=void 0,this.committer=e}return Av(t,[{key:"setValue",value:function(t){t===cv||Lv(t)&&t===this.value||(this.value=t,sv(t)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;sv(this.value);){var t=this.value;this.value=cv,t(this)}this.value!==cv&&this.committer.commit()}}]),t}(),Bv=function(){function t(e){Nv(this,t),this.value=void 0,this.__pendingValue=void 0,this.options=e}return Av(t,[{key:"appendInto",value:function(t){this.startNode=t.appendChild(mv()),this.endNode=t.appendChild(mv())}},{key:"insertAfterNode",value:function(t){this.startNode=t,this.endNode=t.nextSibling}},{key:"appendIntoPart",value:function(t){t.__insert(this.startNode=mv()),t.__insert(this.endNode=mv())}},{key:"insertAfterPart",value:function(t){t.__insert(this.startNode=mv()),this.endNode=t.endNode,t.endNode=this.startNode}},{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;sv(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=cv,t(this)}var e=this.__pendingValue;e!==cv&&(Lv(e)?e!==this.value&&this.__commitText(e):e instanceof Sv?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):jv(e)?this.__commitIterable(e):e===dv?(this.value=dv,this.clear()):this.__commitText(e))}},{key:"__insert",value:function(t){this.endNode.parentNode.insertBefore(t,this.endNode)}},{key:"__commitNode",value:function(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}},{key:"__commitText",value:function(t){var e=this.startNode.nextSibling;t=null==t?"":t,e===this.endNode.previousSibling&&3===e.nodeType?e.data=t:this.__commitNode(document.createTextNode("string"==typeof t?t:String(t))),this.value=t}},{key:"__commitTemplateResult",value:function(t){var e=this.options.templateFactory(t);if(this.value instanceof _v&&this.value.template===e)this.value.update(t.values);else{var n=new _v(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}},{key:"__commitIterable",value:function(e){Array.isArray(this.value)||(this.value=[],this.clear());var n,r=this.value,i=0,o=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;void 0===(n=r[i])&&(n=new t(this.options),r.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(r[i-1])),n.setValue(c),n.commit(),i++}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}i<r.length&&(r.length=i,this.clear(n&&n.endNode))}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;uv(this.startNode.parentNode,t.nextSibling,this.endNode)}}]),t}(),zv=function(){function t(e,n,r){if(Nv(this,t),this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=n,this.strings=r}return Av(t,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;sv(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=cv,t(this)}if(this.__pendingValue!==cv){var e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=cv}}}]),t}(),Fv=function(t){function e(t,n,r){var i;return Nv(this,e),(i=kv(this,Cv(e).call(this,t,n,r))).single=2===r.length&&""===r[0]&&""===r[1],i}return Tv(e,t),Av(e,[{key:"_createPart",value:function(){return new Vv(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:Ov(Cv(e.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),e}(Iv),Vv=function(t){function e(){return Nv(this,e),kv(this,Cv(e).apply(this,arguments))}return Tv(e,t),e}(Rv),qv=!1;try{var Uv={get capture(){return qv=!0,!1}};window.addEventListener("test",Uv,Uv),window.removeEventListener("test",Uv,Uv)}catch(t){}var Hv=function(){function t(e,n,r){var i=this;Nv(this,t),this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=function(t){return i.handleEvent(t)}}return Av(t,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;sv(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=cv,t(this)}if(this.__pendingValue!==cv){var e=this.__pendingValue,n=this.value,r=null==e||null!=n&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),i=null!=e&&(null==n||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=Wv(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=cv}}},{key:"handleEvent",value:function(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}]),t}(),Wv=function(t){return t&&(qv?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)};function Yv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Xv=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"handleAttributeExpressions",value:function(t,e,n,r){var i=e[0];return"."===i?new Fv(t,e.slice(1),n).parts:"@"===i?[new Hv(t,e.slice(1),r.eventContext)]:"?"===i?[new zv(t,e.slice(1),n)]:new Iv(t,e,n).parts}},{key:"handleTextExpression",value:function(t){return new Bv(t)}}])&&Yv(e.prototype,n),r&&Yv(e,r),t}());function Gv(t){var e=$v.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},$v.set(t.type,e));var n=e.stringsArray.get(t.strings);if(void 0!==n)return n;var r=t.strings.join(hv);return void 0===(n=e.keyString.get(r))&&(n=new gv(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}var $v=new Map,Zv=new WeakMap;
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");var Kv=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new Sv(t,n,"html",Xv)},Qv=133;function Jv(t,e){for(var n=t.element.content,r=t.parts,i=document.createTreeWalker(n,Qv,null,!1),o=ey(r),a=r[o],s=-1,l=0,u=[],c=null;i.nextNode();){s++;var d=i.currentNode;for(d.previousSibling===c&&(c=null),e.has(d)&&(u.push(d),null===c&&(c=d)),null!==c&&l++;void 0!==a&&a.index===s;)a.index=null!==c?-1:a.index-l,a=r[o=ey(r,o)]}u.forEach((function(t){return t.parentNode.removeChild(t)}))}var ty=function(t){for(var e=11===t.nodeType?0:1,n=document.createTreeWalker(t,Qv,null,!1);n.nextNode();)e++;return e},ey=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e+1;n<t.length;n++){var r=t[n];if(yv(r))return n}return-1};var ny=function(t,e){return"".concat(t,"--").concat(e)},ry=!0;void 0===window.ShadyCSS?ry=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),ry=!1);var iy=function(t){return function(e){var n=ny(e.type,t),r=$v.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},$v.set(n,r));var i=r.stringsArray.get(e.strings);if(void 0!==i)return i;var o=e.strings.join(hv);if(void 0===(i=r.keyString.get(o))){var a=e.getTemplateElement();ry&&window.ShadyCSS.prepareTemplateDom(a,t),i=new gv(e,a),r.keyString.set(o,i)}return r.stringsArray.set(e.strings,i),i}},oy=["html","svg"],ay=new Set,sy=function(t,e,n){ay.add(n);var r=t.querySelectorAll("style"),i=r.length;if(0!==i){for(var o=document.createElement("style"),a=0;a<i;a++){var s=r[a];s.parentNode.removeChild(s),o.textContent+=s.textContent}!function(t){oy.forEach((function(e){var n=$v.get(ny(e,t));void 0!==n&&n.keyString.forEach((function(t){var e=t.element.content,n=new Set;Array.from(e.querySelectorAll("style")).forEach((function(t){n.add(t)})),Jv(t,n)}))}))}(n);var l=e.element.content;!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.element.content,i=t.parts;if(null!=n)for(var o=document.createTreeWalker(r,Qv,null,!1),a=ey(i),s=0,l=-1;o.nextNode();){for(l++,o.currentNode===n&&(s=ty(e),n.parentNode.insertBefore(e,n));-1!==a&&i[a].index===l;){if(s>0){for(;-1!==a;)i[a].index+=s,a=ey(i,a);return}a=ey(i,a)}}else r.appendChild(e)}(e,o,l.firstChild),window.ShadyCSS.prepareTemplateStyles(e.element,n);var u=l.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==u)t.insertBefore(u.cloneNode(!0),t.firstChild);else{l.insertBefore(o,l.firstChild);var c=new Set;c.add(o),Jv(e,c)}}else window.ShadyCSS.prepareTemplateStyles(e.element,n)};function ly(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function uy(t){return(uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cy(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hy(t,e){return!e||"object"!==uy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fy(t){var e="function"==typeof Map?new Map:void 0;return(fy=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return py(t,arguments,vy(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),gy(r,t)})(t)}function py(t,e,n){return(py=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&gy(i,n.prototype),i}).apply(null,arguments)}function gy(t,e){return(gy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vy(t){return(vy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */window.JSCompiler_renameProperty=function(t,e){return t};var yy={toAttribute:function(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute:function(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},my=function(t,e){return e!==t&&(e==e||t==t)},by={attribute:!0,type:String,converter:yy,reflect:!1,hasChanged:my},wy=Promise.resolve(!0),xy=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=hy(this,vy(e).call(this)))._updateState=0,t._instanceProperties=void 0,t._updatePromise=wy,t._hasConnectedResolver=void 0,t._changedProperties=new Map,t._reflectingProperties=void 0,t.initialize(),t}var n,r,i,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gy(t,e)}(e,t),n=e,r=[{key:"initialize",value:function(){this._saveInstanceProperties(),this._requestUpdate()}},{key:"_saveInstanceProperties",value:function(){var t=this;this.constructor._classProperties.forEach((function(e,n){if(t.hasOwnProperty(n)){var r=t[n];delete t[n],t._instanceProperties||(t._instanceProperties=new Map),t._instanceProperties.set(n,r)}}))}},{key:"_applyInstanceProperties",value:function(){var t=this;this._instanceProperties.forEach((function(e,n){return t[n]=e})),this._instanceProperties=void 0}},{key:"connectedCallback",value:function(){this._updateState=32|this._updateState,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,n){e!==n&&this._attributeToProperty(t,n)}},{key:"_propertyToAttribute",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:by,r=this.constructor,i=r._attributeNameForProperty(t,n);if(void 0!==i){var o=r._propertyValueToAttribute(e,n);if(void 0===o)return;this._updateState=8|this._updateState,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._updateState=-9&this._updateState}}},{key:"_attributeToProperty",value:function(t,e){if(!(8&this._updateState)){var n=this.constructor,r=n._attributeToPropertyMap.get(t);if(void 0!==r){var i=n._classProperties.get(r)||by;this._updateState=16|this._updateState,this[r]=n._propertyValueFromAttribute(e,i),this._updateState=-17&this._updateState}}}},{key:"_requestUpdate",value:function(t,e){var n=!0;if(void 0!==t){var r=this.constructor,i=r._classProperties.get(t)||by;r._valueHasChanged(this[t],e,i.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==i.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,i))):n=!1}!this._hasRequestedUpdate&&n&&this._enqueueUpdate()}},{key:"requestUpdate",value:function(t,e){return this._requestUpdate(t,e),this.updateComplete}},{key:"_enqueueUpdate",value:(o=regeneratorRuntime.mark((function t(){var e,n,r,i,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._updateState=4|this._updateState,r=this._updatePromise,this._updatePromise=new Promise((function(t,r){e=t,n=r})),t.prev=3,t.next=6,r;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(3);case 10:if(this._hasConnected){t.next=13;break}return t.next=13,new Promise((function(t){return o._hasConnectedResolver=t}));case 13:if(t.prev=13,null==(i=this.performUpdate())){t.next=18;break}return t.next=18,i;case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(13),n(t.t1);case 23:e(!this._hasRequestedUpdate);case 24:case"end":return t.stop()}}),t,this,[[3,8],[13,20]])})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){cy(i,n,r,a,s,"next",t)}function s(t){cy(i,n,r,a,s,"throw",t)}a(void 0)}))},function(){return a.apply(this,arguments)})},{key:"performUpdate",value:function(){this._instanceProperties&&this._applyInstanceProperties();var t=!1,e=this._changedProperties;try{(t=this.shouldUpdate(e))&&this.update(e)}catch(e){throw t=!1,e}finally{this._markUpdated()}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}},{key:"_markUpdated",value:function(){this._changedProperties=new Map,this._updateState=-5&this._updateState}},{key:"shouldUpdate",value:function(t){return!0}},{key:"update",value:function(t){var e=this;void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((function(t,n){return e._propertyToAttribute(n,e[n],t)})),this._reflectingProperties=void 0)}},{key:"updated",value:function(t){}},{key:"firstUpdated",value:function(t){}},{key:"_hasConnected",get:function(){return 32&this._updateState}},{key:"_hasRequestedUpdate",get:function(){return 4&this._updateState}},{key:"hasUpdated",get:function(){return 1&this._updateState}},{key:"updateComplete",get:function(){return this._updatePromise}}],i=[{key:"_ensureClassProperties",value:function(){var t=this;if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;var e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((function(e,n){return t._classProperties.set(n,e)}))}}},{key:"createProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:by;if(this._ensureClassProperties(),this._classProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){var n="symbol"===uy(t)?Symbol():"__".concat(t);Object.defineProperty(this.prototype,t,{get:function(){return this[n]},set:function(e){var r=this[t];this[n]=e,this._requestUpdate(t,r)},configurable:!0,enumerable:!0})}}},{key:"finalize",value:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("finalized",this))||!this.finalized){var t=Object.getPrototypeOf(this);if("function"==typeof t.finalize&&t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var e=this.properties,n=[].concat(ly(Object.getOwnPropertyNames(e)),ly("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[])),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;this.createProperty(l,e[l])}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}}}},{key:"_attributeNameForProperty",value:function(t,e){var n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}},{key:"_valueHasChanged",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:my;return n(t,e)}},{key:"_propertyValueFromAttribute",value:function(t,e){var n=e.type,r=e.converter||yy,i="function"==typeof r?r:r.fromAttribute;return i?i(t,n):t}},{key:"_propertyValueToAttribute",value:function(t,e){if(void 0!==e.reflect){var n=e.type,r=e.converter;return(r&&r.toAttribute||yy.toAttribute)(t,n)}}},{key:"observedAttributes",get:function(){var t=this;this.finalize();var e=[];return this._classProperties.forEach((function(n,r){var i=t._attributeNameForProperty(r,n);void 0!==i&&(t._attributeToPropertyMap.set(i,r),e.push(i))})),e}}],r&&dy(n.prototype,r),i&&dy(n,i),e}(fy(HTMLElement));xy.finalized=!0;function _y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}
/**
	@license
	Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
	This code may only be used under the BSD style license found at
	http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
	http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
	found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
	part of the polymer project is also subject to an additional IP rights grant
	found at http://polymer.github.io/PATENTS.txt
	*/
var Ey="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Sy=Symbol(),ky=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n!==Sy)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}var e,n,r;return e=t,(n=[{key:"toString",value:function(){return this.cssText}},{key:"styleSheet",get:function(){return void 0===this._styleSheet&&(Ey?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}}])&&_y(e.prototype,n),r&&_y(e,r),t}(),Oy=function(t){if(t instanceof ky)return t.cssText;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(t,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))},Cy=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n.reduce((function(e,n,r){return e+Oy(n)+t[r+1]}),t[0]);return new ky(i,Sy)};function Ty(t){return(Ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Py(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ny(t,e){return!e||"object"!==Ty(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dy(t,e,n){return(Dy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ay(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ay(t){return(Ay=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function My(t,e){return(My=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(window.litElementVersions||(window.litElementVersions=[])).push("2.0.1");var Ly=function(t){return t.flat?t.flat(1/0):function t(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0,i=e.length;r<i;r++){var o=e[r];Array.isArray(o)?t(o,n):n.push(o)}return n}(t)},jy=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ny(this,Ay(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&My(t,e)}(e,t),n=e,i=[{key:"finalize",value:function(){Dy(Ay(e),"finalize",this).call(this),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}},{key:"_getUniqueStyles",value:function(){var t=this.styles,e=[];return Array.isArray(t)?Ly(t).reduceRight((function(t,e){return t.add(e),t}),new Set).forEach((function(t){return e.unshift(t)})):t&&e.push(t),e}}],(r=[{key:"initialize",value:function(){Dy(Ay(e.prototype),"initialize",this).call(this),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}},{key:"createRenderRoot",value:function(){return this.attachShadow({mode:"open"})}},{key:"adoptStyles",value:function(){var t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?Ey?this.renderRoot.adoptedStyleSheets=t.map((function(t){return t.styleSheet})):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map((function(t){return t.cssText})),this.localName))}},{key:"connectedCallback",value:function(){Dy(Ay(e.prototype),"connectedCallback",this).call(this),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}},{key:"update",value:function(t){var n=this;Dy(Ay(e.prototype),"update",this).call(this,t);var r=this.render();r instanceof Sv&&this.constructor.render(r,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((function(t){var e=document.createElement("style");e.textContent=t.cssText,n.renderRoot.appendChild(e)})))}},{key:"render",value:function(){}}])&&Py(n.prototype,r),i&&Py(n,i),e}(xy);function Iy(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}([':host{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}']);return Iy=function(){return t},t}jy.finalized=!0,jy.render=function(t,e,n){var r=n.scopeName,i=Zv.has(e),o=ry&&11===e.nodeType&&!!e.host&&t instanceof Sv,a=o&&!ay.has(r),s=a?document.createDocumentFragment():e;if(function(t,e,n){var r=Zv.get(e);void 0===r&&(uv(e,e.firstChild),Zv.set(e,r=new Bv(Object.assign({templateFactory:Gv},n))),r.appendInto(e)),r.setValue(t),r.commit()}(t,s,Object.assign({templateFactory:iy(r)},n)),a){var l=Zv.get(s);Zv.delete(s),l.value instanceof _v&&sy(s,l.value.template,r),uv(e,e.firstChild),e.appendChild(s),Zv.set(e,l)}!i&&o&&window.ShadyCSS.styleElement(e.host)};var Ry=Cy(Iy()),By=document.createElement("link");
/**
	@license
	Copyright 2018 Google Inc. All Rights Reserved.

	Licensed under the Apache License, Version 2.0 (the "License");
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at

	    http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software
	distributed under the License is distributed on an "AS IS" BASIS,
	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	See the License for the specific language governing permissions and
	limitations under the License.
	*/function zy(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["<slot></slot>"]);return zy=function(){return t},t}function Fy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vy(t,e){return!e||"object"!==Hy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qy(t){return(qy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Uy(t,e){return(Uy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hy(t){return(Hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}By.rel="stylesheet",By.href="https://fonts.googleapis.com/icon?family=Material+Icons",document.head.appendChild(By);var Wy,Yy=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Hy(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Xy=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Vy(this,qy(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uy(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return Kv(zy())}}])&&Fy(n.prototype,r),i&&Fy(n,i),e}(jy);function Gy(){var t=Ib(["#422D53"]);return Gy=function(){return t},t}function $y(){var t=Ib(["#9875b7"]);return $y=function(){return t},t}function Zy(){var t=Ib(["#423500"]);return Zy=function(){return t},t}function Ky(){var t=Ib(["#b28f00"]);return Ky=function(){return t},t}function Qy(){var t=Ib(["#4B7900"]);return Qy=function(){return t},t}function Jy(){var t=Ib(["#C7DAAD"]);return Jy=function(){return t},t}function tm(){var t=Ib(["#7fb3d2"]);return tm=function(){return t},t}function em(){var t=Ib(["#043954"]);return em=function(){return t},t}function nm(){var t=Ib(["#a0a0a0"]);return nm=function(){return t},t}function rm(){var t=Ib(["#a0a0a0"]);return rm=function(){return t},t}function im(){var t=Ib(["#010101"]);return im=function(){return t},t}function om(){var t=Ib(["#a0a0a0"]);return om=function(){return t},t}function am(){var t=Ib(["#a0a0a0"]);return am=function(){return t},t}function sm(){var t=Ib(["#181c22"]);return sm=function(){return t},t}function lm(){var t=Ib(["#fff"]);return lm=function(){return t},t}function um(){var t=Ib(["#cc3b3b"]);return um=function(){return t},t}function cm(){var t=Ib(["rgba(255, 255, 255, 0.25)"]);return cm=function(){return t},t}function dm(){var t=Ib(["#a0a0a0"]);return dm=function(){return t},t}function hm(){var t=Ib(["#0099e6"]);return hm=function(){return t},t}function fm(){var t=Ib(["#222831"]);return fm=function(){return t},t}function pm(){var t=Ib(["#72c1f5"]);return pm=function(){return t},t}function gm(){var t=Ib(["#a0a0a0"]);return gm=function(){return t},t}function vm(){var t=Ib(["#1a1a1a"]);return vm=function(){return t},t}function ym(){var t=Ib(["#a0a0a0"]);return ym=function(){return t},t}function mm(){var t=Ib(["#222831"]);return mm=function(){return t},t}function bm(){var t=Ib(["#9875b7"]);return bm=function(){return t},t}function wm(){var t=Ib(["#666"]);return wm=function(){return t},t}function xm(){var t=Ib(["#B08D00"]);return xm=function(){return t},t}function _m(){var t=Ib(["#666"]);return _m=function(){return t},t}function Em(){var t=Ib(["#4B7900"]);return Em=function(){return t},t}function Sm(){var t=Ib(["#666"]);return Sm=function(){return t},t}function km(){var t=Ib(["#065A85"]);return km=function(){return t},t}function Om(){var t=Ib(["#666"]);return Om=function(){return t},t}function Cm(){var t=Ib(["#fcfcfc"]);return Cm=function(){return t},t}function Tm(){var t=Ib(["#fcfcfc"]);return Tm=function(){return t},t}function Pm(){var t=Ib(["#000"]);return Pm=function(){return t},t}function Nm(){var t=Ib(["#333"]);return Nm=function(){return t},t}function Dm(){var t=Ib(["#fff"]);return Dm=function(){return t},t}function Am(){var t=Ib(["#333"]);return Am=function(){return t},t}function Mm(){var t=Ib(["#fff"]);return Mm=function(){return t},t}function Lm(){var t=Ib(["#cc3b3b"]);return Lm=function(){return t},t}function jm(){var t=Ib(["rgba(255, 255, 255, 0.5)"]);return jm=function(){return t},t}function Im(){var t=Ib(["#fff"]);return Im=function(){return t},t}function Rm(){var t=Ib(["#0099e6"]);return Rm=function(){return t},t}function Bm(){var t=Ib(["#333"]);return Bm=function(){return t},t}function zm(){var t=Ib(["#99ddff"]);return zm=function(){return t},t}function Fm(){var t=Ib(["#fff"]);return Fm=function(){return t},t}function Vm(){var t=Ib(["#1a1a1a"]);return Vm=function(){return t},t}function qm(){var t=Ib(["#fff"]);return qm=function(){return t},t}function Um(){var t=Ib(["#333"]);return Um=function(){return t},t}function Hm(){var t=Ib(["#fcfcfc"]);return Hm=function(){return t},t}function Wm(){var t=Ib(["#000"]);return Wm=function(){return t},t}function Ym(){var t=Ib(["#000"]);return Ym=function(){return t},t}function Xm(){var t=Ib(["#000"]);return Xm=function(){return t},t}function Gm(){var t=Ib(["#fcfcfc"]);return Gm=function(){return t},t}function $m(){var t=Ib(["#000"]);return $m=function(){return t},t}function Zm(){var t=Ib(["#fafafa"]);return Zm=function(){return t},t}function Km(){var t=Ib(["#fff"]);return Km=function(){return t},t}function Qm(){var t=Ib(["#cc3b3b"]);return Qm=function(){return t},t}function Jm(){var t=Ib(["rgba(0,0,0,0.2)"]);return Jm=function(){return t},t}function tb(){var t=Ib(["#fff"]);return tb=function(){return t},t}function eb(){var t=Ib(["#2c6187"]);return eb=function(){return t},t}function nb(){var t=Ib(["#fff"]);return nb=function(){return t},t}function rb(){var t=Ib(["rgb(81,149,199)"]);return rb=function(){return t},t}function ib(){var t=Ib(["#888"]);return ib=function(){return t},t}function ob(){var t=Ib(["#e6e6e6"]);return ob=function(){return t},t}function ab(){var t=Ib(["#666"]);return ab=function(){return t},t}function sb(){var t=Ib(["#fff"]);return sb=function(){return t},t}function lb(){var t=Ib(["#9875b7"]);return lb=function(){return t},t}function ub(){var t=Ib(["#d3b3ef"]);return ub=function(){return t},t}function cb(){var t=Ib(["#B08D00"]);return cb=function(){return t},t}function db(){var t=Ib(["#F9F3A6"]);return db=function(){return t},t}function hb(){var t=Ib(["#4B7900"]);return hb=function(){return t},t}function fb(){var t=Ib(["#C7DAAD"]);return fb=function(){return t},t}function pb(){var t=Ib(["#065A85"]);return pb=function(){return t},t}function gb(){var t=Ib(["#AACDE1"]);return gb=function(){return t},t}function vb(){var t=Ib(["#fcfcfc"]);return vb=function(){return t},t}function yb(){var t=Ib(["#000"]);return yb=function(){return t},t}function mb(){var t=Ib(["#000"]);return mb=function(){return t},t}function bb(){var t=Ib(["#000"]);return bb=function(){return t},t}function wb(){var t=Ib(["#fcfcfc"]);return wb=function(){return t},t}function xb(){var t=Ib(["#000"]);return xb=function(){return t},t}function _b(){var t=Ib(["#fafafa"]);return _b=function(){return t},t}function Eb(){var t=Ib(["#fff"]);return Eb=function(){return t},t}function Sb(){var t=Ib(["#D39F0A"]);return Sb=function(){return t},t}function kb(){var t=Ib(["#fff"]);return kb=function(){return t},t}function Ob(){var t=Ib(["#cc3b3b"]);return Ob=function(){return t},t}function Cb(){var t=Ib(["rgba(0,0,0,0.2)"]);return Cb=function(){return t},t}function Tb(){var t=Ib(["#fff"]);return Tb=function(){return t},t}function Pb(){var t=Ib(["#2c6187"]);return Pb=function(){return t},t}function Nb(){var t=Ib(["#fff"]);return Nb=function(){return t},t}function Db(){var t=Ib(["rgb(81,149,199)"]);return Db=function(){return t},t}function Ab(){var t=Ib(["#888"]);return Ab=function(){return t},t}function Mb(){var t=Ib(["#e6e6e6"]);return Mb=function(){return t},t}function Lb(){var t=Ib(["#666"]);return Lb=function(){return t},t}function jb(){var t=Ib(["#fff"]);return jb=function(){return t},t}function Ib(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}Xy.styles=Ry,Xy=Yy([(Wy="mwc-icon",function(t){return"function"==typeof t?function(t,e){return window.customElements.define(t,e),e}(Wy,t):function(t,e){return{kind:e.kind,elements:e.elements,finisher:function(e){window.customElements.define(t,e)}}}(Wy,t)})],Xy);var Rb={primary:Cy(jb()),on_primary:Cy(Lb()),primary_dark:Cy(Mb()),on_primary_dark:Cy(Ab()),secondary:Cy(Db()),on_secondary:Cy(Nb()),secondary_dark:Cy(Pb()),on_secondary_dark:Cy(Tb()),shadows:Cy(Cb()),error:Cy(Ob()),on_error:Cy(kb()),warning:Cy(Sb()),on_warning:Cy(Eb()),background:Cy(_b()),edge:Cy(xb()),node_bg:Cy(wb()),node_bg_contrast:Cy(bb()),node_border:Cy(mb()),label_color:Cy(yb()),label_color_contrast:Cy(vb()),role:Cy(gb()),role_dark:Cy(pb()),attribute:Cy(fb()),attribute_dark:Cy(hb()),concept:Cy(db()),concept_dark:Cy(cb()),individual:Cy(ub()),individual_dark:Cy(lb())},Bb={primary:Cy(sb()),on_primary:Cy(ab()),primary_dark:Cy(ob()),on_primary_dark:Cy(ib()),secondary:Cy(rb()),on_secondary:Cy(nb()),secondary_dark:Cy(eb()),on_secondary_dark:Cy(tb()),shadows:Cy(Jm()),error:Cy(Qm()),on_error:Cy(Km()),background:Cy(Zm()),edge:Cy($m()),node_bg:Cy(Gm()),node_bg_contrast:Cy(Xm()),node_border:Cy(Ym()),label_color:Cy(Wm()),label_color_contrast:Cy(Hm())},zb={primary:Cy(Um()),on_primary:Cy(qm()),primary_dark:Cy(Vm()),on_primary_dark:Cy(Fm()),secondary:Cy(zm()),on_secondary:Cy(Bm()),secondary_dark:Cy(Rm()),on_secondary_dark:Cy(Im()),shadows:Cy(jm()),error:Cy(Lm()),on_error:Cy(Mm()),background:Cy(Am()),edge:Cy(Dm()),node_bg:Cy(Nm()),node_bg_contrast:Cy(Pm()),node_border:Cy(Tm()),label_color:Cy(Cm()),role:Cy(Om()),role_dark:Cy(km()),attribute:Cy(Sm()),attribute_dark:Cy(Em()),concept:Cy(_m()),concept_dark:Cy(xm()),individual:Cy(wm()),individual_dark:Cy(bm())},Fb={primary:Cy(mm()),on_primary:Cy(ym()),primary_dark:Cy(vm()),on_primary_dark:Cy(gm()),secondary:Cy(pm()),on_secondary:Cy(fm()),secondary_dark:Cy(hm()),on_secondary_dark:Cy(dm()),shadows:Cy(cm()),error:Cy(um()),on_error:Cy(lm()),background:Cy(sm()),edge:Cy(am()),node_bg:Cy(om()),node_bg_contrast:Cy(im()),node_border:Cy(rm()),label_color:Cy(nm()),role:Cy(em()),role_dark:Cy(tm()),attribute_dark:Cy(Jy()),attribute:Cy(Qy()),concept_dark:Cy(Ky()),concept:Cy(Zy()),individual_dark:Cy($y()),individual:Cy(Gy())},Vb=Object.freeze({gscape:Rb,classic:Bb,dark_old:zb,dark:Fb});function qb(t){return(qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ub(){var t=Wb([""]);return Ub=function(){return t},t}function Hb(){var t=Wb(['\n      :host, .gscape-panel{\n        font-family : "Open Sans","Helvetica Neue",Helvetica,sans-serif;\n        display: block;\n        position: absolute;\n        color: var(--theme-gscape-on-primary, ',");\n        background-color:var(--theme-gscape-primary, ",");\n        box-shadow: 0 2px 4px 0 var(--theme-gscape-shadows, ",");\n        border-radius: 8px;\n        transition: opacity 0.2s;\n        scrollbar-width: thin;\n      }\n\n      :host(:hover){\n        box-shadow: 0 4px 8px 0 var(--theme-gscape-shadows, ",");\n      }\n\n      .hide {\n        display:none;\n      }\n\n      .widget-body {\n        width: 100%;\n        max-height:450px;\n        border-top:solid 1px var(--theme-gscape-shadows, ",');\n        border-bottom-left-radius: inherit;\n        border-bottom-right-radius: inherit;\n        overflow:auto;\n        scrollbar-width: inherit;\n      }\n\n      .gscape-panel {\n        position: absolute;\n        bottom: 40px;\n        width: auto;\n        padding:10px;\n        overflow: unset;\n        border: none;\n      }\n\n      .gscape-panel::after {\n        content: "";\n        position: absolute;\n        top: 100%;\n        left: 16px;\n        margin-left: -8px;\n        border-width: 8px;\n        border-style: solid;\n        border-color: #ddd transparent transparent transparent;\n      }\n\n      .gscape-panel-title{\n        font-weight: bold;\n        text-align: center;\n        margin-bottom: 10px;\n      }\n\n      .widget-body .section:last-of-type {\n        margin-bottom: 12px;\n      }\n\n      .widget-body .section-header {\n        text-align: center;\n        font-weight: bold;\n        border-bottom: solid 1px var(--theme-gscape-shadows, ',");\n        color: var(--theme-gscape-secondary, ",");\n        width: 85%;\n        margin: auto;\n        margin-bottom: 10px;\n        padding-bottom: 5px;\n      }\n\n      .description {\n        margin-bottom: 20px;\n      }\n\n      .description:last-of-type {\n        margin-bottom: 0;\n      }\n\n      .description .language {\n        min-width: 50px;\n        display: inline-block;\n        font-weight: bold;\n        color: var(--theme-gscape-secondary, ",");\n        margin: 5px;\n      }\n\n      .section { padding: 10px; }\n\n      .details_table{\n        border-spacing: 0;\n      }\n\n      .details_table th {\n        color: var(--theme-gscape-secondary, ",");\n        border-right: solid 1px var(--theme-gscape-shadows, ",");\n        font-weight: bold;\n        text-align:left;\n        min-width: 50px;\n      }\n\n      .details_table th, td {\n        padding:5px 8px;\n        white-space: nowrap;\n      }\n\n      /* width */\n      ::-webkit-scrollbar {\n        width: 5px;\n        height: 5px;\n      }\n\n      /* Track */\n      ::-webkit-scrollbar-track {\n        background: #f0f0f0;\n      }\n\n      /* Handle */\n      ::-webkit-scrollbar-thumb {\n        background: #cdcdcd;\n      }\n\n      /* Handle on hover */\n      ::-webkit-scrollbar-thumb:hover {\n        background: #888;\n      }\n\n    "]);return Hb=function(){return t},t}function Wb(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Yb(t,e){return!e||"object"!==qb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xb(t){return(Xb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $b(t,e,n){return e&&Gb(t.prototype,e),n&&Gb(t,n),t}function Zb(t,e){return(Zb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kb=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Yb(this,Xb(e).call(this))).draggable=!1,t.collapsible=!1,t.isEnabled=!0,t._hiddenDefault=!1,t.onselectstart=function(){},t.onToggleBody=function(){},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zb(t,e)}(e,t),$b(e,null,[{key:"properties",get:function(){return{isEnabled:{type:Boolean},hiddenDefault:{type:Boolean}}}},{key:"styles",get:function(){var t=Rb;return[[Cy(Hb(),t.on_primary,t.primary,t.shadows,t.shadows,t.shadows,t.shadows,t.secondary,t.secondary,t.secondary,t.shadows)],t]}}]),$b(e,[{key:"render",value:function(){return Kv(Ub())}},{key:"toggleBody",value:function(){this.collapsible&&(this.header&&this.header.toggleIcon(),this.body&&this.body.classList.toggle("hide"),this.onToggleBody())}},{key:"collapseBody",value:function(){this.collapsible&&(this.header&&!this.isCollapsed&&this.header.toggleIcon(),this.body&&this.body.classList.add("hide"))}},{key:"showBody",value:function(){this.collapsible&&(this.header&&this.isCollapsed&&this.header.toggleIcon(),this.body&&this.body.classList.remove("hide"))}},{key:"firstUpdated",value:function(){this.header=this.shadowRoot.querySelector("gscape-head"),this.body=this.shadowRoot.querySelector(".widget-body"),this.collapsible&&this.addEventListener("toggle-widget-body",this.toggleBody),this.draggable&&this.makeDraggable()}},{key:"makeDraggable",value:function(){var t=0,e=0,n=0,r=0,i=this,o=this.shadowRoot.querySelector(".drag-handler");function a(o){o=o||window.event,t=n-o.clientX,e=r-o.clientY,n=o.clientX,r=o.clientY,i.style.top=i.offsetTop-e+"px",i.style.left=i.offsetLeft-t+"px"}function s(){document.onmouseup=null,document.onmousemove=null}o?o.onmousedown=function(t){t=t||window.event,n=t.clientX,r=t.clientY,document.onmouseup=s,document.onmousemove=a}:console.log("No .drag-handler elem for a ".concat(this.constructor.name," draggable instance"))}},{key:"show",value:function(){this.isEnabled&&(this.style.display="initial")}},{key:"hide",value:function(){this.style.display="none"}},{key:"enable",value:function(){this.isEnabled=!0,this.hiddenDefault||this.show()}},{key:"disable",value:function(){this.isEnabled=!1,this.hide()}},{key:"blur",value:function(){this.collapseBody()}},{key:"isVisible",get:function(){return"none"!==this.style.display}},{key:"hiddenDefault",set:function(t){this._hiddenDefault=t,t?this.hide():this.show(),this.requestUpdate()},get:function(){return this._hiddenDefault}},{key:"isCollapsed",get:function(){return!this.body||this.body.classList.contains("hide")}}]),e}(jy);function Qb(t){return(Qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jb(){var t=ew(["\n      :host {\n        display:flex;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: var(--header-padding, 8px);\n      }\n\n      .head-btn {\n        color:var(--theme-gscape-on-primary, ",");\n        right:0;\n        padding: var(--btn-padding, 0 0 0 5px);\n        cursor:pointer;\n      }\n\n      .head-btn:hover{\n        color:var(--theme-gscape-secondary, ",");\n      }\n\n      .head-title {\n        padding: var(--title-padding, 0 5px 0 0);\n        box-sizing: border-box;\n        font-weight:bold;\n        cursor:grab;\n        width: var(--title-width, '');\n        text-align: var(--title-text-align, '')\n      }\n    "]);return Jb=function(){return t},t}function tw(){var t=ew(['\n      <div class="head-title"> ',' </div>\n      <slot></slot>\n      <mwc-icon class="head-btn" @click="','">\n        ',"\n      </mwc-icon>\n    "]);return tw=function(){return t},t}function ew(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function nw(t,e){return!e||"object"!==Qb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rw(t,e,n){return(rw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=iw(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function iw(t){return(iw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ow(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aw(t,e,n){return e&&ow(t.prototype,e),n&&ow(t,n),t}function sw(t,e){return(sw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lw=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=nw(this,iw(e).call(this))).title="header",t.initial_icon="arrow_drop_down",t.secondary_icon="arrow_drop_up",t.icon=t.initial_icon,t.onClick=function(){},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sw(t,e)}(e,t),aw(e,null,[{key:"properties",get:function(){return{title:{type:String},initial_icon:{type:String},secondary_icon:{type:String},icon:{type:String}}}}]),aw(e,[{key:"render",value:function(){return Kv(tw(),this.title,this.iconClickHandler,this.icon)}},{key:"iconClickHandler",value:function(){this.onClick(),this.toggleBody()}},{key:"toggleBody",value:function(){var t=new CustomEvent("toggle-widget-body",{bubbles:!0,composed:!0});this.dispatchEvent(t)}},{key:"invertIcons",value:function(){var t=[this.secondary_icon,this.initial_icon];this.initial_icon=t[0],this.secondary_icon=t[1],this.toggleIcon()}},{key:"toggleIcon",value:function(){this.icon=this.icon==this.initial_icon?this.secondary_icon:this.initial_icon}}],[{key:"styles",get:function(){var t=rw(iw(e),"styles",this)[1];return Cy(Jb(),t.on_primary,t.secondary)}}]),e}(Kb);function uw(t){return(uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cw(){var t=fw(['\n        <div\n          @click="','"\n          name="','"\n          diagram-id="','"\n          class="diagram-item ','"\n        >\n          ',"\n        </div>\n        "]);return cw=function(){return t},t}function dw(){var t=fw(['\n      <gscape-head title="','"\n        class="drag-handler"></gscape-head>\n\n      <div class="widget-body hide">\n        ',"\n      </div>\n    "]);return dw=function(){return t},t}function hw(){var t=fw(["\n        :host {\n          top: 10px;\n          left: 10px;\n        }\n\n        .diagram-item {\n          cursor:pointer;\n          padding:5px 10px;\n        }\n\n        .diagram-item:hover {\n          color: var(--theme-gscape-on-secondary, ",");\n          background-color:var(--theme-gscape-secondary, ",");\n        }\n\n        .diagram-item:last-of-type {\n          border-radius: inherit;\n        }\n\n        .selected {\n          background-color: var(--theme-gscape-primary-dark, ",");\n          color: var(--theme-gscape-on-primary-dark, ",");\n          font-weight: bold;\n        }\n      "]);return hw=function(){return t},t}function fw(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function pw(t,e){return!e||"object"!==uw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vw(t,e,n){return e&&gw(t.prototype,e),n&&gw(t,n),t}function yw(t,e){return(yw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mw(t,e,n){return(mw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bw(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function bw(t){return(bw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-head",lw);var ww=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=pw(this,bw(e).call(this))).draggable=!0,n.collapsible=!0,n.diagrams=t,n.actual_diagram_id=null,n.default_title="Select a Diagram",n._onDiagramChange=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yw(t,e)}(e,t),vw(e,null,[{key:"properties",get:function(){return[mw(bw(e),"properties",this),{actual_diagram_id:String}]}},{key:"styles",get:function(){var t=mw(bw(e),"styles",this),n=t[1];return[t[0],Cy(hw(),n.on_secondary,n.secondary,n.primary_dark,n.on_primary_dark)]}}]),vw(e,[{key:"render",value:function(){var t=this;return Kv(dw(),this.default_title,this.diagrams.map((function(e,n){return Kv(cw(),t.changeDiagram,e.name,n,n==t.actual_diagram_id?"selected":"",e.name)})))}},{key:"changeDiagram",value:function(t){this.shadowRoot.querySelector(".selected")&&this.shadowRoot.querySelector(".selected").classList.remove("selected"),t.target.classList.add("selected");var e=t.target.getAttribute("diagram-id");this.toggleBody(),this.actual_diagram_id=e,this._onDiagramChange(e)}},{key:"onDiagramChange",set:function(t){this._onDiagramChange=t}},{key:"actual_diagram_id",set:function(t){this._actual_diagram_id=t,null!=t&&(this.header.title=this.diagrams[t].name),this.requestUpdate()},get:function(){return this._actual_diagram_id}},{key:"actual_diagram",get:function(){return this._actual_diagram}}]),e}(Kb);function xw(t){return(xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _w(){var t=Cw(['\n                <div class="sub-row"\n                  diagram_id="','"\n                  node_id="','"\n                  @click="','"\n                >\n                  - '," - ","\n                </div>\n              "]);return _w=function(){return t},t}function Ew(){var t=Cw(['\n          <div>\n            <div\n              id="','"\n              class="row"\n              type="','"\n              label = "',"\"\n            >\n              <span><mwc-icon @click='","'>keyboard_arrow_right</mwc-icon></span>\n              <span>",'</span>\n              <div class="row-label" @click=\'',"'>",'</div>\n            </div>\n\n            <div class="sub-rows-wrapper hide">\n            ',"\n            </div>\n          </div>\n        "]);return Ew=function(){return t},t}function Sw(){var t=Cw(['\n      <gscape-head title="Explorer" class="drag-handler">\n        <input\n          type="text"\n          autocomplete="off"\n          @keyup="','"\n          placeholder="Search Entities"\n        />\n      </gscape-head>\n\n      <div class="widget-body hide">\n      ',"\n      </div>\n    "]);return Sw=function(){return t},t}function kw(){var t=Cw(['\n        <div class="type-img type-img-','">',"<div>\n      "]);return kw=function(){return t},t}function Ow(){var t=Cw(["\n        :host {\n          left:50%;\n          top:10px;\n          min-width:340px;\n          max-width:450px;\n          transform: translate(-50%, 0);\n        }\n\n        .widget-body {\n          overflow:auto;\n        }\n\n        .row{\n          line-height: 0;\n          display: flex;\n          align-items: center;\n          padding:4px 0;\n        }\n\n        .row:hover, .sub-row:hover {\n          background-color: var(--theme-gscape-secondary, ",");\n          color: var(--theme-gscape-on-secondary, ",");\n        }\n\n        .row-label{\n          padding-left:5px;\n          cursor:pointer;\n          width:100%;\n          white-space: nowrap;\n        }\n\n        mwc-icon:hover{\n          color: var(--theme-gscape-primary, ",");\n          cursor:pointer;\n        }\n\n        .type-img{\n          width: 20px;\n          height: 20px;\n          text-align: center;\n          line-height: 20px;\n        }\n\n        .type-img-A{\n          background-color: var(--theme-graph-attribute, ",");\n          color: var(--theme-graph-attribute-dark, ",");\n          border: solid 1px var(--theme-graph-attribute-dark, ",");\n        }\n\n        .type-img-R{\n          background-color: var(--theme-graph-role, ",");\n          color: var(--theme-graph-role-dark, ",");\n          border: solid 1px var(--theme-graph-role-dark, ",");\n        }\n\n        .type-img-C{\n          background-color: var(--theme-graph-concept, ",");\n          color: var(--theme-graph-concept-dark, ",");\n          border: solid 1px var(--theme-graph-concept-dark, ",");\n        }\n\n        .type-img-I{\n          background-color: var(--theme-graph-individual, ",");\n          color: var(--theme-graph-individual-dark, ",");\n          border: solid 1px var(--theme-graph-individual-dark, ",");\n        }\n\n        .sub-row{\n          background-color: var(--theme-gscape-primary-dark, ",");\n          padding: 4px 0 4px 34px;\n          cursor: pointer;\n        }\n\n        .sub-rows-wrapper{\n          padding: 2px 0;\n        }\n\n        .add-shadow{\n          box-shadow: 0 2px 2px 0 var(--theme-gscape-shadows, ",");\n        }\n\n        gscape-head input {\n          position:absolute;\n          left: 30%;\n          width: 50%;\n          padding: 0;\n          line-height:22px;\n          box-sizing: border-box;\n          background-color: var(--theme-gscape-primary, ",");\n          border:none;\n          border-bottom: 1px solid var(--theme-gscape-shadows, ",");\n          transition: all .35s ease-in-out;\n          color:inherit;\n        }\n\n        gscape-head input:focus {\n          border-color: var(--theme-gscape-secondary, ",");\n          left:0;\n          margin: 0px 8px;\n          width:80%;\n        }\n      "]);return Ow=function(){return t},t}function Cw(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Tw(t,e){return!e||"object"!==xw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nw(t,e,n){return e&&Pw(t.prototype,e),n&&Pw(t,n),t}function Dw(t,e){return(Dw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Aw(t,e,n){return(Aw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mw(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Mw(t){return(Mw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-diagram-selector",ww);var Lw=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Tw(this,Mw(e).call(this))).draggable=!0,r.collapsible=!0,r.diagrams=n,r.predicates=t,r.onEntitySelect={},r.onNodeNavigation={},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dw(t,e)}(e,t),Nw(e,null,[{key:"properties",get:function(){return[Aw(Mw(e),"properties",this),{predicates:Object}]}},{key:"styles",get:function(){var t=Aw(Mw(e),"styles",this),n=t[1];return[t[0],Cy(Ow(),n.secondary,n.on_secondary,n.primary,n.attribute,n.attribute_dark,n.attribute_dark,n.role,n.role_dark,n.role_dark,n.concept,n.concept_dark,n.concept_dark,n.individual,n.individual_dark,n.individual_dark,n.primary_dark,n.shadows,n.primary,n.shadows,n.secondary)]}}]),Nw(e,[{key:"render",value:function(){var t=this;return Kv(Sw(),this.search,Object.keys(this.predicates).map((function(e){var n,r,i=t.predicates[e];return Kv(Ew(),i.subrows[0].id,i.type,i.label,t.toggleSubRows,(n=i.type,r=n.charAt(0).toUpperCase(),Kv(kw(),r,r)),t.handleEntitySelection,i.label,i.subrows.map((function(e){return Kv(_w(),e.diagram.id,e.id,t.handleNodeSelection,e.diagram.name,e.id_xml)})))})))}},{key:"toggleSubRows",value:function(t){var e=t.target.parentNode.parentNode.parentNode;e.querySelector(".sub-rows-wrapper").classList.toggle("hide"),t.target.innerHTML="keyboard_arrow_right"==t.target.innerHTML?"keyboard_arrow_down":"keyboard_arrow_right",e.querySelector(".row").classList.toggle("add-shadow")}},{key:"search",value:function(t){27==t.keyCode&&t.target.blur();var e=t.target.value.toLowerCase();""===e?this.collapseBody():this.showBody(),this.shadowRoot.querySelectorAll(".row").forEach((function(t){e.split(" ").forEach((function(e){t.getAttribute("label").toLowerCase().indexOf(e)>-1||t.getAttribute("type").toLowerCase().indexOf(e)>-1?t.style.display="":t.style.display="none"}))})),t.target.focus()}},{key:"handleEntitySelection",value:function(t){var e=t.target.parentNode.getAttribute("id");this.onEntitySelect(e,!0)}},{key:"handleNodeSelection",value:function(t){this.collapseBody();var e=t.target.getAttribute("node_id");this.onNodeNavigation(e)}},{key:"blur",value:function(){Aw(Mw(e.prototype),"blur",this).call(this),this.shadowRoot.querySelector("input").blur()}},{key:"predicates",get:function(){return this._predicates},set:function(t){var e=function(t){return{id:t.id,id_xml:t.id_xml,diagram:{id:t.diagram_id,name:this.diagrams[t.diagram_id].name}}}.bind(this),n=[];t.forEach((function(t){var r=t.displayed_name.replace(/\r?\n|\r/g,""),i=r.concat(t.type);i in n||(n[i]={type:t.type,label:r,subrows:[]}),n[i].subrows.push(e(t))})),this._predicates=n}}]),e}(Kb);function jw(){var t=Hw([""]);return jw=function(){return t},t}function Iw(){var t=Hw(['<span class="language">',"</span>"]);return Iw=function(){return t},t}function Rw(){var t=Hw(['\n            <div class="description" lang="','">\n              ','\n              <span class="descr-text"></span>\n            </div>\n          ']);return Rw=function(){return t},t}function Bw(){var t=Hw(['\n      <div class="section">\n        <div class="section-header"> Description </div>\n        ',"\n      </div>\n    "]);return Bw=function(){return t},t}function zw(){var t=Hw(['<th rowspan="3">',"</th>"]);return zw=function(){return t},t}function Fw(){var t=Hw(["\n                  <tr>\n                    ",'\n                    <td class="language">',"</td>\n                    <td>","</td>\n                  </tr>\n                "]);return Fw=function(){return t},t}function Vw(){var t=Hw(['\n            <tbody class="annotation-row">\n              ',"\n            </tbody\n          "]);return Vw=function(){return t},t}function qw(){var t=Hw(['\n      <div class="section">\n        <div class="section-header">Annotations</div>\n        <table class="details_table annotations">\n        ',"\n        </table>\n      </div>\n    "]);return qw=function(){return t},t}function Uw(){var t=Hw(["\n    ","\n\n  ","\n  "]);return Uw=function(){return t},t}function Hw(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}customElements.define("gscape-explorer",Lw);var Ww=function(t){return Kv(Uw(),t.annotations&&Object.keys(t.annotations).length>0?Kv(qw(),Object.keys(t.annotations).map((function(e){var n=t.annotations[e];return Kv(Vw(),Object.keys(n).map((function(t,r){return Kv(Fw(),0==r?Kv(zw(),e.charAt(0).toUpperCase()+e.slice(1)):"",t,n[t])})))}))):"",t.description&&Object.keys(t.description).length>0?Kv(Bw(),Object.keys(t.description).map((function(t){return Kv(Rw(),t,""!=t?Kv(Iw(),t):"")}))):Kv(jw()))};function Yw(t){return(Yw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xw(){var t=ex([""]);return Xw=function(){return t},t}function Gw(){var t=ex([""]);return Gw=function(){return t},t}function $w(){var t=ex(['<span class="chip">&#10003; ',"</span>"]);return $w=function(){return t},t}function Zw(){var t=ex([""]);return Zw=function(){return t},t}function Kw(){var t=ex(["\n                <tr>\n                  <th>IRI</th>\n                  <td>","</td>\n                </tr>\n                "]);return Kw=function(){return t},t}function Qw(){var t=ex(['\n            <div class="section">\n              <table class="details_table">\n                <tr>\n                  <th>Name</th>\n                  <td class="wiki" @click="','">',"</td>\n                </tr>\n                <tr>\n                  <th>Type</th>\n                  <td>","</td>\n                </tr>\n                ",'\n              </table>\n            </div>\n\n            <div class="chips-wrapper">\n              ',"\n            </div>\n\n            ","\n          "]);return Qw=function(){return t},t}function Jw(){var t=ex(['\n      <gscape-head title="Entity Details" class="drag-handler"></gscape-head>\n      <div class="widget-body">\n        ',"\n      </div>\n    "]);return Jw=function(){return t},t}function tx(){var t=ex(["\n        :host {\n          top:10px;\n          right:62px;\n          width:400px;\n        }\n\n        .chips-wrapper {\n          padding: 0 10px;\n        }\n\n        .descr-header {\n          text-align: center;\n          padding: 12px;\n          font-weight: bold;\n          border-bottom: solid 1px var(--theme-gscape-shadows, ",");\n          color: var(--theme-gscape-secondary, ",");\n          width: 85%;\n          margin: auto;\n        }\n\n        gscape-head {\n          --title-text-align: center;\n          --title-width: 100%;\n        }\n\n        .chip {\n          display: inline-block;\n          margin: 4px;\n          padding: 3px 8px;\n          border-radius: 32px;\n          border: 1px solid var(--theme-gscape-secondary, ",");\n          color: var(--theme-gscape-secondary, ",");\n          font-size: 13px;\n        }\n\n        .clickable {\n          font-weight:bold;\n          text-decoration: underline;\n        }\n\n        .clickable:hover {\n          cursor:pointer;\n          color: var(--theme-gscape-secondary-dark, ",");\n        }\n\n        .language {\n          text-align: center;\n          font-size: 14px;\n        }\n\n        tbody:nth-child(n+2)::before {\n          content: '';\n          display: table-row;\n          height: 20px;\n        }\n      "]);return tx=function(){return t},t}function ex(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function nx(t,e){return!e||"object"!==Yw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ix(t,e,n){return e&&rx(t.prototype,e),n&&rx(t,n),t}function ox(t,e){return(ox=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ax(t,e,n){return(ax="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sx(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function sx(t){return(sx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lx=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=nx(this,sx(e).call(this))).draggable=!0,t.collapsible=!0,t.hiddenDefault=!0,t._entity=null,t.properties={functional:"Functional",inverseFunctional:"Inverse Functional",symmetric:"Symmetric",asymmetric:"Asymmetric",reflexive:"Reflexive",irreflexive:"Irreflexive",transitive:"Transitive"},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ox(t,e)}(e,t),ix(e,null,[{key:"properties",get:function(){return[ax(sx(e),"properties",this),{entity:{type:Object}}]}},{key:"styles",get:function(){var t=ax(sx(e),"styles",this),n=t[1];return[t[0],Cy(tx(),n.shadows,n.secondary,n.secondary,n.secondary,n.secondary_dark)]}}]),ix(e,[{key:"render",value:function(){var t=this;return Kv(Jw(),this.entity?Kv(Qw(),this.wikiClickHandler,this.entity.iri.remaining_chars,this.entity.type,"individual"!=this.entity.type?Kv(Kw(),this.entity.iri.full_iri):Kv(Zw()),Object.keys(this.properties).map((function(e){return t.entity[e]?Kv($w(),t.properties[e]):Kv(Gw())})),Ww(this.entity)):Kv(Xw()))}},{key:"wikiClickHandler",value:function(t){this._onWikiClick&&this._onWikiClick(this.entity.iri.full_iri)}},{key:"updated",value:function(){this.entity&&this.entity.description&&this.renderDescription(this.entity.description),this._onWikiClick&&this.shadowRoot.querySelectorAll(".wiki").forEach((function(t){t.classList.add("clickable")}))}},{key:"renderDescription",value:function(t){var e,n,r=this;Object.keys(t).forEach((function(i){n="",e=r.shadowRoot.querySelector('[lang = "'.concat(i,'"] > .descr-text')),t[i].forEach((function(t,e){n+=e>0?"<p>"+t.replace(/(href=.)\/predicate\//g,"$1/documentation/predicate/")+"</p>":t.replace(/(href=.)\/predicate\//g,"$1/documentation/predicate/")})),e.innerHTML=n}))}},{key:"firstUpdated",value:function(){ax(sx(e.prototype),"firstUpdated",this).call(this),this.header.invertIcons()}},{key:"blur",value:function(){this.hide()}},{key:"onWikiClick",set:function(t){this._onWikiClick=t}},{key:"entity",set:function(t){var e=this.entity;switch(this._entity=t,this._entity.type){case"concept":this._entity.type="Class";break;case"role":this._entity.type="Object Property";break;case"attribute":this._entity.type="Data Property"}this.requestUpdate("entity",e)},get:function(){return this._entity}}]),e}(Kb);function ux(t){return(ux="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cx(){var t=hx(['\n      <div\n        class="btn"\n        ?active = "','"\n        @click="','"\n        title="','">\n\n        <mwc-icon>',"</mwc-icon>\n      </div>\n    "]);return cx=function(){return t},t}function dx(){var t=hx(["\n\n        mwc-icon {\n          font-size: var(--gscape-button-font-size, 24px)\n        }\n\n        .btn {\n          padding:5px;\n          line-height:0;\n          cursor: pointer;\n        }\n\n        .btn:hover {\n          color: var(--theme-gscape-secondary, ",");\n        }\n\n        .btn[active] {\n          color: var(--theme-gscape-secondary, ",");\n        }\n      "]);return dx=function(){return t},t}function hx(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function fx(t,e){return!e||"object"!==ux(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function px(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gx(t,e,n){return e&&px(t.prototype,e),n&&px(t,n),t}function vx(t,e){return(vx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yx(t,e,n){return(yx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mx(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function mx(t){return(mx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-entity-details",lx);var bx=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=fx(this,mx(e).call(this))).draggable=i,r.icon=t,r.alternate_icon=n||t,r.onClick=null,r.highlight=!1,r.active=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vx(t,e)}(e,t),gx(e,null,[{key:"properties",get:function(){return{icon:{type:String},active:{type:Boolean}}}},{key:"styles",get:function(){var t=yx(mx(e),"styles",this),n=t[1];return[t[0],Cy(dx(),n.secondary,n.secondary)]}}]),gx(e,[{key:"render",value:function(){return Kv(cx(),this.active,this.clickHandler,this.icon,this.icon)}},{key:"clickHandler",value:function(){this.highlight&&(this.active=!this.active),this.toggleIcon(),this._onClick()}},{key:"toggleIcon",value:function(){var t=this._icon;this.icon=this._alternate_icon,this.alternate_icon=t}},{key:"firstUpdated",value:function(){yx(mx(e.prototype),"firstUpdated",this).call(this),this.shadowRoot.querySelector("mwc-icon").onselectstart=function(){return!1}}},{key:"icon",set:function(t){var e=this._icon;this._icon=t,this.requestUpdate("icon",e)},get:function(){return this._icon}},{key:"alternate_icon",set:function(t){var e=this._alternate_icon;this._alternate_icon=t,this.requestUpdate("alternative_icon",e)}},{key:"onClick",set:function(t){this._onClick=t}}]),e}(Kb);function wx(t){return(wx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xx(){var t=Ox(['<span class="toggle-label">',"</span>"]);return xx=function(){return t},t}function _x(){var t=Ox([""]);return _x=function(){return t},t}function Ex(){var t=Ox([""]);return Ex=function(){return t},t}function Sx(){var t=Ox(['\n    <div class="toggle-container">\n      ','\n      <label class="toggle-wrap">\n        <input id="','" type="checkbox"\n          ?checked="','"\n          ?disabled="','"\n          @click="','"\n        />\n        <span class="toggle"></span>\n      </label>\n      ',"\n    </div>\n    "]);return Sx=function(){return t},t}function kx(){var t=Ox(['\n        :host {\n          display: flex;\n        }\n\n        .toggle-container {\n          white-space: nowrap;\n          display: flex;\n          align-items: center;\n        }\n\n        .toggle-wrap {\n          width: 33px;\n          height: 19px;\n          display: inline-block;\n          position: relative;\n        }\n\n        .toggle {\n          position: absolute;\n          cursor: pointer;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: #ccc;\n          transition: checked 0.2s;\n          border-radius: 19px;\n        }\n\n        .toggle::before {\n          position: absolute;\n          content: "";\n          height: 11px;\n          width: 11px;\n          left: 4px;\n          bottom: 4px;\n          background-color: var(--theme-gscape-primary, ',");\n          transition: .1s;\n          border-radius: 20px;\n        }\n\n        .toggle-wrap input {\n          display:none;\n        }\n\n        .toggle-wrap input:checked + .toggle {\n          background-color: var(--theme-gscape-secondary, ",");\n        }\n\n        .toggle-wrap input:checked + .toggle::before {\n          -webkit-transform: translateX(14px);\n          -ms-transform: translateX(14px);\n          transform: translateX(14px);\n        }\n\n        .toggle-wrap input:disabled + .toggle {\n          opacity:0.25;\n        }\n\n        .toggle-label {\n          margin: 0 15px;\n        }\n      "]);return kx=function(){return t},t}function Ox(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Cx(t,e){return!e||"object"!==wx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Px(t,e,n){return e&&Tx(t.prototype,e),n&&Tx(t,n),t}function Nx(t,e){return(Nx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dx(t,e,n){return(Dx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ax(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ax(t){return(Ax=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-button",bx);var Mx=function(t){function e(t,n,r,i,o){var a,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=Cx(this,Ax(e).call(this))).key=t||"",a.inverse=s,a.state=n||!1,a.disabled=r||!1,a.onToggle=o||{},a.label=i||"",a.label_pos="left",a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nx(t,e)}(e,t),Px(e,null,[{key:"properties",get:function(){return{state:{type:Boolean},disabled:{type:Boolean},label:{type:String},key:{type:String},checked:{type:Boolean}}}},{key:"styles",get:function(){var t=Dx(Ax(e),"styles",this)[1];return Cy(kx(),t.primary,t.secondary)}}]),Px(e,[{key:"render",value:function(){return Kv(Sx(),"left"==this.label_pos?this.label_span:Kv(Ex()),this.key,this.checked,this.disabled,this.clickHandler,"right"==this.label_pos?this.label_span:Kv(_x()))}},{key:"clickHandler",value:function(t){this.state=!this.state,this.onToggle(t)}},{key:"updated",value:function(t){this.shadowRoot.querySelector("#".concat(this.key)).checked=this.checked}},{key:"state",set:function(t){this._state=t,this.checked=this.inverse?!t:t},get:function(){return this._state}},{key:"label_span",get:function(){return Kv(xx(),this.label)}}]),e}(Kb);function Lx(t){return(Lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jx(){var t=Bx(["\n              ","\n            "]);return jx=function(){return t},t}function Ix(){var t=Bx(["\n      ",'\n\n      <div class="widget-body hide gscape-panel">\n        <div class="gscape-panel-title">Filters</div>\n\n        <div class="filters-wrapper">\n          ',"\n        </div>\n      </div>\n    "]);return Ix=function(){return t},t}function Rx(){var t=Bx(["\n        :host {\n          bottom:10px;\n          left:10px;\n        }\n\n        gscape-button{\n          position: static;\n        }\n\n        gscape-toggle {\n          padding: 8px;\n        }\n\n        gscape-toggle[first]{\n          justify-content: center;\n          border-bottom: 1px solid #ccc;\n          margin-bottom: 10px;\n          padding: 10px;\n        }\n      "]);return Rx=function(){return t},t}function Bx(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function zx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vx(t,e,n){return e&&Fx(t.prototype,e),n&&Fx(t,n),t}function qx(t,e){return(qx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ux(t,e,n){return(Ux="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hx(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Hx(t){return(Hx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-toggle",Mx);var Wx=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==Lx(e)&&"function"!=typeof e?zx(t):e}(this,Hx(e).call(this))).collapsible=!0,n.filters=t,n.btn=new bx("filter_list"),n.btn.onClick=n.toggleBody.bind(zx(n)),n.btn.active=!1,n.onFilterOn=function(){},n.onFilterOff=function(){},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qx(t,e)}(e,t),Vx(e,null,[{key:"properties",get:function(){return{filters:{type:Object,hasChanged:function(t,e){return!e||(Object.keys(t).map((function(n){if(t[n].active!=e[n].active||t[n].disabled!=e[n].disabled)return!0})),!1)}}}}},{key:"styles",get:function(){var t=Ux(Hx(e),"styles",this);t[1];return[t[0],Cy(Rx())]}}]),Vx(e,[{key:"render",value:function(){var t=this;return Kv(Ix(),this.btn,Object.keys(this.filters).map((function(e){var n=t.filters[e],r={};return"all"==e?(r=new Mx(e,n.active,n.disabled,n.label,t.toggleFilter.bind(t))).setAttribute("first","true"):r=new Mx(e,n.active,n.disabled,n.label,t.toggleFilter.bind(t),!0),r.label_pos="right",Kv(jx(),r)})))}},{key:"toggleFilter",value:function(t){var e=t.target;"all"==e.id?e.checked?this.onFilterOn(e.id):this.onFilterOff(e.id):e.checked?this.onFilterOff(e.id):this.onFilterOn(e.id)}},{key:"updateTogglesState",value:function(){var t=this,e=this.shadowRoot.querySelectorAll("gscape-toggle"),n=!1;e.forEach((function(e){e.state=t.filters[e.key].active,e.disabled=t.filters[e.key].disabled,e.state&&(n=!0)})),this.btn.active=n,this.btn.requestUpdate()}}]),e}(Kb);function Yx(t){return(Yx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xx(){var t=Kx(["\n                    <tr>\n                      <th>","</th>\n                      <td>","</td>\n                    </tr>\n                  "]);return Xx=function(){return t},t}function Gx(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function $x(){var t=Kx(["\n      ",'\n\n      <div class="widget-body hide gscape-panel">\n        <div class="gscape-panel-title">Ontology Info</div>\n\n        <div class="wrapper">\n\n          <div class="section">\n            <table class="details_table">\n              <tr>\n                <th>Name</th>\n                <td>',"</td>\n              </tr>\n              <tr>\n                <th>Version</th>\n                <td>","</td>\n              </tr>\n            </table>\n          </div>\n\n          ",'\n\n          <div class="section">\n            <div class="section-header">IRI Prefixes Dictionary</div>\n            <table class="iri-dict details_table">\n              ',"\n            </table>\n          </div>\n        </div>\n      </div>\n    "]);return $x=function(){return t},t}function Zx(){var t=Kx(["\n        :host {\n          bottom:10px;\n          left:52px;\n        }\n\n        .gscape-panel {\n          padding-right: 0;\n        }\n\n        gscape-button {\n          position: static;\n        }\n\n        .iri-dict th.table-header{\n          text-align: center;\n          padding: 12px;\n          font-weight: bold;\n          border-right: 0;\n          color: var(--theme-gscape-on-primary, ",");\n        }\n\n        .iri-dict th {\n          color: var(--theme-gscape-on-primary, ",");\n          border-right: solid 1px var(--theme-gscape-shadows, ",");\n          text-align: left;\n          font-weight: normal;\n        }\n\n        .wrapper {\n          overflow-y: auto;\n          scrollbar-width: inherit;\n          max-height: 420px;\n          overflow-x: hidden;\n          padding-right: 10px;\n        }\n\n        .section {\n          padding-left: 0;\n          padding-right: 0;\n        }\n      "]);return Zx=function(){return t},t}function Kx(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Qx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function t_(t,e,n){return e&&Jx(t.prototype,e),n&&Jx(t,n),t}function e_(t,e){return(e_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function n_(t,e,n){return(n_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function r_(t){return(r_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-filters",Wx);var i_=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==Yx(e)&&"function"!=typeof e?Qx(t):e}(this,r_(e).call(this))).collapsible=!0,n.ontology=t,n.btn=new bx("info_outline"),n.btn.onClick=n.toggleBody.bind(Qx(n)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&e_(t,e)}(e,t),t_(e,null,[{key:"styles",get:function(){var t=n_(r_(e),"styles",this),n=t[1];return[t[0],Cy(Zx(),n.on_primary,n.on_primary,n.shadows)]}}]),t_(e,[{key:"render",value:function(){return Kv($x(),this.btn,this.ontology.name,this.ontology.version,Ww(this.ontology),Gx(this.ontology.namespaces).map((function(t){if(!t.isStandard())return Kv(Xx(),t.prefixes[0],t.value)})))}},{key:"updated",value:function(){var t,e,n=this;this.ontology.description&&Object.keys(this.ontology.description).forEach((function(r){e="",t=n.shadowRoot.querySelector('[lang = "'.concat(r,'"] > .descr-text')),n.ontology.description[r].forEach((function(t,n){e+=n>0?"<p>"+t.replace(/(href=.)\/predicate\//g,"$1/documentation/predicate/")+"</p>":t.replace(/(href=.)\/predicate\//g,"$1/documentation/predicate/")})),t.innerHTML=e}))}}]),e}(Kb);function o_(t){return(o_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a_(){var t=l_(['\n      <div class="widget-body">\n        <div class="owl-text"></div>\n      </div>\n      <gscape-head title="Owl Translation"></gscape-head>\n    ']);return a_=function(){return t},t}function s_(){var t=l_(["\n        :host {\n          left:50%;\n          bottom:10px;\n          transform: translate(-50%, 0);\n        }\n\n        gscape-head {\n          --title-text-align: center;\n          --title-width: 100%;\n        }\n\n        .widget-body {\n          margin:0;\n          border-top: none;\n          border-bottom: 1px solid var(--theme-gscape-shadows, ",');\n          border-bottom-left-radius:0;\n          border-bottom-right-radius:0;\n        }\n\n        .owl-text {\n          padding: 15px 10px;\n          font-family: "Lucida Console", Monaco, monospace;\n          overflow: auto;\n          white-space: nowrap;\n          line-height: 1.5;\n        }\n\n        .owl_concept{\n          color: #b58900;\n        }\n\n        .owl_role{\n          color: #268bd2;\n        }\n\n        .owl_attribute{\n          color: #859900;\n        }\n\n        .owl_value-domain{\n          color: #2aa198;\n        }\n\n        .owl_individual{\n          color: #6c71c4;\n        }\n\n        .owl_value {\n          color: #d33682;\n        }\n\n        .axiom_predicate_prefix{\n          color:#cb4b16;\n        }\n\n        .owl_error {\n          color: var(--theme-gscape-error, ',");\n        }\n\n        .axiom_predefinite_obj {\n          color: #00c0a0;\n        }\n\n      "]);return s_=function(){return t},t}function l_(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function u_(t,e){return!e||"object"!==o_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d_(t,e,n){return e&&c_(t.prototype,e),n&&c_(t,n),t}function h_(t,e){return(h_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f_(t,e,n){return(f_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function p_(t){return(p_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-ontology-info",i_);var g_=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=u_(this,p_(e).call(this))).collapsible=!0,t.hiddenDefault=!0,t.owl_text="",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h_(t,e)}(e,t),d_(e,null,[{key:"properties",get:function(){return{owl_text:String}}},{key:"styles",get:function(){var t=f_(p_(e),"styles",this)[1];return[f_(p_(e),"styles",this)[0],Cy(s_(),t.shadows,t.error)]}}]),d_(e,[{key:"render",value:function(){return Kv(a_())}},{key:"updated",value:function(){this.shadowRoot.querySelector(".owl-text").innerHTML=this.owl_text}},{key:"blur",value:function(){this.hide()}}]),e}(Kb);function v_(t){return(v_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y_(){var t=b_(["\n      ",'\n      <div id="hr"></div>\n      ',"\n    "]);return y_=function(){return t},t}function m_(){var t=b_(["\n        :host {\n          position: absolute;\n          bottom:52px;\n          right:10px;\n        }\n\n        gscape-button{\n          position: static;\n          box-shadow: initial;\n        }\n\n        #hr {\n          height:1px;\n          width:90%;\n          margin: 2px auto 0 auto;\n          background-color: var(--theme-gscape-shadows, ",")\n        }\n\n      "]);return m_=function(){return t},t}function b_(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function w_(t,e){return!e||"object"!==v_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function __(t,e,n){return e&&x_(t.prototype,e),n&&x_(t,n),t}function E_(t,e){return(E_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S_(t,e,n){return(S_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function k_(t){return(k_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-owl-translator",g_);var O_=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=w_(this,k_(e).call(this))).btn_plus=new bx("add"),t.btn_minus=new bx("remove"),t._onZoomIn=null,t._onZoomOut=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E_(t,e)}(e,t),__(e,null,[{key:"styles",get:function(){var t=S_(k_(e),"styles",this),n=t[1];return[t[0],Cy(m_(),n.shadows)]}}]),__(e,[{key:"render",value:function(){return Kv(y_(),this.btn_plus,this.btn_minus)}},{key:"onZoomIn",set:function(t){this._onZoomIn=t,this.btn_plus.onClick=this._onZoomIn}},{key:"onZoomOut",set:function(t){this._onZoomOut=t,this.btn_minus.onClick=this._onZoomOut}}]),e}(Kb);function C_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}customElements.define("gscape-zoom-tools",O_);var T_=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actual_diagram=null;var r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="absolute",n&&n.insertBefore(r,n.firstChild),this.cy=jg({container:r,autoungrabify:!0,wheelSensitivity:.4,maxZoom:2.5,minZoom:.02,layout:{name:"preset"}}),this.cy.on("select","node",(function(t){switch(t.target.data("type")){case"intersection":case"union":case"disjoint-union":t.target.neighborhood().select()}t.target.select(),e.onNodeSelection(t.target.data("id_xml"),t.target.data("diagram_id"))})),this.cy.on("select","edge",(function(t){e.onEdgeSelection(t.target.data("id_xml"),t.target.data("diagram_id"))})),this.cy.on("tap",(function(t){t.target===e.cy&&e.onBackgroundClick()})),this.cy.on("mouseover","*",(function(t){e.cy.container().style.cursor="pointer"})),this.cy.on("mouseout","*",(function(t){e.cy.container().style.cursor="inherit"}))}var e,n,r;return e=t,(n=[{key:"mount",value:function(t){this.cy.container().style.display="block"}},{key:"unmount",value:function(){this.cy.container().style.display="none"}},{key:"centerOnNode",value:function(t,e){var n=this.cy.getElementById(t);n&&(this.centerOnPosition(n.position("x"),n.position("y"),e),this.cy.$(":selected").unselect(),n.select())}},{key:"centerOnPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cy.zoom();this.cy.reset();var r=this.cy.width()/2,i=this.cy.height()/2;t-=r,e-=i,this.cy.pan({x:-t,y:-e}),this.cy.zoom({level:n,renderedPosition:{x:r,y:i}})}},{key:"centerOnRenderedPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cy.zoom();this.cy.viewport({zoom:n,pan:{x:t,y:e}})}},{key:"resetView",value:function(){this.cy.fit()}},{key:"drawDiagram",value:function(t){this.cy.remove("*"),this.cy.add(t.nodes),this.cy.add(t.edges),this.cy.fit(),this.actual_diagram=t.id}},{key:"zoomIn",value:function(){this.cy.zoom({level:this.cy.zoom()+.08,renderedPosition:{x:this.cy.width()/2,y:this.cy.height()/2}})}},{key:"zoomOut",value:function(){this.cy.zoom({level:this.cy.zoom()-.08,renderedPosition:{x:this.cy.width()/2,y:this.cy.height()/2}})}},{key:"filter",value:function(t,e){var n=this,r=e||this.cy,i="".concat(t.selector,", .").concat(t.class);r.$(i).forEach((function(e){n.filterElem(e,t.class,r)}))}},{key:"filterElem",value:function(t,e,n){var r=this,i=n||this.cy;function o(t){var e=t.outgoers("edge").size()+t.incomers('edge[type != "input"]').size();return t.outgoers().forEach((function(t){t.target().hasClass("filtered")&&e--})),t.incomers('[type != "input"]').forEach((function(t){t.source().hasClass("filtered")&&e--})),e}t.addClass("filtered "+e),i.nodes('[parent_node_id = "'.concat(t.id(),'"]')).addClass("filtered "+e),t.outgoers("edge").forEach((function(t){var n=o(t.target());!t.target().hasClass("filtered")&&(n<=0||"input"===t.data("type"))&&r.filterElem(t.target(),e,i)})),t.incomers("edge").forEach((function(t){var n=o(t.source());t.source().hasClass("filtered")||0!==n||r.filterElem(t.source(),e,i)}))}},{key:"unfilter",value:function(t,e){var n="".concat(t.selector,", .").concat(t.class),r=e||this.cy;r.$(n).removeClass("filtered"),r.$(n).removeClass(t.class)}},{key:"setTheme",value:function(t){this.theme=t,this.cy.style(function(t){return[{selector:"node",style:{height:"data(height)",width:"data(width)","background-color":t.node_bg,shape:"data(shape)","border-width":1,"border-color":t.node_border,"border-style":"solid","font-size":12,color:t.label_color}},{selector:"node[displayed_name]",style:{label:"data(displayed_name)","text-margin-x":"data(labelXpos)","text-margin-y":"data(labelYpos)","text-wrap":"wrap","min-zoomed-font-size":"5px"}},{selector:"edge",style:{width:2,"line-color":t.edge,"target-arrow-color":t.edge,"source-arrow-color":t.edge,"curve-style":"bezier","arrow-scale":1.3,color:t.label_color}},{selector:'edge[type = "inclusion"], [type = "membership"], edge.inclusion',style:{"line-style":"solid","target-arrow-shape":"triangle","target-arrow-fill":"filled"}},{selector:"edge.hierarchy",style:{width:6,"target-arrow-fill":"hollow"}},{selector:"edge.disjoint",style:{"target-arrow-fill":"filled"}},{selector:'edge[type = "input"]',style:{"line-style":"dashed","target-arrow-shape":"diamond","target-arrow-fill":"hollow"}},{selector:'edge[type = "easy_input"]',style:{"line-style":"solid"}},{selector:'edge[type = "equivalence"]',style:{"line-style":"solid","source-arrow-shape":"triangle","source-arrow-fill":"filled","target-arrow-shape":"triangle","target-arrow-fill":"filled"}},{selector:"[segment_distances]",style:{"curve-style":"segments","segment-distances":"data(segment_distances)","segment-weights":"data(segment_weights)","edge-distances":"node-position"}},{selector:":loop",style:{"control-point-step-size":"data(control_point_step_size)","control-point-weight":.5}},{selector:"[source_endpoint]",style:{"source-endpoint":"data(source_endpoint)"}},{selector:"[target_endpoint]",style:{"target-endpoint":"data(target_endpoint)"}},{selector:"[?functional][!inverseFunctional]",style:{"border-width":5,"border-color":t.node_border,"border-style":"double"}},{selector:"[?inverseFunctional][!functional]",style:{"border-width":4,"border-color":t.node_border,"border-style":"solid"}},{selector:"edge[displayed_name]",style:{label:"data(displayed_name)","font-size":10,"text-rotation":"autorotate","text-margin-y":-10}},{selector:"[target_label]",style:{"target-label":"data(target_label)"}},{selector:"[source_label]",style:{"source-label":"data(source_label)"}},{selector:"[source_label],[target_label]",style:{"font-size":15,"target-text-offset":20}},{selector:"edge[displayed_name],[source_label],[target_label],[text_background]",style:{"text-background-color":t.background,"text-background-opacity":1,"text-background-shape":"roundrectangle","text-background-padding":2}},{selector:"[shape_points]",style:{"shape-polygon-points":"data(shape_points)"}},{selector:".filtered",style:{display:"none"}},{selector:".facet",style:{"background-opacity":0}},{selector:".hidden",style:{visibility:"hidden"}},{selector:".no_border",style:{"border-width":0}},{selector:".no_overlay",style:{"overlay-opacity":0,"overlay-padding":0}},{selector:".concept",style:{"background-color":t.concept,"border-color":t.concept_dark}},{selector:".role, .fake-triangle",style:{"background-color":t.role,"border-color":t.role_dark}},{selector:".attribute",style:{"background-color":t.attribute,"border-color":t.attribute_dark,"text-background-color":t.background,"text-background-opacity":1}},{selector:"edge.role",style:{"line-color":t.role_dark,"source-arrow-color":t.role_dark,"target-arrow-color":t.role_dark,"target-arrow-shape":"square","target-arrow-fill":"filled","source-arrow-shape":"square","source-arrow-fill":"hollow"}},{selector:"edge.range",style:{"target-arrow-shape":"square","target-arrow-fill":"filled","source-arrow-shape":"none"}},{selector:"edge.domain",style:{"target-arrow-shape":"square","target-arrow-fill":"hollow","source-arrow-shape":"none"}},{selector:"edge.attribute",style:{"line-color":t.attribute_dark,"source-arrow-shape":"none","target-arrow-shape":"none"}},{selector:".bubble",style:{"text-margin-x":0,"text-margin-y":0,"text-valign":"center","text-halign":"center",shape:"ellipse",height:"data(width)"}},{selector:".individual",style:{"background-color":t.individual,"border-color":t.individual_dark}},{selector:'[type = "range-restriction"], [type = "disjoint-union"]',style:{"background-color":t.node_bg_contrast}},{selector:".float:locked",style:{"border-color":t.secondary,"border-width":"4px"}},{selector:".fake-triangle-right",style:{"background-color":t.role_dark||"black"}},{selector:'[shape = "hexagon"],[type = "value-domain"], .facet',style:{color:t.node_bg_contrast}},{selector:":selected",style:{"overlay-color":t.secondary,"overlay-opacity":.2,"z-index":"100"}}]}(t))}},{key:"getActualPosition",value:function(){return{x:this.cy.pan().x,y:this.cy.pan().y,zoom:this.cy.zoom()}}}])&&C_(e.prototype,n),r&&C_(e,r),t}(),P_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){this.source=t,this.target=e,this.type=n};e.PowerEdge=n;var r=function(){function t(t,e,n,r){var a=this;if(this.linkAccessor=n,this.modules=new Array(t),this.roots=[],r)this.initModulesFromGroup(r);else{this.roots.push(new o);for(var s=0;s<t;++s)this.roots[0].add(this.modules[s]=new i(s))}this.R=e.length,e.forEach((function(t){var e=a.modules[n.getSourceIndex(t)],r=a.modules[n.getTargetIndex(t)],i=n.getType(t);e.outgoing.add(i,r),r.incoming.add(i,e)}))}return t.prototype.initModulesFromGroup=function(t){var e=new o;this.roots.push(e);for(var n=0;n<t.leaves.length;++n){var r=t.leaves[n],s=new i(r.id);this.modules[r.id]=s,e.add(s)}if(t.groups)for(var l=0;l<t.groups.length;++l){var u=t.groups[l],c={};for(var d in u)"leaves"!==d&&"groups"!==d&&u.hasOwnProperty(d)&&(c[d]=u[d]);e.add(new i(-1-l,new a,new a,this.initModulesFromGroup(u),c))}return e},t.prototype.merge=function(t,e,n){void 0===n&&(n=0);var r=t.incoming.intersection(e.incoming),a=t.outgoing.intersection(e.outgoing),s=new o;s.add(t),s.add(e);var l=new i(this.modules.length,a,r,s);this.modules.push(l);var u=function(n,r,i){n.forAll((function(n,o){n.forAll((function(n){var a=n[r];a.add(o,l),a.remove(o,t),a.remove(o,e),t[i].remove(o,n),e[i].remove(o,n)}))}))};return u(a,"incoming","outgoing"),u(r,"outgoing","incoming"),this.R-=r.count()+a.count(),this.roots[n].remove(t),this.roots[n].remove(e),this.roots[n].add(l),l},t.prototype.rootMerges=function(t){void 0===t&&(t=0);for(var e=this.roots[t].modules(),n=e.length,r=new Array(n*(n-1)),i=0,o=0,a=n-1;o<a;++o)for(var s=o+1;s<n;++s){var l=e[o],u=e[s];r[i]={id:i,nEdges:this.nEdges(l,u),a:l,b:u},i++}return r},t.prototype.greedyMerge=function(){for(var t=0;t<this.roots.length;++t)if(!(this.roots[t].modules().length<2)){var e=this.rootMerges(t).sort((function(t,e){return t.nEdges==e.nEdges?t.id-e.id:t.nEdges-e.nEdges}))[0];if(!(e.nEdges>=this.R))return this.merge(e.a,e.b,t),!0}},t.prototype.nEdges=function(t,e){var n=t.incoming.intersection(e.incoming),r=t.outgoing.intersection(e.outgoing);return this.R-n.count()-r.count()},t.prototype.getGroupHierarchy=function(t){var e=this,r=[];return function t(e,n,r){e.forAll((function(e){if(e.isLeaf())n.leaves||(n.leaves=[]),n.leaves.push(e.id);else{var i=n;if(e.gid=r.length,!e.isIsland()||e.isPredefined()){if(i={id:e.gid},e.isPredefined())for(var o in e.definition)i[o]=e.definition[o];n.groups||(n.groups=[]),n.groups.push(e.gid),r.push(i)}t(e.children,i,r)}}))}(this.roots[0],{},r),this.allEdges().forEach((function(i){var o=e.modules[i.source],a=e.modules[i.target];t.push(new n(void 0===o.gid?i.source:r[o.gid],void 0===a.gid?i.target:r[a.gid],i.type))})),r},t.prototype.allEdges=function(){var e=[];return t.getEdges(this.roots[0],e),e},t.getEdges=function(e,n){e.forAll((function(e){e.getEdges(n),t.getEdges(e.children,n)}))},t}();e.Configuration=r;var i=function(){function t(t,e,n,r,i){void 0===e&&(e=new a),void 0===n&&(n=new a),void 0===r&&(r=new o),this.id=t,this.outgoing=e,this.incoming=n,this.children=r,this.definition=i}return t.prototype.getEdges=function(t){var e=this;this.outgoing.forAll((function(r,i){r.forAll((function(r){t.push(new n(e.id,r.id,i))}))}))},t.prototype.isLeaf=function(){return 0===this.children.count()},t.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},t.prototype.isPredefined=function(){return void 0!==this.definition},t}();e.Module=i;var o=function(){function t(){this.table={}}return t.prototype.count=function(){return Object.keys(this.table).length},t.prototype.intersection=function(e){var n=new t;return n.table=function(t,e){var n={};for(var r in t)r in e&&(n[r]=t[r]);return n}(this.table,e.table),n},t.prototype.intersectionCount=function(t){return this.intersection(t).count()},t.prototype.contains=function(t){return t in this.table},t.prototype.add=function(t){this.table[t.id]=t},t.prototype.remove=function(t){delete this.table[t.id]},t.prototype.forAll=function(t){for(var e in this.table)t(this.table[e])},t.prototype.modules=function(){var t=[];return this.forAll((function(e){e.isPredefined()||t.push(e)})),t},t}();e.ModuleSet=o;var a=function(){function t(){this.sets={},this.n=0}return t.prototype.count=function(){return this.n},t.prototype.contains=function(t){var e=!1;return this.forAllModules((function(n){e||n.id!=t||(e=!0)})),e},t.prototype.add=function(t,e){(t in this.sets?this.sets[t]:this.sets[t]=new o).add(e),++this.n},t.prototype.remove=function(t,e){var n=this.sets[t];n.remove(e),0===n.count()&&delete this.sets[t],--this.n},t.prototype.forAll=function(t){for(var e in this.sets)t(this.sets[e],Number(e))},t.prototype.forAllModules=function(t){this.forAll((function(e,n){return e.forAll(t)}))},t.prototype.intersection=function(e){var n=new t;return this.forAll((function(t,r){if(r in e.sets){var i=t.intersection(e.sets[r]),o=i.count();o>0&&(n.sets[r]=i,n.n+=o)}})),n},t}();e.LinkSets=a,e.getGroups=function(t,e,n,i){for(var o=t.length,a=new r(o,e,n,i);a.greedyMerge(););var s=[],l=a.getGroupHierarchy(s);return s.forEach((function(e){var n=function(n){var r=e[n];"number"==typeof r&&(e[n]=t[r])};n("source"),n("target")})),{groups:l,powerEdges:s}}}));e(P_);P_.PowerEdge,P_.Configuration,P_.Module,P_.ModuleSet,P_.LinkSets,P_.getGroups;var N_=n((function(t,e){function n(t,e){var n={};for(var r in t)n[r]={};for(var r in e)n[r]={};return Object.keys(n).length}function r(t,e){var n=0;for(var r in t)void 0!==e[r]&&++n;return n}function i(t,e,n,r){var i=function(t,e){var n={},r=function(t,e){void 0===n[t]&&(n[t]={}),n[t][e]={}};return t.forEach((function(t){var n=e.getSourceIndex(t),i=e.getTargetIndex(t);r(n,i),r(i,n)})),n}(t,r);t.forEach((function(t){var o=i[r.getSourceIndex(t)],a=i[r.getTargetIndex(t)];r.setLength(t,1+e*n(o,a))}))}function o(t,e,n){var r=[],i=0,o=[],a=[];function s(t){t.index=t.lowlink=i++,o.push(t),t.onStack=!0;for(var e=0,n=t.out;e<n.length;e++){var r=n[e];void 0===r.index?(s(r),t.lowlink=Math.min(t.lowlink,r.lowlink)):r.onStack&&(t.lowlink=Math.min(t.lowlink,r.index))}if(t.lowlink===t.index){for(var l=[];o.length&&((r=o.pop()).onStack=!1,l.push(r),r!==t););a.push(l.map((function(t){return t.id})))}}for(var l=0;l<t;l++)r.push({id:l,out:[]});for(var u=0,c=e;u<c.length;u++){var d=c[u],h=r[n.getSourceIndex(d)],f=r[n.getTargetIndex(d)];h.out.push(f)}for(var p=0,g=r;p<g.length;p++){var v=g[p];void 0===v.index&&s(v)}return a}Object.defineProperty(e,"__esModule",{value:!0}),e.symmetricDiffLinkLengths=function(t,e,o){void 0===o&&(o=1),i(t,o,(function(t,e){return Math.sqrt(n(t,e)-r(t,e))}),e)},e.jaccardLinkLengths=function(t,e,o){void 0===o&&(o=1),i(t,o,(function(t,e){return Math.min(Object.keys(t).length,Object.keys(e).length)<1.1?0:r(t,e)/n(t,e)}),e)},e.generateDirectedEdgeConstraints=function(t,e,n,r){var i=o(t,e,r),a={};i.forEach((function(t,e){return t.forEach((function(t){return a[t]=e}))}));var s=[];return e.forEach((function(t){var e=r.getSourceIndex(t),i=r.getTargetIndex(t);a[e]!==a[i]&&s.push({axis:n,left:e,right:i,gap:r.getMinSeparation(t)})})),s},e.stronglyConnectedComponents=o}));e(N_);N_.symmetricDiffLinkLengths,N_.jaccardLinkLengths,N_.generateDirectedEdgeConstraints,N_.stronglyConnectedComponents;var D_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.locks={}}return t.prototype.add=function(t,e){this.locks[t]=e},t.prototype.clear=function(){this.locks={}},t.prototype.isEmpty=function(){for(var t in this.locks)return!1;return!0},t.prototype.apply=function(t){for(var e in this.locks)t(Number(e),this.locks[e])},t}();e.Locks=n;var r=function(){function t(t,e,r){void 0===r&&(r=null),this.D=e,this.G=r,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new i,this.project=null,this.x=t,this.k=t.length;var o=this.n=t[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new n,this.minD=Number.MAX_VALUE;for(var a,s=o;s--;)for(a=o;--a>s;){var l=e[s][a];l>0&&l<this.minD&&(this.minD=l)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),s=this.k;s--;){for(this.g[s]=new Array(o),this.H[s]=new Array(o),a=o;a--;)this.H[s][a]=new Array(o);this.Hd[s]=new Array(o),this.a[s]=new Array(o),this.b[s]=new Array(o),this.c[s]=new Array(o),this.d[s]=new Array(o),this.e[s]=new Array(o),this.ia[s]=new Array(o),this.ib[s]=new Array(o),this.xtmp[s]=new Array(o)}}return t.createSquareMatrix=function(t,e){for(var n=new Array(t),r=0;r<t;++r){n[r]=new Array(t);for(var i=0;i<t;++i)n[r][i]=e(r,i)}return n},t.prototype.offsetDir=function(){for(var t=this,e=new Array(this.k),n=0,r=0;r<this.k;++r){var i=e[r]=this.random.getNextBetween(.01,1)-.5;n+=i*i}return n=Math.sqrt(n),e.map((function(e){return e*(t.minD/n)}))},t.prototype.computeDerivatives=function(t){var e=this,n=this.n;if(!(n<1)){for(var r,i=new Array(this.k),o=new Array(this.k),a=new Array(this.k),s=0,l=0;l<n;++l){for(r=0;r<this.k;++r)a[r]=this.g[r][l]=0;for(var u=0;u<n;++u)if(l!==u){for(var c=n;c--;){var d=0;for(r=0;r<this.k;++r){var h=i[r]=t[r][l]-t[r][u];d+=o[r]=h*h}if(d>1e-9)break;var f=this.offsetDir();for(r=0;r<this.k;++r)t[r][u]+=f[r]}var p=Math.sqrt(d),g=this.D[l][u],v=null!=this.G?this.G[l][u]:1;if(v>1&&p>g||!isFinite(g))for(r=0;r<this.k;++r)this.H[r][l][u]=0;else{v>1&&(v=1);var y=g*g,m=2*v*(p-g)/(y*p),b=p*p*p,w=2*-v/(y*b);for(isFinite(m)||console.log(m),r=0;r<this.k;++r)this.g[r][l]+=i[r]*m,a[r]-=this.H[r][l][u]=w*(b+g*(o[r]-d)+p*d)}}for(r=0;r<this.k;++r)s=Math.max(s,this.H[r][l][l]=a[r])}var x=this.snapGridSize/2,_=this.snapGridSize,E=this.snapStrength/(x*x),S=this.numGridSnapNodes;for(l=0;l<S;++l)for(r=0;r<this.k;++r){var k=this.x[r][l],O=k/_,C=O%1,T=O-C;-x<(h=Math.abs(C)<=.5?k-T*_:k>0?k-(T+1)*_:k-(T-1)*_)&&h<=x&&(this.scaleSnapByMaxH?(this.g[r][l]+=s*E*h,this.H[r][l][l]+=s*E):(this.g[r][l]+=E*h,this.H[r][l][l]+=E))}this.locks.isEmpty()||this.locks.apply((function(n,i){for(r=0;r<e.k;++r)e.H[r][n][n]+=s,e.g[r][n]-=s*(i[r]-t[r][n])}))}},t.dotProd=function(t,e){for(var n=0,r=t.length;r--;)n+=t[r]*e[r];return n},t.rightMultiply=function(e,n,r){for(var i=e.length;i--;)r[i]=t.dotProd(e[i],n)},t.prototype.computeStepSize=function(e){for(var n=0,r=0,i=0;i<this.k;++i)n+=t.dotProd(this.g[i],e[i]),t.rightMultiply(this.H[i],e[i],this.Hd[i]),r+=t.dotProd(e[i],this.Hd[i]);return 0!==r&&isFinite(r)?1*n/r:0},t.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var t=this.computeStepSize(this.g),e=0;e<this.k;++e)this.takeDescentStep(this.x[e],this.g[e],t);return this.computeStress()},t.copy=function(t,e){for(var n=t.length,r=e[0].length,i=0;i<n;++i)for(var o=0;o<r;++o)e[i][o]=t[i][o]},t.prototype.stepAndProject=function(e,n,r,i){t.copy(e,n),this.takeDescentStep(n[0],r[0],i),this.project&&this.project[0](e[0],e[1],n[0]),this.takeDescentStep(n[1],r[1],i),this.project&&this.project[1](n[0],e[1],n[1]);for(var o=2;o<this.k;o++)this.takeDescentStep(n[o],r[o],i)},t.mApply=function(t,e,n){for(var r=t;r-- >0;)for(var i=e;i-- >0;)n(r,i)},t.prototype.matrixApply=function(e){t.mApply(this.k,this.n,e)},t.prototype.computeNextPosition=function(t,e){var n=this;this.computeDerivatives(t);var r=this.computeStepSize(this.g);if(this.stepAndProject(t,e,this.g,r),this.project){this.matrixApply((function(r,i){return n.e[r][i]=t[r][i]-e[r][i]}));var i=this.computeStepSize(this.e);i=Math.max(.2,Math.min(i,1)),this.stepAndProject(t,e,this.e,i)}},t.prototype.run=function(t){for(var e=Number.MAX_VALUE,n=!1;!n&&t-- >0;){var r=this.rungeKutta();n=Math.abs(e/r-1)<this.threshold,e=r}return e},t.prototype.rungeKutta=function(){var e=this;this.computeNextPosition(this.x,this.a),t.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),t.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var n=0;return this.matrixApply((function(t,r){var i=(e.a[t][r]+2*e.b[t][r]+2*e.c[t][r]+e.d[t][r])/6,o=e.x[t][r]-i;n+=o*o,e.x[t][r]=i})),n},t.mid=function(e,n,r){t.mApply(e.length,e[0].length,(function(t,i){return r[t][i]=e[t][i]+(n[t][i]-e[t][i])/2}))},t.prototype.takeDescentStep=function(t,e,n){for(var r=0;r<this.n;++r)t[r]=t[r]-n*e[r]},t.prototype.computeStress=function(){for(var t=0,e=0,n=this.n-1;e<n;++e)for(var r=e+1,i=this.n;r<i;++r){for(var o=0,a=0;a<this.k;++a){var s=this.x[a][e]-this.x[a][r];o+=s*s}o=Math.sqrt(o);var l=this.D[e][r];if(isFinite(l)){var u=l-o;t+=u*u/(l*l)}}return t},t.zeroDistance=1e-10,t}();e.Descent=r;var i=function(){function t(t){void 0===t&&(t=1),this.seed=t,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return t.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},t.prototype.getNextBetween=function(t,e){return t+this.getNext()*(e-t)},t}();e.PseudoRandom=i}));e(D_);D_.Locks,D_.Descent,D_.PseudoRandom;var A_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.scale=t,this.AB=0,this.AD=0,this.A2=0}return t.prototype.addVariable=function(t){var e=this.scale/t.scale,n=t.offset/t.scale,r=t.weight;this.AB+=r*e*n,this.AD+=r*e*t.desiredPosition,this.A2+=r*e*e},t.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},t}();e.PositionStats=n;var r=function(){function t(t,e,n,r){void 0===r&&(r=!1),this.left=t,this.right=e,this.gap=n,this.equality=r,this.active=!1,this.unsatisfiable=!1,this.left=t,this.right=e,this.gap=n,this.equality=r}return t.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},t}();e.Constraint=r;var i=function(){function t(t,e,n){void 0===e&&(e=1),void 0===n&&(n=1),this.desiredPosition=t,this.weight=e,this.scale=n,this.offset=0}return t.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},t.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},t.prototype.visitNeighbours=function(t,e){var n=function(n,r){return n.active&&t!==r&&e(n,r)};this.cOut.forEach((function(t){return n(t,t.right)})),this.cIn.forEach((function(t){return n(t,t.left)}))},t}();e.Variable=i;var o=function(){function t(t){this.vars=[],t.offset=0,this.ps=new n(t.scale),this.addVariable(t)}return t.prototype.addVariable=function(t){t.block=this,this.vars.push(t),this.ps.addVariable(t),this.posn=this.ps.getPosn()},t.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var t=0,e=this.vars.length;t<e;++t)this.ps.addVariable(this.vars[t]);this.posn=this.ps.getPosn()},t.prototype.compute_lm=function(t,e,n){var r=this,i=t.dfdv();return t.visitNeighbours(e,(function(e,o){var a=r.compute_lm(o,t,n);o===e.right?(i+=a*e.left.scale,e.lm=a):(i+=a*e.right.scale,e.lm=-a),n(e)})),i/t.scale},t.prototype.populateSplitBlock=function(t,e){var n=this;t.visitNeighbours(e,(function(e,r){r.offset=t.offset+(r===e.right?e.gap:-e.gap),n.addVariable(r),n.populateSplitBlock(r,t)}))},t.prototype.traverse=function(t,e,n,r){var i=this;void 0===n&&(n=this.vars[0]),void 0===r&&(r=null),n.visitNeighbours(r,(function(r,o){e.push(t(r)),i.traverse(t,e,o,n)}))},t.prototype.findMinLM=function(){var t=null;return this.compute_lm(this.vars[0],null,(function(e){!e.equality&&(null===t||e.lm<t.lm)&&(t=e)})),t},t.prototype.findMinLMBetween=function(t,e){this.compute_lm(t,null,(function(){}));var n=null;return this.findPath(t,null,e,(function(t,e){!t.equality&&t.right===e&&(null===n||t.lm<n.lm)&&(n=t)})),n},t.prototype.findPath=function(t,e,n,r){var i=this,o=!1;return t.visitNeighbours(e,(function(e,a){o||a!==n&&!i.findPath(a,t,n,r)||(o=!0,r(e,a))})),o},t.prototype.isActiveDirectedPathBetween=function(t,e){if(t===e)return!0;for(var n=t.cOut.length;n--;){var r=t.cOut[n];if(r.active&&this.isActiveDirectedPathBetween(r.right,e))return!0}return!1},t.split=function(e){return e.active=!1,[t.createSplitBlock(e.left),t.createSplitBlock(e.right)]},t.createSplitBlock=function(e){var n=new t(e);return n.populateSplitBlock(e,null),n},t.prototype.splitBetween=function(e,n){var r=this.findMinLMBetween(e,n);if(null!==r){var i=t.split(r);return{constraint:r,lb:i[0],rb:i[1]}}return null},t.prototype.mergeAcross=function(t,e,n){e.active=!0;for(var r=0,i=t.vars.length;r<i;++r){var o=t.vars[r];o.offset+=n,this.addVariable(o)}this.posn=this.ps.getPosn()},t.prototype.cost=function(){for(var t=0,e=this.vars.length;e--;){var n=this.vars[e],r=n.position()-n.desiredPosition;t+=r*r*n.weight}return t},t}();e.Block=o;var a=function(){function t(t){this.vs=t;var e=t.length;for(this.list=new Array(e);e--;){var n=new o(t[e]);this.list[e]=n,n.blockInd=e}}return t.prototype.cost=function(){for(var t=0,e=this.list.length;e--;)t+=this.list[e].cost();return t},t.prototype.insert=function(t){t.blockInd=this.list.length,this.list.push(t)},t.prototype.remove=function(t){var e=this.list.length-1,n=this.list[e];this.list.length=e,t!==n&&(this.list[t.blockInd]=n,n.blockInd=t.blockInd)},t.prototype.merge=function(t){var e=t.left.block,n=t.right.block,r=t.right.offset-t.left.offset-t.gap;e.vars.length<n.vars.length?(n.mergeAcross(e,t,r),this.remove(e)):(e.mergeAcross(n,t,-r),this.remove(n))},t.prototype.forEach=function(t){this.list.forEach(t)},t.prototype.updateBlockPositions=function(){this.list.forEach((function(t){return t.updateWeightedPosition()}))},t.prototype.split=function(t){var e=this;this.updateBlockPositions(),this.list.forEach((function(n){var r=n.findMinLM();null!==r&&r.lm<s.LAGRANGIAN_TOLERANCE&&(n=r.left.block,o.split(r).forEach((function(t){return e.insert(t)})),e.remove(n),t.push(r))}))},t}();e.Blocks=a;var s=function(){function t(t,e){this.vs=t,this.cs=e,this.vs=t,t.forEach((function(t){t.cIn=[],t.cOut=[]})),this.cs=e,e.forEach((function(t){t.left.cOut.push(t),t.right.cIn.push(t)})),this.inactive=e.map((function(t){return t.active=!1,t})),this.bs=null}return t.prototype.cost=function(){return this.bs.cost()},t.prototype.setStartingPositions=function(t){this.inactive=this.cs.map((function(t){return t.active=!1,t})),this.bs=new a(this.vs),this.bs.forEach((function(e,n){return e.posn=t[n]}))},t.prototype.setDesiredPositions=function(t){this.vs.forEach((function(e,n){return e.desiredPosition=t[n]}))},t.prototype.mostViolated=function(){for(var e=Number.MAX_VALUE,n=null,r=this.inactive,i=r.length,o=i,a=0;a<i;++a){var s=r[a];if(!s.unsatisfiable){var l=s.slack();if((s.equality||l<e)&&(e=l,n=s,o=a,s.equality))break}}return o!==i&&(e<t.ZERO_UPPERBOUND&&!n.active||n.equality)&&(r[o]=r[i-1],r.length=i-1),n},t.prototype.satisfy=function(){null==this.bs&&(this.bs=new a(this.vs)),this.bs.split(this.inactive);for(var e=null;(e=this.mostViolated())&&(e.equality||e.slack()<t.ZERO_UPPERBOUND&&!e.active);){var n=e.left.block;if(n!==e.right.block)this.bs.merge(e);else{if(n.isActiveDirectedPathBetween(e.right,e.left)){e.unsatisfiable=!0;continue}var r=n.splitBetween(e.left,e.right);if(null===r){e.unsatisfiable=!0;continue}this.bs.insert(r.lb),this.bs.insert(r.rb),this.bs.remove(n),this.inactive.push(r.constraint),e.slack()>=0?this.inactive.push(e):this.bs.merge(e)}}},t.prototype.solve=function(){this.satisfy();for(var t=Number.MAX_VALUE,e=this.bs.cost();Math.abs(t-e)>1e-4;)this.satisfy(),t=e,e=this.bs.cost();return e},t.LAGRANGIAN_TOLERANCE=-1e-4,t.ZERO_UPPERBOUND=-1e-10,t}();e.Solver=s,e.removeOverlapInOneDimension=function(t,e,n){for(var o=t.map((function(t){return new i(t.desiredCenter)})),a=[],l=t.length,u=0;u<l-1;u++){var c=t[u],d=t[u+1];a.push(new r(o[u],o[u+1],(c.size+d.size)/2))}var h=o[0],f=o[l-1],p=t[0].size/2,g=t[l-1].size/2,v=null,y=null;return e&&(v=new i(e,1e3*h.weight),o.push(v),a.push(new r(v,h,p))),n&&(y=new i(n,1e3*f.weight),o.push(y),a.push(new r(f,y,g))),new s(o,a).solve(),{newCenters:o.slice(0,t.length).map((function(t){return t.position()})),lowerBound:v?v.position():h.position()-p,upperBound:y?y.position():f.position()+g}}}));e(A_);A_.PositionStats,A_.Constraint,A_.Variable,A_.Block,A_.Blocks,A_.Solver,A_.removeOverlapInOneDimension;var M_=n((function(e,n){var r,i=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.findIter=function(t){for(var e=this._root,n=this.iterator();null!==e;){var r=this._comparator(t,e.data);if(0===r)return n._cursor=e,n;n._ancestors.push(e),e=e.get_child(r>0)}return null}}return t.prototype.clear=function(){this._root=null,this.size=0},t.prototype.find=function(t){for(var e=this._root;null!==e;){var n=this._comparator(t,e.data);if(0===n)return e.data;e=e.get_child(n>0)}return null},t.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},t.prototype.upperBound=function(t){var e=this._comparator;return this._bound(t,(function(t,n){return e(n,t)}))},t.prototype.min=function(){var t=this._root;if(null===t)return null;for(;null!==t.left;)t=t.left;return t.data},t.prototype.max=function(){var t=this._root;if(null===t)return null;for(;null!==t.right;)t=t.right;return t.data},t.prototype.iterator=function(){return new a(this)},t.prototype.each=function(t){for(var e,n=this.iterator();null!==(e=n.next());)t(e)},t.prototype.reach=function(t){for(var e,n=this.iterator();null!==(e=n.prev());)t(e)},t.prototype._bound=function(t,e){for(var n=this._root,r=this.iterator();null!==n;){var i=this._comparator(t,n.data);if(0===i)return r._cursor=n,r;r._ancestors.push(n),n=n.get_child(i>0)}for(var o=r._ancestors.length-1;o>=0;--o)if(e(t,(n=r._ancestors[o]).data)>0)return r._cursor=n,r._ancestors.length=o,r;return r._ancestors.length=0,r},t}();n.TreeBase=o;var a=function(){function t(t){this._tree=t,this._ancestors=[],this._cursor=null}return t.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},t.prototype.next=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._minNode(t)}else{var e;if(null===this._cursor.right)do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===e);else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},t.prototype.prev=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._maxNode(t)}else{var e;if(null===this._cursor.left)do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===e);else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},t.prototype._minNode=function(t){for(;null!==t.left;)this._ancestors.push(t),t=t.left;this._cursor=t},t.prototype._maxNode=function(t){for(;null!==t.right;)this._ancestors.push(t),t=t.right;this._cursor=t},t}();n.Iterator=a;var s=function(){function t(t){this.data=t,this.left=null,this.right=null,this.red=!0}return t.prototype.get_child=function(t){return t?this.right:this.left},t.prototype.set_child=function(t,e){t?this.right=e:this.left=e},t}(),l=function(t){function e(e){var n=t.call(this)||this;return n._root=null,n._comparator=e,n.size=0,n}return i(e,t),e.prototype.insert=function(t){var n=!1;if(null===this._root)this._root=new s(t),n=!0,this.size++;else{var r=new s(void 0),i=!1,o=!1,a=null,l=r,u=null,c=this._root;for(l.right=this._root;;){if(null===c?(c=new s(t),u.set_child(i,c),n=!0,this.size++):e.is_red(c.left)&&e.is_red(c.right)&&(c.red=!0,c.left.red=!1,c.right.red=!1),e.is_red(c)&&e.is_red(u)){var d=l.right===a;c===u.get_child(o)?l.set_child(d,e.single_rotate(a,!o)):l.set_child(d,e.double_rotate(a,!o))}var h=this._comparator(c.data,t);if(0===h)break;o=i,i=h<0,null!==a&&(l=a),a=u,u=c,c=c.get_child(i)}this._root=r.right}return this._root.red=!1,n},e.prototype.remove=function(t){if(null===this._root)return!1;var n=new s(void 0),r=n;r.right=this._root;for(var i=null,o=null,a=null,l=!0;null!==r.get_child(l);){var u=l;o=i,i=r,r=r.get_child(l);var c=this._comparator(t,r.data);if(l=c>0,0===c&&(a=r),!e.is_red(r)&&!e.is_red(r.get_child(l)))if(e.is_red(r.get_child(!l))){var d=e.single_rotate(r,l);i.set_child(u,d),i=d}else if(!e.is_red(r.get_child(!l))){var h=i.get_child(!u);if(null!==h)if(e.is_red(h.get_child(!u))||e.is_red(h.get_child(u))){var f=o.right===i;e.is_red(h.get_child(u))?o.set_child(f,e.double_rotate(i,u)):e.is_red(h.get_child(!u))&&o.set_child(f,e.single_rotate(i,u));var p=o.get_child(f);p.red=!0,r.red=!0,p.left.red=!1,p.right.red=!1}else i.red=!1,h.red=!0,r.red=!0}}return null!==a&&(a.data=r.data,i.set_child(i.right===r,r.get_child(null===r.left)),this.size--),this._root=n.right,null!==this._root&&(this._root.red=!1),null!==a},e.is_red=function(t){return null!==t&&t.red},e.single_rotate=function(t,e){var n=t.get_child(!e);return t.set_child(!e,n.get_child(e)),n.set_child(e,t),t.red=!0,n.red=!1,n},e.double_rotate=function(t,n){return t.set_child(!n,e.single_rotate(t.get_child(!n),!n)),e.single_rotate(t,n)},e}(o);n.RBTree=l}));e(M_);M_.TreeBase,M_.Iterator,M_.RBTree;var L_=n((function(e,n){var r,i=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function o(t){return t.bounds=void 0!==t.leaves?t.leaves.reduce((function(t,e){return e.bounds.union(t)}),a.empty()):a.empty(),void 0!==t.groups&&(t.bounds=t.groups.reduce((function(t,e){return o(e).union(t)}),t.bounds)),t.bounds=t.bounds.inflate(t.padding),t.bounds}Object.defineProperty(n,"__esModule",{value:!0}),n.computeGroupBounds=o;var a=function(){function t(t,e,n,r){this.x=t,this.X=e,this.y=n,this.Y=r}return t.empty=function(){return new t(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},t.prototype.cx=function(){return(this.x+this.X)/2},t.prototype.cy=function(){return(this.y+this.Y)/2},t.prototype.overlapX=function(t){var e=this.cx(),n=t.cx();return e<=n&&t.x<this.X?this.X-t.x:n<=e&&this.x<t.X?t.X-this.x:0},t.prototype.overlapY=function(t){var e=this.cy(),n=t.cy();return e<=n&&t.y<this.Y?this.Y-t.y:n<=e&&this.y<t.Y?t.Y-this.y:0},t.prototype.setXCentre=function(t){var e=t-this.cx();this.x+=e,this.X+=e},t.prototype.setYCentre=function(t){var e=t-this.cy();this.y+=e,this.Y+=e},t.prototype.width=function(){return this.X-this.x},t.prototype.height=function(){return this.Y-this.y},t.prototype.union=function(e){return new t(Math.min(this.x,e.x),Math.max(this.X,e.X),Math.min(this.y,e.y),Math.max(this.Y,e.Y))},t.prototype.lineIntersections=function(e,n,r,i){for(var o=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],a=[],s=0;s<4;++s){var l=t.lineIntersection(e,n,r,i,o[s][0],o[s][1],o[s][2],o[s][3]);null!==l&&a.push({x:l.x,y:l.y})}return a},t.prototype.rayIntersection=function(t,e){var n=this.lineIntersections(this.cx(),this.cy(),t,e);return n.length>0?n[0]:null},t.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},t.lineIntersection=function(t,e,n,r,i,o,a,s){var l=n-t,u=a-i,c=r-e,d=s-o,h=d*l-u*c;if(0==h)return null;var f=t-i,p=e-o,g=(u*p-d*f)/h,v=(l*p-c*f)/h;return g>=0&&g<=1&&v>=0&&v<=1?{x:t+g*l,y:e+g*c}:null},t.prototype.inflate=function(e){return new t(this.x-e,this.X+e,this.y-e,this.Y+e)},t}();n.Rectangle=a,n.makeEdgeBetween=function(t,e,n){var r=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},i=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},o=i.x-r.x,a=i.y-r.y,s=Math.sqrt(o*o+a*a),l=s-n;return{sourceIntersection:r,targetIntersection:i,arrowStart:{x:r.x+l*o/s,y:r.y+l*a/s}}},n.makeEdgeTo=function(t,e,n){var r=e.rayIntersection(t.x,t.y);r||(r={x:e.cx(),y:e.cy()});var i=r.x-t.x,o=r.y-t.y,a=Math.sqrt(i*i+o*o);return{x:r.x-n*i/a,y:r.y-n*o/a}};var s=function(t,e,n){this.v=t,this.r=e,this.pos=n,this.prev=c(),this.next=c()},l=function(t,e,n){this.isOpen=t,this.v=e,this.pos=n};function u(t,e){return t.pos>e.pos?1:t.pos<e.pos?-1:t.isOpen?-1:e.isOpen?1:0}function c(){return new M_.RBTree((function(t,e){return t.pos-e.pos}))}var d={getCentre:function(t){return t.cx()},getOpen:function(t){return t.y},getClose:function(t){return t.Y},getSize:function(t){return t.width()},makeRect:function(t,e,n,r){return new a(n-r/2,n+r/2,t,e)},findNeighbours:function(t,e){var n=function(n,r){for(var i,o=e.findIter(t);null!==(i=o[n]());){var a=i.r.overlapX(t.r);if((a<=0||a<=i.r.overlapY(t.r))&&(t[n].insert(i),i[r].insert(t)),a<=0)break}};n("next","prev"),n("prev","next")}},h={getCentre:function(t){return t.cy()},getOpen:function(t){return t.x},getClose:function(t){return t.X},getSize:function(t){return t.height()},makeRect:function(t,e,n,r){return new a(t,e,n-r/2,n+r/2)},findNeighbours:function(t,e){var n=function(n,r){var i=e.findIter(t)[n]();null!==i&&i.r.overlapX(t.r)>0&&(t[n].insert(i),i[r].insert(t))};n("next","prev"),n("prev","next")}};function f(t,e,n,r){void 0===r&&(r=!1);var i=t.padding,o=void 0!==t.groups?t.groups.length:0,a=void 0!==t.leaves?t.leaves.length:0,s=o?t.groups.reduce((function(t,r){return t.concat(f(r,e,n,!0))}),[]):[],l=(r?2:0)+a+o,u=new Array(l),c=new Array(l),d=0,h=function(t,e){c[d]=t,u[d++]=e};if(r){var g=t.bounds,v=e.getCentre(g),y=e.getSize(g)/2,m=e.getOpen(g),b=e.getClose(g),w=v-y+i/2,x=v+y-i/2;t.minVar.desiredPosition=w,h(e.makeRect(m,b,w,i),t.minVar),t.maxVar.desiredPosition=x,h(e.makeRect(m,b,x,i),t.maxVar)}a&&t.leaves.forEach((function(t){return h(t.bounds,t.variable)})),o&&t.groups.forEach((function(t){var n=t.bounds;h(e.makeRect(e.getOpen(n),e.getClose(n),e.getCentre(n),e.getSize(n)),t.minVar)}));var _=p(c,u,e,n);return o&&(u.forEach((function(t){t.cOut=[],t.cIn=[]})),_.forEach((function(t){t.left.cOut.push(t),t.right.cIn.push(t)})),t.groups.forEach((function(t){var n=(t.padding-e.getSize(t.bounds))/2;t.minVar.cIn.forEach((function(t){return t.gap+=n})),t.minVar.cOut.forEach((function(e){e.left=t.maxVar,e.gap+=n}))}))),s.concat(_)}function p(t,e,n,r){var i,o=t.length,a=2*o;console.assert(e.length>=o);var d=new Array(a);for(i=0;i<o;++i){var h=t[i],f=new s(e[i],h,n.getCentre(h));d[i]=new l(!0,f,n.getOpen(h)),d[i+o]=new l(!1,f,n.getClose(h))}d.sort(u);var p=new Array,g=c();for(i=0;i<a;++i){var v=d[i];f=v.v;if(v.isOpen)g.insert(f),n.findNeighbours(f,g);else{g.remove(f);var y=function(t,e){var i=(n.getSize(t.r)+n.getSize(e.r))/2+r;p.push(new A_.Constraint(t.v,e.v,i))},m=function(t,e,n){for(var r,i=f[t].iterator();null!==(r=i[t]());)n(r,f),r[e].remove(f)};m("prev","next",(function(t,e){return y(t,e)})),m("next","prev",(function(t,e){return y(e,t)}))}}return console.assert(0===g.size),p}function g(t,e){return p(t,e,d,1e-6)}function v(t,e){return p(t,e,h,1e-6)}function y(t){return f(t,d,1e-6)}function m(t){return f(t,h,1e-6)}n.generateXConstraints=g,n.generateYConstraints=v,n.generateXGroupConstraints=y,n.generateYGroupConstraints=m,n.removeOverlaps=function(t){var e=t.map((function(t){return new A_.Variable(t.cx())})),n=g(t,e),r=new A_.Solver(e,n);r.solve(),e.forEach((function(e,n){return t[n].setXCentre(e.position())})),e=t.map((function(t){return new A_.Variable(t.cy())})),n=v(t,e),(r=new A_.Solver(e,n)).solve(),e.forEach((function(e,n){return t[n].setYCentre(e.position())}))};var b=function(t){function e(e,n){var r=t.call(this,0,n)||this;return r.index=e,r}return i(e,t),e}(A_.Variable);n.IndexedVariable=b;var w=function(){function t(t,e,n,r,i){var s=this;if(void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=!1),this.nodes=t,this.groups=e,this.rootGroup=n,this.avoidOverlaps=i,this.variables=t.map((function(t,e){return t.variable=new b(e,1)})),r&&this.createConstraints(r),i&&n&&void 0!==n.groups){t.forEach((function(t){if(t.width&&t.height){var e=t.width/2,n=t.height/2;t.bounds=new a(t.x-e,t.x+e,t.y-n,t.y+n)}else t.bounds=new a(t.x,t.x,t.y,t.y)})),o(n);var l=t.length;e.forEach((function(t){s.variables[l]=t.minVar=new b(l++,void 0!==t.stiffness?t.stiffness:.01),s.variables[l]=t.maxVar=new b(l++,void 0!==t.stiffness?t.stiffness:.01)}))}}return t.prototype.createSeparation=function(t){return new A_.Constraint(this.nodes[t.left].variable,this.nodes[t.right].variable,t.gap,void 0!==t.equality&&t.equality)},t.prototype.makeFeasible=function(t){var e=this;if(this.avoidOverlaps){var n="x",r="width";"x"===t.axis&&(n="y",r="height");var i=t.offsets.map((function(t){return e.nodes[t.node]})).sort((function(t,e){return t[n]-e[n]})),o=null;i.forEach((function(t){if(o){var e=o[n]+o[r];e>t[n]&&(t[n]=e)}o=t}))}},t.prototype.createAlignment=function(t){var e=this,n=this.nodes[t.offsets[0].node].variable;this.makeFeasible(t);var r="x"===t.axis?this.xConstraints:this.yConstraints;t.offsets.slice(1).forEach((function(t){var i=e.nodes[t.node].variable;r.push(new A_.Constraint(n,i,t.offset,!0))}))},t.prototype.createConstraints=function(t){var e=this,n=function(t){return void 0===t.type||"separation"===t.type};this.xConstraints=t.filter((function(t){return"x"===t.axis&&n(t)})).map((function(t){return e.createSeparation(t)})),this.yConstraints=t.filter((function(t){return"y"===t.axis&&n(t)})).map((function(t){return e.createSeparation(t)})),t.filter((function(t){return"alignment"===t.type})).forEach((function(t){return e.createAlignment(t)}))},t.prototype.setupVariablesAndBounds=function(t,e,n,r){this.nodes.forEach((function(i,o){i.fixed?(i.variable.weight=i.fixedWeight?i.fixedWeight:1e3,n[o]=r(i)):i.variable.weight=1;var s=(i.width||0)/2,l=(i.height||0)/2,u=t[o],c=e[o];i.bounds=new a(u-s,u+s,c-l,c+l)}))},t.prototype.xProject=function(t,e,n){(this.rootGroup||this.avoidOverlaps||this.xConstraints)&&this.project(t,e,t,n,(function(t){return t.px}),this.xConstraints,y,(function(t){return t.bounds.setXCentre(n[t.variable.index]=t.variable.position())}),(function(t){var e=n[t.minVar.index]=t.minVar.position(),r=n[t.maxVar.index]=t.maxVar.position(),i=t.padding/2;t.bounds.x=e-i,t.bounds.X=r+i}))},t.prototype.yProject=function(t,e,n){(this.rootGroup||this.yConstraints)&&this.project(t,e,e,n,(function(t){return t.py}),this.yConstraints,m,(function(t){return t.bounds.setYCentre(n[t.variable.index]=t.variable.position())}),(function(t){var e=n[t.minVar.index]=t.minVar.position(),r=n[t.maxVar.index]=t.maxVar.position(),i=t.padding/2;t.bounds.y=e-i,t.bounds.Y=r+i}))},t.prototype.projectFunctions=function(){var t=this;return[function(e,n,r){return t.xProject(e,n,r)},function(e,n,r){return t.yProject(e,n,r)}]},t.prototype.project=function(t,e,n,r,i,a,s,l,u){this.setupVariablesAndBounds(t,e,r,i),this.rootGroup&&this.avoidOverlaps&&(o(this.rootGroup),a=a.concat(s(this.rootGroup))),this.solve(this.variables,a,n,r),this.nodes.forEach(l),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(u),o(this.rootGroup))},t.prototype.solve=function(t,e,n,r){var i=new A_.Solver(t,e);i.setStartingPositions(n),i.setDesiredPositions(r),i.solve()},t}();n.Projection=w}));e(L_);L_.computeGroupBounds,L_.Rectangle,L_.makeEdgeBetween,L_.makeEdgeTo,L_.generateXConstraints,L_.generateYConstraints,L_.generateXGroupConstraints,L_.generateYGroupConstraints,L_.removeOverlaps,L_.IndexedVariable,L_.Projection;var j_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.elem=t,this.subheaps=[]}return t.prototype.toString=function(t){for(var e="",n=!1,r=0;r<this.subheaps.length;++r){var i=this.subheaps[r];i.elem?(n&&(e+=","),e+=i.toString(t),n=!0):n=!1}return""!==e&&(e="("+e+")"),(this.elem?t(this.elem):"")+e},t.prototype.forEach=function(t){this.empty()||(t(this.elem,this),this.subheaps.forEach((function(e){return e.forEach(t)})))},t.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce((function(t,e){return t+e.count()}),0)},t.prototype.min=function(){return this.elem},t.prototype.empty=function(){return null==this.elem},t.prototype.contains=function(t){if(this===t)return!0;for(var e=0;e<this.subheaps.length;e++)if(this.subheaps[e].contains(t))return!0;return!1},t.prototype.isHeap=function(t){var e=this;return this.subheaps.every((function(n){return t(e.elem,n.elem)&&n.isHeap(t)}))},t.prototype.insert=function(e,n){return this.merge(new t(e),n)},t.prototype.merge=function(t,e){return this.empty()?t:t.empty()?this:e(this.elem,t.elem)?(this.subheaps.push(t),this):(t.subheaps.push(this),t)},t.prototype.removeMin=function(t){return this.empty()?null:this.mergePairs(t)},t.prototype.mergePairs=function(e){if(0==this.subheaps.length)return new t(null);if(1==this.subheaps.length)return this.subheaps[0];var n=this.subheaps.pop().merge(this.subheaps.pop(),e),r=this.mergePairs(e);return n.merge(r,e)},t.prototype.decreaseKey=function(e,n,r,i){var o=e.removeMin(i);e.elem=o.elem,e.subheaps=o.subheaps,null!==r&&null!==o.elem&&r(e.elem,e);var a=new t(n);return null!==r&&r(n,a),this.merge(a,i)},t}();e.PairingHeap=n;var r=function(){function t(t){this.lessThan=t}return t.prototype.top=function(){return this.empty()?null:this.root.elem},t.prototype.push=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i,o=0;i=e[o];++o)t=new n(i),this.root=this.empty()?t:this.root.merge(t,this.lessThan);return t},t.prototype.empty=function(){return!this.root||!this.root.elem},t.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},t.prototype.forEach=function(t){this.root.forEach(t)},t.prototype.pop=function(){if(this.empty())return null;var t=this.root.min();return this.root=this.root.removeMin(this.lessThan),t},t.prototype.reduceKey=function(t,e,n){void 0===n&&(n=null),this.root=this.root.decreaseKey(t,e,n,this.lessThan)},t.prototype.toString=function(t){return this.root.toString(t)},t.prototype.count=function(){return this.root.count()},t}();e.PriorityQueue=r}));e(j_);j_.PairingHeap,j_.PriorityQueue;var I_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){this.id=t,this.distance=e},r=function(t){this.id=t,this.neighbours=[]},i=function(t,e,n){this.node=t,this.prev=e,this.d=n},o=function(){function t(t,e,i,o,a){this.n=t,this.es=e,this.neighbours=new Array(this.n);for(var s=this.n;s--;)this.neighbours[s]=new r(s);for(s=this.es.length;s--;){var l=this.es[s],u=i(l),c=o(l),d=a(l);this.neighbours[u].neighbours.push(new n(c,d)),this.neighbours[c].neighbours.push(new n(u,d))}}return t.prototype.DistanceMatrix=function(){for(var t=new Array(this.n),e=0;e<this.n;++e)t[e]=this.dijkstraNeighbours(e);return t},t.prototype.DistancesFromNode=function(t){return this.dijkstraNeighbours(t)},t.prototype.PathFromNodeToNode=function(t,e){return this.dijkstraNeighbours(t,e)},t.prototype.PathFromNodeToNodeWithPrevCost=function(t,e,n){var r=new j_.PriorityQueue((function(t,e){return t.d<=e.d})),o=this.neighbours[t],a=new i(o,null,0),s={};for(r.push(a);!r.empty()&&(o=(a=r.pop()).node).id!==e;)for(var l=o.neighbours.length;l--;){var u=o.neighbours[l],c=this.neighbours[u.id];if(!a.prev||c.id!==a.prev.node.id){var d=c.id+","+o.id;if(!(d in s&&s[d]<=a.d)){var h=a.prev?n(a.prev.node.id,o.id,c.id):0,f=a.d+u.distance+h;s[d]=f,r.push(new i(c,a,f))}}}for(var p=[];a.prev;)a=a.prev,p.push(a.node.id);return p},t.prototype.dijkstraNeighbours=function(t,e){void 0===e&&(e=-1);for(var n=new j_.PriorityQueue((function(t,e){return t.d<=e.d})),r=this.neighbours.length,i=new Array(r);r--;){var o=this.neighbours[r];o.d=r===t?0:Number.POSITIVE_INFINITY,o.q=n.push(o)}for(;!n.empty();){var a=n.pop();if(i[a.id]=a.d,a.id===e){for(var s=[],l=a;void 0!==l.prev;)s.push(l.prev.id),l=l.prev;return s}for(r=a.neighbours.length;r--;){var u=a.neighbours[r],c=(l=this.neighbours[u.id],a.d+u.distance);a.d!==Number.MAX_VALUE&&l.d>c&&(l.d=c,l.prev=a,n.reduceKey(l.q,l,(function(t,e){return t.q=e})))}}return i},t}();e.Calculator=o}));e(I_);I_.Calculator;var R_=n((function(e,n){var r,i=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(){};n.Point=o;var a=function(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r};n.LineSegment=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o);function l(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)}function u(t,e,n){return l(t,e,n)>0}function c(t,e,n){return l(t,e,n)<0}function d(t,e){var n,r,i,o,a=e.length-1;if(c(t,e[1],e[0])&&!u(t,e[a-1],e[0]))return 0;for(n=0,r=a;;){if(r-n==1)return u(t,e[n],e[r])?n:r;if((o=c(t,e[(i=Math.floor((n+r)/2))+1],e[i]))&&!u(t,e[i-1],e[i]))return i;u(t,e[n+1],e[n])?o?r=i:u(t,e[n],e[i])?r=i:n=i:o&&c(t,e[n],e[i])?r=i:n=i}}function h(t,e){var n,r,i,o,a=e.length-1;if(u(t,e[a-1],e[0])&&!c(t,e[1],e[0]))return 0;for(n=0,r=a;;){if(r-n==1)return c(t,e[n],e[r])?n:r;if(o=c(t,e[(i=Math.floor((n+r)/2))+1],e[i]),u(t,e[i-1],e[i])&&!o)return i;c(t,e[n+1],e[n])?o?c(t,e[n],e[i])?r=i:n=i:r=i:o?n=i:u(t,e[n],e[i])?r=i:n=i}}function f(t,e,n,r,i,o){var a,s;s=r(t[a=n(e[0],t)],e);for(var l=!1;!l;){for(l=!0;a===t.length-1&&(a=0),!i(e[s],t[a],t[a+1]);)++a;for(;0===s&&(s=e.length-1),!o(t[a],e[s],e[s-1]);)--s,l=!1}return{t1:a,t2:s}}function p(t,e){return f(t,e,d,h,u,c)}n.PolyPoint=s,n.isLeft=l,n.ConvexHull=function(t){var e,n=t.slice(0).sort((function(t,e){return t.x!==e.x?e.x-t.x:e.y-t.y})),r=t.length,i=n[0].x;for(e=1;e<r&&n[e].x===i;++e);var o=e-1,a=[];if(a.push(n[0]),o===r-1)n[o].y!==n[0].y&&a.push(n[o]);else{var s,u=r-1,c=n[r-1].x;for(e=r-2;e>=0&&n[e].x===c;e--);for(s=e+1,e=o;++e<=s;)if(!(l(n[0],n[s],n[e])>=0&&e<s)){for(;a.length>1&&!(l(a[a.length-2],a[a.length-1],n[e])>0);)a.length-=1;0!=e&&a.push(n[e])}u!=s&&a.push(n[u]);var d=a.length;for(e=s;--e>=o;)if(!(l(n[u],n[o],n[e])>=0&&e>o)){for(;a.length>d&&!(l(a[a.length-2],a[a.length-1],n[e])>0);)a.length-=1;0!=e&&a.push(n[e])}}return a},n.clockwiseRadialSweep=function(t,e,n){e.slice(0).sort((function(e,n){return Math.atan2(e.y-t.y,e.x-t.x)-Math.atan2(n.y-t.y,n.x-t.x)})).forEach(n)},n.tangent_PolyPolyC=f,n.LRtangent_PolyPolyC=function(t,e){var n=p(e,t);return{t1:n.t2,t2:n.t1}},n.RLtangent_PolyPolyC=p,n.LLtangent_PolyPolyC=function(t,e){return f(t,e,h,h,c,c)},n.RRtangent_PolyPolyC=function(t,e){return f(t,e,d,d,u,u)};var g=function(t,e){this.t1=t,this.t2=e};n.BiTangent=g;var v=function(){};n.BiTangents=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o);n.TVGPoint=y;var m=function(t,e,n,r){this.id=t,this.polyid=e,this.polyvertid=n,this.p=r,r.vv=this};n.VisibilityVertex=m;var b=function(){function t(t,e){this.source=t,this.target=e}return t.prototype.length=function(){var t=this.source.p.x-this.target.p.x,e=this.source.p.y-this.target.p.y;return Math.sqrt(t*t+e*e)},t}();n.VisibilityEdge=b;var w=function(){function t(t,e){if(this.P=t,this.V=[],this.E=[],e)this.V=e.V.slice(0),this.E=e.E.slice(0);else{for(var n=t.length,r=0;r<n;r++){for(var i=t[r],o=0;o<i.length;++o){var a=i[o],s=new m(this.V.length,r,o,a);this.V.push(s),o>0&&this.E.push(new b(i[o-1].vv,s))}i.length>1&&this.E.push(new b(i[0].vv,i[i.length-1].vv))}for(r=0;r<n-1;r++){var l=t[r];for(o=r+1;o<n;o++){var u=t[o],c=_(l,u);for(var d in c){var h=c[d],f=l[h.t1],p=u[h.t2];this.addEdgeIfVisible(f,p,r,o)}}}}}return t.prototype.addEdgeIfVisible=function(t,e,n,r){this.intersectsPolys(new a(t.x,t.y,e.x,e.y),n,r)||this.E.push(new b(t.vv,e.vv))},t.prototype.addPoint=function(t,e){var n,r,i,o=this.P.length;this.V.push(new m(this.V.length,o,0,t));for(var a=0;a<o;++a)if(a!==e){var s=this.P[a],l=(n=t,i=void 0,(i=(r=s).slice(0)).push(r[0]),{rtan:d(n,i),ltan:h(n,i)});this.addEdgeIfVisible(t,s[l.ltan],e,a),this.addEdgeIfVisible(t,s[l.rtan],e,a)}return t.vv},t.prototype.intersectsPolys=function(t,e,n){for(var r=0,i=this.P.length;r<i;++r)if(r!=e&&r!=n&&x(t,this.P[r]).length>0)return!0;return!1},t}();function x(t,e){for(var n=[],r=1,i=e.length;r<i;++r){var o=L_.Rectangle.lineIntersection(t.x1,t.y1,t.x2,t.y2,e[r-1].x,e[r-1].y,e[r].x,e[r].y);o&&n.push(o)}return n}function _(t,e){for(var n=t.length-1,r=e.length-1,i=new v,o=0;o<n;++o)for(var a=0;a<r;++a){var s=t[0==o?n-1:o-1],u=t[o],c=t[o+1],d=e[0==a?r-1:a-1],h=e[a],f=e[a+1],p=l(s,u,h),y=l(u,d,h),m=l(u,h,f),b=l(d,h,u),w=l(h,s,u),x=l(h,u,c);p>=0&&y>=0&&m<0&&b>=0&&w>=0&&x<0?i.ll=new g(o,a):p<=0&&y<=0&&m>0&&b<=0&&w<=0&&x>0?i.rr=new g(o,a):p<=0&&y>0&&m<=0&&b>=0&&w<0&&x>=0?i.rl=new g(o,a):p>=0&&y<0&&m>=0&&b<=0&&w>0&&x<=0&&(i.lr=new g(o,a))}return i}function E(t,e){return!t.every((function(t){return!function(t,e){for(var n=1,r=e.length;n<r;++n)if(c(e[n-1],e[n],t))return!1;return!0}(t,e)}))}n.TangentVisibilityGraph=w,n.tangents=_,n.polysOverlap=function(t,e){if(E(t,e))return!0;if(E(e,t))return!0;for(var n=1,r=t.length;n<r;++n){var i=t[n],o=t[n-1];if(x(new a(o.x,o.y,i.x,i.y),e).length>0)return!0}return!1}}));e(R_);R_.Point,R_.LineSegment,R_.PolyPoint,R_.isLeft,R_.ConvexHull,R_.clockwiseRadialSweep,R_.tangent_PolyPolyC,R_.LRtangent_PolyPolyC,R_.RLtangent_PolyPolyC,R_.LLtangent_PolyPolyC,R_.RRtangent_PolyPolyC,R_.BiTangent,R_.BiTangents,R_.TVGPoint,R_.VisibilityVertex,R_.VisibilityEdge,R_.TangentVisibilityGraph,R_.tangents,R_.polysOverlap;var B_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};e.applyPacking=function(t,e,r,i,o,a){void 0===o&&(o=1),void 0===a&&(a=!0);var s=0,l=0,u=e,c=r,d=(o=void 0!==o?o:1,i=void 0!==i?i:0,0),h=0,f=0,p=0,g=[];function v(t,e){g=[],d=0,h=0,p=l;for(var n=0;n<t.length;n++){y(t[n],e)}return Math.abs(d/h-o)}function y(t,e){for(var r=void 0,i=0;i<g.length;i++)if(g[i].space_left>=t.height&&g[i].x+g[i].width+t.width+n.PADDING-e<=n.FLOAT_EPSILON){r=g[i];break}g.push(t),void 0!==r?(t.x=r.x+r.width+n.PADDING,t.y=r.bottom,t.space_left=t.height,t.bottom=t.y,r.space_left-=t.height+n.PADDING,r.bottom+=t.height+n.PADDING):(t.y=p,p+=t.height+n.PADDING,t.x=s,t.bottom=t.y,t.space_left=t.height),t.y+t.height-h>-n.FLOAT_EPSILON&&(h=t.y+t.height-l),t.x+t.width-d>-n.FLOAT_EPSILON&&(d=t.x+t.width-s)}0!=t.length&&(function(t){t.forEach((function(t){var e,n,r,o,a;e=t,n=Number.MAX_VALUE,r=Number.MAX_VALUE,o=0,a=0,e.array.forEach((function(t){var e=void 0!==t.width?t.width:i,s=void 0!==t.height?t.height:i;e/=2,s/=2,o=Math.max(t.x+e,o),n=Math.min(t.x-e,n),a=Math.max(t.y+s,a),r=Math.min(t.y-s,r)})),e.width=o-n,e.height=a-r}))}(t),function(t,e){var r=Number.POSITIVE_INFINITY,i=0;t.sort((function(t,e){return e.height-t.height})),f=t.reduce((function(t,e){return t.width<e.width?t.width:e.width}));var o=p=f,a=g=function(t){var e=0;return t.forEach((function(t){return e+=t.width+n.PADDING})),e}(t),s=0,l=Number.MAX_VALUE,u=Number.MAX_VALUE,c=-1,d=Number.MAX_VALUE,h=Number.MAX_VALUE;for(;d>f||h>n.FLOAT_EPSILON;){if(1!=c){var p=a-(a-o)/n.GOLDEN_SECTION;l=v(t,p)}if(0!=c){var g=o+(a-o)/n.GOLDEN_SECTION;u=v(t,g)}if(d=Math.abs(p-g),h=Math.abs(l-u),l<r&&(r=l,i=p),u<r&&(r=u,i=g),l>u?(o=p,p=g,l=u,c=1):(a=g,g=p,u=l,c=0),s++>100)break}v(t,i)}(t),a&&function(t){t.forEach((function(t){var e={x:0,y:0};t.array.forEach((function(t){e.x+=t.x,e.y+=t.y})),e.x/=t.array.length,e.y/=t.array.length;var n=e.x-t.width/2,r=e.y-t.height/2,i=t.x-n+u/2-d/2,o=t.y-r+c/2-h/2;t.array.forEach((function(t){t.x+=i,t.y+=o}))}))}(t))},e.separateGraphs=function(t,e){for(var n={},r={},i=[],o=0,a=0;a<e.length;a++){var s=e[a],l=s.source,u=s.target;r[l.index]?r[l.index].push(u):r[l.index]=[u],r[u.index]?r[u.index].push(l):r[u.index]=[l]}for(a=0;a<t.length;a++){var c=t[a];n[c.index]||d(c,!0)}function d(t,e){if(void 0===n[t.index]){e&&(o++,i.push({array:[]})),n[t.index]=o,i[o-1].array.push(t);var a=r[t.index];if(a)for(var s=0;s<a.length;s++)d(a[s],!1)}}return i}}));e(B_);B_.applyPacking,B_.separateGraphs;var z_=n((function(t,e){var n;function r(t){return void 0!==t.leaves||void 0!==t.groups}Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.start=0]="start",t[t.tick=1]="tick",t[t.end=2]="end"}(n=e.EventType||(e.EventType={}));var i=function(){function t(){var e=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:t.getSourceIndex,getTargetIndex:t.getTargetIndex,setLength:t.setLinkLength,getType:function(t){return"function"==typeof e._linkType?e._linkType(t):0}}}return t.prototype.on=function(t,e){return this.event||(this.event={}),"string"==typeof t?this.event[n[t]]=e:this.event[t]=e,this},t.prototype.trigger=function(t){this.event&&void 0!==this.event[t.type]&&this.event[t.type](t)},t.prototype.kick=function(){for(;!this.tick(););},t.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:n.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var t,e,r=this._nodes.length;this._links.length;for(this._descent.locks.clear(),e=0;e<r;++e)if((t=this._nodes[e]).fixed){void 0!==t.px&&void 0!==t.py||(t.px=t.x,t.py=t.y);var i=[t.px,t.py];this._descent.locks.add(e,i)}var o=this._descent.rungeKutta();return 0===o?this._alpha=0:void 0!==this._lastStress&&(this._alpha=o),this._lastStress=o,this.updateNodePositions(),this.trigger({type:n.tick,alpha:this._alpha,stress:this._lastStress}),!1},t.prototype.updateNodePositions=function(){for(var t,e=this._descent.x[0],n=this._descent.x[1],r=this._nodes.length;r--;)(t=this._nodes[r]).x=e[r],t.y=n[r]},t.prototype.nodes=function(t){if(!t){if(0===this._nodes.length&&this._links.length>0){var e=0;this._links.forEach((function(t){e=Math.max(e,t.source,t.target)})),this._nodes=new Array(++e);for(var n=0;n<e;++n)this._nodes[n]={}}return this._nodes}return this._nodes=t,this},t.prototype.groups=function(t){var e=this;return t?(this._groups=t,this._rootGroup={},this._groups.forEach((function(t){void 0===t.padding&&(t.padding=1),void 0!==t.leaves&&t.leaves.forEach((function(n,r){"number"==typeof n&&((t.leaves[r]=e._nodes[n]).parent=t)})),void 0!==t.groups&&t.groups.forEach((function(n,r){"number"==typeof n&&((t.groups[r]=e._groups[n]).parent=t)}))})),this._rootGroup.leaves=this._nodes.filter((function(t){return void 0===t.parent})),this._rootGroup.groups=this._groups.filter((function(t){return void 0===t.parent})),this):this._groups},t.prototype.powerGraphGroups=function(t){var e=P_.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(e.groups),t(e),this},t.prototype.avoidOverlaps=function(t){return arguments.length?(this._avoidOverlaps=t,this):this._avoidOverlaps},t.prototype.handleDisconnected=function(t){return arguments.length?(this._handleDisconnected=t,this):this._handleDisconnected},t.prototype.flowLayout=function(t,e){return arguments.length||(t="y"),this._directedLinkConstraints={axis:t,getMinSeparation:"number"==typeof e?function(){return e}:e},this},t.prototype.links=function(t){return arguments.length?(this._links=t,this):this._links},t.prototype.constraints=function(t){return arguments.length?(this._constraints=t,this):this._constraints},t.prototype.distanceMatrix=function(t){return arguments.length?(this._distanceMatrix=t,this):this._distanceMatrix},t.prototype.size=function(t){return t?(this._canvasSize=t,this):this._canvasSize},t.prototype.defaultNodeSize=function(t){return t?(this._defaultNodeSize=t,this):this._defaultNodeSize},t.prototype.groupCompactness=function(t){return t?(this._groupCompactness=t,this):this._groupCompactness},t.prototype.linkDistance=function(t){return t?(this._linkDistance="function"==typeof t?t:+t,this._linkLengthCalculator=null,this):this._linkDistance},t.prototype.linkType=function(t){return this._linkType=t,this},t.prototype.convergenceThreshold=function(t){return t?(this._threshold="function"==typeof t?t:+t,this):this._threshold},t.prototype.alpha=function(t){return arguments.length?(t=+t,this._alpha?this._alpha=t>0?t:0:t>0&&(this._running||(this._running=!0,this.trigger({type:n.start,alpha:this._alpha=t}),this.kick())),this):this._alpha},t.prototype.getLinkLength=function(t){return"function"==typeof this._linkDistance?+this._linkDistance(t):this._linkDistance},t.setLinkLength=function(t,e){t.length=e},t.prototype.getLinkType=function(t){return"function"==typeof this._linkType?this._linkType(t):0},t.prototype.symmetricDiffLinkLengths=function(t,e){var n=this;return void 0===e&&(e=1),this.linkDistance((function(e){return t*e.length})),this._linkLengthCalculator=function(){return N_.symmetricDiffLinkLengths(n._links,n.linkAccessor,e)},this},t.prototype.jaccardLinkLengths=function(t,e){var n=this;return void 0===e&&(e=1),this.linkDistance((function(e){return t*e.length})),this._linkLengthCalculator=function(){return N_.jaccardLinkLengths(n._links,n.linkAccessor,e)},this},t.prototype.start=function(e,n,r,i,o,a){var s=this;void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=!0),void 0===a&&(a=!0);var l,u=this.nodes().length,c=u+2*this._groups.length,d=(this._links.length,this._canvasSize[0]),h=this._canvasSize[1],f=new Array(c),p=new Array(c),g=null,v=this._avoidOverlaps;this._nodes.forEach((function(t,e){t.index=e,void 0===t.x&&(t.x=d/2,t.y=h/2),f[e]=t.x,p[e]=t.y})),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?l=this._distanceMatrix:(l=new I_.Calculator(c,this._links,t.getSourceIndex,t.getTargetIndex,(function(t){return s.getLinkLength(t)})).DistanceMatrix(),g=D_.Descent.createSquareMatrix(c,(function(){return 2})),this._links.forEach((function(t){"number"==typeof t.source&&(t.source=s._nodes[t.source]),"number"==typeof t.target&&(t.target=s._nodes[t.target])})),this._links.forEach((function(e){var n=t.getSourceIndex(e),r=t.getTargetIndex(e);g[n][r]=g[r][n]=e.weight||1})));var y=D_.Descent.createSquareMatrix(c,(function(t,e){return l[t][e]}));if(this._rootGroup&&void 0!==this._rootGroup.groups){var m=u;this._groups.forEach((function(t){!function(t,e,n,r){g[t][e]=g[e][t]=n,y[t][e]=y[e][t]=r}(m,m+1,s._groupCompactness,.1),f[m]=0,p[m++]=0,f[m]=0,p[m++]=0}))}else this._rootGroup={leaves:this._nodes,groups:[]};var b=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,b=b.concat(N_.generateDirectedEdgeConstraints(u,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new D_.Descent([f,p],y),this._descent.locks.clear();for(m=0;m<u;++m){var w=this._nodes[m];if(w.fixed){w.px=w.x,w.py=w.y;var x=[w.x,w.y];this._descent.locks.add(m,x)}}if(this._descent.threshold=this._threshold,this.initialLayout(e,f,p),b.length>0&&(this._descent.project=new L_.Projection(this._nodes,this._groups,this._rootGroup,b).projectFunctions()),this._descent.run(n),this.separateOverlappingComponents(d,h,a),this.avoidOverlaps(v),v&&(this._nodes.forEach((function(t,e){t.x=f[e],t.y=p[e]})),this._descent.project=new L_.Projection(this._nodes,this._groups,this._rootGroup,b,!0).projectFunctions(),this._nodes.forEach((function(t,e){f[e]=t.x,p[e]=t.y}))),this._descent.G=g,this._descent.run(r),i){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=u,this._descent.scaleSnapByMaxH=u!=c;var _=D_.Descent.createSquareMatrix(c,(function(t,e){return t>=u||e>=u?g[t][e]:0}));this._descent.G=_,this._descent.run(i)}return this.updateNodePositions(),this.separateOverlappingComponents(d,h,a),o?this.resume():this},t.prototype.initialLayout=function(e,n,r){if(this._groups.length>0&&e>0){var i=this._nodes.length,o=this._links.map((function(t){return{source:t.source.index,target:t.target.index}})),a=this._nodes.map((function(t){return{index:t.index}}));this._groups.forEach((function(t,e){a.push({index:t.index=i+e})})),this._groups.forEach((function(t,e){void 0!==t.leaves&&t.leaves.forEach((function(e){return o.push({source:t.index,target:e.index})})),void 0!==t.groups&&t.groups.forEach((function(e){return o.push({source:t.index,target:e.index})}))})),(new t).size(this.size()).nodes(a).links(o).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(e,0,0,0,!1),this._nodes.forEach((function(t){n[t.index]=a[t.index].x,r[t.index]=a[t.index].y}))}else this._descent.run(e)},t.prototype.separateOverlappingComponents=function(t,e,n){var r=this;if(void 0===n&&(n=!0),!this._distanceMatrix&&this._handleDisconnected){var i=this._descent.x[0],o=this._descent.x[1];this._nodes.forEach((function(t,e){t.x=i[e],t.y=o[e]}));var a=B_.separateGraphs(this._nodes,this._links);B_.applyPacking(a,t,e,this._defaultNodeSize,1,n),this._nodes.forEach((function(t,e){r._descent.x[0][e]=t.x,r._descent.x[1][e]=t.y,t.bounds&&(t.bounds.setXCentre(t.x),t.bounds.setYCentre(t.y))}))}},t.prototype.resume=function(){return this.alpha(.1)},t.prototype.stop=function(){return this.alpha(0)},t.prototype.prepareEdgeRouting=function(t){void 0===t&&(t=0),this._visibilityGraph=new R_.TangentVisibilityGraph(this._nodes.map((function(e){return e.bounds.inflate(-t).vertices()})))},t.prototype.routeEdge=function(t,e,n){void 0===e&&(e=5);var r=[],i=new R_.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),o={x:t.source.x,y:t.source.y},a={x:t.target.x,y:t.target.y},s=i.addPoint(o,t.source.index),l=i.addPoint(a,t.target.index);i.addEdgeIfVisible(o,a,t.source.index,t.target.index),void 0!==n&&n(i);var u=new I_.Calculator(i.V.length,i.E,(function(t){return t.source.id}),(function(t){return t.target.id}),(function(t){return t.length()})).PathFromNodeToNode(s.id,l.id);if(1===u.length||u.length===i.V.length){var c=L_.makeEdgeBetween(t.source.innerBounds,t.target.innerBounds,e);r=[c.sourceIntersection,c.arrowStart]}else{for(var d=u.length-2,h=i.V[u[d]].p,f=i.V[u[0]].p,p=(r=[t.source.innerBounds.rayIntersection(h.x,h.y)],d);p>=0;--p)r.push(i.V[u[p]].p);r.push(L_.makeEdgeTo(f,t.target.innerBounds,e))}return r},t.getSourceIndex=function(t){return"number"==typeof t.source?t.source:t.source.index},t.getTargetIndex=function(t){return"number"==typeof t.target?t.target:t.target.index},t.linkId=function(e){return t.getSourceIndex(e)+"-"+t.getTargetIndex(e)},t.dragStart=function(e){r(e)?t.storeOffset(e,t.dragOrigin(e)):(t.stopNode(e),e.fixed|=2)},t.stopNode=function(t){t.px=t.x,t.py=t.y},t.storeOffset=function(e,n){void 0!==e.leaves&&e.leaves.forEach((function(e){e.fixed|=2,t.stopNode(e),e._dragGroupOffsetX=e.x-n.x,e._dragGroupOffsetY=e.y-n.y})),void 0!==e.groups&&e.groups.forEach((function(e){return t.storeOffset(e,n)}))},t.dragOrigin=function(t){return r(t)?{x:t.bounds.cx(),y:t.bounds.cy()}:t},t.drag=function(e,n){r(e)?(void 0!==e.leaves&&e.leaves.forEach((function(t){e.bounds.setXCentre(n.x),e.bounds.setYCentre(n.y),t.px=t._dragGroupOffsetX+n.x,t.py=t._dragGroupOffsetY+n.y})),void 0!==e.groups&&e.groups.forEach((function(e){return t.drag(e,n)}))):(e.px=n.x,e.py=n.y)},t.dragEnd=function(e){r(e)?(void 0!==e.leaves&&e.leaves.forEach((function(e){t.dragEnd(e),delete e._dragGroupOffsetX,delete e._dragGroupOffsetY})),void 0!==e.groups&&e.groups.forEach(t.dragEnd)):e.fixed&=-7},t.mouseOver=function(t){t.fixed|=4,t.px=t.x,t.py=t.y},t.mouseOut=function(t){t.fixed&=-5},t}();e.Layout=i}));e(z_);z_.EventType,z_.Layout;var F_=n((function(e,n){var r,i=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this)||this,r=e;return r.trigger&&(n.trigger=r.trigger),r.kick&&(n.kick=r.kick),r.drag&&(n.drag=r.drag),r.on&&(n.on=r.on),n.dragstart=n.dragStart=z_.Layout.dragStart,n.dragend=n.dragEnd=z_.Layout.dragEnd,n}return i(e,t),e.prototype.trigger=function(t){},e.prototype.kick=function(){},e.prototype.drag=function(){},e.prototype.on=function(t,e){return this},e}(z_.Layout);n.LayoutAdaptor=o,n.adaptor=function(t){return new o(t)}}));e(F_);F_.LayoutAdaptor,F_.adaptor;var V_=n((function(e,n){var r,i=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this;e.event=d3.dispatch(z_.EventType[z_.EventType.start],z_.EventType[z_.EventType.tick],z_.EventType[z_.EventType.end]);var n=e;return e.drag=function(){if(!t)var t=d3.behavior.drag().origin(z_.Layout.dragOrigin).on("dragstart.d3adaptor",z_.Layout.dragStart).on("drag.d3adaptor",(function(t){z_.Layout.drag(t,d3.event),n.resume()})).on("dragend.d3adaptor",z_.Layout.dragEnd);if(!arguments.length)return t;this.call(t)},e}return i(e,t),e.prototype.trigger=function(t){var e={type:z_.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event[e.type](e)},e.prototype.kick=function(){var e=this;d3.timer((function(){return t.prototype.tick.call(e)}))},e.prototype.on=function(t,e){return"string"==typeof t?this.event.on(t,e):this.event.on(z_.EventType[t],e),this},e}(z_.Layout);n.D3StyleLayoutAdaptor=o,n.d3adaptor=function(){return new o}}));e(V_);V_.D3StyleLayoutAdaptor,V_.d3adaptor;var q_=n((function(e,n){var r,i=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this)||this;n.d3Context=e,n.event=e.dispatch(z_.EventType[z_.EventType.start],z_.EventType[z_.EventType.tick],z_.EventType[z_.EventType.end]);var r=n;return n.drag=function(){if(!t)var t=e.drag().subject(z_.Layout.dragOrigin).on("start.d3adaptor",z_.Layout.dragStart).on("drag.d3adaptor",(function(t){z_.Layout.drag(t,e.event),r.resume()})).on("end.d3adaptor",z_.Layout.dragEnd);if(!arguments.length)return t;arguments[0].call(t)},n}return i(e,t),e.prototype.trigger=function(t){var e={type:z_.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event.call(e.type,e)},e.prototype.kick=function(){var e=this,n=this.d3Context.timer((function(){return t.prototype.tick.call(e)&&n.stop()}))},e.prototype.on=function(t,e){return"string"==typeof t?this.event.on(t,e):this.event.on(z_.EventType[t],e),this},e}(z_.Layout);n.D3StyleLayoutAdaptor=o}));e(q_);q_.D3StyleLayoutAdaptor;var U_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.d3adaptor=function(t){return!t||function(t){return t.version&&null!==t.version.match(/^3\./)}(t)?new V_.D3StyleLayoutAdaptor:new q_.D3StyleLayoutAdaptor(t)}}));e(U_);U_.d3adaptor;var H_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){this.id=t,this.rect=e,this.children=n,this.leaf=void 0===n||0===n.length};e.NodeWrapper=n;var r=function(t,e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),this.id=t,this.x=e,this.y=n,this.node=r,this.line=i};e.Vert=r;var i=function(){function t(e,n){this.s=e,this.t=n;var r=t.findMatch(e,n),i=n.slice(0).reverse(),o=t.findMatch(e,i);r.length>=o.length?(this.length=r.length,this.si=r.si,this.ti=r.ti,this.reversed=!1):(this.length=o.length,this.si=o.si,this.ti=n.length-o.ti-o.length,this.reversed=!0)}return t.findMatch=function(t,e){for(var n=t.length,r=e.length,i={length:0,si:-1,ti:-1},o=new Array(n),a=0;a<n;a++){o[a]=new Array(r);for(var s=0;s<r;s++)if(t[a]===e[s]){var l=o[a][s]=0===a||0===s?1:o[a-1][s-1]+1;l>i.length&&(i.length=l,i.si=a-l+1,i.ti=s-l+1)}else o[a][s]=0}return i},t.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},t}();e.LongestCommonSubsequence=i;var o=function(){function t(t,e,i){var o=this;void 0===i&&(i=12),this.originalnodes=t,this.groupPadding=i,this.leaves=null,this.nodes=t.map((function(t,r){return new n(r,e.getBounds(t),e.getChildren(t))})),this.leaves=this.nodes.filter((function(t){return t.leaf})),this.groups=this.nodes.filter((function(t){return!t.leaf})),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach((function(t){return t.children.forEach((function(e){return o.nodes[e].parent=t}))})),this.root={children:[]},this.nodes.forEach((function(t){void 0===t.parent&&(t.parent=o.root,o.root.children.push(t.id)),t.ports=[]})),this.backToFront=this.nodes.slice(0),this.backToFront.sort((function(t,e){return o.getDepth(t)-o.getDepth(e)})),this.backToFront.slice(0).reverse().filter((function(t){return!t.leaf})).forEach((function(t){var e=L_.Rectangle.empty();t.children.forEach((function(t){return e=e.union(o.nodes[t].rect)})),t.rect=e.inflate(o.groupPadding)}));var a=this.midPoints(this.cols.map((function(t){return t.pos}))),s=this.midPoints(this.rows.map((function(t){return t.pos}))),l=a[0],u=a[a.length-1],c=s[0],d=s[s.length-1],h=this.rows.map((function(t){return{x1:l,x2:u,y1:t.pos,y2:t.pos}})).concat(s.map((function(t){return{x1:l,x2:u,y1:t,y2:t}}))),f=this.cols.map((function(t){return{x1:t.pos,x2:t.pos,y1:c,y2:d}})).concat(a.map((function(t){return{x1:t,x2:t,y1:c,y2:d}}))),p=h.concat(f);p.forEach((function(t){return t.verts=[]})),this.verts=[],this.edges=[],h.forEach((function(t){return f.forEach((function(e){var n=new r(o.verts.length,e.x1,t.y1);t.verts.push(n),e.verts.push(n),o.verts.push(n);for(var i=o.backToFront.length;i-- >0;){var a=o.backToFront[i],s=a.rect,l=Math.abs(n.x-s.cx()),u=Math.abs(n.y-s.cy());if(l<s.width()/2&&u<s.height()/2){n.node=a;break}}}))})),p.forEach((function(t,e){o.nodes.forEach((function(e,n){e.rect.lineIntersections(t.x1,t.y1,t.x2,t.y2).forEach((function(n,i){var a=new r(o.verts.length,n.x,n.y,e,t);o.verts.push(a),t.verts.push(a),e.ports.push(a)}))}));var n=Math.abs(t.y1-t.y2)<.1,i=function(t,e){return n?e.x-t.x:e.y-t.y};t.verts.sort(i);for(var a=1;a<t.verts.length;a++){var s=t.verts[a-1],l=t.verts[a];s.node&&s.node===l.node&&s.node.leaf||o.edges.push({source:s.id,target:l.id,length:Math.abs(i(s,l))})}}))}return t.prototype.avg=function(t){return t.reduce((function(t,e){return t+e}))/t.length},t.prototype.getGridLines=function(t){for(var e=[],n=this.leaves.slice(0,this.leaves.length);n.length>0;){var r=n.filter((function(e){return e.rect["overlap"+t.toUpperCase()](n[0].rect)})),i={nodes:r,pos:this.avg(r.map((function(e){return e.rect["c"+t]()})))};e.push(i),i.nodes.forEach((function(t){return n.splice(n.indexOf(t),1)}))}return e.sort((function(t,e){return t.pos-e.pos})),e},t.prototype.getDepth=function(t){for(var e=0;t.parent!==this.root;)e++,t=t.parent;return e},t.prototype.midPoints=function(t){for(var e=t[1]-t[0],n=[t[0]-e/2],r=1;r<t.length;r++)n.push((t[r]+t[r-1])/2);return n.push(t[t.length-1]+e/2),n},t.prototype.findLineage=function(t){var e=[t];do{t=t.parent,e.push(t)}while(t!==this.root);return e.reverse()},t.prototype.findAncestorPathBetween=function(t,e){for(var n=this.findLineage(t),r=this.findLineage(e),i=0;n[i]===r[i];)i++;return{commonAncestor:n[i-1],lineages:n.slice(i).concat(r.slice(i))}},t.prototype.siblingObstacles=function(t,e){var n=this,r=this.findAncestorPathBetween(t,e),i={};r.lineages.forEach((function(t){return i[t.id]={}}));var o=r.commonAncestor.children.filter((function(t){return!(t in i)}));return r.lineages.filter((function(t){return t.parent!==r.commonAncestor})).forEach((function(t){return o=o.concat(t.parent.children.filter((function(e){return e!==t.id})))})),o.map((function(t){return n.nodes[t]}))},t.getSegmentSets=function(t,e,n){for(var r=[],i=0;i<t.length;i++)for(var o=t[i],a=0;a<o.length;a++){(d=o[a]).edgeid=i,d.i=a;var s=d[1][e]-d[0][e];Math.abs(s)<.1&&r.push(d)}r.sort((function(t,n){return t[0][e]-n[0][e]}));for(var l=[],u=null,c=0;c<r.length;c++){var d=r[c];(!u||Math.abs(d[0][e]-u.pos)>.1)&&(u={pos:d[0][e],segments:[]},l.push(u)),u.segments.push(d)}return l},t.nudgeSegs=function(t,e,n,r,i,o){var a=r.length;if(!(a<=1)){for(var s=r.map((function(e){return new A_.Variable(e[0][t])})),l=[],u=0;u<a;u++)for(var c=0;c<a;c++)if(u!==c){var d=r[u],h=r[c],f=d.edgeid,p=h.edgeid,g=-1,v=-1;"x"==t?i(f,p)&&(d[0][e]<d[1][e]?(g=c,v=u):(g=u,v=c)):i(f,p)&&(d[0][e]<d[1][e]?(g=u,v=c):(g=c,v=u)),g>=0&&l.push(new A_.Constraint(s[g],s[v],o))}new A_.Solver(s,l).solve(),s.forEach((function(e,i){var o=r[i],a=e.position();o[0][t]=o[1][t]=a;var s=n[o.edgeid];o.i>0&&(s[o.i-1][1][t]=a),o.i<s.length-1&&(s[o.i+1][0][t]=a)}))}},t.nudgeSegments=function(e,n,r,i,o){for(var a=t.getSegmentSets(e,n,r),s=0;s<a.length;s++){for(var l=a[s],u=[],c=0;c<l.segments.length;c++){var d=l.segments[c];u.push({type:0,s:d,pos:Math.min(d[0][r],d[1][r])}),u.push({type:1,s:d,pos:Math.max(d[0][r],d[1][r])})}u.sort((function(t,e){return t.pos-e.pos+t.type-e.type}));var h=[],f=0;u.forEach((function(a){0===a.type?(h.push(a.s),f++):f--,0==f&&(t.nudgeSegs(n,r,e,h,i,o),h=[])}))}},t.prototype.routeEdges=function(e,n,r,i){var o=this,a=e.map((function(t){return o.route(r(t),i(t))})),s=t.orderEdges(a),l=a.map((function(e){return t.makeSegments(e)}));return t.nudgeSegments(l,"x","y",s,n),t.nudgeSegments(l,"y","x",s,n),t.unreverseEdges(l,a),l},t.unreverseEdges=function(t,e){t.forEach((function(t,n){e[n].reversed&&(t.reverse(),t.forEach((function(t){t.reverse()})))}))},t.angleBetween2Lines=function(t,e){var n=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),r=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x),i=n-r;return(i>Math.PI||i<-Math.PI)&&(i=r-n),i},t.isLeft=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)<=0},t.getOrder=function(t){for(var e={},n=0;n<t.length;n++){var r=t[n];void 0===e[r.l]&&(e[r.l]={}),e[r.l][r.r]=!0}return function(t,n){return void 0!==e[t]&&e[t][n]}},t.orderEdges=function(e){for(var n=[],r=0;r<e.length-1;r++)for(var o=r+1;o<e.length;o++){var a,s,l,u=e[r],c=e[o],d=new i(u,c);0!==d.length&&(d.reversed&&(c.reverse(),c.reversed=!0,d=new i(u,c)),(d.si<=0||d.ti<=0)&&(d.si+d.length>=u.length||d.ti+d.length>=c.length)?n.push({l:r,r:o}):(d.si+d.length>=u.length||d.ti+d.length>=c.length?(a=u[d.si+1],l=u[d.si-1],s=c[d.ti-1]):(a=u[d.si+d.length-2],s=u[d.si+d.length],l=c[d.ti+d.length]),t.isLeft(a,s,l)?n.push({l:o,r:r}):n.push({l:r,r:o})))}return t.getOrder(n)},t.makeSegments=function(t){function e(t){return{x:t.x,y:t.y}}for(var n=function(t,e,n){return Math.abs((e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x))<.001},r=[],i=e(t[0]),o=1;o<t.length;o++){var a=e(t[o]),s=o<t.length-1?t[o+1]:null;s&&n(i,a,s)||(r.push([i,a]),i=a)}return r},t.prototype.route=function(t,e){var n=this,r=this.nodes[t],i=this.nodes[e];this.obstacles=this.siblingObstacles(r,i);var o={};this.obstacles.forEach((function(t){return o[t.id]=t})),this.passableEdges=this.edges.filter((function(t){var e=n.verts[t.source],r=n.verts[t.target];return!(e.node&&e.node.id in o||r.node&&r.node.id in o)}));for(var a=1;a<r.ports.length;a++){var s=r.ports[0].id,l=r.ports[a].id;this.passableEdges.push({source:s,target:l,length:0})}for(a=1;a<i.ports.length;a++){s=i.ports[0].id,l=i.ports[a].id;this.passableEdges.push({source:s,target:l,length:0})}var u=new I_.Calculator(this.verts.length,this.passableEdges,(function(t){return t.source}),(function(t){return t.target}),(function(t){return t.length})).PathFromNodeToNodeWithPrevCost(r.ports[0].id,i.ports[0].id,(function(t,e,o){var a=n.verts[t],s=n.verts[e],l=n.verts[o],u=Math.abs(l.x-a.x),c=Math.abs(l.y-a.y);return a.node===r&&a.node===s.node||s.node===i&&s.node===l.node?0:u>1&&c>1?1e3:0})).reverse().map((function(t){return n.verts[t]}));return u.push(this.nodes[i.id].ports[0]),u.filter((function(t,e){return!(e<u.length-1&&u[e+1].node===r&&t.node===r||e>0&&t.node===i&&u[e-1].node===i)}))},t.getRoutePath=function(e,n,r,i){var o={routepath:"M "+e[0][0].x+" "+e[0][0].y+" ",arrowpath:""};if(e.length>1)for(var a=0;a<e.length;a++){var s=(w=e[a])[1].x,l=w[1].y,u=s-w[0].x,c=l-w[0].y;if(a<e.length-1){Math.abs(u)>0?s-=u/Math.abs(u)*n:l-=c/Math.abs(c)*n,o.routepath+="L "+s+" "+l+" ";var d=e[a+1],h=d[0].x,f=d[0].y;u=d[1].x-h,c=d[1].y-f;var p,g,v=t.angleBetween2Lines(w,d)<0?1:0;Math.abs(u)>0?(p=h+u/Math.abs(u)*n,g=f):(p=h,g=f+c/Math.abs(c)*n);var y=Math.abs(p-s),m=Math.abs(g-l);o.routepath+="A "+y+" "+m+" 0 0 "+v+" "+p+" "+g+" "}else{var b=[s,l];Math.abs(u)>0?(x=[s-=u/Math.abs(u)*i,l+r],_=[s,l-r]):(x=[s+r,l-=c/Math.abs(c)*i],_=[s-r,l]),o.routepath+="L "+s+" "+l+" ",i>0&&(o.arrowpath="M "+b[0]+" "+b[1]+" L "+x[0]+" "+x[1]+" L "+_[0]+" "+_[1])}}else{var w,x,_;s=(w=e[0])[1].x,l=w[1].y,u=s-w[0].x,c=l-w[0].y,b=[s,l];Math.abs(u)>0?(x=[s-=u/Math.abs(u)*i,l+r],_=[s,l-r]):(x=[s+r,l-=c/Math.abs(c)*i],_=[s-r,l]),o.routepath+="L "+s+" "+l+" ",i>0&&(o.arrowpath="M "+b[0]+" "+b[1]+" L "+x[0]+" "+x[1]+" L "+_[0]+" "+_[1])}return o},t}();e.GridRouter=o}));e(H_);H_.NodeWrapper,H_.Vert,H_.LongestCommonSubsequence,H_.GridRouter;var W_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.source=t,this.target=e}return t.prototype.actualLength=function(t){var e=this;return Math.sqrt(t.reduce((function(t,n){var r=n[e.target]-n[e.source];return t+r*r}),0))},t}();e.Link3D=n;var r=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.z=n};e.Node3D=r;var i=function(){function t(e,n,r){var i=this;void 0===r&&(r=1),this.nodes=e,this.links=n,this.idealLinkLength=r,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(t.k);for(var o=0;o<t.k;++o)this.result[o]=new Array(e.length);e.forEach((function(e,n){for(var r=0,o=t.dims;r<o.length;r++){var a=o[r];void 0===e[a]&&(e[a]=Math.random())}i.result[0][n]=e.x,i.result[1][n]=e.y,i.result[2][n]=e.z}))}return t.prototype.linkLength=function(t){return t.actualLength(this.result)},t.prototype.start=function(t){var e=this;void 0===t&&(t=100);var n=this.nodes.length,r=new o;this.useJaccardLinkLengths&&N_.jaccardLinkLengths(this.links,r,1.5),this.links.forEach((function(t){return t.length*=e.idealLinkLength}));var i=new I_.Calculator(n,this.links,(function(t){return t.source}),(function(t){return t.target}),(function(t){return t.length})).DistanceMatrix(),a=D_.Descent.createSquareMatrix(n,(function(t,e){return i[t][e]})),s=D_.Descent.createSquareMatrix(n,(function(){return 2}));this.links.forEach((function(t){var e=t.source,n=t.target;return s[e][n]=s[n][e]=1})),this.descent=new D_.Descent(this.result,a),this.descent.threshold=.001,this.descent.G=s,this.constraints&&(this.descent.project=new L_.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var l=0;l<this.nodes.length;l++){var u=this.nodes[l];u.fixed&&this.descent.locks.add(l,[u.x,u.y,u.z])}return this.descent.run(t),this},t.prototype.tick=function(){this.descent.locks.clear();for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];e.fixed&&this.descent.locks.add(t,[e.x,e.y,e.z])}return this.descent.rungeKutta()},t.dims=["x","y","z"],t.k=t.dims.length,t}();e.Layout3D=i;var o=function(){function t(){}return t.prototype.getSourceIndex=function(t){return t.source},t.prototype.getTargetIndex=function(t){return t.target},t.prototype.getLength=function(t){return t.length},t.prototype.setLength=function(t,e){t.length=e},t}()}));e(W_);W_.Link3D,W_.Node3D,W_.Layout3D;var Y_=n((function(t,e){function n(t,e,n,r){t.forEach((function(t){t.routerNode={name:t.name,bounds:t.bounds.inflate(-n)}})),e.forEach((function(e){e.routerNode={bounds:e.bounds.inflate(-r),children:(void 0!==e.groups?e.groups.map((function(e){return t.length+e.id})):[]).concat(void 0!==e.leaves?e.leaves.map((function(t){return t.index})):[])}}));var i=t.concat(e).map((function(t,e){return t.routerNode.id=e,t.routerNode}));return new H_.GridRouter(i,{getChildren:function(t){return t.children},getBounds:function(t){return t.bounds}},n-r)}Object.defineProperty(e,"__esModule",{value:!0}),e.gridify=function(t,e,r,i){return t.cola.start(0,0,0,10,!1),n(t.cola.nodes(),t.cola.groups(),r,i).routeEdges(t.powerGraph.powerEdges,e,(function(t){return t.source.routerNode.id}),(function(t){return t.target.routerNode.id}))},e.powerGraphGridLayout=function(t,e,n){var r;t.nodes.forEach((function(t,e){return t.index=e})),(new z_.Layout).avoidOverlaps(!1).nodes(t.nodes).links(t.links).powerGraphGroups((function(t){(r=t).groups.forEach((function(t){return t.padding=n}))}));var i=t.nodes.length,o=[],a=t.nodes.slice(0);return a.forEach((function(t,e){return t.index=e})),r.groups.forEach((function(t){var e=t.index=t.id+i;a.push(t),void 0!==t.leaves&&t.leaves.forEach((function(t){return o.push({source:e,target:t.index})})),void 0!==t.groups&&t.groups.forEach((function(t){return o.push({source:e,target:t.id+i})}))})),r.powerEdges.forEach((function(t){o.push({source:t.source.index,target:t.target.index})})),(new z_.Layout).size(e).nodes(a).links(o).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new z_.Layout).convergenceThreshold(.001).size(e).avoidOverlaps(!0).nodes(t.nodes).links(t.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups((function(t){(r=t).groups.forEach((function(t){t.padding=n}))})).start(50,0,100,0,!1),powerGraph:r}}}));e(Y_);Y_.gridify,Y_.powerGraphGridLayout;var X_=n((function(t,e){function n(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),n(F_),n(U_),n(D_),n(R_),n(H_),n(B_),n(z_),n(W_),n(N_),n(P_),n(j_),n(M_),n(L_),n(I_),n(A_),n(Y_)}));e(X_);var G_=e(n((function(t,e){var n;n=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(1),o=n(2),a=n(5)||("undefined"!=typeof window?window.cola:null),s=n(4),l=function(t){return(void 0===t?"undefined":r(t))===r(0)},u=function(){},c=function(t,e){var n;return null!=(n=t)&&(void 0===n?"undefined":r(n))===r((function(){}))?t.apply(e,[e]):t};function d(t){this.options=i({},o,t)}d.prototype.run=function(){var t=this,e=this.options;t.manuallyStopped=!1;var n=e.cy,i=e.eles,o=i.nodes(),d=i.edges(),h=!1,f=o.filter((function(t){return t.isParent()})),p=o.subtract(f),g=e.boundingBox||{x1:0,y1:0,w:n.width(),h:n.height()};void 0===g.x2&&(g.x2=g.x1+g.w),void 0===g.w&&(g.w=g.x2-g.x1),void 0===g.y2&&(g.y2=g.y1+g.h),void 0===g.h&&(g.h=g.y2-g.y1);var v=function(){for(var t=0;t<o.length;t++){var r=o[t],i=r.layoutDimensions(e),a=r.scratch("cola");if(!a.updatedDims){var s=c(e.nodeSpacing,r);a.width=i.w+2*s,a.height=i.h+2*s}}o.positions((function(t){var e=t.scratch().cola,n=void 0;return!t.grabbed()&&p.contains(t)&&(n={x:g.x1+e.x,y:g.y1+e.y},l(n.x)&&l(n.y)||(n=void 0)),n})),o.updateCompoundBounds(),h||(m(),h=!0),e.fit&&n.fit(e.padding)},y=function(){e.ungrabifyWhileSimulating&&x.grabify(),n.off("destroy",_),o.off("grab free position",E),o.off("lock unlock",S),t.one("layoutstop",e.stop),t.trigger({type:"layoutstop",layout:t})},m=function(){t.one("layoutready",e.ready),t.trigger({type:"layoutready",layout:t})},b=e.refresh;b=e.refresh<0?1:Math.max(1,b);var w=t.adaptor=a.adaptor({trigger:function(t){var n=a.EventType?a.EventType.tick:null,r=a.EventType?a.EventType.end:null;switch(t.type){case"tick":case n:e.animate&&v();break;case"end":case r:v(),e.infinite||y()}},kick:function(){var n=!0,r=function(){if(t.manuallyStopped)return y(),!0;var r=w.tick();return e.infinite||n||w.convergenceThreshold(e.convergenceThreshold),n=!1,r&&e.infinite&&w.resume(),r};if(e.animate)s((function t(){(function(){for(var t=void 0,e=0;e<b&&!t;e++)t=t||r();return t})()||s(t)}));else for(;!r(););},on:u,drag:u});t.adaptor=w;var x=o.filter(":grabbable");e.ungrabifyWhileSimulating&&x.ungrabify();var _=void 0;n.one("destroy",_=function(){t.stop()});var E=void 0;o.on("grab free position",E=function(t){var e=this.scratch().cola,n=this.position();if(t.cyTarget===this||t.target===this)switch(t.type){case"grab":w.dragstart(e);break;case"free":w.dragend(e);break;case"position":e.px===n.x-g.x1&&e.py===n.y-g.y1||(e.px=n.x-g.x1,e.py=n.y-g.y1)}});var S=void 0;o.on("lock unlock",S=function(){var t=this.scratch().cola;t.fixed=this.locked(),this.locked()?w.dragstart(t):w.dragend(t)}),w.nodes(p.map((function(t,n){var r=c(e.nodeSpacing,t),i=t.position(),o=t.layoutDimensions(e);return t.scratch().cola={x:e.randomize||void 0===i.x?Math.round(Math.random()*g.w):i.x,y:e.randomize||void 0===i.y?Math.round(Math.random()*g.h):i.y,width:o.w+2*r,height:o.h+2*r,index:n,fixed:t.locked()}})));var k=[];if(e.alignment){var O=[],C=[];p.forEach((function(t){var n=c(e.alignment,t),r=t.scratch().cola.index;n&&(null!=n.x&&O.push({node:r,offset:n.x}),null!=n.y&&C.push({node:r,offset:n.y}))})),O.length>0&&k.push({type:"alignment",axis:"x",offsets:O}),C.length>0&&k.push({type:"alignment",axis:"y",offsets:C})}e.gapInequalities&&e.gapInequalities.forEach((function(t){var e=t.left.scratch().cola.index,n=t.right.scratch().cola.index;k.push({axis:t.axis,left:e,right:n,gap:t.gap,equality:t.equality})})),k.length>0&&w.constraints(k),w.groups(f.map((function(t,n){var r=c(e.nodeSpacing,t),i=function(e){return parseFloat(t.style("padding-"+e))},o=i("left")+r,a=i("right")+r,s=i("top")+r,l=i("bottom")+r;return t.scratch().cola={index:n,padding:Math.max(o,a,s,l),leaves:t.children().intersection(p).map((function(t){return t[0].scratch().cola.index})),fixed:t.locked()},t})).map((function(t){return t.scratch().cola.groups=t.children().intersection(f).map((function(t){return t.scratch().cola.index})),t.scratch().cola})));var T,P=void 0,N=void 0;if(null!=e.edgeLength?(P=e.edgeLength,N="linkDistance"):null!=e.edgeSymDiffLength?(P=e.edgeSymDiffLength,N="symmetricDiffLinkLengths"):null!=e.edgeJaccardLength?(P=e.edgeJaccardLength,N="jaccardLinkLengths"):(P=100,N="linkDistance"),w.links(d.stdFilter((function(t){return p.contains(t.source())&&p.contains(t.target())})).map((function(t){var e=t.scratch().cola={source:t.source()[0].scratch().cola.index,target:t.target()[0].scratch().cola.index};return null!=P&&(e.calcLength=c(P,t)),e}))),w.size([g.w,g.h]),null!=P&&w[N]((function(t){return t.calcLength})),e.flow){var D=void 0;(void 0===(T=e.flow)?"undefined":r(T))===r("")?D={axis:e.flow,minSeparation:50}:l(e.flow)?D={axis:"y",minSeparation:e.flow}:function(t){return null!=t&&(void 0===t?"undefined":r(t))===r({})}(e.flow)?((D=e.flow).axis=D.axis||"y",D.minSeparation=null!=D.minSeparation?D.minSeparation:50):D={axis:"y",minSeparation:50},w.flowLayout(D.axis,D.minSeparation)}return t.trigger({type:"layoutstart",layout:t}),w.avoidOverlaps(e.avoidOverlap).handleDisconnected(e.handleDisconnected).start(e.unconstrIter,e.userConstIter,e.allConstIter),e.infinite||setTimeout((function(){t.manuallyStopped||w.stop()}),e.maxSimulationTime),this},d.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},t.exports=d},function(t,e,n){t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.filter((function(t){return null!=t})).forEach((function(e){Object.keys(e).forEach((function(n){return t[n]=e[n]}))})),t}},function(t,e,n){var r={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(t){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};t.exports=r},function(t,e,n){var r=n(0),i=function(t){t&&t("layout","cola",r)};"undefined"!=typeof cytoscape&&i(cytoscape),t.exports=i},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=void 0;i="undefined"!==("undefined"==typeof window?"undefined":r(window))?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)}:function(t){t()},t.exports=i},function(e,n){e.exports=t}])},t.exports=n(X_)})));function $_(t){return($_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K_(t,e){return!e||"object"!==$_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q_(t,e,n){return(Q_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function J_(t){return(J_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tE(t,e){return(tE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var eE=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=K_(this,J_(e).call(this,t)),jg.use(G_),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tE(t,e)}(e,t),n=e,(r=[{key:"drawDiagram",value:function(t){Q_(J_(e.prototype),"drawDiagram",this).call(this,t),this.cy.autoungrabify(!1),this.cy.nodes().lock(),this.cy.nodes(".repositioned").unlock(),this.cy.$(".repositioned").closedNeighborhood().closedNeighborhood().layout({name:"cola",randomize:!1,fit:!1,refresh:3,maxSimulationTime:8e3,convergenceThreshold:1e-7}).run()}}])&&Z_(n.prototype,r),i&&Z_(n,i),e}(T_),nE="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,rE=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(nE&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();
/**!
	 * @fileOverview Kickass library to create and place poppers near their reference elements.
	 * @version 1.16.1
	 * @license
	 * Copyright (c) 2016 Federico Zivolo and contributors
	 *
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 *
	 * The above copyright notice and this permission notice shall be included in all
	 * copies or substantial portions of the Software.
	 *
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	 * SOFTWARE.
	 */var iE=nE&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),rE))}};function oE(t){return t&&"[object Function]"==={}.toString.call(t)}function aE(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function sE(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function lE(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=aE(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:lE(sE(t))}function uE(t){return t&&t.referenceNode?t.referenceNode:t}var cE=nE&&!(!window.MSInputMethodContext||!document.documentMode),dE=nE&&/MSIE 10/.test(navigator.userAgent);function hE(t){return 11===t?cE:10===t?dE:cE||dE}function fE(t){if(!t)return document.documentElement;for(var e=hE(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===aE(n,"position")?fE(n):n:t?t.ownerDocument.documentElement:document.documentElement}function pE(t){return null!==t.parentNode?pE(t.parentNode):t}function gE(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a,s,l=o.commonAncestorContainer;if(t!==l&&e!==l||r.contains(i))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&fE(a.firstElementChild)!==a?fE(l):l;var u=pE(t);return u.host?gE(u.host,e):gE(t,pE(e).host)}function vE(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[e]}return t[e]}function yE(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function mE(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],hE(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function bE(t){var e=t.body,n=t.documentElement,r=hE(10)&&getComputedStyle(n);return{height:mE("Height",e,n,r),width:mE("Width",e,n,r)}}var wE=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},xE=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_E=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},EE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function SE(t){return EE({},t,{right:t.left+t.width,bottom:t.top+t.height})}function kE(t){var e={};try{if(hE(10)){e=t.getBoundingClientRect();var n=vE(t,"top"),r=vE(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?bE(t.ownerDocument):{},a=o.width||t.clientWidth||i.width,s=o.height||t.clientHeight||i.height,l=t.offsetWidth-a,u=t.offsetHeight-s;if(l||u){var c=aE(t);l-=yE(c,"x"),u-=yE(c,"y"),i.width-=l,i.height-=u}return SE(i)}function OE(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=hE(10),i="HTML"===e.nodeName,o=kE(t),a=kE(e),s=lE(t),l=aE(e),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=SE({top:o.top-a.top-u,left:o.left-a.left-c,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var h=parseFloat(l.marginTop),f=parseFloat(l.marginLeft);d.top-=u-h,d.bottom-=u-h,d.left-=c-f,d.right-=c-f,d.marginTop=h,d.marginLeft=f}return(r&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=vE(e,"top"),i=vE(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}(d,e)),d}function CE(t){if(!t||!t.parentElement||hE())return document.documentElement;for(var e=t.parentElement;e&&"none"===aE(e,"transform");)e=e.parentElement;return e||document.documentElement}function TE(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?CE(t):gE(t,uE(e));if("viewport"===r)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=OE(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:vE(n),s=e?0:vE(n,"left");return SE({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=lE(sE(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===r?t.ownerDocument.documentElement:r;var l=OE(s,a,i);if("HTML"!==s.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===aE(e,"position"))return!0;var r=sE(e);return!!r&&t(r)}(a))o=l;else{var u=bE(t.ownerDocument),c=u.height,d=u.width;o.top+=l.top-l.marginTop,o.bottom=c+l.top,o.left+=l.left-l.marginLeft,o.right=d+l.left}}var h="number"==typeof(n=n||0);return o.left+=h?n:n.left||0,o.top+=h?n:n.top||0,o.right-=h?n:n.right||0,o.bottom-=h?n:n.bottom||0,o}function PE(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=TE(n,r,o,i),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map((function(t){return EE({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e})).sort((function(t,e){return e.area-t.area})),u=l.filter((function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function NE(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return OE(n,r?CE(e):gE(e,uE(n)),r)}function DE(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function AE(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function ME(t,e,n){n=n.split("-")[0];var r=DE(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return i[a]=e[a]+e[l]/2-r[l]/2,i[s]=n===s?e[s]-r[u]:e[AE(s)],i}function LE(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function jE(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var r=LE(t,(function(t){return t[e]===n}));return t.indexOf(r)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&oE(n)&&(e.offsets.popper=SE(e.offsets.popper),e.offsets.reference=SE(e.offsets.reference),e=n(e,t))})),e}function IE(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=NE(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=PE(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=ME(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=jE(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function RE(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function BE(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if(void 0!==document.body.style[o])return o}return null}function zE(){return this.state.isDestroyed=!0,RE(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[BE("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function FE(t){var e=t.ownerDocument;return e?e.defaultView:window}function VE(t,e,n,r){n.updateBound=r,FE(t).addEventListener("resize",n.updateBound,{passive:!0});var i=lE(t);return function t(e,n,r,i){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(n,r,{passive:!0}),o||t(lE(a.parentNode),n,r,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function qE(){this.state.eventsEnabled||(this.state=VE(this.reference,this.options,this.state,this.scheduleUpdate))}function UE(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,FE(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function HE(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function WE(t,e){Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&HE(e[n])&&(r="px"),t.style[n]=e[n]+r}))}var YE=nE&&/Firefox/i.test(navigator.userAgent);function XE(t,e,n){var r=LE(t,(function(t){return t.name===e})),i=!!r&&t.some((function(t){return t.name===n&&t.enabled&&t.order<r.order}));if(!i){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var GE=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$E=GE.slice(3);function ZE(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=$E.indexOf(t),r=$E.slice(n+1).concat($E.slice(0,n));return e?r.reverse():r}var KE={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function QE(t,e,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=a.indexOf(LE(a,(function(t){return-1!==t.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(u=u.map((function(t,r){var i=(1===r?!o:o)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return SE(s)[e]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,i,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,r){HE(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))}))})),i}var JE={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:_E({},l,o[l]),end:_E({},l,o[l]+o[u]-a[u])};t.offsets.popper=EE({},a,c[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],l=void 0;return l=HE(+n)?[+n,0]:QE(n,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||fE(t.instance.popper);t.instance.reference===n&&(n=fE(n));var r=BE("transform"),i=t.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var l=TE(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=a,i[r]=s,e.boundaries=l;var u=e.priority,c=t.offsets.popper,d={primary:function(t){var n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),_E({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(r=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),_E({},n,r)}};return u.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=EE({},c,d[e](t))})),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<o(r[l])&&(t.offsets.popper[l]=o(r[l])-n[u]),n[l]>o(r[s])&&(t.offsets.popper[l]=o(r[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!XE(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,l=-1!==["left","right"].indexOf(i),u=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),h=l?"left":"top",f=l?"bottom":"right",p=DE(r)[u];s[f]-p<a[d]&&(t.offsets.popper[d]-=a[d]-(s[f]-p)),s[d]+p>a[f]&&(t.offsets.popper[d]+=s[d]+p-a[f]),t.offsets.popper=SE(t.offsets.popper);var g=s[d]+s[u]/2-p/2,v=aE(t.instance.popper),y=parseFloat(v["margin"+c]),m=parseFloat(v["border"+c+"Width"]),b=g-t.offsets.popper[d]-y-m;return b=Math.max(Math.min(a[u]-p,b),0),t.arrowElement=r,t.offsets.arrow=(_E(n={},d,Math.round(b)),_E(n,h,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(RE(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=TE(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=AE(r),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case KE.FLIP:a=[r,i];break;case KE.CLOCKWISE:a=ZE(r);break;case KE.COUNTERCLOCKWISE:a=ZE(r,!0);break;default:a=e.behavior}return a.forEach((function(s,l){if(r!==s||a.length===l+1)return t;r=t.placement.split("-")[0],i=AE(r);var u=t.offsets.popper,c=t.offsets.reference,d=Math.floor,h="left"===r&&d(u.right)>d(c.left)||"right"===r&&d(u.left)<d(c.right)||"top"===r&&d(u.bottom)>d(c.top)||"bottom"===r&&d(u.top)<d(c.bottom),f=d(u.left)<d(n.left),p=d(u.right)>d(n.right),g=d(u.top)<d(n.top),v=d(u.bottom)>d(n.bottom),y="left"===r&&f||"right"===r&&p||"top"===r&&g||"bottom"===r&&v,m=-1!==["top","bottom"].indexOf(r),b=!!e.flipVariations&&(m&&"start"===o&&f||m&&"end"===o&&p||!m&&"start"===o&&g||!m&&"end"===o&&v),w=!!e.flipVariationsByContent&&(m&&"start"===o&&p||m&&"end"===o&&f||!m&&"start"===o&&v||!m&&"end"===o&&g),x=b||w;(h||y||x)&&(t.flipped=!0,(h||y)&&(r=a[l+1]),x&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=EE({},t.offsets.popper,ME(t.instance.popper,t.offsets.reference,t.placement)),t=jE(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),t.placement=AE(e),t.offsets.popper=SE(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!XE(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=LE(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=LE(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=fE(t.instance.popper),l=kE(s),u={position:i.position},c=function(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(t){return t},l=o(i.width),u=o(r.width),c=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),h=e?c||d||l%2==u%2?o:a:s,f=e?o:s;return{left:h(l%2==1&&u%2==1&&!d&&e?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:h(r.right)}}(t,window.devicePixelRatio<2||!YE),d="bottom"===n?"top":"bottom",h="right"===r?"left":"right",f=BE("transform"),p=void 0,g=void 0;if(g="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,p="right"===h?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,a&&f)u[f]="translate3d("+p+"px, "+g+"px, 0)",u[d]=0,u[h]=0,u.willChange="transform";else{var v="bottom"===d?-1:1,y="right"===h?-1:1;u[d]=g*v,u[h]=p*y,u.willChange=d+", "+h}var m={"x-placement":t.placement};return t.attributes=EE({},m,t.attributes),t.styles=EE({},u,t.styles),t.arrowStyles=EE({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return WE(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&WE(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,i){var o=NE(i,e,t,n.positionFixed),a=PE(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),WE(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},tS=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};wE(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=iE(this.update.bind(this)),this.options=EE({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(EE({},t.Defaults.modifiers,i.modifiers)).forEach((function(e){r.options.modifiers[e]=EE({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return EE({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&oE(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return xE(t,[{key:"update",value:function(){return IE.call(this)}},{key:"destroy",value:function(){return zE.call(this)}},{key:"enableEventListeners",value:function(){return qE.call(this)}},{key:"disableEventListeners",value:function(){return UE.call(this)}}]),t}();tS.Utils=("undefined"!=typeof window?window:global).PopperUtils,tS.placements=GE,tS.Defaults=JE;var eS,nS=(eS=Object.freeze({default:tS}))&&eS.default||eS,rS=e(n((function(t,e){var n;n=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach((function(e){null!=e&&Object.keys(e).forEach((function(n){return t[n]=e[n]}))})),t}},function(t,e,n){var r=n(5).getBoundingBox;t.exports={getRef:function(t,e){var n=e.renderedDimensions;return{getBoundingClientRect:function(){return r(t,e)},get clientWidth(){return n(t).w},get clientHeight(){return n(t).h}}}}},function(t,e,n){var r=n(0),i=n(1).getRef,o=n(6).getContent,a={},s=n(8),l=s.default;null!=l&&null!=l.Defaults&&(s=s.default),t.exports={getPopper:function(t,e){var n=i(t,e),l=o(t,e.content),u=r({},a,e.popper);return new s(n,l,u)}}},function(t,e,n){var r=n(0),i=n(2).getPopper,o=n(1).getRef;function a(t,e){var n=function(t){return t.isNode()?{w:t.renderedWidth(),h:t.renderedHeight()}:{w:3,h:3}},i=t.cy();return r({},{renderedDimensions:n,renderedPosition:function(t){return t.isNode()?function(t,e){var n=t.renderedPosition(),r=e(t),i=r.w/2,o=r.h/2;return{x:n.x-i,y:n.y-o}}(t,n):function(t){var e=t.midpoint(),n=t.cy().pan(),r=t.cy().zoom();return{x:e.x*r+n.x,y:e.y*r+n.y}}(t)},popper:{},cy:i},e)}function s(t){t.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}t.exports={popper:function(t){return s(this),i(this[0],a(this[0],t))},popperRef:function(t){return s(this),o(this[0],a(this[0],t))}}},function(t,e,n){var r=n(0),i=n(2).getPopper,o=n(1).getRef;function a(t,e){return r({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},redneredPosition:function(){return{x:0,y:0}},popper:{},cy:t},e)}t.exports={popper:function(t){return i(this,a(this,t))},popperRef:function(t){return o(this,a(this,t))}}},function(t,e,n){t.exports={getBoundingBox:function(t,e){var n=e.renderedPosition,r=e.cy,i=e.renderedDimensions,o=r.container().getBoundingClientRect(),a=i(t),s=n(t);return{top:s.y+o.top,left:s.x+o.left,right:s.x+a.w+o.left,bottom:s.y+a.h+o.top,width:a.w,height:a.h}}}},function(t,e,n){t.exports={getContent:function(t,e){var n=null;if("function"!=typeof e){if(e instanceof HTMLElement)return e;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(n=e(t)))throw new Error("No 'target' specified to create popper");return n}}},function(t,e,n){var r=n(4),i=n(3),o=function(t){t&&(t("core","popper",r.popper),t("collection","popper",i.popper),t("core","popperRef",r.popperRef),t("collection","popperRef",i.popperRef))};"undefined"!=typeof cytoscape&&o(cytoscape),t.exports=o},function(e,n){e.exports=t}])},t.exports=n(nS)})));function iS(t){return(iS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aS(t,e){return!e||"object"!==iS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sS(t,e,n){return(sS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lS(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function lS(t){return(lS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uS(t,e){return(uS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cS=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=aS(this,lS(e).call(this,t)),jg.use(G_),jg.use(rS),n.cy.style.textureOnViewport=!0,n.cy.autoungrabify(!1),n.layoutStopped=!1,n.dragAndPin=!1,n.cy.on("grab",(function(t){t.target.data("old_pos",JSON.stringify(t.target.position()))})),n.cy.on("free",(function(t){var e=JSON.stringify(t.target.position());n.dragAndPin&&t.target.data("old_pos")!==e&&n.lockNode(t.target),t.target.removeData("old_pos")})),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uS(t,e)}(e,t),n=e,(r=[{key:"drawDiagram",value:function(t){this.clearPoppers(),sS(lS(e.prototype),"drawDiagram",this).call(this,t),this.cy.nodes().addClass("float"),this.main_layout=this.layout(),this.main_layout.run()}},{key:"centerOnNode",value:function(t,e){var n=this,r=this.cy.$id(t);if(r)if(this.cy.$(":selected").unselect(),"role"==r.data("type")){var i=r.connectedNodes();setTimeout((function(){return n.cy.fit(i)}),300),r.select(),i.select()}else setTimeout((function(){return n.centerOnPosition(r.position("x"),r.position("y"),e)}),300),r.select()}},{key:"layout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":unlocked";return this.cy.$(t).layout(this.layout_settings)}},{key:"unlockNode",value:function(t){t.unlockButton.destroy(),t.unlock()}},{key:"lockNode",value:function(t){var e=this;t.lock();var n=t.popper({content:function(){var n=t.data("width")/9*e.cy.zoom(),r=document.createElement("div");return r.style.background=t.style("border-color"),r.style.borderRadius="100%",r.style.padding="5px",r.style.color=e.theme.on_secondary,r.style.cursor="pointer",r.setAttribute("title","Unlock Node"),r.innerHTML="<mwc-icon>lock_open</mwc_icon>",i(n,r),r.onclick=function(){return e.unlockNode(t)},document.body.appendChild(r),r}});t.unlockButton=n;var r=function(){i(t.data("width")/9*e.cy.zoom(),n.popper),n.scheduleUpdate()};function i(t,e){var n=e.querySelector("mwc-icon");t>2?(t<8?n.style.display="none":(n.style.display="inline",n.style.fontSize=t+"px"),e.style.width=t+"px",e.style.height=t+"px",e.style.display="flex"):(n.style.display="none",e.style.display="none")}t.on("position",r),this.cy.on("pan zoom resize",r)}},{key:"clearPoppers",value:function(){this.cy.nodes().each((function(t){t.unlockButton&&t.unlockButton.destroy()}))}},{key:"unmount",value:function(){sS(lS(e.prototype),"unmount",this).call(this),this.clearPoppers()}},{key:"layout_settings",get:function(){return{name:"cola",avoidOverlap:!0,edgeLength:function(t){return t.hasClass("role")?300+4*t.data("displayed_name").length:"attribute"==t.target().data("type")||"attribute"==t.source().data("type")?150:250},fit:!1,infinite:!this.layoutStopped,handleDisconnected:!0,convergenceThreshold:1e-9}}},{key:"layoutStopped",set:function(t){this._layoutStopped=t,this.main_layout&&(this.main_layout.options.infinite=!t,t?this.main_layout.stop():this.main_layout.run())},get:function(){return this._layoutStopped}},{key:"dragAndPin",set:function(t){var e=this;this._dragAndPin=t,t||this.cy.$(":locked").each((function(t){return e.unlockNode(t)}))},get:function(){return this._dragAndPin}}])&&oS(n.prototype,r),i&&oS(n,i),e}(T_);function dS(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n  viewBox="0 0 12 12" fill="currentColor" xml:space="preserve">\n<path id="path847" d="M5.4,11.9c-1.4-0.1-2.7-0.8-3.8-1.8c-0.8-0.8-1.3-1.8-1.6-3C0.1,6.8,0.1,6.7,0.1,6c0-0.7,0-0.8,0.1-1.1\n c0.3-1.2,0.8-2.3,1.7-3.1C2.3,1.3,2.7,1,3.3,0.7c1.7-0.9,3.8-0.9,5.5,0c2.4,1.3,3.6,3.9,3.1,6.5c-0.6,2.6-2.8,4.5-5.5,4.7\n C5.8,12,5.8,12,5.4,11.9L5.4,11.9z M6.5,10.5c0.2-0.1,0.3-0.1,0.8-0.7c0.3-0.3,1.2-1.2,2-1.9c1.1-1.1,1.3-1.4,1.4-1.5\n c0.2-0.4,0.2-0.7,0-1.1c-0.1-0.2-0.2-0.3-1-1.1c-1-1-1.1-1-1.6-1c-0.5,0-0.5,0-1.9,1.4C5.5,5.2,5,5.8,5,5.8c0,0,0.2,0.3,0.5,0.6\n L6,6.9l1-1l1-1l0.5,0.5l0.5,0.5L7.6,7.4L6,8.9L4.5,7.4L2.9,5.8L5,3.7c1.1-1.1,2.1-2.1,2.1-2.1c0-0.1-1-1-1-1c0,0-1,1-2.3,2.2\n c-2,2-2.3,2.3-2.3,2.4C1.3,5.5,1.3,5.7,1.3,6c0.1,0.4,0,0.4,2.1,2.4c1.1,1.1,1.9,1.9,2,2C5.7,10.6,6.1,10.6,6.5,10.5z"/>\n</svg>']);return dS=function(){return t},t}var hS=Kv(dS());function fS(t){return(fS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pS(){var t=mS(["<mwc-icon>","</mwc-icon>"]);return pS=function(){return t},t}function gS(){var t=mS(['\n        <div\n          @click="','"\n          mode="','"\n          class="renderer-item ','"\n        >\n        ',"\n        <span>","</span>\n        </div>\n        "]);return gS=function(){return t},t}function vS(){var t=mS(['\n      <div class="widget-body hide">\n        ',"\n      </div>\n\n      <gscape-head title=","></gscape-head>\n    "]);return vS=function(){return t},t}function yS(){var t=mS(["\n        :host {\n          bottom:10px;\n          left: 136px;\n        }\n\n        .renderer-item {\n          cursor:pointer;\n          padding:5px 10px;\n          display: flex;\n          align-items: center;\n        }\n\n        .renderer-item:hover {\n          color: var(--theme-gscape-on-secondary, ",");\n          background-color:var(--theme-gscape-secondary, ",");\n        }\n\n        .renderer-item:first-of-type {\n          border-top-left-radius: inherit;\n          border-top-right-radius: inherit;\n        }\n\n        .selected {\n          background-color: var(--theme-gscape-primary-dark, ",");\n          color: var(--theme-gscape-on-primary-dark, ",");\n          font-weight: bold;\n        }\n\n        .widget-body {\n          margin:0;\n          border-top: none;\n          border-bottom: 1px solid var(--theme-gscape-shadows, ",");\n          border-radius: inherit;\n          border-bottom-left-radius:0;\n          border-bottom-right-radius:0;\n        }\n\n        gscape-head {\n          --header-padding: 5px 8px;\n        }\n\n        mwc-icon {\n          padding-right:8px;\n        }\n\n        svg {\n          height: 20px;\n          width: auto;\n          padding: 2px;\n          margin-right:8px;\n        }\n      "]);return yS=function(){return t},t}function mS(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function bS(t,e){return!e||"object"!==fS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xS(t,e,n){return e&&wS(t.prototype,e),n&&wS(t,n),t}function _S(t,e){return(_S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ES(t,e,n){return(ES="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=SS(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function SS(t){return(SS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kS=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=bS(this,SS(e).call(this))).collapsible=!0,n.renderers=t,n.dict={default:{name:"Graphol",icon:""},lite:{name:"Graphol-Lite",icon:"flash_on"},float:{name:"Floaty",icon:"bubble_chart"}},n.actual_mode="default",n._onRendererChange={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_S(t,e)}(e,t),xS(e,null,[{key:"properties",get:function(){return{actual_mode:{type:String}}}},{key:"styles",get:function(){var t=ES(SS(e),"styles",this),n=t[1];return[t[0],Cy(yS(),n.on_secondary,n.secondary,n.primary_dark,n.on_primary_dark,n.shadows)]}}]),xS(e,[{key:"render",value:function(){var t=this;return Kv(vS(),Object.keys(this.renderers).map((function(e){return Kv(gS(),t.changeRenderer,e,e==t.actual_mode?"selected":"","default"==e?hS:Kv(pS(),t.dict[e].icon),t.dict[e].name)})),this.dict[this.actual_mode].name)}},{key:"changeRenderer",value:function(t){this.shadowRoot.querySelector(".selected")&&this.shadowRoot.querySelector(".selected").classList.remove("selected");var e=t.currentTarget;e.classList.add("selected");var n=e.getAttribute("mode");this.header.title=this.dict[n].name,this.actual_mode=n,this._onRendererChange(n)}},{key:"firstUpdated",value:function(){ES(SS(e.prototype),"firstUpdated",this).call(this),this.header.invertIcons()}},{key:"onRendererChange",set:function(t){this._onRendererChange=t}}]),e}(Kb);function OS(t){return(OS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function CS(){var t=PS(['\n      \x3c!-- in case of body\n      <div class="widget-body hide">\n      </div>\n      <gscape-head title="Layout Settings" collapsed="true" class="drag-handler">\n        <span>\n          ',"\n          ",'\n        </span>\n      </gscape-head>\n      --\x3e\n\n      <div class="wrapper">\n        <span class="title">Layout Settings</span>\n        <span class="toggles-wrapper">\n          ',"\n          ","\n        </span>\n      </div>\n\n    "]);return CS=function(){return t},t}function TS(){var t=PS(["\n        :host {\n          left: 50%;\n          bottom: 10px;\n          transform: translate(-50%, 0);\n        }\n\n        gscape-head span {\n          display: flex;\n        }\n\n        .widget-body {\n          margin:0;\n          border-top: none;\n          border-bottom: 1px solid var(--theme-gscape-shadows, ",");\n          border-radius: inherit;\n          border-bottom-left-radius:0;\n          border-bottom-right-radius:0;\n        }\n\n        gscape-head {\n          --header-padding: 5px 8px;\n          --title-padding: 0 30px 0 0;\n          --btn-padding: 0 0 0 10px;\n        }\n\n        gscape-toggle {\n          margin-left: 50px;\n        }\n\n        .wrapper {\n          display:flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 8px;\n        }\n\n        .title {\n          padding: 0 5px 0 0;\n          font-weight:bold;\n        }\n\n        .toggles-wrapper {\n          display: flex;\n        }\n      "]);return TS=function(){return t},t}function PS(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function NS(t,e){return!e||"object"!==OS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function AS(t,e,n){return e&&DS(t.prototype,e),n&&DS(t,n),t}function MS(t,e){return(MS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function LS(t,e,n){return(LS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jS(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function jS(t){return(jS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-render-selection",kS);var IS=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=NS(this,jS(e).call(this))).collapsible=!1,t.onLayoutRunToggle={},t.onDragAndPinToggle={},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&MS(t,e)}(e,t),AS(e,null,[{key:"properties",get:function(){return{}}},{key:"styles",get:function(){var t=LS(jS(e),"styles",this),n=t[1];return[t[0],Cy(TS(),n.shadows)]}}]),AS(e,[{key:"render",value:function(){return Kv(CS(),new Mx("layout-run",!0,!1,"Layout Running",this.onLayoutRunToggle),new Mx("layout-pin",!1,!1,"Drag and Pin",this.onDragAndPinToggle),new Mx("layout-run",!0,!1,"Layout Running",this.onLayoutRunToggle),new Mx("layout-pin",!1,!1,"Drag and Pin",this.onDragAndPinToggle))}}]),e}(Kb);function RS(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['<?xml version="1.0" encoding="utf-8"?>\n<svg version="1.1" id="Livello_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 1024 792.6" style="enable-background:new 0 0 1024 792.6;" xml:space="preserve">\n<style type="text/css">\n\t.st0{fill:url(#SVGID_1_);}\n\t.st1{fill:#FFFFFF;}\n\t.st2{enable-background:new    ;}\n\t.st3{fill:url(#SVGID_2_);}\n</style>\n<g>\n\t<g id="Logo">\n\n\t\t\t<radialGradient id="SVGID_1_" cx="502.1" cy="894.61" r="662.91" gradientTransform="matrix(1 0 0 1 12.76 -283.3)" gradientUnits="userSpaceOnUse">\n\t\t\t<stop  offset="0" style="stop-color:#5B86E5"/>\n\t\t\t<stop  offset="0.34" style="stop-color:#509CE2"/>\n\t\t\t<stop  offset="1" style="stop-color:#36D1DC"/>\n\t\t</radialGradient>\n\t\t<path class="st0" d="M512,506c-138.1,0-250-111.9-250-250c0-66.3,26.3-129.9,73.2-176.8c97.6-97.6,256-97.6,353.6,0\n\t\t\ts97.6,256,0,353.6C642,479.8,578.3,506.2,512,506z"/>\n\t\t<path class="st1" d="M512,11.9c134.8,0,244.1,109.3,244.1,244.2c0,98.1-58.7,186.6-149.1,224.8c-124.2,52.5-267.4-5.7-319.9-129.9\n\t\t\tS292.8,83.6,417,31.1C447.1,18.4,479.4,11.9,512,11.9 M512,0C370.6,0,256,114.6,256,256s114.6,256,256,256s256-114.6,256-256\n\t\t\tS653.4,0,512,0z"/>\n\t\t<path class="st1" d="M513.6,432c-12.4,0-24.4-4.9-33.1-13.7L344.1,282c-18.3-18.3-18.3-48,0-66.3L513.6,46.2l40.3,40.3\n\t\t\tL391.6,248.8l122,122l122-122L594.7,208l-81.2,81.1l-40.3-40.3l88.3-88.3c18.3-18.3,48-18.3,66.3,0l55.2,55.2\n\t\t\tc18.3,18.3,18.3,48,0,66.3L546.7,418.3C537.9,427.1,526,432,513.6,432z"/>\n\t\t<g class="st2">\n\t\t\t<path d="M83,594.8c5.3,0,10.2,0.3,14.7,0.8s8.9,1.3,13.1,2.2c4.2,1,8.2,2.1,12.1,3.5s7.9,2.9,11.9,4.5v12.6\n\t\t\t\tc-3.2-2-6.5-3.9-10.1-5.7s-7.4-3.3-11.6-4.7c-4.1-1.3-8.6-2.4-13.3-3.2c-4.7-0.8-9.8-1.2-15.3-1.2c-11.1,0-20.8,1.2-29.1,3.5\n\t\t\t\ts-15.2,5.7-20.6,10c-5.5,4.3-9.6,9.6-12.4,15.8c-2.7,6.2-4.1,13.2-4.1,21c0,7.3,1.3,14,4,20.1s6.8,11.4,12.2,15.8\n\t\t\t\tc5.5,4.4,12.3,7.9,20.5,10.4s17.8,3.7,28.9,3.7c4.3,0,8.6-0.2,12.9-0.5c4.2-0.3,8.3-0.8,12-1.3c3.8-0.5,7.2-1.1,10.3-1.7\n\t\t\t\tc3.1-0.6,5.7-1.3,7.9-2V664H80.7v-9.7h56.9v50.3c-4.1,1.4-8.3,2.7-12.4,3.8c-4.2,1.1-8.5,2-13,2.8c-4.5,0.7-9.1,1.3-13.9,1.7\n\t\t\t\ts-9.8,0.6-15.1,0.6c-10.8,0-20.7-1.2-30-3.6c-9.2-2.4-17.2-6.1-23.9-11s-12-11.1-15.9-18.5c-3.8-7.4-5.7-16.2-5.7-26.2\n\t\t\t\tc0-6.7,0.9-12.8,2.7-18.3s4.3-10.5,7.5-14.9s7.2-8.3,11.7-11.5c4.6-3.3,9.7-6,15.2-8.1c5.6-2.1,11.6-3.7,18-4.8\n\t\t\t\tC69.3,595.3,76,594.8,83,594.8z"/>\n\t\t\t<path d="M181.2,662.2v48.9h-10.4V596.8h56.9c8.7,0,16.2,0.7,22.4,2c6.2,1.4,11.3,3.4,15.3,6.2c4,2.7,6.9,6.2,8.7,10.3\n\t\t\t\tc1.8,4.1,2.7,8.9,2.7,14.4c0,8.5-2.2,15.4-6.7,20.5s-11.7,8.6-21.7,10.5l39,50.4h-13.1l-36.9-49.3c-1.6,0.1-3.1,0.2-4.7,0.2\n\t\t\t\tc-1.6,0.1-3.3,0.1-5,0.1L181.2,662.2L181.2,662.2z M266.1,629.7c0-4.9-0.9-8.8-2.6-11.9c-1.7-3-4.5-5.4-8.4-7s-9-2.8-15.3-3.4\n\t\t\t\tc-6.3-0.6-14-0.9-23.2-0.9h-35.5v45.9h35.1c9.2,0,16.9-0.3,23.2-0.8s11.5-1.6,15.4-3.2c3.9-1.6,6.8-3.9,8.5-6.9\n\t\t\t\tC265.3,638.6,266.1,634.6,266.1,629.7z"/>\n\t\t\t<path d="M417.4,711.2L401.7,681h-77.6l-15.7,30.2H297l59.8-114.3H369l59.8,114.3H417.4z M362.9,606.9l-33.8,64.6h67.5\n\t\t\t\tL362.9,606.9z"/>\n\t\t\t<path d="M562.8,632c0,5.7-0.9,10.8-2.8,15.1c-1.9,4.4-4.8,8.1-8.8,11.1s-9.1,5.3-15.4,6.8c-6.3,1.5-13.9,2.3-22.8,2.3h-51.3v43.9\n\t\t\t\th-10.4V596.8H513c8.9,0,16.5,0.8,22.8,2.3s11.4,3.8,15.4,6.7s6.9,6.6,8.8,11C561.8,621.2,562.8,626.2,562.8,632z M552.1,632\n\t\t\t\tc0-5.4-0.9-9.8-2.7-13.1s-4.6-5.9-8.3-7.7s-8.5-3-14.2-3.6s-12.6-0.9-20.4-0.9h-44.7v50.9h44.7c3.1,0,6.3,0,9.8,0\n\t\t\t\ts6.9-0.1,10.3-0.5c3.4-0.4,6.6-1,9.7-1.9s5.8-2.3,8.2-4.2s4.2-4.4,5.7-7.4C551.4,640.5,552.1,636.6,552.1,632z"/>\n\t\t\t<path d="M703.6,711.2v-55.6H601.2v55.6h-10.4V596.8h10.4v49.3h102.4v-49.3H714v114.3h-10.4V711.2z"/>\n\t\t\t<path d="M889.7,654.1c0,10.3-1.9,19.1-5.6,26.6c-3.7,7.5-8.8,13.6-15.3,18.5s-14.1,8.4-23,10.8s-18.3,3.5-28.5,3.5\n\t\t\t\tc-10.3,0-19.8-1.2-28.7-3.5s-16.6-5.9-23.1-10.8c-6.5-4.9-11.7-11-15.4-18.5s-5.6-16.3-5.6-26.6c0-6.8,0.9-13,2.6-18.6\n\t\t\t\tc1.7-5.6,4.1-10.6,7.2-15c3.1-4.4,6.9-8.2,11.3-11.4c4.4-3.2,9.3-5.9,14.7-8s11.2-3.7,17.4-4.7s12.7-1.5,19.5-1.5\n\t\t\t\tc10.2,0,19.7,1.2,28.5,3.5s16.5,5.9,23,10.8c6.5,4.9,11.6,11,15.3,18.5C887.8,635,889.7,643.8,889.7,654.1z M879,654.1\n\t\t\t\tc0-8.1-1.3-15.3-4-21.5c-2.6-6.2-6.5-11.4-11.7-15.7c-5.2-4.2-11.6-7.5-19.3-9.7s-16.6-3.3-26.8-3.3s-19.1,1.1-26.9,3.3\n\t\t\t\tc-7.7,2.2-14.2,5.5-19.4,9.7s-9.2,9.5-11.8,15.7s-4,13.4-4,21.3c0,8.1,1.3,15.3,4,21.5s6.6,11.4,11.8,15.7\n\t\t\t\tc5.2,4.2,11.7,7.5,19.4,9.7s16.7,3.3,26.9,3.3s19.1-1.1,26.8-3.3s14.1-5.4,19.3-9.7c5.2-4.2,9.1-9.5,11.7-15.7\n\t\t\t\tC877.7,669.3,879,662.2,879,654.1z"/>\n\t\t\t<path d="M920.2,711.2V596.8h10.4v104.6h83.5v9.7h-93.9V711.2z"/>\n\t\t</g>\n\n\t\t\t<radialGradient id="SVGID_2_" cx="513.05" cy="1101.48" r="466.86" gradientTransform="matrix(1 0 0 1 0 -286)" gradientUnits="userSpaceOnUse">\n\t\t\t<stop  offset="0" style="stop-color:#5B86E5"/>\n\t\t\t<stop  offset="0.34" style="stop-color:#509CE2"/>\n\t\t\t<stop  offset="1" style="stop-color:#36D1DC"/>\n\t\t</radialGradient>\n\t\t<path class="st3" d="M389.9,700.8h244.3c16.8,0,30.4,13.6,30.4,30.4v27.4c0,16.8-13.6,30.4-30.4,30.4H389.9\n\t\t\tc-16.8,0-30.4-13.6-30.4-30.4v-27.4C359.4,714.4,373,700.8,389.9,700.8L389.9,700.8L389.9,700.8z"/>\n\t\t<path class="st1" d="M634.2,704.3c14.8,0,26.8,12,26.8,26.9v27.4c0,14.8-12,26.9-26.9,26.9l0,0H389.9c-14.8,0-26.9-12-26.9-26.9\n\t\t\tv-27.4c0-14.8,12-26.9,26.9-26.9l0,0H634.2 M634.2,697.2H389.9c-18.8,0-34,15.2-34,34v27.4c0,18.8,15.2,34,34,34h244.3\n\t\t\tc18.8,0,34-15.2,34-34v-27.4C668.2,712.4,652.9,697.2,634.2,697.2L634.2,697.2z"/>\n\t\t<g class="st2">\n\t\t\t<path class="st1" d="M385,764.8c-3.7-0.9-6.6-2-8.6-3.3l3-4c2.1,1.2,4.7,2.2,7.8,3c3.1,0.8,6.4,1.2,9.8,1.2\n\t\t\t\tc4.5,0,7.9-0.5,10.1-1.6c2.2-1.1,3.3-2.6,3.3-4.5c0-1.4-0.6-2.4-1.8-3.2c-1.2-0.8-2.7-1.4-4.5-1.8c-1.8-0.4-4.2-0.8-7.3-1.2\n\t\t\t\tc-4-0.6-7.3-1.1-9.7-1.7c-2.5-0.6-4.5-1.6-6.3-3c-1.7-1.4-2.6-3.4-2.6-5.9c0-3.1,1.7-5.7,5.2-7.7c3.5-2,8.3-3,14.4-3\n\t\t\t\tc3.2,0,6.4,0.3,9.6,1c3.2,0.6,5.9,1.5,7.9,2.5l-2.9,4c-4.1-2.1-9-3.2-14.6-3.2c-4.3,0-7.5,0.6-9.7,1.7c-2.2,1.1-3.3,2.6-3.3,4.5\n\t\t\t\tc0,1.4,0.6,2.6,1.8,3.4c1.2,0.9,2.8,1.5,4.6,1.9c1.8,0.4,4.3,0.8,7.6,1.2c4,0.6,7.1,1.1,9.5,1.7c2.4,0.6,4.4,1.5,6.1,2.9\n\t\t\t\ts2.5,3.3,2.5,5.7c0,3.3-1.8,5.9-5.4,7.8c-3.6,1.9-8.6,2.9-15.1,2.9C392.6,766.1,388.7,765.7,385,764.8z"/>\n\t\t\t<path class="st1" d="M436.9,763.7c-3.9-1.6-6.9-3.9-9.1-6.8c-2.2-2.9-3.3-6.2-3.3-9.8c0-3.6,1.1-6.9,3.3-9.8\n\t\t\t\tc2.2-2.9,5.2-5.1,9.1-6.7c3.9-1.6,8.3-2.4,13.2-2.4c4.3,0,8.1,0.6,11.5,1.9c3.4,1.3,6,3.1,8,5.5l-5,2.6c-1.6-1.8-3.7-3.2-6.2-4.2\n\t\t\t\tc-2.5-0.9-5.3-1.4-8.2-1.4c-3.6,0-6.8,0.6-9.7,1.8c-2.9,1.2-5.1,2.9-6.7,5.1s-2.4,4.8-2.4,7.6c0,2.9,0.8,5.4,2.4,7.6\n\t\t\t\tc1.6,2.2,3.8,3.9,6.7,5.1c2.9,1.2,6.1,1.8,9.7,1.8c3,0,5.7-0.4,8.2-1.3c2.5-0.9,4.6-2.3,6.2-4.1l5,2.6c-2,2.4-4.6,4.2-8,5.5\n\t\t\t\tc-3.4,1.3-7.2,1.9-11.4,1.9C445.1,766.1,440.7,765.3,436.9,763.7z"/>\n\t\t\t<path class="st1" d="M514.9,731.8c3.5,2.4,5.2,6,5.2,10.8v23.1h-6.4v-5.8c-1.5,1.9-3.7,3.5-6.7,4.5c-2.9,1.1-6.4,1.6-10.4,1.6\n\t\t\t\tc-5.5,0-9.9-1-13.2-3c-3.3-2-4.9-4.6-4.9-7.9c0-3.2,1.5-5.7,4.6-7.7c3.1-1.9,7.9-2.9,14.6-2.9h15.8v-2.3c0-3.2-1.2-5.7-3.6-7.3\n\t\t\t\tc-2.4-1.7-5.9-2.5-10.5-2.5c-3.1,0-6.2,0.4-9.1,1.2c-2.9,0.8-5.4,1.9-7.5,3.2l-3-3.8c2.5-1.6,5.5-2.9,9.1-3.7\n\t\t\t\tc3.5-0.9,7.2-1.3,11.1-1.3C506.5,728.1,511.5,729.3,514.9,731.8z M507.4,760.2c2.7-1.3,4.7-3.2,6-5.6v-6.1h-15.6\n\t\t\t\tc-8.5,0-12.7,2.2-12.7,6.7c0,2.2,1.1,3.9,3.3,5.1c2.2,1.3,5.3,1.9,9.3,1.9C501.4,762.1,504.7,761.5,507.4,760.2z"/>\n\t\t\t<path class="st1" d="M576.6,730.5c3.8,1.6,6.7,3.8,8.9,6.7c2.1,2.9,3.2,6.2,3.2,9.9c0,3.7-1.1,7.1-3.2,9.9\n\t\t\t\tc-2.1,2.9-5.1,5.1-8.8,6.7c-3.7,1.6-8,2.4-12.7,2.4c-4,0-7.7-0.6-10.9-1.9c-3.2-1.3-5.9-3.1-8-5.5v20.8h-6.7v-51.1h6.4v7.4\n\t\t\t\tc2-2.5,4.7-4.4,8-5.7s7-2,11.2-2C568.6,728.1,572.8,728.9,576.6,730.5z M572.9,759.8c2.8-1.2,5.1-2.9,6.7-5.1\n\t\t\t\tc1.6-2.2,2.4-4.8,2.4-7.6s-0.8-5.4-2.4-7.6c-1.6-2.2-3.8-3.9-6.7-5.1c-2.8-1.2-6-1.8-9.4-1.8c-3.5,0-6.7,0.6-9.5,1.8\n\t\t\t\tc-2.8,1.2-5,2.9-6.6,5.1s-2.4,4.7-2.4,7.6s0.8,5.4,2.4,7.6c1.6,2.2,3.8,3.9,6.6,5.1s6,1.8,9.5,1.8\n\t\t\t\tC566.9,761.6,570.1,761,572.9,759.8z"/>\n\t\t\t<path class="st1" d="M645.6,748.6h-41.5c0.4,3.9,2.4,7,5.9,9.4c3.6,2.4,8.1,3.6,13.6,3.6c3.1,0,5.9-0.4,8.5-1.2\n\t\t\t\tc2.6-0.8,4.8-2,6.7-3.7l3.8,3.3c-2.2,2-5,3.5-8.3,4.5c-3.3,1-6.9,1.6-10.9,1.6c-5.1,0-9.6-0.8-13.6-2.5c-3.9-1.6-7-3.9-9.2-6.8\n\t\t\t\tc-2.2-2.9-3.3-6.2-3.3-9.8c0-3.6,1.1-6.9,3.2-9.8c2.1-2.9,5-5.1,8.7-6.7c3.7-1.6,7.8-2.4,12.4-2.4c4.6,0,8.7,0.8,12.4,2.4\n\t\t\t\tc3.7,1.6,6.5,3.8,8.6,6.7c2.1,2.9,3.1,6.1,3.1,9.8L645.6,748.6z M609.6,735.9c-3.2,2.3-5.1,5.3-5.5,9h35.2\n\t\t\t\tc-0.4-3.7-2.3-6.7-5.5-9c-3.2-2.3-7.3-3.4-12.1-3.4C616.8,732.5,612.8,733.6,609.6,735.9z"/>\n\t\t</g>\n\t</g>\n</g>\n</svg>']);return RS=function(){return t},t}customElements.define("gscape-layout-settings",IS);var BS=Kv(RS());function zS(t){return(zS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FS(){var t=ZS([""]);return FS=function(){return t},t}function VS(){var t=ZS(["\n                ","\n              "]);return VS=function(){return t},t}function qS(){var t=ZS([""]);return qS=function(){return t},t}function US(){var t=ZS(['<option value="','" ?selected=',">","</option>"]);return US=function(){return t},t}function HS(){var t=ZS(['\n                <div class="setting_obj">\n                  <select area="','" id="','" @change="','">\n                    ',"\n                  </select>\n                </div>\n              "]);return HS=function(){return t},t}function WS(){var t=ZS(['\n            <div class="setting">\n              <div class="title-wrap">\n                <div class="setting-title">','</div>\n                <div class="setting-label">',"</div>\n              </div>\n            ","\n\n            ","\n            </div>\n          "]);return WS=function(){return t},t}function YS(){var t=ZS(['\n          <div class="area">\n            <div class="area-title">',"</div>\n\n        ","\n        </div>\n        "]);return YS=function(){return t},t}function XS(){var t=ZS([""]);return XS=function(){return t},t}function GS(){var t=ZS(["\n      ",'\n\n      <div class="widget-body hide gscape-panel">\n        <div class="gscape-panel-title">Settings</div>\n\n        <div class="settings-wrapper">\n\n      ','\n\n        <div class="area">\n          <div class="area-title">About</div>\n          <div id="logo">\n            ','\n          </div>\n\n          <div id="version">\n            <span>Version: </span>\n            <span>',"</span>\n          </div>\n        </div>\n      </div>\n    "]);return GS=function(){return t},t}function $S(){var t=ZS(["\n        :host {\n          bottom:10px;\n          left: 94px;\n          padding-right:0;\n        }\n\n        gscape-button {\n          position: static;\n        }\n\n        .gscape-panel {\n          padding-right: 0;\n        }\n\n        .settings-wrapper {\n          overflow-y: auto;\n          scrollbar-width: inherit;\n          max-height: 420px;\n          overflow-x: hidden;\n          white-space: nowrap;\n          padding-right: 20px;\n        }\n\n        .area {\n          margin-bottom: 30px;\n        }\n\n        .area:last-of-type {\n          margin-bottom: 0;\n        }\n\n        .area-title {\n          font-weight: bold;\n          margin-bottom: 5px;\n          font-size: 105%;\n        }\n\n        .setting {\n          padding: 10px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .title-wrap {\n          margin-right: 50px;\n        }\n\n        .setting-label {\n          font-size : 12px;\n          opacity: 0.7;\n        }\n\n        #logo {\n          text-align:center;\n        }\n\n        #logo svg {\n          width: 40%;\n          height: auto;\n          margin: 20px 0;\n        }\n\n        #version {\n          text-align: center;\n          font-size: 14px;\n        }\n      "]);return $S=function(){return t},t}function ZS(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function KS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JS(t,e,n){return e&&QS(t.prototype,e),n&&QS(t,n),t}function tk(t,e){return(tk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ek(t,e,n){return(ek="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nk(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function nk(t){return(nk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rk=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==zS(e)&&"function"!=typeof e?KS(t):e}(this,nk(e).call(this))).collapsible=!0,n.settings=t,n.btn=new bx("settings"),n.btn.onClick=n.toggleBody.bind(KS(n)),n.callbacks={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tk(t,e)}(e,t),JS(e,null,[{key:"styles",get:function(){var t=ek(nk(e),"styles",this);t[1];return[t[0],Cy($S())]}}]),JS(e,[{key:"render",value:function(){var t=this;return Kv(GS(),this.btn,Object.keys(this.settings).map((function(e){if("default"==e)return Kv(XS());var n,r=t.settings[e];return Kv(YS(),(n=e).charAt(0).toUpperCase()+n.slice(1),Object.keys(r).map((function(n){var i=r[n];return Kv(WS(),i.title,i.label,"list"==i.type?Kv(HS(),e,n,t.onListChange,i.list.map((function(t){if(""!=t.value){var e=t.value==i.selected;return Kv(US(),t.value,e,t.label)}}))):Kv(qS()),"boolean"==i.type?Kv(VS(),new Mx(n,i.enabled,!1,"",t.onToggleChange.bind(t))):Kv(FS()))})))})),BS,"1.0.0")}},{key:"onListChange",value:function(t){var e=t.target,n=e.getAttribute("area");this.settings[n][e.id].selected=e.value,this.callbacks[e.id](e.value)}},{key:"onToggleChange",value:function(t){var e=t.target;this.settings.widgets[e.id].enabled=e.checked,e.checked?this.callbacks.widgetEnable(e.id):this.callbacks.widgetDisable(e.id)}},{key:"onEntityNameSelection",set:function(t){this.callbacks.entity_name=t}},{key:"onLanguageSelection",set:function(t){this.callbacks.language=t}},{key:"onThemeSelection",set:function(t){this.callbacks.theme=t}},{key:"onWidgetEnabled",set:function(t){this.callbacks.widgetEnable=t}},{key:"onWidgetDisabled",set:function(t){this.callbacks.widgetDisable=t}}]),e}(Kb);function ik(t){return(ik="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ok(){var t=sk(['<div class="loader"></div>']);return ok=function(){return t},t}function ak(){var t=sk(["\n      .loader {\n        border: 3px solid ",";\n        border-radius: 50%;\n        border-top: 3px solid ",";\n        width: 30px;\n        height: 30px;\n        -webkit-animation: spin 1s linear infinite; /* Safari */\n        animation: spin 1s linear infinite;\n        box-sizing: border-box;\n        position:absolute;\n        top:50%;\n        left: 50%;\n        margin-top: -15px;\n        margin-left: -15px;\n      }\n\n      /* Safari */\n      @-webkit-keyframes spin {\n        0% { -webkit-transform: rotate(0deg); }\n        100% { -webkit-transform: rotate(360deg); }\n      }\n\n      @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    "]);return ak=function(){return t},t}function sk(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function lk(t,e){return!e||"object"!==ik(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uk(t){return(uk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ck(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dk(t,e,n){return e&&ck(t.prototype,e),n&&ck(t,n),t}function hk(t,e){return(hk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}customElements.define("gscape-settings",rk);var fk=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),lk(this,uk(e).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hk(t,e)}(e,t),dk(e,null,[{key:"styles",get:function(){return Cy(ak(),Rb.shadows,Rb.secondary)}}]),dk(e,[{key:"render",value:function(){return Kv(ok())}},{key:"hide",value:function(){this.style.display="none"}},{key:"show",value:function(){this.style.display="initial"}}]),e}(jy);function pk(t){return(pk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gk(){var t=mk(["<p>","</p>"]);return gk=function(){return t},t}function vk(){var t=mk(['\n    <gscape-head\n      title="','"\n      icon="close"\n      class="',' drag-handler">\n    </gscape-head>\n    <div class="widget-body ','">\n      ',"\n    </div>\n    "]);return vk=function(){return t},t}function yk(){var t=mk(["\n        :host {\n          top: 30%;\n          left: 50%;\n          max-width: 500px;\n          transform: translate(-50%, 0);\n        }\n\n        .widget-body {\n          padding : 10px;\n          width: initial;\n        }\n\n        .widget-body.error {\n          background : var(--theme-gscape-error, ",");\n          color : var(--theme-gscape-on-error, ",");\n        }\n\n        gscape-head {\n          --title-text-align : center;\n          --title-width : 100%;\n        }\n\n        gscape-head.error {\n          color : var(--theme-gscape-error, ",");\n        }\n\n        gscape-head.warning {\n          color : var(--theme-gscape-warning, ",");\n        }\n      "]);return yk=function(){return t},t}function mk(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function bk(t,e){return!e||"object"!==pk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xk(t,e,n){return e&&wk(t.prototype,e),n&&wk(t,n),t}function _k(t,e){return(_k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ek(t,e,n){return(Ek="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sk(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Sk(t){return(Sk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-spinner",fk);var kk=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=bk(this,Sk(e).call(this))).draggable=!0,t.text=[],t.type="error",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_k(t,e)}(e,t),xk(e,null,[{key:"properties",get:function(){return{text:{type:Array},type:{type:String}}}},{key:"styles",get:function(){var t=Ek(Sk(e),"styles",this),n=t[1];return[t[0],Cy(yk(),n.error,n.on_error,n.error,n.warning)]}}]),xk(e,[{key:"render",value:function(){return Kv(vk(),this.type,this.type.toLowerCase(),this.type.toLowerCase(),this.text.map((function(t){return Kv(gk(),t)})))}},{key:"show",value:function(t,n){Ek(Sk(e.prototype),"show",this).call(this),this.type=t,this.text="string"==typeof n?[n]:n}},{key:"clickHandler",value:function(){this.hide(),this._onClick()}},{key:"firstUpdated",value:function(){Ek(Sk(e.prototype),"firstUpdated",this).call(this),this.hide(),this.header.onClick=this.hide.bind(this)}}]),e}(Kb);function Ok(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}customElements.define("gscape-dialog",kk);var Ck=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.graph_container=document.createElement("div"),this.graph_container.style.width="100%",this.graph_container.style.height="100%",this.graph_container.style.position="absolute",this.container.appendChild(this.graph_container),this.onEdgeSelection={},this.onNodeSelection={},this.renderers={default:new T_(this.graph_container),lite:new eE(this.graph_container),float:new cS(this.graph_container)},this.setRenderer(this.renderers.default),this.container.requestFullscreen=this.container.requestFullscreen||this.container.mozRequestFullscreen||this.container.mozRequestFullScreen||this.container.webkitRequestFullscreen||this.container.msRequestFullscreen,document.cancelFullscreen=document.exitFullscreen||document.cancelFullscreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen,this.spinner=new fk,this.container.appendChild(this.spinner),this.dialog=new kk,this.container.appendChild(this.dialog)}var e,n,r;return e=t,(n=[{key:"createUi",value:function(t,e,n,r){var i=this;this.settings=r,this.filters=this.settings.widgets.filters.filter_list,this.widgets=new Map,this.diagram_selector=new ww(e),this.diagram_selector.onDiagramChange=this.onDiagramChange,this.widgets.set("diagram_selector",this.diagram_selector),this.explorer=new Lw(n,e),this.explorer.onEntitySelect=this.onEntitySelection,this.explorer.onNodeNavigation=this.onNodeNavigation,this.widgets.set("explorer",this.explorer),this.entity_details=new lx,this.widgets.set("details",this.entity_details);var o=new bx("fullscreen","fullscreen_exit");o.style.top="10px",o.style.right="10px",o.onClick=this.toggleFullscreen.bind(this),this.widgets.set("btn_fullscreen",o);var a=new bx("filter_center_focus");a.style.bottom="10px",a.style.right="10px",a.onClick=this.resetView.bind(this),this.widgets.set("btn_reset",a),this.filters_widget=new Wx(this.filters),this.filters_widget.onFilterOn=this.filter.bind(this),this.filters_widget.onFilterOff=this.unfilter.bind(this),this.widgets.set("filters",this.filters_widget),this.ontology_info=new i_(t),this.widgets.set("ontology_info",this.ontology_info),this.owl_translator=new g_,this.widgets.set("owl_translator",this.owl_translator);var s=new O_;for(var l in s.onZoomIn=this.zoomIn.bind(this),s.onZoomOut=this.zoomOut.bind(this),this.widgets.set("zoom_widget",s),this.renderer_selector=new kS(this.renderers),this.renderer_selector.onRendererChange=this.changeRenderingMode.bind(this),this.widgets.set("simplifications",this.renderer_selector),this.layout_settings=new IS,this.layout_settings.onLayoutRunToggle=function(){return i.renderer.layoutStopped=!i.renderer.layoutStopped},this.layout_settings.onDragAndPinToggle=function(){return i.renderer.dragAndPin=!i.renderer.dragAndPin},this.layout_settings.hide(),this.widgets.set("layout_settings",this.layout_settings),this.settings_widget=new rk(this.settings),this.settings_widget.onEntityNameSelection=this.onEntityNameTypeChange.bind(this),this.settings_widget.onLanguageSelection=this.onLanguageChange.bind(this),this.settings_widget.onThemeSelection=this.onThemeSelection.bind(this),this.settings_widget.onWidgetEnabled=this.onWidgetEnabled.bind(this),this.settings_widget.onWidgetDisabled=this.onWidgetDisabled.bind(this),this.widgets.set("settings_widget",this.settings_widget),Object.keys(this.renderers).forEach((function(t){return i.registerEvents(i.renderers[t])})),this.settings.widgets)this.settings.widgets[l].enabled||this.onWidgetDisabled(l);this.widgets.forEach((function(t,e){switch(i.container.appendChild(t),e){case"filters":case"ontology_info":case"settings_widget":case"simplifications":t.onToggleBody=function(){return i.blurAll(t)}}})),"custom"!=this.settings.rendering.theme.selected&&this.setTheme(Vb[this.settings.rendering.theme.selected])}},{key:"registerEvents",value:function(t){t.onEdgeSelection=this.onEdgeSelection,t.onNodeSelection=this.onNodeSelection,t.onBackgroundClick=this.blurAll.bind(this)}},{key:"drawDiagram",value:function(t){this.diagram_selector.actual_diagram_id=t.id,this.renderer.drawDiagram(t),this.filters.all.active?this.filter("all"):this.applyActiveFilters()}},{key:"applyActiveFilters",value:function(){var t=this;Object.keys(this.filters).map((function(e){t.filters[e].active&&t.renderer.filter(t.filters[e])}))}},{key:"filter",value:function(t){this.filters[t].active=!0,this.onFilterToggle(t)}},{key:"unfilter",value:function(t){this.filters[t].active=!1,this.onFilterToggle(t)}},{key:"onFilterToggle",value:function(t){var e=this;"attributes"==t&&(this.filters.value_domain.disabled=this.filters.attributes.active),"all"==t?Object.keys(this.filters).map((function(t){"all"==t||e.filters[t].disbaled||(e.filters[t].active=e.filters.all.active,"value_domain"==t&&(e.filters[t].disabled=e.filters.all.active),e.executeFilter(t))})):!this.filters[t].active&&this.filters.all.active&&(this.filters.all.active=!1),"default"!==this.renderer_selector.actual_mode&&(this.filters.value_domain.disabled=!0),this.executeFilter(t),this.widgets.get("filters").updateTogglesState()}},{key:"executeFilter",value:function(t){this.filters[t].active?this.renderer.filter(this.filters[t]):(this.renderer.unfilter(this.filters[t]),this.applyActiveFilters())}},{key:"zoomIn",value:function(){this.renderer.zoomIn()}},{key:"zoomOut",value:function(){this.renderer.zoomOut()}},{key:"resetView",value:function(){this.renderer.resetView()}},{key:"centerOnNode",value:function(t,e){this.renderer.centerOnNode(t.id,e)}},{key:"showDetails",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.entity_details.entity=t,this.entity_details.show(),e&&this.renderer.cy.$(":selected").unselect()}},{key:"hideDetails",value:function(){this.entity_details.hide()}},{key:"showOwlTranslation",value:function(t){"default"==this.renderer_selector.actual_mode&&(this.owl_translator.owl_text=t,this.owl_translator.show())}},{key:"hideOwlTranslation",value:function(){this.owl_translator.hide()}},{key:"toggleFullscreen",value:function(){var t=this.container;this.isFullscreen()?document.cancelFullscreen():t.requestFullscreen()}},{key:"isFullscreen",value:function(){return document.fullScreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}},{key:"blurAll",value:function(t){this.widgets.forEach((function(e){Object.is(e,t)||e.blur()}))}},{key:"setRenderer",value:function(t){for(name in this.renderers)this.renderers[name]&&this.renderers[name].unmount();t.mount(this.graph_container),this.renderer=t}},{key:"changeRenderingMode",value:function(t){var e=this,n=this.renderer.getActualPosition(),r=this.renderer;switch(this.setRenderer(this.renderers[t]),t){case"float":case"lite":Object.keys(this.filters).map((function(t){"all"!=t&&"attributes"!=t&&"individuals"!=t&&(e.filters[t].disabled=!0)}));break;case"default":Object.keys(this.filters).map((function(t){"all"!=t&&"attributes"!=t&&"individuals"!=t&&(e.filters[t].disabled=!1,"value_domain"==t&&e.filters.attributes.active&&(e.filters.value_domain.disabled=!0))}))}this.onRenderingModeChange(t,n),"float"==t?this.layout_settings.show():(r==this.renderers.float&&setTimeout((function(){return e.resetView()}),200),this.layout_settings.hide()),this.filters_widget.requestUpdate(),this.blurAll()}},{key:"setViewPort",value:function(t){this.renderer.centerOnRenderedPosition(t.x,t.y,t.zoom)}},{key:"updateEntitiesList",value:function(t){this.explorer.predicates=t,this.explorer.requestUpdate()}},{key:"onThemeSelection",value:function(t){"custom"==t?this.setTheme(this.custom_theme):this.setTheme(Vb[t])}},{key:"setTheme",value:function(t){var e=this,n={};Object.keys(t).map((function(r){var i="--theme-gscape-"+r.replace(/_/g,"-"),o="string"==typeof t[r]?t[r]:t[r].cssText;e.container.style.setProperty(i,o),n[r]=o})),this.graph_container.style.background=t.background,Object.keys(this.renderers).map((function(t){e.renderers[t].setTheme(n)}))}},{key:"setCustomTheme",value:function(t){var e=this;this.custom_theme=JSON.parse(JSON.stringify(Rb)),Object.keys(t).forEach((function(n){e.custom_theme[n]&&(e.custom_theme[n]=t[n])})),this.setTheme(this.custom_theme)}},{key:"onWidgetEnabled",value:function(t){this.widgets.get(t).enable()}},{key:"onWidgetDisabled",value:function(t){this.widgets.get(t).disable()}},{key:"showDialog",value:function(t,e){this.dialog.show(t,e)}},{key:"actual_diagram_id",get:function(){return this.diagram_selector.actual_diagram_id}},{key:"onWikiClick",set:function(t){this.entity_details.onWikiClick=t}}])&&Ok(e.prototype,n),r&&Ok(e,r),t}();function Tk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Pk=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"edgeToOwlString",value:function(t){var e=t.source(),n=t.target(),r='<span class="owl_error">Malformed Axiom</span>',i='<span class="owl_error">Missing Operand</span>';switch(t.data("type")){case"inclusion":return"concept"==e.data("identity")&&"concept"==n.data("identity")?"domain-restriction"==e.data("type")&&"self"!=e.data("displayed_name")&&"self"!=n.data("displayed_name")?function(t,e){var n=e.source().incomers('[type = "input"]').sources();return n.size()>1?a(t,e):"role"==n.data("type")?"ObjectPropertyDomain("+t.nodeToOwlString(n)+" "+t.nodeToOwlString(e.target())+")":"attribute"==n.data("type")?"DataPropertyDomain("+t.nodeToOwlString(n)+" "+t.nodeToOwlString(e.target())+")":void 0}(this,t):"range-restriction"==e.data("type")&&"self"!=e.data("displayed_name")&&"self"!=n.data("displayed_name")?l(this,t):"complement"==n.data("type")||"complement"==e.data("type")?function(t,e){var n="DisjointClasses(";return e.forEach((function(e){"complement"==e.data("type")&&(e=e.incomers('[type = "input"]').source()),n+=t.nodeToOwlString(e)+" "})),n=n.slice(0,n.length-1),n+=")"}(this,t.connectedNodes()):a(this,t):"role"==e.data("identity")&&"role"==n.data("identity")?"complement"==n.data("type")?u(this,t):s(this,t):"value_domain"==e.data("identity")&&"value_domain"==n.data("identity")?l(this,t):"attribute"==e.data("identity")&&"attribute"==n.data("identity")?"complement"==n.data("type")?u(this,t):s(this,t):r;case"equivalence":return"concept"==e.data("identity")&&"concept"==n.data("identity")?function(t,e){return"EquivalentClasses("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}(this,t):"role"==e.data("identity")&&"role"==n.data("identity")?"role-inverse"==e.data("type")||"role-inverse"==n.data("type")?function(t,e){var n,r;return"role-inverse"==e.source().data("type")?(r=e.target(),n=e.source().incomers('[type = "input"]').sources().first()):(r=e.source(),n=e.target().incomers('[type = "input"]').sources().first()),n.length?"InverseObjectProperties("+t.nodeToOwlString(r)+" "+t.nodeToOwlString(n)+")":i}(this,t):o(this,t):"attribute"==e.data("identity")&&"attribute"==n.data("identity")?o(this,t):r;case"membership":return"concept"==n.data("identity")?function(t,e){return"ClassAssertion("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}(this,t):function(t,e){var n,r="Object";return"attribute"==e.target().data("identity")&&(r="Data"),n=r+"PropertyAssertion("+t.nodeToOwlString(e.target())+" ","property-assertion"==e.source().data("type")?(e.source().incomers('[type = "input"]').sources().forEach((function(e){n+=t.nodeToOwlString(e)+" "})),n=n.slice(0,n.length-1)):n+=t.nodeToOwlString(e.source()),n+")"}(this,t)}function o(t,e){return"Equivalent"+("role"==e.source().data("idenity")?"Object":"Data")+"Properties("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}function a(t,e){return"SubClassOf("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}function s(t,e){var n;if("role"==e.target().data("identity"))n="Object";else{if("attribute"!=e.target().data("type"))return null;n="Data"}return"Sub"+n+"PropertyOf("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}function l(t,e){var n=e.source().incomers('[type = "input"]').sources();return n.size()>1?a(t,e):"role"==n.data("type")?"ObjectPropertyRange("+t.nodeToOwlString(n)+" "+t.nodeToOwlString(e.target())+")":"attribute"==n.data("type")?"DataPropertyRange("+t.nodeToOwlString(n)+" "+t.nodeToOwlString(e.target())+")":void 0}function u(t,e){var n,r;if("role"==e.target().data("identity"))n="Object";else{if("attribute"!=e.target().data("identity"))return null;n="Data"}return r="Disjoint"+n+"Properties(",e.connectedNodes().forEach((function(e){"complement"==e.data("type")&&(e=e.incomers('[type = "input"]').source()),r+=t.nodeToOwlString(e)+" "})),(r=r.slice(0,r.length-1))+")"}}},{key:"nodeToOwlString",value:function(t,e){var n='<span class="axiom_predicate_prefix">owl:</span><span class="axiom_predefinite_obj">Thing</span>',r='<span class="axiom_predicate_prefix">rdfs:</span><span class="axiom_predefinite_obj">Literal</span>',i='<span class="owl_error">Missing Operand</span>',o=e||null;if(o&&(t.hasClass("predicate")||"value-domain"==t.data("type"))){var a,s='<span class="axiom_predicate_prefix">'+t.data("iri").prefix+'</span><span class="owl_'+t.data("type")+'">'+t.data("iri").remaining_chars+"</span>";switch(t.data("type")){case"concept":return"Declaration("+(a="Class")+"("+s+"))";case"role":var l="Declaration("+(a="ObjectProperty")+"("+s+"))";return t.data("functional")&&(l+="<br/>Functional"+a+"("+s+")"),t.data("inverseFunctional")&&(l+="<br/>InverseFunctional"+a+"("+s+")"),t.data("asymmetric")&&(l+="<br />Asymmetric"+a+"("+s+")"),t.data("irreflexive")&&(l+="<br/>Irreflexive"+a+"("+s+")"),t.data("reflexive")&&(l+="<br/>Reflexive"+a+"("+s+")"),t.data("symmetric")&&(l+="<br/>Symmetric"+a+"("+s+")"),t.data("transitive")&&(l+="<br/>Transitive"+a+"("+s+")"),l;case"attribute":return l="Declaration("+(a="DataProperty")+"("+s+"))",t.data("functional")&&(l+="<br/>Functional"+a+"("+s+"))"),l;case"individual":if(-1!=t.data("iri").remaining_chars.search(/"[\w]+"\^\^[\w]+:/)){var u=t.data("iri").remaining_chars.split("^^")[0],c=t.data("iri").remaining_chars.split(":")[1];s='<span class="owl_value">'+u+'</span>^^<span class="axiom_predicate_prefix">'+t.data("iri").prefix+'</span><span class="owl_value-domain">'+c+"</span>"}return"Declaration("+(a="NamedIndividual")+"("+s+"))";case"value-domain":return"Declaration("+(a="Datatype")+"("+s+"))"}}switch(t.data("type")){case"individual":if(-1!=t.data("iri").remaining_chars.search(/"[\w]+"\^\^[\w]+:/))return u=t.data("iri").remaining_chars.split("^^")[0],c=t.data("iri").remaining_chars.split(":")[1],'<span class="owl_value">'+u+'</span>^^<span class="axiom_predicate_prefix">'+t.data("iri").prefix+'</span><span class="owl_value-domain">'+c+"</span>";case"concept":case"role":case"value-domain":case"attribute":case"individual":return'<span class="axiom_predicate_prefix">'+t.data("iri").prefix+'</span><span class="owl_'+t.data("type")+'">'+t.data("iri").remaining_chars+"</span>";case"facet":var d=t.data("displayed_name").replace(/\n/g,"^").split("^^");return d[0]=d[0].slice(4),'<span class="axiom_predicate_prefix">xsd:</span><span class="owl_value-domain">'+d[0]+'</span><span class="owl_value">'+d[1]+"</span>";case"domain-restriction":case"range-restriction":var h,f,p=t.connectedEdges('edge[target = "'+t.id()+'"][type = "input"]');if(!p.length)return i;if(p.forEach((function(t){"role"!=t.source().data("type")&&"attribute"!=t.source().data("type")||(h=t.source()),"role"!=t.source().data("type")&&"attribute"!=t.source().data("type")&&(f=t.source())})),!h)return i;if("attribute"==h.data("type")&&"range-restriction"==t.data("type"))return"Undefined";if("exists"==t.data("displayed_name"))return function(t,e,i,o){var a,s;return"role"==e.data("type")&&(a="Object"),"attribute"==e.data("type")&&(a="Data"),s=a+"SomeValuesFrom(",s+="range-restriction"==o?b(t,e):t.nodeToOwlString(e),s+=i||"Object"!=a?i||"Data"!=a?" "+t.nodeToOwlString(i)+")":" "+r+")":" "+n+")"}(this,h,f,t.data("type"));if("forall"==t.data("displayed_name"))return function(t,e,i,o){var a,s;return"role"==e.data("type")&&(a="Object"),"attribute"==e.data("type")&&(a="Data"),s=a+"AllValuesFrom(",s+="range-restriction"==o?b(t,e):t.nodeToOwlString(e),s+=i||"Object"!=a?i||"Data"!=a?" "+t.nodeToOwlString(i)+")":" "+r+")":" "+n+")"}(this,h,f,t.data("type"));if(-1!=t.data("displayed_name").search(/\(([-]|[\d]+),([-]|[\d]+)\)/)){var g=t.data("displayed_name").replace(/\(|\)/g,"").split(/,/);return function t(e,n,r,i,o){var a;if("role"==n.data("type")&&(a="Object"),"attribute"==n.data("type")&&(a="Data"),"-"==i[0])return"range-restriction"==o?r?a+"MaxCardinality("+i[1]+" "+b(e,n)+" "+e.nodeToOwlString(r)+")":a+"MaxCardinality("+i[1]+" "+b(e,n)+")":r?a+"MaxCardinality("+i[1]+" "+e.nodeToOwlString(n)+" "+e.nodeToOwlString(r)+")":a+"MaxCardinality("+i[1]+" "+e.nodeToOwlString(n)+")";if("-"==i[1])return"range-restriction"==o?r?a+"MinCardinality("+i[0]+" "+b(e,n)+" "+e.nodeToOwlString(r)+")":a+"MinCardinality("+i[0]+" "+b(e,n)+")":r?a+"MinCardinality("+i[0]+" "+e.nodeToOwlString(n)+" "+e.nodeToOwlString(r)+")":a+"MinCardinality("+i[0]+" "+e.nodeToOwlString(n)+")";if("-"!=i[0]&&"-"!=i[1]){var s=[],l=[];return s.push(i[0]),s.push("-"),l.push("-"),l.push(i[1]),a+"IntersectionOf("+t(e,n,r,s,o)+" "+t(e,n,r,l,o)+")"}}(this,h,f,g,t.data("type"))}if("self"==t.data("displayed_name"))return function(t,e,n){return"range-restriction"==n?"ObjectHasSelf("+b(t,e)+")":"ObjectHasSelf("+t.nodeToOwlString(e)+")"}(this,h,t.data("type"));case"role-inverse":var v=t.incomers('[type = "input"]').sources();return v.length?b(this,v):i;case"role-chain":return t.data("inputs")?function(t,e){var n="ObjectPropertyChain(";return e.forEach((function(e){n+=t.nodeToOwlString(e)+" "})),n=n.slice(0,n.length-1),n+=")"}(this,t.incomers('[type = "input"]').sources()):i;case"union":case"intersection":case"complement":case"enumeration":case"disjoint-union":if(!(m=t.incomers('[type = "input"]').sources()).length)return i;var y="Object";return"concept"!=t.data("identity")&&"role"!=t.data("identity")&&(y="Data"),"disjoint-union"==t.data("type")?o?w(this,m,"union",y)+"<br />"+function(t,e){var n="DisjointClasses(";return e.forEach((function(e){n+=t.nodeToOwlString(e)+" "})),n=n.slice(0,n.length-1),n+=")"}(this,m):w(this,m,"union",y):w(this,m,t.data("type"),y);case"datatype-restriction":var m;return(m=t.incomers('[type = "input"]').sources()).length?function(t,e){var n="DatatypeRestriction(",r=e.filter('[type = "value-domain"]').first();return n+=t.nodeToOwlString(r)+" ",e.forEach((function(e){"facet"==e.data("type")&&(n+=t.nodeToOwlString(e)+"^^",n+=t.nodeToOwlString(r)+" ")})),n=n.slice(0,n.length-1),n+=")"}(this,m):i;case"property-assertion":return"Undefined"}function b(t,e){return"ObjectInverseOf("+t.nodeToOwlString(e)+")"}function w(t,e,n,r){var i;return n="enumeration"==n?"One":n.charAt(0).toUpperCase()+n.slice(1),i=r+n+"Of(",e.forEach((function(e){i+=t.nodeToOwlString(e)+" "})),i=i.slice(0,i.length-1),i+=")"}}}])&&Tk(e.prototype,n),r&&Tk(e,r),t}();function Nk(t){var e=new T_(null),n=new Vg(t.name,t.version),r=new Vg(t.name,t.version),i={lite:n,float:r};return new Promise((function(p,g){try{window.setTimeout((function(){t.diagrams.forEach((function(t){var i,p,g,v=new Rg(t.name,t.id),y=new Rg(t.name,t.id);v.addElems((i=t.nodes,p=t.edges,(g=jg()).add(i),g.add(p),s(g,(function(t){switch(t.data("type")){case"complement":case"value-domain":case"role-chain":case"enumeration":return!0;case"domain-restriction":case"range-restriction":return"forall"==t.data("displayed_name")}})),s(g,l),s(g,c),s(g,u),g.remove(".filtered"),function(t){var n=t.$("*");n.filter('[type ^= "domain"],[type ^= "range"]').forEach((function(n){var r,i=(r=null,n.incomers('[type = "input"]').forEach((function(t){"role"!=t.source().data("type")&&"attribute"!=t.source().data("type")||(r=t)})),r),s=null,l="domain-restriction"==n.data("type")?"domain":"range";n.connectedEdges('[type != "input"]').forEach((function(e,n){(s=function(e,n,r,i){var s=[],l=null;return"domain-restriction"!=e.source().data("type")&&"range-restriction"!=e.source().data("type")||"domain-restriction"!=e.target().data("type")&&"range-restriction"!=e.target().data("type")?(e.target().data("id")!==n.target().data("id")?s.push(o(e)):s.push(e.json()),"attribute"==n.source().data("type")?(n.source().position(n.target().position()),(l=s[0]).data.target=n.source().id(),l.data.id+="_"+i):(s.push(o(n)),l=a(s,t,s[0].data.id+"_"+i)),l.classes+="".concat(n.source().data("type")," ").concat(r),l.data.type="default",l):(t.remove(e),l)}(e,i,l,n))&&(t.add(s),t.remove(e))})),e.filterElem(n,"",t),t.remove(".filtered")})),t.remove(".filtered")}(g),function(t){var n=t;n.nodes('[type = "intersection"],[type = "union"],[type = "disjoint-union"]').forEach((function(t){(function(t){if("union"!=t.data("type")&&"disjoint-union"!=t.data("type")&&"intersection"!=t.data("type"))return!1;var e=!1;return t.incomers('[type *= "input"]').forEach((function(t){"concept"!=t.source().data("type")&&(e=!0)})),e})(t)&&(f(t),e.filterElem(t,"",n))})),n.remove(".filtered")}(g),function(t){t.$("*").filter('[type $= "union"]').forEach((function(e){d(e),e.incomers('edge[type = "input"]').data("type","easy_input"),t.remove(e.incomers('edge[type = "inclusion"]')),e.connectedEdges('edge[type = "equivalence"]').forEach((function(n){if(n.data("type","inclusion"),n.data("target_label","C"),n.source().id()!=e.id()){var r=o(n);t.remove(n),t.add(r)}})),e.outgoers('edge[type = "inclusion"]').forEach((function(t){t.addClass("hierarchy"),"disjoint-union"==e.data("type")&&t.addClass("disjoint")})),e.data("label")&&e.data("label",""),f(e),h(e),0==e.connectedEdges('[type !*= "input"]').size()&&t.remove(e)}))}(g),function(t){var n=t;n.$('node[type = "intersection"]').forEach((function(t){f(t),h(t),0==t.incomers('edge[type !*= "input"]').size()&&0==t.connectedEdges('edge[type = "equivalence"]').size()?e.filterElem(t,"",n):(t.incomers('edge[type !*= "input"]').forEach((function(e){t.incomers('edge[type = "input"]').forEach((function(r,i){var s=[];e.source().id()==t.id()?s.push(o(e)):s.push(e.json());var l="".concat(e.id(),"_").concat(i);s.push(o(r));var u=a(s,n,l);n.remove(e),n.add(u)}))})),n.remove(t))}))}(g),function(t){var e=t;e.nodes('[type = "role-inverse"]').forEach((function(t){var n=0,r=t.incomers('[type *= "input"]');t.connectedEdges('[type !*= "input"]').forEach((function(i,s){var l=[];i.source().id()==t.id()?l.push(o(i)):l.push(i.json()),l.push(o(r));var u=r.id()+"_"+s,c=a(l,e,u);c.data.type="inclusion",c.classes="inverse-of",e.add(c),e.remove(i),n+=1})),n>1?(e.remove(r),d(t),t.data("label","inverse Of"),t.data("labelXpos",0),t.data("labelYpos",0),t.data("text_background",!0)):(r.source()&&r.source().connectedEdges("edge.inverse-of").data("displayed_name","inverse Of"),e.remove(t))}))}(g),g.$("*"))),n.addDiagram(v),y.addElems(function(t,e){var n=jg();return n.add(t),n.add(e),function(t){t.$('[type = "role"]').forEach((function(e){var n=e.incomers("edge.role"),r=n.filter(".domain"),i=n.filter(".range").sources();r.forEach((function(e){i.forEach((function(n,r){var i={data:{id:e.id()+"-"+r,id_xml:e.target().data("id_xml"),diagram_id:e.target().data("diagram_id"),source:e.source().id(),target:n.id(),type:e.target().data("type"),iri:e.target().data("iri"),displayed_name:e.target().data("displayed_name"),label:e.target().data("label"),description:e.target().data("description"),functional:e.target().data("functional"),inverseFunctional:e.target().data("inverseFunctional"),asymmetric:e.target().data("asymmetric"),irreflexive:e.target().data("irreflexive"),reflexive:e.target().data("reflexive"),symmetric:e.target().data("symmetric"),transitive:e.target().data("transitive")},classes:"role predicate"};(t.add(i),t.getElementById(i.data.id).isLoop())&&t.getElementById(i.data.id).data("control_point_step_size",n.data("width"))}))})),t.remove(e)}))}(n),function(t){t.$(".dummy").forEach((function(t){t.neighborhood("node").forEach((function(e){e.position(t.position())})),t.data("width",35),t.addClass("bubble")}))}(n),function(t){t.$('[type = "attribute"]').forEach((function(t){t.neighborhood("node").forEach((function(e){t.position(e.position())}))}))}(n),n.edges().removeData("segment_distances"),n.edges().removeData("segment_weights"),n.edges().removeData("target_endpoint"),n.edges().removeData("source_endpoint"),n.$('[type = "concept"]').addClass("bubble"),n.$("*")}(v.nodes,v.edges)),r.addDiagram(y)})),p(i)}),1)}catch(t){g(t)}}));function o(t){var e=t.json(),n=t.source().id();e.data.source=t.target().id(),e.data.target=n;var r=t.data("source_endpoint");return e.data.source_endpoint=t.data("target_endpoint"),e.data.target_endpoint=r,e.data.breakpoints=t.data("breakpoints").reverse(),t.data("segment_distances")&&(e.data.segment_distances=[],e.data.segment_weights=[],e.data.breakpoints.forEach((function(n){var r=Hg(t.source().position(),t.target().position(),n);e.data.segment_distances.push(r[0]),e.data.segment_weights.push(r[1])}))),e}function a(t,e,n){var r=t[0].data.source,i=t[t.length-1].data.target,o=[],a=[],s=[],l=void 0;t.forEach((function(t,n,u){t.data.breakpoints&&(s=s.concat(t.data.breakpoints),t.data.breakpoints.forEach((function(t){l=Hg(e.getElementById(i).position(),e.getElementById(r).position(),t),o.push(l[0]),a.push(l[1])}))),n<u.length-1&&(l=Hg(e.getElementById(i).position(),e.getElementById(r).position(),e.getElementById(t.data.target).position()),o.push(l[0]),a.push(l[1]),s.push(e.getElementById(t.data.target).position()))}));var u=t[0];return u.data.id=n,u.data.source=r,u.data.target=i,u.data.target_endpoint=t[t.length-1].data.target_endpoint,u.data.type="inclusion",u.data.segment_distances=o,u.data.segment_weights=a,u.data.breakpoints=s,u}function s(t,n){var r=t;r.$("*").forEach((function(t){n(t)&&e.filterElem(t,"",r)}))}function l(t){return("domain-restriction"==t.data("type")||"range-restriction"==t.data("type"))&&"exists"==t.data("displayed_name")&&t.incomers('edge[type = "input"]').size()>1}function u(t){var e=!1;return"domain-restriction"!=t.data("type")&&"range-restriction"!=t.data("type")||t.incomers('edge[type = "input"]').forEach((function(t){t.source().data("type").endsWith("restriction")&&(e=!0)})),e}function c(t){return("domain-restriction"==t.data("type")||"range-restriction"==t.data("type"))&&t.data("displayed_name").search(/[0-9]/g)>=0}function d(t){t.data("width",.1),t.data("height",.1),t.addClass("dummy")}function h(t){var e=t.cy();t.connectedEdges("edge.role").forEach((function(n){t.incomers('[type *= "input"]').forEach((function(r,i){var o="".concat(n.id(),"_").concat(i),s={},l=[];if(t.connectedEdges('[type !*= "input"]').size()<=1)l.push(r.json()),l.push(n.json()),(s=a(l,e,o)).data.type="default",s.classes=n.json().classes;else{(s=n.json()).data.id=o;var u=void 0,c=void 0;u=n.target(),c=r.source(),s.data.source=r.source().id();var d=[],h=[];s.data.breakpoints.forEach((function(t){var e=Hg(u.position(),c.position(),t);d.push(e[0]),h.push(e[1])})),s.data.segment_distances=d,s.data.segment_weights=h}e.add(s)})),e.remove(n)}))}function f(t){var n=t.cy(),r=function t(e){var n=e.cy().collection(),r=e.incomers('edge[type *= "input"]');return n=n.union(r.sources('[type = "concept"]')),r.sources('[type != "concept"]').forEach((function(e){n=n.union(t(e)),e.addClass("attr_replicated")})),n}(t),i=t.neighborhood('[type = "attribute"]'),o=n.collection();r.forEach((function(t,e){i.forEach((function(r,a){!function t(e,r,a,s){var l=a.json();l.position=e.position(),l.data.id+="_"+r+"_"+e.id(),l.classes+=" repositioned",n.add(l);var u={data:{id:l.data.id+"_edge",target:l.data.id,source:e.id()},classes:s};n.add(u),e.hasClass("repositioned")||a.neighborhood('[type = "attribute"]').forEach((function(e,r){i.contains(e)||(t(n.$id(l.data.id),r,e,"inclusion"),o=o.union(e))}))}(t,e,r,"attribute")}))})),n.remove(i),e.filterElem(o,"",n)}}const Dk={entity_name:{type:"list",title:"Entities Name",label:"Select the type of name to display on entities",selected:"label",list:[{value:"label",label:"Label"},{value:"prefixed",label:"Prefixed IRI"},{value:"full",label:"Full IRI"}]},language:{type:"list",title:"Language",label:"Select the preferred language",selected:"",list:[]}},Ak={theme:{type:"list",title:"Themes",label:"Select a theme",selected:"gscape",list:[{value:"gscape",label:"Light"},{value:"dark",label:"Dark"},{value:"classic",label:"Graphol"}]}},Mk={explorer:{title:"Ontology Explorer",type:"boolean",enabled:!0,label:"Enable Ontology Explorer widget"},details:{type:"boolean",title:"Entity Details",enabled:!0,label:"Enable Entity Details widget"},owl_translator:{type:"boolean",title:"OWL Translator",enabled:!0,label:"Enable Owl Translation widget"},filters:{type:"boolean",title:"Filters",enabled:!0,label:"Enable Filters widget",filter_list:{all:{selector:"#undefined",label:"Filter All",active:!1,disabled:!1,class:"undefined"},attributes:{selector:'[type = "attribute"]',label:"Attributes",active:!1,disabled:!1,class:"filterattributes"},value_domain:{selector:'[type = "value-domain"]',label:"Value Domain",active:!1,disabled:!1,class:"filtervaluedomains"},individuals:{selector:'[type = "individual"]',label:"Individuals",active:!1,disabled:!1,class:"filterindividuals"},universal_quantifier:{selector:'[type $= "-restriction"][displayed_name = "forall"]',label:"Universal Quantifier",active:!1,disabled:!1,class:"filterforall"},not:{selector:'[type = "complement"]',label:"Not",active:!1,disabled:!1,class:"filtercomplements"}}},simplifications:{type:"boolean",title:"Simplifications",enabled:!0,label:"Allow ontology simplification widget"}};var Lk={preferences:Dk,rendering:Ak,widgets:Mk},jk=Object.freeze({preferences:Dk,rendering:Ak,widgets:Mk,default:Lk});function Ik(t){return(Ik="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Bk=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=r,this._ontology=e,this.config=JSON.parse(JSON.stringify(jk)),i&&this.setConfig(i),this.config.preferences.language.list=e.languages.map((function(t){return{label:t,value:t}})),this.default_language=e.default_language;var o=this.config.preferences.language.selected;""==o?this.config.preferences.language.selected=this.default_language:e.languages.includes(o)||this.config.preferences.language.list.push({label:o+" - unsupported",value:o}),this.ontologies={default:e,lite:null,float:null},this.owl_translator=new Pk,this.actualMode="default",this.SimplifiedOntologyPromise=Nk(e).then((function(t){n.ontologies.lite=t.lite,n.ontologies.float=t.float})).catch((function(t){console.log(t)})),this.config.preferences.entity_name.selected!=Dk.entity_name.selected&&this.onEntityNameTypeChange(this.config.preferences.entity_name.selected),this.config.preferences.language.selected!=Dk.language.selected&&this.onLanguageChange(this.config.preferences.language.selected)}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t=this,e=this.ontology.diagrams,n=this.ontology.getEntities(),r=e.map((function(e){return t.diagramModelToViewData(e)})),i=n.map((function(e){return t.entityModelToViewData(e)})),o={name:this.ontology.name,version:this.ontology.version,namespaces:this.ontology.namespaces,annotations:this.ontology.annotations,description:this.ontology.description};this.view.onDiagramChange=this.onDiagramChange.bind(this),this.view.onNodeNavigation=this.onNodeNavigation.bind(this),this.view.onEntitySelection=this.onEntitySelection.bind(this),this.view.onNodeSelection=this.onNodeSelection.bind(this),this.view.onBackgroundClick=this.onBackgroundClick.bind(this),this.view.onEdgeSelection=this.onEdgeSelection.bind(this),this.view.onRenderingModeChange=this.onRenderingModeChange.bind(this),this.view.onEntityNameTypeChange=this.onEntityNameTypeChange.bind(this),this.view.onLanguageChange=this.onLanguageChange.bind(this),this.view.createUi(o,r,i,this.config)}},{key:"onBackgroundClick",value:function(){this.view.blurAll()}},{key:"filter",value:function(t){this.view.filter(t)}},{key:"onNodeNavigation",value:function(t){var e=this.ontology.getElem(t);this.centerOnNode(e,1.5),this.showDetails(e)}},{key:"onDiagramChange",value:function(t){var e=this.ontology.getDiagram(t);this.showDiagram(e)}},{key:"showDiagram",value:function(t){"string"!=typeof t&&"number"!=typeof t||(t=this.ontology.getDiagram(t)),t||this.view.showDialog("error","Diagram not existing");var e=this.diagramModelToViewData(t);this.view.drawDiagram(e)}},{key:"onEntitySelection",value:function(t,e){var n=this.ontology.getElem(t);this.showDetails(n,e)}},{key:"showDetails",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.config.widgets.details.enabled){var n=this.entityModelToViewData(t);this.view.showDetails(n,e)}}},{key:"onEdgeSelection",value:function(t,e){var n=this.ontology.getElemByDiagramAndId(t,e,!1);if(n&&this.showOwlTranslation(n),"float"==this.actualMode){var r=this.ontology.getElemByDiagramAndId(t,e);r.classes.includes("predicate")?this.showDetails(r,!1):this.view.hideDetails()}}},{key:"onNodeSelection",value:function(t,e){var n=this.ontology.getElemByDiagramAndId(t,e);if(n){n.classes.includes("predicate")?this.showDetails(n,!1):this.view.hideDetails();var r=this.ontology.getElemByDiagramAndId(t,e,!1);this.showOwlTranslation(r)}else console.error("Unable to find the node with {id= "+t+"} in the ontology")}},{key:"centerOnNode",value:function(t,e){if(this.view.actual_diagram_id!=t.data.diagram_id){var n=this.ontology.getDiagram(t.data.diagram_id);this.showDiagram(n)}var r={id:t.data.id,position:t.position};this.view.centerOnNode(r,e)}},{key:"showOwlTranslation",value:function(t){if(this.config.widgets.owl_translator.enabled){var e=null;t.isNode()?e=this.owl_translator.nodeToOwlString(t,!0):t.isEdge()&&(e=this.owl_translator.edgeToOwlString(t)),this.view.showOwlTranslation(e)}}},{key:"onRenderingModeChange",value:function(t,e){var n=this;switch(this.actualMode=t,t){case"lite":case"float":this.SimplifiedOntologyPromise.then((function(){n.actualMode===t&&(n.ontology=n.ontologies[t],n.updateGraphView(e),n.updateEntitiesList())}));break;case"default":this.ontology=this.ontologies.default,this.updateGraphView(e),this.updateEntitiesList()}}},{key:"changeRenderingMode",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.view.changeRenderingMode(t,e),this.view.widgets.get("simplifications").actual_mode=t}},{key:"updateGraphView",value:function(t){this.onDiagramChange(this.view.actual_diagram_id),t&&this.view.setViewPort(t)}},{key:"updateEntitiesList",value:function(){var t=this,e=this.ontology.getEntities().map((function(e){return t.entityModelToViewData(e)}));this.view.updateEntitiesList(e)}},{key:"onEntityNameTypeChange",value:function(t){var e=this;this.SimplifiedOntologyPromise.then((function(){Object.keys(e.ontologies).forEach((function(n){var r=e.ontologies[n].getEntities(!1);switch(t){case"label":r.forEach((function(t){if(t.data("label")[e.language])t.data("displayed_name",t.data("label")[e.language]);else if(t.data("label")[e.default_language])t.data("displayed_name",t.data("label")[e.default_language]);else{var n=!0,r=!1,i=void 0;try{for(var o,a=e.languagesList[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(t.data("label")[s]){t.data("displayed_name",t.data("label")[s]);break}}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}));break;case"full":r.forEach((function(t){t.data("displayed_name",t.data("iri").full_iri)}));break;case"prefixed":r.forEach((function(t){var e=t.data("iri").prefix+t.data("iri").remaining_chars;t.data("displayed_name",e)}))}})),e.updateGraphView(e.view.renderer.getActualPosition()),e.updateEntitiesList()}))}},{key:"onLanguageChange",value:function(t){this.config.preferences.language.selected=t,this.onEntityNameTypeChange(this.config.preferences.entity_name.selected)}},{key:"setConfig",value:function(t){var e=this;Object.keys(t).forEach((function(n){if("theme"==n&&"object"==Ik(t[n]))return e.view.setCustomTheme(t[n]),e.config.rendering.theme.list.push({value:"custom",label:"Custom"}),void(e.config.rendering.theme.selected="custom");for(var r in e.config)try{var i=e.config[r][n];i&&("boolean"==i.type&&"boolean"==typeof t[n]?e.config[r][n].enabled=t[n]:e.config[r][n].list.map((function(t){return t.value})).includes(t[n])&&(e.config[r][n].selected=t[n]))}catch(t){}}))}},{key:"entityModelToViewData",value:function(t){for(var e=["label"],n=0,r=e;n<r.length;n++){var i=r[n];if(t.data[i])if(t.data[i][this.language])e[i]=t.data[i][this.language];else if(t.data[i][this.default_language])e[i]=t.data[i][this.default_language];else{var o=!0,a=!1,s=void 0;try{for(var l,u=this.languagesList[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(t.data[i][c]){e[i]=t.data[i][c];break}}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}}var d={id:t.data.id,id_xml:t.data.id_xml,diagram_id:t.data.diagram_id,label:e.label,displayed_name:t.data.displayed_name,type:t.data.type,iri:t.data.iri,description:t.data.description,annotations:t.data.annotations,functional:t.data.functional,inverseFunctional:t.data.inverseFunctional,asymmetric:t.data.asymmetric,irreflexive:t.data.irreflexive,reflexive:t.data.reflexive,symmetric:t.data.symmetric,transitive:t.data.transitive};return JSON.parse(JSON.stringify(d))}},{key:"diagramModelToViewData",value:function(t){var e={name:t.name,id:t.id,nodes:t.nodes,edges:t.edges};return JSON.parse(JSON.stringify(e))}},{key:"ontology",set:function(t){this._ontology=t},get:function(){return this._ontology}},{key:"onWikiClick",set:function(t){this._onWikiClick=t,this.view.onWikiClick=t},get:function(){return this._onWikiClick}},{key:"language",get:function(){return this.config.preferences.language.selected}},{key:"languagesList",get:function(){return this.config.preferences.language.list.map((function(t){return t.value}))}},{key:"actual_diagram",get:function(){return this.ontology.getDiagram(this.view.actual_diagram_id)}}])&&Rk(e.prototype,n),r&&Rk(e,r),t}();function zk(t){return(zk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.readGraphol(e).then((function(t){n._ontology=t})).catch((function(t){console.error(t)})),r)return this.init(r,i)}var e,n,r;return e=t,(n=[{key:"init",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.view=new Ck(t),new Promise((function(t,r){e.readFilePromise.then((function(){e.controller=new Bk(e._ontology,e.view,n),e.controller.init(),t(e.controller)})).catch((function(t){e.view.showDialog(t.name,t.message),r(t)})).finally((function(){return e.view.spinner.hide()}))}))}},{key:"readGraphol",value:function(t){return this.readFilePromise=new Promise((function(n,r){var i=null;if("object"===zk(t)){var o=new FileReader;o.onloadend=function(){try{i=e(o.result)}catch(t){r(t)}n(i)},o.readAsText(t),setTimeout((function(){r("Error: timeout expired")}),1e4)}else"string"==typeof t?(i=e(t),n(i)):r("Err: Grapholscape needs a Graphol File or the corresponding string to be initialized")})),this.readFilePromise;function e(t){return new ov(t).parseGraphol()}}}])&&Fk(e.prototype,n),r&&Fk(e,r),t}()}));
