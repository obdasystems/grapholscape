/**
 * MIT License
 * 
 * Copyright (c) 2018-2019 OBDA Systems
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).GrapholScape=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r=function(t){return t&&t.Math==Math&&t},i=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")(),o=function(t){try{return!!t()}catch(t){return!0}},a=!o((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),s={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u={f:l&&!s.call({1:2},1)?function(t){var e=l(this,t);return!!e&&e.enumerable}:s},c=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},h={}.toString,d=function(t){return h.call(t).slice(8,-1)},f="".split,p=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==d(t)?f.call(t,""):Object(t)}:Object,v=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},g=function(t){return p(v(t))},y=function(t){return"object"==typeof t?null!==t:"function"==typeof t},m=function(t,e){if(!y(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!y(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!y(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!y(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},b={}.hasOwnProperty,w=function(t,e){return b.call(t,e)},_=i.document,x=y(_)&&y(_.createElement),E=function(t){return x?_.createElement(t):{}},S=!a&&!o((function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a})),k=Object.getOwnPropertyDescriptor,C={f:a?k:function(t,e){if(t=g(t),e=m(e,!0),S)try{return k(t,e)}catch(t){}if(w(t,e))return c(!u.f.call(t,e),t[e])}},O=function(t){if(!y(t))throw TypeError(String(t)+" is not an object");return t},T=Object.defineProperty,P={f:a?T:function(t,e,n){if(O(t),e=m(e,!0),O(n),S)try{return T(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},N=a?function(t,e,n){return P.f(t,e,c(1,n))}:function(t,e,n){return t[e]=n,t},A=function(t,e){try{N(i,t,e)}catch(n){i[t]=e}return e},D=i["__core-js_shared__"]||A("__core-js_shared__",{}),M=Function.toString;"function"!=typeof D.inspectSource&&(D.inspectSource=function(t){return M.call(t)});var L,I,j,R=D.inspectSource,B=i.WeakMap,F="function"==typeof B&&/native code/.test(R(B)),z=n((function(t){(t.exports=function(t,e){return D[t]||(D[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.0",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),V=0,q=Math.random(),U=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++V+q).toString(36)},X=z("keys"),Y=function(t){return X[t]||(X[t]=U(t))},H={},G=i.WeakMap;if(F){var W=new G,$=W.get,Z=W.has,K=W.set;L=function(t,e){return K.call(W,t,e),e},I=function(t){return $.call(W,t)||{}},j=function(t){return Z.call(W,t)}}else{var Q=Y("state");H[Q]=!0,L=function(t,e){return N(t,Q,e),e},I=function(t){return w(t,Q)?t[Q]:{}},j=function(t){return w(t,Q)}}var J,tt={set:L,get:I,has:j,enforce:function(t){return j(t)?I(t):L(t,{})},getterFor:function(t){return function(e){var n;if(!y(e)||(n=I(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},et=n((function(t){var e=tt.get,n=tt.enforce,r=String(String).split("String");(t.exports=function(t,e,o,a){var s=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof e||w(o,"name")||N(o,"name",e),n(o).source=r.join("string"==typeof e?e:"")),t!==i?(s?!u&&t[e]&&(l=!0):delete t[e],l?t[e]=o:N(t,e,o)):l?t[e]=o:A(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||R(this)}))})),nt=i,rt=function(t){return"function"==typeof t?t:void 0},it=function(t,e){return arguments.length<2?rt(nt[t])||rt(i[t]):nt[t]&&nt[t][e]||i[t]&&i[t][e]},ot=Math.ceil,at=Math.floor,st=function(t){return isNaN(t=+t)?0:(t>0?at:ot)(t)},lt=Math.min,ut=function(t){return t>0?lt(st(t),9007199254740991):0},ct=Math.max,ht=Math.min,dt=function(t,e){var n=st(t);return n<0?ct(n+e,0):ht(n,e)},ft=function(t){return function(e,n,r){var i,o=g(e),a=ut(o.length),s=dt(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},pt={includes:ft(!0),indexOf:ft(!1)},vt=pt.indexOf,gt=function(t,e){var n,r=g(t),i=0,o=[];for(n in r)!w(H,n)&&w(r,n)&&o.push(n);for(;e.length>i;)w(r,n=e[i++])&&(~vt(o,n)||o.push(n));return o},yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],mt=yt.concat("length","prototype"),bt={f:Object.getOwnPropertyNames||function(t){return gt(t,mt)}},wt={f:Object.getOwnPropertySymbols},_t=it("Reflect","ownKeys")||function(t){var e=bt.f(O(t)),n=wt.f;return n?e.concat(n(t)):e},xt=function(t,e){for(var n=_t(e),r=P.f,i=C.f,o=0;o<n.length;o++){var a=n[o];w(t,a)||r(t,a,i(e,a))}},Et=/#|\.prototype\./,St=function(t,e){var n=Ct[kt(t)];return n==Tt||n!=Ot&&("function"==typeof e?o(e):!!e)},kt=St.normalize=function(t){return String(t).replace(Et,".").toLowerCase()},Ct=St.data={},Ot=St.NATIVE="N",Tt=St.POLYFILL="P",Pt=St,Nt=C.f,At=function(t,e){var n,r,o,a,s,l=t.target,u=t.global,c=t.stat;if(n=u?i:c?i[l]||A(l,{}):(i[l]||{}).prototype)for(r in e){if(a=e[r],o=t.noTargetGet?(s=Nt(n,r))&&s.value:n[r],!Pt(u?r:l+(c?".":"#")+r,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;xt(a,o)}(t.sham||o&&o.sham)&&N(a,"sham",!0),et(n,r,a,t)}},Dt=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())})),Mt=Dt&&!Symbol.sham&&"symbol"==typeof Symbol(),Lt=Array.isArray||function(t){return"Array"==d(t)},It=function(t){return Object(v(t))},jt=Object.keys||function(t){return gt(t,yt)},Rt=a?Object.defineProperties:function(t,e){O(t);for(var n,r=jt(e),i=r.length,o=0;i>o;)P.f(t,n=r[o++],e[n]);return t},Bt=it("document","documentElement"),Ft=Y("IE_PROTO"),zt=function(){},Vt=function(t){return"<script>"+t+"<\/script>"},qt=function(){try{J=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;qt=J?function(t){t.write(Vt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(J):((e=E("iframe")).style.display="none",Bt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Vt("document.F=Object")),t.close(),t.F);for(var n=yt.length;n--;)delete qt.prototype[yt[n]];return qt()};H[Ft]=!0;var Ut=Object.create||function(t,e){var n;return null!==t?(zt.prototype=O(t),n=new zt,zt.prototype=null,n[Ft]=t):n=qt(),void 0===e?n:Rt(n,e)},Xt=bt.f,Yt={}.toString,Ht="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Gt={f:function(t){return Ht&&"[object Window]"==Yt.call(t)?function(t){try{return Xt(t)}catch(t){return Ht.slice()}}(t):Xt(g(t))}},Wt=z("wks"),$t=i.Symbol,Zt=Mt?$t:U,Kt=function(t){return w(Wt,t)||(Dt&&w($t,t)?Wt[t]=$t[t]:Wt[t]=Zt("Symbol."+t)),Wt[t]},Qt={f:Kt},Jt=P.f,te=function(t){var e=nt.Symbol||(nt.Symbol={});w(e,t)||Jt(e,t,{value:Qt.f(t)})},ee=P.f,ne=Kt("toStringTag"),re=function(t,e,n){t&&!w(t=n?t:t.prototype,ne)&&ee(t,ne,{configurable:!0,value:e})},ie=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},oe=function(t,e,n){if(ie(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},ae=Kt("species"),se=function(t,e){var n;return Lt(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Lt(n.prototype)?y(n)&&null===(n=n[ae])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},le=[].push,ue=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=5==t||o;return function(s,l,u,c){for(var h,d,f=It(s),v=p(f),g=oe(l,u,3),y=ut(v.length),m=0,b=c||se,w=e?b(s,y):n?b(s,0):void 0;y>m;m++)if((a||m in v)&&(d=g(h=v[m],m,f),t))if(e)w[m]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return m;case 2:le.call(w,h)}else if(i)return!1;return o?-1:r||i?i:w}},ce={forEach:ue(0),map:ue(1),filter:ue(2),some:ue(3),every:ue(4),find:ue(5),findIndex:ue(6)},he=ce.forEach,de=Y("hidden"),fe=Kt("toPrimitive"),pe=tt.set,ve=tt.getterFor("Symbol"),ge=Object.prototype,ye=i.Symbol,me=it("JSON","stringify"),be=C.f,we=P.f,_e=Gt.f,xe=u.f,Ee=z("symbols"),Se=z("op-symbols"),ke=z("string-to-symbol-registry"),Ce=z("symbol-to-string-registry"),Oe=z("wks"),Te=i.QObject,Pe=!Te||!Te.prototype||!Te.prototype.findChild,Ne=a&&o((function(){return 7!=Ut(we({},"a",{get:function(){return we(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=be(ge,e);r&&delete ge[e],we(t,e,n),r&&t!==ge&&we(ge,e,r)}:we,Ae=function(t,e){var n=Ee[t]=Ut(ye.prototype);return pe(n,{type:"Symbol",tag:t,description:e}),a||(n.description=e),n},De=Dt&&"symbol"==typeof ye.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof ye},Me=function(t,e,n){t===ge&&Me(Se,e,n),O(t);var r=m(e,!0);return O(n),w(Ee,r)?(n.enumerable?(w(t,de)&&t[de][r]&&(t[de][r]=!1),n=Ut(n,{enumerable:c(0,!1)})):(w(t,de)||we(t,de,c(1,{})),t[de][r]=!0),Ne(t,r,n)):we(t,r,n)},Le=function(t,e){O(t);var n=g(e),r=jt(n).concat(Be(n));return he(r,(function(e){a&&!Ie.call(n,e)||Me(t,e,n[e])})),t},Ie=function(t){var e=m(t,!0),n=xe.call(this,e);return!(this===ge&&w(Ee,e)&&!w(Se,e))&&(!(n||!w(this,e)||!w(Ee,e)||w(this,de)&&this[de][e])||n)},je=function(t,e){var n=g(t),r=m(e,!0);if(n!==ge||!w(Ee,r)||w(Se,r)){var i=be(n,r);return!i||!w(Ee,r)||w(n,de)&&n[de][r]||(i.enumerable=!0),i}},Re=function(t){var e=_e(g(t)),n=[];return he(e,(function(t){w(Ee,t)||w(H,t)||n.push(t)})),n},Be=function(t){var e=t===ge,n=_e(e?Se:g(t)),r=[];return he(n,(function(t){!w(Ee,t)||e&&!w(ge,t)||r.push(Ee[t])})),r};if(Dt||(et((ye=function(){if(this instanceof ye)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=U(t),n=function(t){this===ge&&n.call(Se,t),w(this,de)&&w(this[de],e)&&(this[de][e]=!1),Ne(this,e,c(1,t))};return a&&Pe&&Ne(ge,e,{configurable:!0,set:n}),Ae(e,t)}).prototype,"toString",(function(){return ve(this).tag})),u.f=Ie,P.f=Me,C.f=je,bt.f=Gt.f=Re,wt.f=Be,a&&(we(ye.prototype,"description",{configurable:!0,get:function(){return ve(this).description}}),et(ge,"propertyIsEnumerable",Ie,{unsafe:!0}))),Mt||(Qt.f=function(t){return Ae(Kt(t),t)}),At({global:!0,wrap:!0,forced:!Dt,sham:!Dt},{Symbol:ye}),he(jt(Oe),(function(t){te(t)})),At({target:"Symbol",stat:!0,forced:!Dt},{for:function(t){var e=String(t);if(w(ke,e))return ke[e];var n=ye(e);return ke[e]=n,Ce[n]=e,n},keyFor:function(t){if(!De(t))throw TypeError(t+" is not a symbol");if(w(Ce,t))return Ce[t]},useSetter:function(){Pe=!0},useSimple:function(){Pe=!1}}),At({target:"Object",stat:!0,forced:!Dt,sham:!a},{create:function(t,e){return void 0===e?Ut(t):Le(Ut(t),e)},defineProperty:Me,defineProperties:Le,getOwnPropertyDescriptor:je}),At({target:"Object",stat:!0,forced:!Dt},{getOwnPropertyNames:Re,getOwnPropertySymbols:Be}),At({target:"Object",stat:!0,forced:o((function(){wt.f(1)}))},{getOwnPropertySymbols:function(t){return wt.f(It(t))}}),me){var Fe=!Dt||o((function(){var t=ye();return"[null]"!=me([t])||"{}"!=me({a:t})||"{}"!=me(Object(t))}));At({target:"JSON",stat:!0,forced:Fe},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(y(e)||void 0!==t)&&!De(t))return Lt(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!De(e))return e}),i[1]=e,me.apply(null,i)}})}ye.prototype[fe]||N(ye.prototype,fe,ye.prototype.valueOf),re(ye,"Symbol"),H[de]=!0;var ze=P.f,Ve=i.Symbol;if(a&&"function"==typeof Ve&&(!("description"in Ve.prototype)||void 0!==Ve().description)){var qe={},Ue=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Ue?new Ve(t):void 0===t?Ve():Ve(t);return""===t&&(qe[e]=!0),e};xt(Ue,Ve);var Xe=Ue.prototype=Ve.prototype;Xe.constructor=Ue;var Ye=Xe.toString,He="Symbol(test)"==String(Ve("test")),Ge=/^Symbol\((.*)\)[^)]+$/;ze(Xe,"description",{configurable:!0,get:function(){var t=y(this)?this.valueOf():this,e=Ye.call(t);if(w(qe,t))return"";var n=He?e.slice(7,-1):e.replace(Ge,"$1");return""===n?void 0:n}}),At({global:!0,forced:!0},{Symbol:Ue})}te("iterator");var We=Kt("unscopables"),$e=Array.prototype;null==$e[We]&&P.f($e,We,{configurable:!0,value:Ut(null)});var Ze,Ke,Qe,Je=function(t){$e[We][t]=!0},tn={},en=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),nn=Y("IE_PROTO"),rn=Object.prototype,on=en?Object.getPrototypeOf:function(t){return t=It(t),w(t,nn)?t[nn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?rn:null},an=Kt("iterator"),sn=!1;[].keys&&("next"in(Qe=[].keys())?(Ke=on(on(Qe)))!==Object.prototype&&(Ze=Ke):sn=!0),null==Ze&&(Ze={}),w(Ze,an)||N(Ze,an,(function(){return this}));var ln={IteratorPrototype:Ze,BUGGY_SAFARI_ITERATORS:sn},un=ln.IteratorPrototype,cn=function(){return this},hn=function(t,e,n){var r=e+" Iterator";return t.prototype=Ut(un,{next:c(1,n)}),re(t,r,!1),tn[r]=cn,t},dn=function(t){if(!y(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t},fn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return O(n),dn(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),pn=ln.IteratorPrototype,vn=ln.BUGGY_SAFARI_ITERATORS,gn=Kt("iterator"),yn=function(){return this},mn=function(t,e,n,r,i,o,a){hn(n,e,r);var s,l,u,c=function(t){if(t===i&&v)return v;if(!vn&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,f=t.prototype,p=f[gn]||f["@@iterator"]||i&&f[i],v=!vn&&p||c(i),g="Array"==e&&f.entries||p;if(g&&(s=on(g.call(new t)),pn!==Object.prototype&&s.next&&(on(s)!==pn&&(fn?fn(s,pn):"function"!=typeof s[gn]&&N(s,gn,yn)),re(s,h,!0))),"values"==i&&p&&"values"!==p.name&&(d=!0,v=function(){return p.call(this)}),f[gn]!==v&&N(f,gn,v),tn[e]=v,i)if(l={values:c("values"),keys:o?v:c("keys"),entries:c("entries")},a)for(u in l)!vn&&!d&&u in f||et(f,u,l[u]);else At({target:e,proto:!0,forced:vn||d},l);return l},bn=tt.set,wn=tt.getterFor("Array Iterator"),_n=mn(Array,"Array",(function(t,e){bn(this,{type:"Array Iterator",target:g(t),index:0,kind:e})}),(function(){var t=wn(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");tn.Arguments=tn.Array,Je("keys"),Je("values"),Je("entries"),At({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperty:P.f});var xn={};xn[Kt("toStringTag")]="z";var En="[object z]"===String(xn),Sn=Kt("toStringTag"),kn="Arguments"==d(function(){return arguments}()),Cn=En?d:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Sn))?n:kn?d(e):"Object"==(r=d(e))&&"function"==typeof e.callee?"Arguments":r},On=En?{}.toString:function(){return"[object "+Cn(this)+"]"};En||et(Object.prototype,"toString",On,{unsafe:!0});var Tn=i.Promise,Pn=function(t,e,n){for(var r in e)et(t,r,e[r],n);return t},Nn=Kt("species"),An=function(t){var e=it(t),n=P.f;a&&e&&!e[Nn]&&n(e,Nn,{configurable:!0,get:function(){return this}})},Dn=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Mn=Kt("iterator"),Ln=Array.prototype,In=function(t){return void 0!==t&&(tn.Array===t||Ln[Mn]===t)},jn=Kt("iterator"),Rn=function(t){if(null!=t)return t[jn]||t["@@iterator"]||tn[Cn(t)]},Bn=function(t,e,n,r){try{return r?e(O(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&O(i.call(t)),e}},Fn=n((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,n,r,i,o){var a,s,l,u,c,h,d,f=oe(n,r,i?2:1);if(o)a=t;else{if("function"!=typeof(s=Rn(t)))throw TypeError("Target is not iterable");if(In(s)){for(l=0,u=ut(t.length);u>l;l++)if((c=i?f(O(d=t[l])[0],d[1]):f(t[l]))&&c instanceof e)return c;return new e(!1)}a=s.call(t)}for(h=a.next;!(d=h.call(a)).done;)if("object"==typeof(c=Bn(a,f,d.value,i))&&c&&c instanceof e)return c;return new e(!1)}).stop=function(t){return new e(!0,t)}})),zn=Kt("iterator"),Vn=!1;try{var qn=0;({next:function(){return{done:!!qn++}},return:function(){Vn=!0}})[zn]=function(){return this}}catch(t){}var Un,Xn,Yn,Hn=function(t,e){if(!e&&!Vn)return!1;var n=!1;try{var r={};r[zn]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Gn=Kt("species"),Wn=function(t,e){var n,r=O(t).constructor;return void 0===r||null==(n=O(r)[Gn])?e:ie(n)},$n=it("navigator","userAgent")||"",Zn=/(iphone|ipod|ipad).*applewebkit/i.test($n),Kn=i.location,Qn=i.setImmediate,Jn=i.clearImmediate,tr=i.process,er=i.MessageChannel,nr=i.Dispatch,rr=0,ir={},or=function(t){if(ir.hasOwnProperty(t)){var e=ir[t];delete ir[t],e()}},ar=function(t){return function(){or(t)}},sr=function(t){or(t.data)},lr=function(t){i.postMessage(t+"",Kn.protocol+"//"+Kn.host)};Qn&&Jn||(Qn=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return ir[++rr]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Un(rr),rr},Jn=function(t){delete ir[t]},"process"==d(tr)?Un=function(t){tr.nextTick(ar(t))}:nr&&nr.now?Un=function(t){nr.now(ar(t))}:er&&!Zn?(Yn=(Xn=new er).port2,Xn.port1.onmessage=sr,Un=oe(Yn.postMessage,Yn,1)):!i.addEventListener||"function"!=typeof postMessage||i.importScripts||o(lr)?Un="onreadystatechange"in E("script")?function(t){Bt.appendChild(E("script")).onreadystatechange=function(){Bt.removeChild(this),or(t)}}:function(t){setTimeout(ar(t),0)}:(Un=lr,i.addEventListener("message",sr,!1)));var ur,cr,hr,dr,fr,pr,vr,gr,yr={set:Qn,clear:Jn},mr=C.f,br=yr.set,wr=i.MutationObserver||i.WebKitMutationObserver,_r=i.process,xr=i.Promise,Er="process"==d(_r),Sr=mr(i,"queueMicrotask"),kr=Sr&&Sr.value;kr||(ur=function(){var t,e;for(Er&&(t=_r.domain)&&t.exit();cr;){e=cr.fn,cr=cr.next;try{e()}catch(t){throw cr?dr():hr=void 0,t}}hr=void 0,t&&t.enter()},Er?dr=function(){_r.nextTick(ur)}:wr&&!Zn?(fr=!0,pr=document.createTextNode(""),new wr(ur).observe(pr,{characterData:!0}),dr=function(){pr.data=fr=!fr}):xr&&xr.resolve?(vr=xr.resolve(void 0),gr=vr.then,dr=function(){gr.call(vr,ur)}):dr=function(){br.call(i,ur)});var Cr,Or,Tr=kr||function(t){var e={fn:t,next:void 0};hr&&(hr.next=e),cr||(cr=e,dr()),hr=e},Pr=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=ie(e),this.reject=ie(n)},Nr={f:function(t){return new Pr(t)}},Ar=function(t,e){if(O(t),y(e)&&e.constructor===t)return e;var n=Nr.f(t);return(0,n.resolve)(e),n.promise},Dr=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Mr=i.process,Lr=Mr&&Mr.versions,Ir=Lr&&Lr.v8;Ir?Or=(Cr=Ir.split("."))[0]+Cr[1]:$n&&(!(Cr=$n.match(/Edge\/(\d+)/))||Cr[1]>=74)&&(Cr=$n.match(/Chrome\/(\d+)/))&&(Or=Cr[1]);var jr,Rr,Br,Fr,zr=Or&&+Or,Vr=yr.set,qr=Kt("species"),Ur="Promise",Xr=tt.get,Yr=tt.set,Hr=tt.getterFor(Ur),Gr=Tn,Wr=i.TypeError,$r=i.document,Zr=i.process,Kr=it("fetch"),Qr=Nr.f,Jr=Qr,ti="process"==d(Zr),ei=!!($r&&$r.createEvent&&i.dispatchEvent),ni=Pt(Ur,(function(){if(!(R(Gr)!==String(Gr))){if(66===zr)return!0;if(!ti&&"function"!=typeof PromiseRejectionEvent)return!0}if(zr>=51&&/native code/.test(Gr))return!1;var t=Gr.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[qr]=e,!(t.then((function(){}))instanceof e)})),ri=ni||!Hn((function(t){Gr.all(t).catch((function(){}))})),ii=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},oi=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;Tr((function(){for(var i=e.value,o=1==e.state,a=0;r.length>a;){var s,l,u,c=r[a++],h=o?c.ok:c.fail,d=c.resolve,f=c.reject,p=c.domain;try{h?(o||(2===e.rejection&&ui(t,e),e.rejection=1),!0===h?s=i:(p&&p.enter(),s=h(i),p&&(p.exit(),u=!0)),s===c.promise?f(Wr("Promise-chain cycle")):(l=ii(s))?l.call(s,d,f):d(s)):f(i)}catch(t){p&&!u&&p.exit(),f(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&si(t,e)}))}},ai=function(t,e,n){var r,o;ei?((r=$r.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),i.dispatchEvent(r)):r={promise:e,reason:n},(o=i["on"+t])?o(r):"unhandledrejection"===t&&function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},si=function(t,e){Vr.call(i,(function(){var n,r=e.value;if(li(e)&&(n=Dr((function(){ti?Zr.emit("unhandledRejection",r,t):ai("unhandledrejection",t,r)})),e.rejection=ti||li(e)?2:1,n.error))throw n.value}))},li=function(t){return 1!==t.rejection&&!t.parent},ui=function(t,e){Vr.call(i,(function(){ti?Zr.emit("rejectionHandled",t):ai("rejectionhandled",t,e.value)}))},ci=function(t,e,n,r){return function(i){t(e,n,i,r)}},hi=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,oi(t,e,!0))},di=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw Wr("Promise can't be resolved itself");var i=ii(n);i?Tr((function(){var r={done:!1};try{i.call(n,ci(di,t,r,e),ci(hi,t,r,e))}catch(n){hi(t,r,n,e)}})):(e.value=n,e.state=1,oi(t,e,!1))}catch(n){hi(t,{done:!1},n,e)}}};ni&&(Gr=function(t){Dn(this,Gr,Ur),ie(t),jr.call(this);var e=Xr(this);try{t(ci(di,this,e),ci(hi,this,e))}catch(t){hi(this,e,t)}},(jr=function(t){Yr(this,{type:Ur,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Pn(Gr.prototype,{then:function(t,e){var n=Hr(this),r=Qr(Wn(this,Gr));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=ti?Zr.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&oi(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Rr=function(){var t=new jr,e=Xr(t);this.promise=t,this.resolve=ci(di,t,e),this.reject=ci(hi,t,e)},Nr.f=Qr=function(t){return t===Gr||t===Br?new Rr(t):Jr(t)},"function"==typeof Tn&&(Fr=Tn.prototype.then,et(Tn.prototype,"then",(function(t,e){var n=this;return new Gr((function(t,e){Fr.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Kr&&At({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Ar(Gr,Kr.apply(i,arguments))}}))),At({global:!0,wrap:!0,forced:ni},{Promise:Gr}),re(Gr,Ur,!1),An(Ur),Br=it(Ur),At({target:Ur,stat:!0,forced:ni},{reject:function(t){var e=Qr(this);return e.reject.call(void 0,t),e.promise}}),At({target:Ur,stat:!0,forced:ni},{resolve:function(t){return Ar(this,t)}}),At({target:Ur,stat:!0,forced:ri},{all:function(t){var e=this,n=Qr(e),r=n.resolve,i=n.reject,o=Dr((function(){var n=ie(e.resolve),o=[],a=0,s=1;Fn(t,(function(t){var l=a++,u=!1;o.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,o[l]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=Qr(e),r=n.reject,i=Dr((function(){var i=ie(e.resolve);Fn(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var fi=function(t){return function(e,n){var r,i,o=String(v(e)),a=st(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},pi={codeAt:fi(!1),charAt:fi(!0)},vi=pi.charAt,gi=tt.set,yi=tt.getterFor("String Iterator");mn(String,"String",(function(t){gi(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=yi(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=vi(n,r),e.index+=t.length,{value:t,done:!1})}));var mi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},bi=Kt("iterator"),wi=Kt("toStringTag"),_i=_n.values;for(var xi in mi){var Ei=i[xi],Si=Ei&&Ei.prototype;if(Si){if(Si[bi]!==_i)try{N(Si,bi,_i)}catch(t){Si[bi]=_i}if(Si[wi]||N(Si,wi,xi),mi[xi])for(var ki in _n)if(Si[ki]!==_n[ki])try{N(Si,ki,_n[ki])}catch(t){Si[ki]=_n[ki]}}}var Ci=[].slice,Oi=/MSIE .\./.test($n),Ti=function(t){return function(e,n){var r=arguments.length>2,i=r?Ci.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};At({global:!0,bind:!0,forced:Oi},{setTimeout:Ti(i.setTimeout),setInterval:Ti(i.setInterval)}),te("asyncIterator"),te("hasInstance"),te("isConcatSpreadable"),te("match"),te("matchAll"),te("replace"),te("search"),te("species"),te("split"),te("toPrimitive"),te("toStringTag"),te("unscopables");var Pi=Object.assign,Ni=Object.defineProperty,Ai=!Pi||o((function(){if(a&&1!==Pi({b:1},Pi(Ni({},"a",{enumerable:!0,get:function(){Ni(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Pi({},t)[n]||"abcdefghijklmnopqrst"!=jt(Pi({},e)).join("")}))?function(t,e){for(var n=It(t),r=arguments.length,i=1,o=wt.f,s=u.f;r>i;)for(var l,c=p(arguments[i++]),h=o?jt(c).concat(o(c)):jt(c),d=h.length,f=0;d>f;)l=h[f++],a&&!s.call(c,l)||(n[l]=c[l]);return n}:Pi;At({target:"Object",stat:!0,forced:Object.assign!==Ai},{assign:Ai}),At({target:"Object",stat:!0,sham:!a},{create:Ut}),At({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperties:Rt});var Di=u.f,Mi=function(t){return function(e){for(var n,r=g(e),i=jt(r),o=i.length,s=0,l=[];o>s;)n=i[s++],a&&!Di.call(r,n)||l.push(t?[n,r[n]]:r[n]);return l}},Li={entries:Mi(!0),values:Mi(!1)},Ii=Li.entries;At({target:"Object",stat:!0},{entries:function(t){return Ii(t)}});var ji=!o((function(){return Object.isExtensible(Object.preventExtensions({}))})),Ri=n((function(t){var e=P.f,n=U("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!y(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!w(t,n)){if(!i(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!w(t,n)){if(!i(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return ji&&a.REQUIRED&&i(t)&&!w(t,n)&&o(t),t}};H[n]=!0})),Bi=(Ri.REQUIRED,Ri.fastKey,Ri.getWeakData,Ri.onFreeze,Ri.onFreeze),Fi=Object.freeze,zi=o((function(){Fi(1)}));At({target:"Object",stat:!0,forced:zi,sham:!ji},{freeze:function(t){return Fi&&y(t)?Fi(Bi(t)):t}});var Vi=function(t,e,n){var r=m(e);r in t?P.f(t,r,c(0,n)):t[r]=n};At({target:"Object",stat:!0},{fromEntries:function(t){var e={};return Fn(t,(function(t,n){Vi(e,t,n)}),void 0,!0),e}});var qi=C.f,Ui=o((function(){qi(1)}));At({target:"Object",stat:!0,forced:!a||Ui,sham:!a},{getOwnPropertyDescriptor:function(t,e){return qi(g(t),e)}}),At({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){for(var e,n,r=g(t),i=C.f,o=_t(r),a={},s=0;o.length>s;)void 0!==(n=i(r,e=o[s++]))&&Vi(a,e,n);return a}});var Xi=Gt.f,Yi=o((function(){return!Object.getOwnPropertyNames(1)}));At({target:"Object",stat:!0,forced:Yi},{getOwnPropertyNames:Xi});var Hi=o((function(){on(1)}));At({target:"Object",stat:!0,forced:Hi,sham:!en},{getPrototypeOf:function(t){return on(It(t))}});var Gi=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};At({target:"Object",stat:!0},{is:Gi});var Wi=Object.isExtensible,$i=o((function(){}));At({target:"Object",stat:!0,forced:$i},{isExtensible:function(t){return!!y(t)&&(!Wi||Wi(t))}});var Zi=Object.isFrozen,Ki=o((function(){}));At({target:"Object",stat:!0,forced:Ki},{isFrozen:function(t){return!y(t)||!!Zi&&Zi(t)}});var Qi=Object.isSealed,Ji=o((function(){}));At({target:"Object",stat:!0,forced:Ji},{isSealed:function(t){return!y(t)||!!Qi&&Qi(t)}});var to=o((function(){jt(1)}));At({target:"Object",stat:!0,forced:to},{keys:function(t){return jt(It(t))}});var eo=Ri.onFreeze,no=Object.preventExtensions,ro=o((function(){no(1)}));At({target:"Object",stat:!0,forced:ro,sham:!ji},{preventExtensions:function(t){return no&&y(t)?no(eo(t)):t}});var io=Ri.onFreeze,oo=Object.seal,ao=o((function(){oo(1)}));At({target:"Object",stat:!0,forced:ao,sham:!ji},{seal:function(t){return oo&&y(t)?oo(io(t)):t}}),At({target:"Object",stat:!0},{setPrototypeOf:fn});var so=Li.values;At({target:"Object",stat:!0},{values:function(t){return so(t)}});var lo=!o((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete i[t]}));a&&At({target:"Object",proto:!0,forced:lo},{__defineGetter__:function(t,e){P.f(It(this),t,{get:ie(e),enumerable:!0,configurable:!0})}}),a&&At({target:"Object",proto:!0,forced:lo},{__defineSetter__:function(t,e){P.f(It(this),t,{set:ie(e),enumerable:!0,configurable:!0})}});var uo=C.f;a&&At({target:"Object",proto:!0,forced:lo},{__lookupGetter__:function(t){var e,n=It(this),r=m(t,!0);do{if(e=uo(n,r))return e.get}while(n=on(n))}});var co=C.f;a&&At({target:"Object",proto:!0,forced:lo},{__lookupSetter__:function(t){var e,n=It(this),r=m(t,!0);do{if(e=co(n,r))return e.set}while(n=on(n))}});var ho=[].slice,fo={},po=function(t,e,n){if(!(e in fo)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";fo[e]=Function("C,a","return new C("+r.join(",")+")")}return fo[e](t,n)},vo=Function.bind||function(t){var e=ie(this),n=ho.call(arguments,1),r=function(){var i=n.concat(ho.call(arguments));return this instanceof r?po(e,i.length,i):e.apply(t,i)};return y(e.prototype)&&(r.prototype=e.prototype),r};At({target:"Function",proto:!0},{bind:vo});var go=P.f,yo=Function.prototype,mo=yo.toString,bo=/^\s*function ([^ (]*)/;!a||"name"in yo||go(yo,"name",{configurable:!0,get:function(){try{return mo.call(this).match(bo)[1]}catch(t){return""}}});var wo=Kt("hasInstance"),_o=Function.prototype;wo in _o||P.f(_o,wo,{value:function(t){if("function"!=typeof this||!y(t))return!1;if(!y(this.prototype))return t instanceof this;for(;t=on(t);)if(this.prototype===t)return!0;return!1}}),At({global:!0},{globalThis:i});var xo=function(t){var e,n,r,i,o,a=It(t),s="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,c=void 0!==u,h=0,d=Rn(a);if(c&&(u=oe(u,l>2?arguments[2]:void 0,2)),null==d||s==Array&&In(d))for(n=new s(e=ut(a.length));e>h;h++)Vi(n,h,c?u(a[h],h):a[h]);else for(o=(i=d.call(a)).next,n=new s;!(r=o.call(i)).done;h++)Vi(n,h,c?Bn(i,u,[r.value,h],!0):r.value);return n.length=h,n},Eo=!Hn((function(t){}));At({target:"Array",stat:!0,forced:Eo},{from:xo}),At({target:"Array",stat:!0},{isArray:Lt});var So=o((function(){function t(){}return!(Array.of.call(t)instanceof t)}));At({target:"Array",stat:!0,forced:So},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)Vi(n,t,arguments[t++]);return n.length=e,n}});var ko=Kt("species"),Co=function(t){return zr>=51||!o((function(){var e=[];return(e.constructor={})[ko]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Oo=Kt("isConcatSpreadable"),To=zr>=51||!o((function(){var t=[];return t[Oo]=!1,t.concat()[0]!==t})),Po=Co("concat"),No=function(t){if(!y(t))return!1;var e=t[Oo];return void 0!==e?!!e:Lt(t)};At({target:"Array",proto:!0,forced:!To||!Po},{concat:function(t){var e,n,r,i,o,a=It(this),s=se(a,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?a:arguments[e],No(o)){if(l+(i=ut(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,l++)n in o&&Vi(s,l,o[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Vi(s,l++,o)}return s.length=l,s}});var Ao=Math.min,Do=[].copyWithin||function(t,e){var n=It(this),r=ut(n.length),i=dt(t,r),o=dt(e,r),a=arguments.length>2?arguments[2]:void 0,s=Ao((void 0===a?r:dt(a,r))-o,r-i),l=1;for(o<i&&i<o+s&&(l=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:delete n[i],i+=l,o+=l;return n};At({target:"Array",proto:!0},{copyWithin:Do}),Je("copyWithin");var Mo=function(t,e){var n=[][t];return!n||!o((function(){n.call(null,e||function(){throw 1},1)}))},Lo=ce.every;At({target:"Array",proto:!0,forced:Mo("every")},{every:function(t){return Lo(this,t,arguments.length>1?arguments[1]:void 0)}});var Io=function(t){for(var e=It(this),n=ut(e.length),r=arguments.length,i=dt(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:dt(o,n);a>i;)e[i++]=t;return e};At({target:"Array",proto:!0},{fill:Io}),Je("fill");var jo=ce.filter,Ro=Co("filter"),Bo=Ro&&!o((function(){[].filter.call({length:-1,0:1},(function(t){throw t}))}));At({target:"Array",proto:!0,forced:!Ro||!Bo},{filter:function(t){return jo(this,t,arguments.length>1?arguments[1]:void 0)}});var Fo=ce.find,zo=!0;"find"in[]&&Array(1).find((function(){zo=!1})),At({target:"Array",proto:!0,forced:zo},{find:function(t){return Fo(this,t,arguments.length>1?arguments[1]:void 0)}}),Je("find");var Vo=ce.findIndex,qo=!0;"findIndex"in[]&&Array(1).findIndex((function(){qo=!1})),At({target:"Array",proto:!0,forced:qo},{findIndex:function(t){return Vo(this,t,arguments.length>1?arguments[1]:void 0)}}),Je("findIndex");var Uo=function(t,e,n,r,i,o,a,s){for(var l,u=i,c=0,h=!!a&&oe(a,s,3);c<r;){if(c in n){if(l=h?h(n[c],c,e):n[c],o>0&&Lt(l))u=Uo(t,e,l,ut(l.length),u,o-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[u]=l}u++}c++}return u},Xo=Uo;At({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=It(this),n=ut(e.length),r=se(e,0);return r.length=Xo(r,e,e,n,0,void 0===t?1:st(t)),r}}),At({target:"Array",proto:!0},{flatMap:function(t){var e,n=It(this),r=ut(n.length);return ie(t),(e=se(n,0)).length=Xo(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var Yo=ce.forEach,Ho=Mo("forEach")?function(t){return Yo(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;At({target:"Array",proto:!0,forced:[].forEach!=Ho},{forEach:Ho});var Go=pt.includes;At({target:"Array",proto:!0},{includes:function(t){return Go(this,t,arguments.length>1?arguments[1]:void 0)}}),Je("includes");var Wo=pt.indexOf,$o=[].indexOf,Zo=!!$o&&1/[1].indexOf(1,-0)<0,Ko=Mo("indexOf");At({target:"Array",proto:!0,forced:Zo||Ko},{indexOf:function(t){return Zo?$o.apply(this,arguments)||0:Wo(this,t,arguments.length>1?arguments[1]:void 0)}});var Qo=[].join,Jo=p!=Object,ta=Mo("join",",");At({target:"Array",proto:!0,forced:Jo||ta},{join:function(t){return Qo.call(g(this),void 0===t?",":t)}});var ea=Math.min,na=[].lastIndexOf,ra=!!na&&1/[1].lastIndexOf(1,-0)<0,ia=Mo("lastIndexOf"),oa=ra||ia?function(t){if(ra)return na.apply(this,arguments)||0;var e=g(this),n=ut(e.length),r=n-1;for(arguments.length>1&&(r=ea(r,st(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:na;At({target:"Array",proto:!0,forced:oa!==[].lastIndexOf},{lastIndexOf:oa});var aa=ce.map,sa=Co("map"),la=sa&&!o((function(){[].map.call({length:-1,0:1},(function(t){throw t}))}));At({target:"Array",proto:!0,forced:!sa||!la},{map:function(t){return aa(this,t,arguments.length>1?arguments[1]:void 0)}});var ua=function(t){return function(e,n,r,i){ie(n);var o=It(e),a=p(o),s=ut(o.length),l=t?s-1:0,u=t?-1:1;if(r<2)for(;;){if(l in a){i=a[l],l+=u;break}if(l+=u,t?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:s>l;l+=u)l in a&&(i=n(i,a[l],l,o));return i}},ca={left:ua(!1),right:ua(!0)},ha=ca.left;At({target:"Array",proto:!0,forced:Mo("reduce")},{reduce:function(t){return ha(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var da=ca.right;At({target:"Array",proto:!0,forced:Mo("reduceRight")},{reduceRight:function(t){return da(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var fa=[].reverse,pa=[1,2];At({target:"Array",proto:!0,forced:String(pa)===String(pa.reverse())},{reverse:function(){return Lt(this)&&(this.length=this.length),fa.call(this)}});var va=Kt("species"),ga=[].slice,ya=Math.max;At({target:"Array",proto:!0,forced:!Co("slice")},{slice:function(t,e){var n,r,i,o=g(this),a=ut(o.length),s=dt(t,a),l=dt(void 0===e?a:e,a);if(Lt(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Lt(n.prototype)?y(n)&&null===(n=n[va])&&(n=void 0):n=void 0,n===Array||void 0===n))return ga.call(o,s,l);for(r=new(void 0===n?Array:n)(ya(l-s,0)),i=0;s<l;s++,i++)s in o&&Vi(r,i,o[s]);return r.length=i,r}});var ma=ce.some;At({target:"Array",proto:!0,forced:Mo("some")},{some:function(t){return ma(this,t,arguments.length>1?arguments[1]:void 0)}});var ba=[],wa=ba.sort,_a=o((function(){ba.sort(void 0)})),xa=o((function(){ba.sort(null)})),Ea=Mo("sort");At({target:"Array",proto:!0,forced:_a||!xa||Ea},{sort:function(t){return void 0===t?wa.call(It(this)):wa.call(It(this),ie(t))}});var Sa=Math.max,ka=Math.min;At({target:"Array",proto:!0,forced:!Co("splice")},{splice:function(t,e){var n,r,i,o,a,s,l=It(this),u=ut(l.length),c=dt(t,u),h=arguments.length;if(0===h?n=r=0:1===h?(n=0,r=u-c):(n=h-2,r=ka(Sa(st(e),0),u-c)),u+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=se(l,r),o=0;o<r;o++)(a=c+o)in l&&Vi(i,o,l[a]);if(i.length=r,n<r){for(o=c;o<u-r;o++)s=o+n,(a=o+r)in l?l[s]=l[a]:delete l[s];for(o=u;o>u-r+n;o--)delete l[o-1]}else if(n>r)for(o=u-r;o>c;o--)s=o+n-1,(a=o+r-1)in l?l[s]=l[a]:delete l[s];for(o=0;o<n;o++)l[o+c]=arguments[o+2];return l.length=u-r+n,i}}),An("Array"),Je("flat"),Je("flatMap");var Ca=String.fromCharCode,Oa=String.fromCodePoint,Ta=!!Oa&&1!=Oa.length;At({target:"String",stat:!0,forced:Ta},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],dt(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?Ca(e):Ca(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}}),At({target:"String",stat:!0},{raw:function(t){for(var e=g(t.raw),n=ut(e.length),r=arguments.length,i=[],o=0;n>o;)i.push(String(e[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}});var Pa=pi.codeAt;At({target:"String",proto:!0},{codePointAt:function(t){return Pa(this,t)}});var Na,Aa=Kt("match"),Da=function(t){var e;return y(t)&&(void 0!==(e=t[Aa])?!!e:"RegExp"==d(t))},Ma=function(t){if(Da(t))throw TypeError("The method doesn't accept regular expressions");return t},La=Kt("match"),Ia=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[La]=!1,"/./"[t](e)}catch(t){}}return!1},ja=C.f,Ra="".endsWith,Ba=Math.min,Fa=Ia("endsWith"),za=!(Fa||(Na=ja(String.prototype,"endsWith"),!Na||Na.writable));At({target:"String",proto:!0,forced:!za&&!Fa},{endsWith:function(t){var e=String(v(this));Ma(t);var n=arguments.length>1?arguments[1]:void 0,r=ut(e.length),i=void 0===n?r:Ba(ut(n),r),o=String(t);return Ra?Ra.call(e,o,i):e.slice(i-o.length,i)===o}}),At({target:"String",proto:!0,forced:!Ia("includes")},{includes:function(t){return!!~String(v(this)).indexOf(Ma(t),arguments.length>1?arguments[1]:void 0)}});var Va=function(){var t=O(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function qa(t,e){return RegExp(t,e)}var Ua={UNSUPPORTED_Y:o((function(){var t=qa("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:o((function(){var t=qa("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},Xa=RegExp.prototype.exec,Ya=String.prototype.replace,Ha=Xa,Ga=function(){var t=/a/,e=/b*/g;return Xa.call(t,"a"),Xa.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),Wa=Ua.UNSUPPORTED_Y||Ua.BROKEN_CARET,$a=void 0!==/()??/.exec("")[1];(Ga||$a||Wa)&&(Ha=function(t){var e,n,r,i,o=this,a=Wa&&o.sticky,s=Va.call(o),l=o.source,u=0,c=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),c=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(l="(?: "+l+")",c=" "+c,u++),n=new RegExp("^(?:"+l+")",s)),$a&&(n=new RegExp("^"+l+"$(?!\\s)",s)),Ga&&(e=o.lastIndex),r=Xa.call(a?n:o,c),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:Ga&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),$a&&r&&r.length>1&&Ya.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Za=Ha,Ka=Kt("species"),Qa=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Ja="$0"==="a".replace(/./,"$0"),ts=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),es=function(t,e,n,r){var i=Kt(t),a=!o((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),s=a&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[Ka]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!a||!s||"replace"===t&&(!Qa||!Ja)||"split"===t&&!ts){var l=/./[i],u=n(i,""[t],(function(t,e,n,r,i){return e.exec===Za?a&&!i?{done:!0,value:l.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:Ja}),c=u[0],h=u[1];et(String.prototype,t,c),et(RegExp.prototype,i,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)})}r&&N(RegExp.prototype[i],"sham",!0)},ns=pi.charAt,rs=function(t,e,n){return e+(n?ns(t,e).length:1)},is=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==d(t))throw TypeError("RegExp#exec called on incompatible receiver");return Za.call(t,e)};es("match",1,(function(t,e,n){return[function(e){var n=v(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=O(t),o=String(this);if(!i.global)return is(i,o);var a=i.unicode;i.lastIndex=0;for(var s,l=[],u=0;null!==(s=is(i,o));){var c=String(s[0]);l[u]=c,""===c&&(i.lastIndex=rs(o,ut(i.lastIndex),a)),u++}return 0===u?null:l}]}));var os=Kt("matchAll"),as=tt.set,ss=tt.getterFor("RegExp String Iterator"),ls=RegExp.prototype,us=ls.exec,cs="".matchAll,hs=!!cs&&!o((function(){"a".matchAll(/./)})),ds=hn((function(t,e,n,r){as(this,{type:"RegExp String Iterator",regexp:t,string:e,global:n,unicode:r,done:!1})}),"RegExp String",(function(){var t=ss(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=function(t,e){var n,r=t.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(t,e)))throw TypeError("Incorrect exec result");return n}return us.call(t,e)}(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""==String(r[0])&&(e.lastIndex=rs(n,ut(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})})),fs=function(t){var e,n,r,i,o,a,s=O(this),l=String(t);return e=Wn(s,RegExp),void 0===(n=s.flags)&&s instanceof RegExp&&!("flags"in ls)&&(n=Va.call(s)),r=void 0===n?"":String(n),i=new e(e===RegExp?s.source:s,r),o=!!~r.indexOf("g"),a=!!~r.indexOf("u"),i.lastIndex=ut(s.lastIndex),new ds(i,l,o,a)};At({target:"String",proto:!0,forced:hs},{matchAll:function(t){var e,n,r=v(this);if(null!=t){if(Da(t)&&!~String(v("flags"in ls?t.flags:Va.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(hs)return cs.apply(r,arguments);if(null!=(n=t[os]))return ie(n).call(t,r)}else if(hs)return cs.apply(r,arguments);return e=String(r),new RegExp(t,"g")[os](e)}}),os in ls||N(ls,os,fs);var ps="".repeat||function(t){var e=String(v(this)),n="",r=st(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},vs=Math.ceil,gs=function(t){return function(e,n,r){var i,o,a=String(v(e)),s=a.length,l=void 0===r?" ":String(r),u=ut(n);return u<=s||""==l?a:(i=u-s,(o=ps.call(l,vs(i/l.length))).length>i&&(o=o.slice(0,i)),t?a+o:o+a)}},ys={start:gs(!1),end:gs(!0)},ms=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test($n),bs=ys.end;At({target:"String",proto:!0,forced:ms},{padEnd:function(t){return bs(this,t,arguments.length>1?arguments[1]:void 0)}});var ws=ys.start;At({target:"String",proto:!0,forced:ms},{padStart:function(t){return ws(this,t,arguments.length>1?arguments[1]:void 0)}}),At({target:"String",proto:!0},{repeat:ps});var _s=Math.max,xs=Math.min,Es=Math.floor,Ss=/\$([$&'`]|\d\d?|<[^>]*>)/g,ks=/\$([$&'`]|\d\d?)/g;es("replace",2,(function(t,e,n,r){return[function(n,r){var i=v(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,o){if(r.REPLACE_KEEPS_$0||"string"==typeof o&&-1===o.indexOf("$0")){var a=n(e,t,this,o);if(a.done)return a.value}var s=O(t),l=String(this),u="function"==typeof o;u||(o=String(o));var c=s.global;if(c){var h=s.unicode;s.lastIndex=0}for(var d=[];;){var f=is(s,l);if(null===f)break;if(d.push(f),!c)break;""===String(f[0])&&(s.lastIndex=rs(l,ut(s.lastIndex),h))}for(var p,v="",g=0,y=0;y<d.length;y++){f=d[y];for(var m=String(f[0]),b=_s(xs(st(f.index),l.length),0),w=[],_=1;_<f.length;_++)w.push(void 0===(p=f[_])?p:String(p));var x=f.groups;if(u){var E=[m].concat(w,b,l);void 0!==x&&E.push(x);var S=String(o.apply(void 0,E))}else S=i(m,l,b,w,x,o);b>=g&&(v+=l.slice(g,b)+S,g=b+m.length)}return v+l.slice(g)}];function i(t,n,r,i,o,a){var s=r+t.length,l=i.length,u=ks;return void 0!==o&&(o=It(o),u=Ss),e.call(a,u,(function(e,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":u=o[a.slice(1,-1)];break;default:var c=+a;if(0===c)return e;if(c>l){var h=Es(c/10);return 0===h?e:h<=l?void 0===i[h-1]?a.charAt(1):i[h-1]+a.charAt(1):e}u=i[c-1]}return void 0===u?"":u}))}})),es("search",1,(function(t,e,n){return[function(e){var n=v(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=O(t),o=String(this),a=i.lastIndex;Gi(a,0)||(i.lastIndex=0);var s=is(i,o);return Gi(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var Cs=[].push,Os=Math.min,Ts=!o((function(){return!RegExp(4294967295,"y")}));es("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(v(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!Da(t))return e.call(r,t,i);for(var o,a,s,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,h=new RegExp(t.source,u+"g");(o=Za.call(h,r))&&!((a=h.lastIndex)>c&&(l.push(r.slice(c,o.index)),o.length>1&&o.index<r.length&&Cs.apply(l,o.slice(1)),s=o[0].length,c=a,l.length>=i));)h.lastIndex===o.index&&h.lastIndex++;return c===r.length?!s&&h.test("")||l.push(""):l.push(r.slice(c)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=v(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var a=O(t),s=String(this),l=Wn(a,RegExp),u=a.unicode,c=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Ts?"y":"g"),h=new l(Ts?a:"^(?:"+a.source+")",c),d=void 0===i?4294967295:i>>>0;if(0===d)return[];if(0===s.length)return null===is(h,s)?[s]:[];for(var f=0,p=0,v=[];p<s.length;){h.lastIndex=Ts?p:0;var g,y=is(h,Ts?s:s.slice(p));if(null===y||(g=Os(ut(h.lastIndex+(Ts?0:p)),s.length))===f)p=rs(s,p,u);else{if(v.push(s.slice(f,p)),v.length===d)return v;for(var m=1;m<=y.length-1;m++)if(v.push(y[m]),v.length===d)return v;p=f=g}}return v.push(s.slice(f)),v}]}),!Ts);var Ps=C.f,Ns="".startsWith,As=Math.min,Ds=Ia("startsWith"),Ms=!Ds&&!!function(){var t=Ps(String.prototype,"startsWith");return t&&!t.writable}();At({target:"String",proto:!0,forced:!Ms&&!Ds},{startsWith:function(t){var e=String(v(this));Ma(t);var n=ut(As(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Ns?Ns.call(e,r,n):e.slice(n,n+r.length)===r}});var Ls="\t\n\v\f\r                　\u2028\u2029\ufeff",Is="["+Ls+"]",js=RegExp("^"+Is+Is+"*"),Rs=RegExp(Is+Is+"*$"),Bs=function(t){return function(e){var n=String(v(e));return 1&t&&(n=n.replace(js,"")),2&t&&(n=n.replace(Rs,"")),n}},Fs={start:Bs(1),end:Bs(2),trim:Bs(3)},zs=function(t){return o((function(){return!!Ls[t]()||"​᠎"!="​᠎"[t]()||Ls[t].name!==t}))},Vs=Fs.trim;At({target:"String",proto:!0,forced:zs("trim")},{trim:function(){return Vs(this)}});var qs=Fs.start,Us=zs("trimStart"),Xs=Us?function(){return qs(this)}:"".trimStart;At({target:"String",proto:!0,forced:Us},{trimStart:Xs,trimLeft:Xs});var Ys=Fs.end,Hs=zs("trimEnd"),Gs=Hs?function(){return Ys(this)}:"".trimEnd;At({target:"String",proto:!0,forced:Hs},{trimEnd:Gs,trimRight:Gs});var Ws=/"/g,$s=function(t,e,n,r){var i=String(v(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(r).replace(Ws,"&quot;")+'"'),o+">"+i+"</"+e+">"},Zs=function(t){return o((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))};At({target:"String",proto:!0,forced:Zs("anchor")},{anchor:function(t){return $s(this,"a","name",t)}}),At({target:"String",proto:!0,forced:Zs("big")},{big:function(){return $s(this,"big","","")}}),At({target:"String",proto:!0,forced:Zs("blink")},{blink:function(){return $s(this,"blink","","")}}),At({target:"String",proto:!0,forced:Zs("bold")},{bold:function(){return $s(this,"b","","")}}),At({target:"String",proto:!0,forced:Zs("fixed")},{fixed:function(){return $s(this,"tt","","")}}),At({target:"String",proto:!0,forced:Zs("fontcolor")},{fontcolor:function(t){return $s(this,"font","color",t)}}),At({target:"String",proto:!0,forced:Zs("fontsize")},{fontsize:function(t){return $s(this,"font","size",t)}}),At({target:"String",proto:!0,forced:Zs("italics")},{italics:function(){return $s(this,"i","","")}}),At({target:"String",proto:!0,forced:Zs("link")},{link:function(t){return $s(this,"a","href",t)}}),At({target:"String",proto:!0,forced:Zs("small")},{small:function(){return $s(this,"small","","")}}),At({target:"String",proto:!0,forced:Zs("strike")},{strike:function(){return $s(this,"strike","","")}}),At({target:"String",proto:!0,forced:Zs("sub")},{sub:function(){return $s(this,"sub","","")}}),At({target:"String",proto:!0,forced:Zs("sup")},{sup:function(){return $s(this,"sup","","")}});var Ks=function(t,e,n){var r,i;return fn&&"function"==typeof(r=e.constructor)&&r!==n&&y(i=r.prototype)&&i!==n.prototype&&fn(t,i),t},Qs=P.f,Js=bt.f,tl=tt.set,el=Kt("match"),nl=i.RegExp,rl=nl.prototype,il=/a/g,ol=/a/g,al=new nl(il)!==il,sl=Ua.UNSUPPORTED_Y;if(a&&Pt("RegExp",!al||sl||o((function(){return ol[el]=!1,nl(il)!=il||nl(ol)==ol||"/a/i"!=nl(il,"i")})))){for(var ll=function(t,e){var n,r=this instanceof ll,i=Da(t),o=void 0===e;if(!r&&i&&t.constructor===ll&&o)return t;al?i&&!o&&(t=t.source):t instanceof ll&&(o&&(e=Va.call(t)),t=t.source),sl&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a=Ks(al?new nl(t,e):nl(t,e),r?this:rl,ll);return sl&&n&&tl(a,{sticky:n}),a},ul=function(t){t in ll||Qs(ll,t,{configurable:!0,get:function(){return nl[t]},set:function(e){nl[t]=e}})},cl=Js(nl),hl=0;cl.length>hl;)ul(cl[hl++]);rl.constructor=ll,ll.prototype=rl,et(i,"RegExp",ll)}An("RegExp"),At({target:"RegExp",proto:!0,forced:/./.exec!==Za},{exec:Za}),a&&("g"!=/./g.flags||Ua.UNSUPPORTED_Y)&&P.f(RegExp.prototype,"flags",{configurable:!0,get:Va});var dl=Ua.UNSUPPORTED_Y,fl=P.f,pl=tt.get,vl=RegExp.prototype;a&&dl&&fl(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==vl){if(this instanceof RegExp)return!!pl(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}});var gl=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),yl=/./.test;At({target:"RegExp",proto:!0,forced:!gl},{test:function(t){if("function"!=typeof this.exec)return yl.call(this,t);var e=this.exec(t);if(null!==e&&!y(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}});var ml=RegExp.prototype,bl=ml.toString,wl=o((function(){return"/a/b"!=bl.call({source:"a",flags:"b"})})),_l="toString"!=bl.name;(wl||_l)&&et(RegExp.prototype,"toString",(function(){var t=O(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in ml)?Va.call(t):n)}),{unsafe:!0});var xl=Fs.trim,El=i.parseInt,Sl=/^[+-]?0[Xx]/,kl=8!==El(Ls+"08")||22!==El(Ls+"0x16")?function(t,e){var n=xl(String(t));return El(n,e>>>0||(Sl.test(n)?16:10))}:El;At({global:!0,forced:parseInt!=kl},{parseInt:kl});var Cl=Fs.trim,Ol=i.parseFloat,Tl=1/Ol(Ls+"-0")!=-1/0?function(t){var e=Cl(String(t)),n=Ol(e);return 0===n&&"-"==e.charAt(0)?-0:n}:Ol;At({global:!0,forced:parseFloat!=Tl},{parseFloat:Tl});var Pl=bt.f,Nl=C.f,Al=P.f,Dl=Fs.trim,Ml=i.Number,Ll=Ml.prototype,Il="Number"==d(Ut(Ll)),jl=function(t){var e,n,r,i,o,a,s,l,u=m(t,!1);if("string"==typeof u&&u.length>2)if(43===(e=(u=Dl(u)).charCodeAt(0))||45===e){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=(o=u.slice(2)).length,s=0;s<a;s++)if((l=o.charCodeAt(s))<48||l>i)return NaN;return parseInt(o,r)}return+u};if(Pt("Number",!Ml(" 0o1")||!Ml("0b1")||Ml("+0x1"))){for(var Rl,Bl=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof Bl&&(Il?o((function(){Ll.valueOf.call(n)})):"Number"!=d(n))?Ks(new Ml(jl(e)),n,Bl):jl(e)},Fl=a?Pl(Ml):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),zl=0;Fl.length>zl;zl++)w(Ml,Rl=Fl[zl])&&!w(Bl,Rl)&&Al(Bl,Rl,Nl(Ml,Rl));Bl.prototype=Ll,Ll.constructor=Bl,et(i,"Number",Bl)}At({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var Vl=i.isFinite,ql=Number.isFinite||function(t){return"number"==typeof t&&Vl(t)};At({target:"Number",stat:!0},{isFinite:ql});var Ul=Math.floor,Xl=function(t){return!y(t)&&isFinite(t)&&Ul(t)===t};At({target:"Number",stat:!0},{isInteger:Xl}),At({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Yl=Math.abs;At({target:"Number",stat:!0},{isSafeInteger:function(t){return Xl(t)&&Yl(t)<=9007199254740991}}),At({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),At({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991}),At({target:"Number",stat:!0,forced:Number.parseFloat!=Tl},{parseFloat:Tl}),At({target:"Number",stat:!0,forced:Number.parseInt!=kl},{parseInt:kl});var Hl=function(t){if("number"!=typeof t&&"Number"!=d(t))throw TypeError("Incorrect invocation");return+t},Gl=1..toFixed,Wl=Math.floor,$l=function(t,e,n){return 0===e?n:e%2==1?$l(t,e-1,n*t):$l(t*t,e/2,n)},Zl=Gl&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){Gl.call({})}));At({target:"Number",proto:!0,forced:Zl},{toFixed:function(t){var e,n,r,i,o=Hl(this),a=st(t),s=[0,0,0,0,0,0],l="",u="0",c=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*s[n],s[n]=r%1e7,r=Wl(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=s[e],s[e]=Wl(n/t),n=n%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==s[t]){var n=String(s[t]);e=""===e?n:e+ps.call("0",7-n.length)+n}return e};if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(l="-",o=-o),o>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(o*$l(2,69,1))-69)<0?o*$l(2,-e,1):o/$l(2,e,1),n*=4503599627370496,(e=52-e)>0){for(c(0,n),r=a;r>=7;)c(1e7,0),r-=7;for(c($l(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),c(1,1),h(2),u=d()}else c(0,n),c(1<<-e,0),u=d()+ps.call("0",a);return u=a>0?l+((i=u.length)<=a?"0."+ps.call("0",a-i)+u:u.slice(0,i-a)+"."+u.slice(i-a)):l+u}});var Kl=1..toPrecision,Ql=o((function(){return"1"!==Kl.call(1,void 0)}))||!o((function(){Kl.call({})}));At({target:"Number",proto:!0,forced:Ql},{toPrecision:function(t){return void 0===t?Kl.call(Hl(this)):Kl.call(Hl(this),t)}});var Jl=Math.log,tu=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Jl(1+t)},eu=Math.acosh,nu=Math.log,ru=Math.sqrt,iu=Math.LN2,ou=!eu||710!=Math.floor(eu(Number.MAX_VALUE))||eu(1/0)!=1/0;At({target:"Math",stat:!0,forced:ou},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?nu(t)+iu:tu(t-1+ru(t-1)*ru(t+1))}});var au=Math.asinh,su=Math.log,lu=Math.sqrt;At({target:"Math",stat:!0,forced:!(au&&1/au(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):su(e+lu(e*e+1)):e}});var uu=Math.atanh,cu=Math.log;At({target:"Math",stat:!0,forced:!(uu&&1/uu(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:cu((1+t)/(1-t))/2}});var hu=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1},du=Math.abs,fu=Math.pow;At({target:"Math",stat:!0},{cbrt:function(t){return hu(t=+t)*fu(du(t),1/3)}});var pu=Math.floor,vu=Math.log,gu=Math.LOG2E;At({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-pu(vu(t+.5)*gu):32}});var yu=Math.expm1,mu=Math.exp,bu=!yu||yu(10)>22025.465794806718||yu(10)<22025.465794806718||-2e-17!=yu(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:mu(t)-1}:yu,wu=Math.cosh,_u=Math.abs,xu=Math.E;At({target:"Math",stat:!0,forced:!wu||wu(710)===1/0},{cosh:function(t){var e=bu(_u(t)-1)+1;return(e+1/(e*xu*xu))*(xu/2)}}),At({target:"Math",stat:!0,forced:bu!=Math.expm1},{expm1:bu});var Eu=Math.abs,Su=Math.pow,ku=Su(2,-52),Cu=Su(2,-23),Ou=Su(2,127)*(2-Cu),Tu=Su(2,-126),Pu=Math.fround||function(t){var e,n,r=Eu(t),i=hu(t);return r<Tu?i*(r/Tu/Cu+1/ku-1/ku)*Tu*Cu:(n=(e=(1+Cu/ku)*r)-(e-r))>Ou||n!=n?i*(1/0):i*n};At({target:"Math",stat:!0},{fround:Pu});var Nu=Math.hypot,Au=Math.abs,Du=Math.sqrt,Mu=!!Nu&&Nu(1/0,NaN)!==1/0;At({target:"Math",stat:!0,forced:Mu},{hypot:function(t,e){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=Au(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Du(i)}});var Lu=Math.imul,Iu=o((function(){return-5!=Lu(4294967295,5)||2!=Lu.length}));At({target:"Math",stat:!0,forced:Iu},{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}});var ju=Math.log,Ru=Math.LOG10E;At({target:"Math",stat:!0},{log10:function(t){return ju(t)*Ru}}),At({target:"Math",stat:!0},{log1p:tu});var Bu=Math.log,Fu=Math.LN2;At({target:"Math",stat:!0},{log2:function(t){return Bu(t)/Fu}}),At({target:"Math",stat:!0},{sign:hu});var zu=Math.abs,Vu=Math.exp,qu=Math.E,Uu=o((function(){return-2e-17!=Math.sinh(-2e-17)}));At({target:"Math",stat:!0,forced:Uu},{sinh:function(t){return zu(t=+t)<1?(bu(t)-bu(-t))/2:(Vu(t-1)-Vu(-t-1))*(qu/2)}});var Xu=Math.exp;At({target:"Math",stat:!0},{tanh:function(t){var e=bu(t=+t),n=bu(-t);return e==1/0?1:n==1/0?-1:(e-n)/(Xu(t)+Xu(-t))}}),re(Math,"Math",!0);var Yu=Math.ceil,Hu=Math.floor;At({target:"Math",stat:!0},{trunc:function(t){return(t>0?Hu:Yu)(t)}}),At({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var Gu=o((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));At({target:"Date",proto:!0,forced:Gu},{toJSON:function(t){var e=It(this),n=m(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}});var Wu=ys.start,$u=Math.abs,Zu=Date.prototype,Ku=Zu.getTime,Qu=Zu.toISOString,Ju=o((function(){return"0385-07-25T07:06:39.999Z"!=Qu.call(new Date(-5e13-1))}))||!o((function(){Qu.call(new Date(NaN))}))?function(){if(!isFinite(Ku.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+Wu($u(t),n?6:4,0)+"-"+Wu(this.getUTCMonth()+1,2,0)+"-"+Wu(this.getUTCDate(),2,0)+"T"+Wu(this.getUTCHours(),2,0)+":"+Wu(this.getUTCMinutes(),2,0)+":"+Wu(this.getUTCSeconds(),2,0)+"."+Wu(e,3,0)+"Z"}:Qu;At({target:"Date",proto:!0,forced:Date.prototype.toISOString!==Ju},{toISOString:Ju});var tc=Date.prototype,ec=tc.toString,nc=tc.getTime;new Date(NaN)+""!="Invalid Date"&&et(tc,"toString",(function(){var t=nc.call(this);return t==t?ec.call(this):"Invalid Date"}));var rc=Kt("toPrimitive"),ic=Date.prototype;rc in ic||N(ic,rc,(function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return m(O(this),"number"!==t)}));var oc=it("JSON","stringify"),ac=/[\uD800-\uDFFF]/g,sc=/^[\uD800-\uDBFF]$/,lc=/^[\uDC00-\uDFFF]$/,uc=function(t,e,n){var r=n.charAt(e-1),i=n.charAt(e+1);return sc.test(t)&&!lc.test(i)||lc.test(t)&&!sc.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},cc=o((function(){return'"\\udf06\\ud834"'!==oc("\udf06\ud834")||'"\\udead"'!==oc("\udead")}));oc&&At({target:"JSON",stat:!0,forced:cc},{stringify:function(t,e,n){var r=oc.apply(null,arguments);return"string"==typeof r?r.replace(ac,uc):r}}),re(i.JSON,"JSON",!0),At({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=Nr.f(e),r=n.resolve,i=n.reject,o=Dr((function(){var n=ie(e.resolve),i=[],o=0,a=1;Fn(t,(function(t){var s=o++,l=!1;i.push(void 0),a++,n.call(e,t).then((function(t){l||(l=!0,i[s]={status:"fulfilled",value:t},--a||r(i))}),(function(t){l||(l=!0,i[s]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var hc=!!Tn&&o((function(){Tn.prototype.finally.call({then:function(){}},(function(){}))}));At({target:"Promise",proto:!0,real:!0,forced:hc},{finally:function(t){var e=Wn(this,it("Promise")),n="function"==typeof t;return this.then(n?function(n){return Ar(e,t()).then((function(){return n}))}:t,n?function(n){return Ar(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof Tn||Tn.prototype.finally||et(Tn.prototype,"finally",it("Promise").prototype.finally);var dc=function(t,e,n){var r=-1!==t.indexOf("Map"),a=-1!==t.indexOf("Weak"),s=r?"set":"add",l=i[t],u=l&&l.prototype,c=l,h={},d=function(t){var e=u[t];et(u,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(a&&!y(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return a&&!y(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(a&&!y(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(Pt(t,"function"!=typeof l||!(a||u.forEach&&!o((function(){(new l).entries().next()})))))c=n.getConstructor(e,t,r,s),Ri.REQUIRED=!0;else if(Pt(t,!0)){var f=new c,p=f[s](a?{}:-0,1)!=f,v=o((function(){f.has(1)})),g=Hn((function(t){new l(t)})),m=!a&&o((function(){for(var t=new l,e=5;e--;)t[s](e,e);return!t.has(-0)}));g||((c=e((function(e,n){Dn(e,c,t);var i=Ks(new l,e,c);return null!=n&&Fn(n,i[s],i,r),i}))).prototype=u,u.constructor=c),(v||m)&&(d("delete"),d("has"),r&&d("get")),(m||p)&&d(s),a&&u.clear&&delete u.clear}return h[t]=c,At({global:!0,forced:c!=l},h),re(c,t),a||n.setStrong(c,t,r),c},fc=P.f,pc=Ri.fastKey,vc=tt.set,gc=tt.getterFor,yc={getConstructor:function(t,e,n,r){var i=t((function(t,o){Dn(t,i,e),vc(t,{type:e,index:Ut(null),first:void 0,last:void 0,size:0}),a||(t.size=0),null!=o&&Fn(o,t[r],t,n)})),o=gc(e),s=function(t,e,n){var r,i,s=o(t),u=l(t,e);return u?u.value=n:(s.last=u={index:i=pc(e,!0),key:e,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=u),r&&(r.next=u),a?s.size++:t.size++,"F"!==i&&(s.index[i]=u)),t},l=function(t,e){var n,r=o(t),i=pc(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Pn(i.prototype,{clear:function(){for(var t=o(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,a?t.size=0:this.size=0},delete:function(t){var e=o(this),n=l(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),a?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=o(this),r=oe(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),Pn(i.prototype,n?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),a&&fc(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=gc(e),o=gc(r);mn(t,e,(function(t,e){vc(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),An(e)}},mc=(dc("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),yc),dc("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),yc),Ri.getWeakData),bc=tt.set,wc=tt.getterFor,_c=ce.find,xc=ce.findIndex,Ec=0,Sc=function(t){return t.frozen||(t.frozen=new kc)},kc=function(){this.entries=[]},Cc=function(t,e){return _c(t.entries,(function(t){return t[0]===e}))};kc.prototype={get:function(t){var e=Cc(this,t);if(e)return e[1]},has:function(t){return!!Cc(this,t)},set:function(t,e){var n=Cc(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=xc(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}};var Oc={getConstructor:function(t,e,n,r){var i=t((function(t,o){Dn(t,i,e),bc(t,{type:e,id:Ec++,frozen:void 0}),null!=o&&Fn(o,t[r],t,n)})),o=wc(e),a=function(t,e,n){var r=o(t),i=mc(O(e),!0);return!0===i?Sc(r).set(e,n):i[r.id]=n,t};return Pn(i.prototype,{delete:function(t){var e=o(this);if(!y(t))return!1;var n=mc(t);return!0===n?Sc(e).delete(t):n&&w(n,e.id)&&delete n[e.id]},has:function(t){var e=o(this);if(!y(t))return!1;var n=mc(t);return!0===n?Sc(e).has(t):n&&w(n,e.id)}}),Pn(i.prototype,n?{get:function(t){var e=o(this);if(y(t)){var n=mc(t);return!0===n?Sc(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),i}};n((function(t){var e,n=tt.enforce,r=!i.ActiveXObject&&"ActiveXObject"in i,o=Object.isExtensible,a=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},s=t.exports=dc("WeakMap",a,Oc);if(F&&r){e=Oc.getConstructor(a,"WeakMap",!0),Ri.REQUIRED=!0;var l=s.prototype,u=l.delete,c=l.has,h=l.get,d=l.set;Pn(l,{delete:function(t){if(y(t)&&!o(t)){var r=n(this);return r.frozen||(r.frozen=new e),u.call(this,t)||r.frozen.delete(t)}return u.call(this,t)},has:function(t){if(y(t)&&!o(t)){var r=n(this);return r.frozen||(r.frozen=new e),c.call(this,t)||r.frozen.has(t)}return c.call(this,t)},get:function(t){if(y(t)&&!o(t)){var r=n(this);return r.frozen||(r.frozen=new e),c.call(this,t)?h.call(this,t):r.frozen.get(t)}return h.call(this,t)},set:function(t,r){if(y(t)&&!o(t)){var i=n(this);i.frozen||(i.frozen=new e),c.call(this,t)?d.call(this,t,r):i.frozen.set(t,r)}else d.call(this,t,r);return this}})}}));dc("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Oc);var Tc,Pc=P.f,Nc=i.DataView,Ac=Nc&&Nc.prototype,Dc=i.Int8Array,Mc=Dc&&Dc.prototype,Lc=i.Uint8ClampedArray,Ic=Lc&&Lc.prototype,jc=Dc&&on(Dc),Rc=Mc&&on(Mc),Bc=Object.prototype,Fc=Bc.isPrototypeOf,zc=Kt("toStringTag"),Vc=U("TYPED_ARRAY_TAG"),qc=!(!i.ArrayBuffer||!Nc),Uc=qc&&!!fn&&"Opera"!==Cn(i.opera),Xc=!1,Yc={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Hc=function(t){return y(t)&&w(Yc,Cn(t))};for(Tc in Yc)i[Tc]||(Uc=!1);if((!Uc||"function"!=typeof jc||jc===Function.prototype)&&(jc=function(){throw TypeError("Incorrect invocation")},Uc))for(Tc in Yc)i[Tc]&&fn(i[Tc],jc);if((!Uc||!Rc||Rc===Bc)&&(Rc=jc.prototype,Uc))for(Tc in Yc)i[Tc]&&fn(i[Tc].prototype,Rc);if(Uc&&on(Ic)!==Rc&&fn(Ic,Rc),a&&!w(Rc,zc))for(Tc in Xc=!0,Pc(Rc,zc,{get:function(){return y(this)?this[Vc]:void 0}}),Yc)i[Tc]&&N(i[Tc],Vc,Tc);qc&&fn&&on(Ac)!==Bc&&fn(Ac,Bc);var Gc={NATIVE_ARRAY_BUFFER:qc,NATIVE_ARRAY_BUFFER_VIEWS:Uc,TYPED_ARRAY_TAG:Xc&&Vc,aTypedArray:function(t){if(Hc(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(fn){if(Fc.call(jc,t))return t}else for(var e in Yc)if(w(Yc,Tc)){var n=i[e];if(n&&(t===n||Fc.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(a){if(n)for(var r in Yc){var o=i[r];o&&w(o.prototype,t)&&delete o.prototype[t]}Rc[t]&&!n||et(Rc,t,n?e:Uc&&Mc[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,o;if(a){if(fn){if(n)for(r in Yc)(o=i[r])&&w(o,t)&&delete o[t];if(jc[t]&&!n)return;try{return et(jc,t,n?e:Uc&&Dc[t]||e)}catch(t){}}for(r in Yc)!(o=i[r])||o[t]&&!n||et(o,t,e)}},isView:function(t){var e=Cn(t);return"DataView"===e||w(Yc,e)},isTypedArray:Hc,TypedArray:jc,TypedArrayPrototype:Rc},Wc=function(t){if(void 0===t)return 0;var e=st(t),n=ut(e);if(e!==n)throw RangeError("Wrong length or index");return n},$c=Math.abs,Zc=Math.pow,Kc=Math.floor,Qc=Math.log,Jc=Math.LN2,th=function(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,l=(1<<s)-1,u=l>>1,c=23===e?Zc(2,-24)-Zc(2,-77):0,h=t<0||0===t&&1/t<0?1:0,d=0;for((t=$c(t))!=t||t===1/0?(i=t!=t?1:0,r=l):(r=Kc(Qc(t)/Jc),t*(o=Zc(2,-r))<1&&(r--,o*=2),(t+=r+u>=1?c/o:c*Zc(2,1-u))*o>=2&&(r++,o/=2),r+u>=l?(i=0,r=l):r+u>=1?(i=(t*o-1)*Zc(2,e),r+=u):(i=t*Zc(2,u-1)*Zc(2,e),r=0));e>=8;a[d++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*h,a},eh=function(t,e){var n,r=t.length,i=8*r-e-1,o=(1<<i)-1,a=o>>1,s=i-7,l=r-1,u=t[l--],c=127&u;for(u>>=7;s>0;c=256*c+t[l],l--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=e;s>0;n=256*n+t[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:u?-1/0:1/0;n+=Zc(2,e),c-=a}return(u?-1:1)*n*Zc(2,c-e)},nh=Gc.NATIVE_ARRAY_BUFFER,rh=bt.f,ih=P.f,oh=tt.get,ah=tt.set,sh=i.ArrayBuffer,lh=sh,uh=i.DataView,ch=i.RangeError,hh=th,dh=eh,fh=function(t){return[255&t]},ph=function(t){return[255&t,t>>8&255]},vh=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},gh=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},yh=function(t){return hh(t,23,4)},mh=function(t){return hh(t,52,8)},bh=function(t,e){ih(t.prototype,e,{get:function(){return oh(this)[e]}})},wh=function(t,e,n,r){var i=Wc(n),o=oh(t);if(i+e>o.byteLength)throw ch("Wrong index");var a=oh(o.buffer).bytes,s=i+o.byteOffset,l=a.slice(s,s+e);return r?l:l.reverse()},_h=function(t,e,n,r,i,o){var a=Wc(n),s=oh(t);if(a+e>s.byteLength)throw ch("Wrong index");for(var l=oh(s.buffer).bytes,u=a+s.byteOffset,c=r(+i),h=0;h<e;h++)l[u+h]=c[o?h:e-h-1]};if(nh){if(!o((function(){sh(1)}))||!o((function(){new sh(-1)}))||o((function(){return new sh,new sh(1.5),new sh(NaN),"ArrayBuffer"!=sh.name}))){for(var xh,Eh=(lh=function(t){return Dn(this,lh),new sh(Wc(t))}).prototype=sh.prototype,Sh=rh(sh),kh=0;Sh.length>kh;)(xh=Sh[kh++])in lh||N(lh,xh,sh[xh]);Eh.constructor=lh}var Ch=new uh(new lh(2)),Oh=uh.prototype.setInt8;Ch.setInt8(0,2147483648),Ch.setInt8(1,2147483649),!Ch.getInt8(0)&&Ch.getInt8(1)||Pn(uh.prototype,{setInt8:function(t,e){Oh.call(this,t,e<<24>>24)},setUint8:function(t,e){Oh.call(this,t,e<<24>>24)}},{unsafe:!0})}else lh=function(t){Dn(this,lh,"ArrayBuffer");var e=Wc(t);ah(this,{bytes:Io.call(new Array(e),0),byteLength:e}),a||(this.byteLength=e)},uh=function(t,e,n){Dn(this,uh,"DataView"),Dn(t,lh,"DataView");var r=oh(t).byteLength,i=st(e);if(i<0||i>r)throw ch("Wrong offset");if(i+(n=void 0===n?r-i:ut(n))>r)throw ch("Wrong length");ah(this,{buffer:t,byteLength:n,byteOffset:i}),a||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},a&&(bh(lh,"byteLength"),bh(uh,"buffer"),bh(uh,"byteLength"),bh(uh,"byteOffset")),Pn(uh.prototype,{getInt8:function(t){return wh(this,1,t)[0]<<24>>24},getUint8:function(t){return wh(this,1,t)[0]},getInt16:function(t){var e=wh(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=wh(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return gh(wh(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return gh(wh(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return dh(wh(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return dh(wh(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){_h(this,1,t,fh,e)},setUint8:function(t,e){_h(this,1,t,fh,e)},setInt16:function(t,e){_h(this,2,t,ph,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){_h(this,2,t,ph,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){_h(this,4,t,vh,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){_h(this,4,t,vh,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){_h(this,4,t,yh,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){_h(this,8,t,mh,e,arguments.length>2?arguments[2]:void 0)}});re(lh,"ArrayBuffer"),re(uh,"DataView");var Th={ArrayBuffer:lh,DataView:uh},Ph=Th.ArrayBuffer,Nh=i.ArrayBuffer;At({global:!0,forced:Nh!==Ph},{ArrayBuffer:Ph}),An("ArrayBuffer"),At({target:"ArrayBuffer",stat:!0,forced:!Gc.NATIVE_ARRAY_BUFFER_VIEWS},{isView:Gc.isView});var Ah=Th.ArrayBuffer,Dh=Th.DataView,Mh=Ah.prototype.slice,Lh=o((function(){return!new Ah(2).slice(1,void 0).byteLength}));At({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Lh},{slice:function(t,e){if(void 0!==Mh&&void 0===e)return Mh.call(O(this),t);for(var n=O(this).byteLength,r=dt(t,n),i=dt(void 0===e?n:e,n),o=new(Wn(this,Ah))(ut(i-r)),a=new Dh(this),s=new Dh(o),l=0;r<i;)s.setUint8(l++,a.getUint8(r++));return o}}),At({global:!0,forced:!Gc.NATIVE_ARRAY_BUFFER},{DataView:Th.DataView});var Ih=Gc.NATIVE_ARRAY_BUFFER_VIEWS,jh=i.ArrayBuffer,Rh=i.Int8Array,Bh=!Ih||!o((function(){Rh(1)}))||!o((function(){new Rh(-1)}))||!Hn((function(t){new Rh,new Rh(null),new Rh(1.5),new Rh(t)}),!0)||o((function(){return 1!==new Rh(new jh(2),1,void 0).length})),Fh=function(t,e){var n=function(t){var e=st(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}(t);if(n%e)throw RangeError("Wrong offset");return n},zh=Gc.aTypedArrayConstructor,Vh=function(t){var e,n,r,i,o,a,s=It(t),l=arguments.length,u=l>1?arguments[1]:void 0,c=void 0!==u,h=Rn(s);if(null!=h&&!In(h))for(a=(o=h.call(s)).next,s=[];!(i=a.call(o)).done;)s.push(i.value);for(c&&l>2&&(u=oe(u,arguments[2],2)),n=ut(s.length),r=new(zh(this))(n),e=0;n>e;e++)r[e]=c?u(s[e],e):s[e];return r},qh=n((function(t){var e=bt.f,n=ce.forEach,r=tt.get,o=tt.set,s=P.f,l=C.f,u=Math.round,h=i.RangeError,d=Th.ArrayBuffer,f=Th.DataView,p=Gc.NATIVE_ARRAY_BUFFER_VIEWS,v=Gc.TYPED_ARRAY_TAG,g=Gc.TypedArray,b=Gc.TypedArrayPrototype,_=Gc.aTypedArrayConstructor,x=Gc.isTypedArray,E=function(t,e){for(var n=0,r=e.length,i=new(_(t))(r);r>n;)i[n]=e[n++];return i},S=function(t,e){s(t,e,{get:function(){return r(this)[e]}})},k=function(t){var e;return t instanceof d||"ArrayBuffer"==(e=Cn(t))||"SharedArrayBuffer"==e},O=function(t,e){return x(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},T=function(t,e){return O(t,e=m(e,!0))?c(2,t[e]):l(t,e)},A=function(t,e,n){return!(O(t,e=m(e,!0))&&y(n)&&w(n,"value"))||w(n,"get")||w(n,"set")||n.configurable||w(n,"writable")&&!n.writable||w(n,"enumerable")&&!n.enumerable?s(t,e,n):(t[e]=n.value,t)};a?(p||(C.f=T,P.f=A,S(b,"buffer"),S(b,"byteOffset"),S(b,"byteLength"),S(b,"length")),At({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:T,defineProperty:A}),t.exports=function(t,a,l){var c=t.match(/\d+$/)[0]/8,m=t+(l?"Clamped":"")+"Array",w="get"+t,_="set"+t,S=i[m],C=S,O=C&&C.prototype,T={},P=function(t,e){s(t,e,{get:function(){return function(t,e){var n=r(t);return n.view[w](e*c+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=r(t);l&&(n=(n=u(n))<0?0:n>255?255:255&n),i.view[_](e*c+i.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};p?Bh&&(C=a((function(t,e,n,r){return Dn(t,C,m),Ks(y(e)?k(e)?void 0!==r?new S(e,Fh(n,c),r):void 0!==n?new S(e,Fh(n,c)):new S(e):x(e)?E(C,e):Vh.call(C,e):new S(Wc(e)),t,C)})),fn&&fn(C,g),n(e(S),(function(t){t in C||N(C,t,S[t])})),C.prototype=O):(C=a((function(t,e,n,r){Dn(t,C,m);var i,a,s,l=0,u=0;if(y(e)){if(!k(e))return x(e)?E(C,e):Vh.call(C,e);i=e,u=Fh(n,c);var p=e.byteLength;if(void 0===r){if(p%c)throw h("Wrong length");if((a=p-u)<0)throw h("Wrong length")}else if((a=ut(r)*c)+u>p)throw h("Wrong length");s=a/c}else s=Wc(e),i=new d(a=s*c);for(o(t,{buffer:i,byteOffset:u,byteLength:a,length:s,view:new f(i)});l<s;)P(t,l++)})),fn&&fn(C,g),O=C.prototype=Ut(b)),O.constructor!==C&&N(O,"constructor",C),v&&N(O,v,m),T[m]=C,At({global:!0,forced:C!=S,sham:!p},T),"BYTES_PER_ELEMENT"in C||N(C,"BYTES_PER_ELEMENT",c),"BYTES_PER_ELEMENT"in O||N(O,"BYTES_PER_ELEMENT",c),An(m)}):t.exports=function(){}}));qh("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qh("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qh("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0),qh("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qh("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qh("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qh("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qh("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),qh("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}})),(0,Gc.exportTypedArrayStaticMethod)("from",Vh,Bh);var Uh=Gc.aTypedArrayConstructor;(0,Gc.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(Uh(this))(e);e>t;)n[t]=arguments[t++];return n}),Bh);var Xh=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("copyWithin",(function(t,e){return Do.call(Xh(this),t,e,arguments.length>2?arguments[2]:void 0)}));var Yh=ce.every,Hh=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("every",(function(t){return Yh(Hh(this),t,arguments.length>1?arguments[1]:void 0)}));var Gh=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("fill",(function(t){return Io.apply(Gh(this),arguments)}));var Wh=ce.filter,$h=Gc.aTypedArray,Zh=Gc.aTypedArrayConstructor;(0,Gc.exportTypedArrayMethod)("filter",(function(t){for(var e=Wh($h(this),t,arguments.length>1?arguments[1]:void 0),n=Wn(this,this.constructor),r=0,i=e.length,o=new(Zh(n))(i);i>r;)o[r]=e[r++];return o}));var Kh=ce.find,Qh=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("find",(function(t){return Kh(Qh(this),t,arguments.length>1?arguments[1]:void 0)}));var Jh=ce.findIndex,td=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("findIndex",(function(t){return Jh(td(this),t,arguments.length>1?arguments[1]:void 0)}));var ed=ce.forEach,nd=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("forEach",(function(t){ed(nd(this),t,arguments.length>1?arguments[1]:void 0)}));var rd=pt.includes,id=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("includes",(function(t){return rd(id(this),t,arguments.length>1?arguments[1]:void 0)}));var od=pt.indexOf,ad=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("indexOf",(function(t){return od(ad(this),t,arguments.length>1?arguments[1]:void 0)}));var sd=Kt("iterator"),ld=i.Uint8Array,ud=_n.values,cd=_n.keys,hd=_n.entries,dd=Gc.aTypedArray,fd=Gc.exportTypedArrayMethod,pd=ld&&ld.prototype[sd],vd=!!pd&&("values"==pd.name||null==pd.name),gd=function(){return ud.call(dd(this))};fd("entries",(function(){return hd.call(dd(this))})),fd("keys",(function(){return cd.call(dd(this))})),fd("values",gd,!vd),fd(sd,gd,!vd);var yd=Gc.aTypedArray,md=[].join;(0,Gc.exportTypedArrayMethod)("join",(function(t){return md.apply(yd(this),arguments)}));var bd=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("lastIndexOf",(function(t){return oa.apply(bd(this),arguments)}));var wd=ce.map,_d=Gc.aTypedArray,xd=Gc.aTypedArrayConstructor;(0,Gc.exportTypedArrayMethod)("map",(function(t){return wd(_d(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(xd(Wn(t,t.constructor)))(e)}))}));var Ed=ca.left,Sd=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("reduce",(function(t){return Ed(Sd(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var kd=ca.right,Cd=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("reduceRight",(function(t){return kd(Cd(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Od=Gc.aTypedArray,Td=Gc.exportTypedArrayMethod,Pd=Math.floor;Td("reverse",(function(){for(var t,e=Od(this).length,n=Pd(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}));var Nd=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("set",(function(t){Nd(this);var e=Fh(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=It(t),i=ut(r.length),o=0;if(i+e>n)throw RangeError("Wrong length");for(;o<i;)this[e+o]=r[o++]}),o((function(){new Int8Array(1).set({})})));var Ad=Gc.aTypedArray,Dd=Gc.aTypedArrayConstructor,Md=[].slice;(0,Gc.exportTypedArrayMethod)("slice",(function(t,e){for(var n=Md.call(Ad(this),t,e),r=Wn(this,this.constructor),i=0,o=n.length,a=new(Dd(r))(o);o>i;)a[i]=n[i++];return a}),o((function(){new Int8Array(1).slice()})));var Ld=ce.some,Id=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("some",(function(t){return Ld(Id(this),t,arguments.length>1?arguments[1]:void 0)}));var jd=Gc.aTypedArray,Rd=[].sort;(0,Gc.exportTypedArrayMethod)("sort",(function(t){return Rd.call(jd(this),t)}));var Bd=Gc.aTypedArray;(0,Gc.exportTypedArrayMethod)("subarray",(function(t,e){var n=Bd(this),r=n.length,i=dt(t,r);return new(Wn(n,n.constructor))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,ut((void 0===e?r:dt(e,r))-i))}));var Fd=i.Int8Array,zd=Gc.aTypedArray,Vd=Gc.exportTypedArrayMethod,qd=[].toLocaleString,Ud=[].slice,Xd=!!Fd&&o((function(){qd.call(new Fd(1))}));Vd("toLocaleString",(function(){return qd.apply(Xd?Ud.call(zd(this)):zd(this),arguments)}),o((function(){return[1,2].toLocaleString()!=new Fd([1,2]).toLocaleString()}))||!o((function(){Fd.prototype.toLocaleString.call([1,2])})));var Yd=Gc.exportTypedArrayMethod,Hd=i.Uint8Array,Gd=Hd&&Hd.prototype||{},Wd=[].toString,$d=[].join;o((function(){Wd.call({})}))&&(Wd=function(){return $d.call(this)});var Zd=Gd.toString!=Wd;Yd("toString",Wd,Zd);var Kd=it("Reflect","apply"),Qd=Function.apply,Jd=!o((function(){Kd((function(){}))}));At({target:"Reflect",stat:!0,forced:Jd},{apply:function(t,e,n){return ie(t),O(n),Kd?Kd(t,e,n):Qd.call(t,e,n)}});var tf=it("Reflect","construct"),ef=o((function(){function t(){}return!(tf((function(){}),[],t)instanceof t)})),nf=!o((function(){tf((function(){}))})),rf=ef||nf;At({target:"Reflect",stat:!0,forced:rf,sham:rf},{construct:function(t,e){ie(t),O(e);var n=arguments.length<3?t:ie(arguments[2]);if(nf&&!ef)return tf(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(vo.apply(t,r))}var i=n.prototype,o=Ut(y(i)?i:Object.prototype),a=Function.apply.call(t,o,e);return y(a)?a:o}});var of=o((function(){Reflect.defineProperty(P.f({},1,{value:1}),1,{value:2})}));At({target:"Reflect",stat:!0,forced:of,sham:!a},{defineProperty:function(t,e,n){O(t);var r=m(e,!0);O(n);try{return P.f(t,r,n),!0}catch(t){return!1}}});var af=C.f;At({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=af(O(t),e);return!(n&&!n.configurable)&&delete t[e]}}),At({target:"Reflect",stat:!0},{get:function t(e,n){var r,i,o=arguments.length<3?e:arguments[2];return O(e)===o?e[n]:(r=C.f(e,n))?w(r,"value")?r.value:void 0===r.get?void 0:r.get.call(o):y(i=on(e))?t(i,n,o):void 0}}),At({target:"Reflect",stat:!0,sham:!a},{getOwnPropertyDescriptor:function(t,e){return C.f(O(t),e)}}),At({target:"Reflect",stat:!0,sham:!en},{getPrototypeOf:function(t){return on(O(t))}}),At({target:"Reflect",stat:!0},{has:function(t,e){return e in t}});var sf=Object.isExtensible;At({target:"Reflect",stat:!0},{isExtensible:function(t){return O(t),!sf||sf(t)}}),At({target:"Reflect",stat:!0},{ownKeys:_t}),At({target:"Reflect",stat:!0,sham:!ji},{preventExtensions:function(t){O(t);try{var e=it("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}});var lf=o((function(){var t=P.f({},"a",{configurable:!0});return!1!==Reflect.set(on(t),"a",1,t)}));for(var uf in At({target:"Reflect",stat:!0,forced:lf},{set:function t(e,n,r){var i,o,a=arguments.length<4?e:arguments[3],s=C.f(O(e),n);if(!s){if(y(o=on(e)))return t(o,n,r,a);s=c(0)}if(w(s,"value")){if(!1===s.writable||!y(a))return!1;if(i=C.f(a,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,P.f(a,n,i)}else P.f(a,n,c(0,r));return!0}return void 0!==s.set&&(s.set.call(a,r),!0)}}),fn&&At({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){O(t),dn(e);try{return fn(t,e),!0}catch(t){return!1}}}),mi){var cf=i[uf],hf=cf&&cf.prototype;if(hf&&hf.forEach!==Ho)try{N(hf,"forEach",Ho)}catch(t){hf.forEach=Ho}}var df=!i.setImmediate||!i.clearImmediate;At({global:!0,bind:!0,enumerable:!0,forced:df},{setImmediate:yr.set,clearImmediate:yr.clear});var ff=i.process,pf="process"==d(ff);At({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=pf&&ff.domain;Tr(e?e.bind(t):t)}});var vf=Kt("iterator"),gf=!o((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[vf]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),yf=/[^\0-\u007E]/,mf=/[.\u3002\uFF0E\uFF61]/g,bf="Overflow: input needs wider integers to process",wf=Math.floor,_f=String.fromCharCode,xf=function(t){return t+22+75*(t<26)},Ef=function(t,e,n){var r=0;for(t=n?wf(t/700):t>>1,t+=wf(t/e);t>455;r+=36)t=wf(t/35);return wf(r+36*t/(t+38))},Sf=function(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t)).length,o=128,a=0,s=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(_f(n));var l=r.length,u=l;for(l&&r.push("-");u<i;){var c=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=o&&n<c&&(c=n);var h=u+1;if(c-o>wf((2147483647-a)/h))throw RangeError(bf);for(a+=(c-o)*h,o=c,e=0;e<t.length;e++){if((n=t[e])<o&&++a>2147483647)throw RangeError(bf);if(n==o){for(var d=a,f=36;;f+=36){var p=f<=s?1:f>=s+26?26:f-s;if(d<p)break;var v=d-p,g=36-p;r.push(_f(xf(p+v%g))),d=wf(v/g)}r.push(_f(xf(d))),s=Ef(a,h,u==l),a=0,++u}}++a,++o}return r.join("")},kf=function(t){var e=Rn(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return O(e.call(t))},Cf=it("fetch"),Of=it("Headers"),Tf=Kt("iterator"),Pf=tt.set,Nf=tt.getterFor("URLSearchParams"),Af=tt.getterFor("URLSearchParamsIterator"),Df=/\+/g,Mf=Array(4),Lf=function(t){return Mf[t-1]||(Mf[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},If=function(t){try{return decodeURIComponent(t)}catch(e){return t}},jf=function(t){var e=t.replace(Df," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(Lf(n--),If);return e}},Rf=/[!'()~]|%20/g,Bf={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ff=function(t){return Bf[t]},zf=function(t){return encodeURIComponent(t).replace(Rf,Ff)},Vf=function(t,e){if(e)for(var n,r,i=e.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),t.push({key:jf(r.shift()),value:jf(r.join("="))}))},qf=function(t){this.entries.length=0,Vf(this.entries,t)},Uf=function(t,e){if(t<e)throw TypeError("Not enough arguments")},Xf=hn((function(t,e){Pf(this,{type:"URLSearchParamsIterator",iterator:kf(Nf(t).entries),kind:e})}),"Iterator",(function(){var t=Af(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),Yf=function(){Dn(this,Yf,"URLSearchParams");var t,e,n,r,i,o,a,s,l,u=arguments.length>0?arguments[0]:void 0,c=this,h=[];if(Pf(c,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:qf}),void 0!==u)if(y(u))if("function"==typeof(t=Rn(u)))for(n=(e=t.call(u)).next;!(r=n.call(e)).done;){if((a=(o=(i=kf(O(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");h.push({key:a.value+"",value:s.value+""})}else for(l in u)w(u,l)&&h.push({key:l,value:u[l]+""});else Vf(h,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},Hf=Yf.prototype;Pn(Hf,{append:function(t,e){Uf(arguments.length,2);var n=Nf(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){Uf(arguments.length,1);for(var e=Nf(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){Uf(arguments.length,1);for(var e=Nf(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){Uf(arguments.length,1);for(var e=Nf(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){Uf(arguments.length,1);for(var e=Nf(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){Uf(arguments.length,1);for(var n,r=Nf(this),i=r.entries,o=!1,a=t+"",s=e+"",l=0;l<i.length;l++)(n=i[l]).key===a&&(o?i.splice(l--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=Nf(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=Nf(this).entries,r=oe(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new Xf(this,"keys")},values:function(){return new Xf(this,"values")},entries:function(){return new Xf(this,"entries")}},{enumerable:!0}),et(Hf,Tf,Hf.entries),et(Hf,"toString",(function(){for(var t,e=Nf(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(zf(t.key)+"="+zf(t.value));return n.join("&")}),{enumerable:!0}),re(Yf,"URLSearchParams"),At({global:!0,forced:!gf},{URLSearchParams:Yf}),gf||"function"!=typeof Cf||"function"!=typeof Of||At({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(e=arguments[1],y(e)&&(n=e.body,"URLSearchParams"===Cn(n)&&((r=e.headers?new Of(e.headers):new Of).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=Ut(e,{body:c(0,String(n)),headers:c(0,r)}))),i.push(e)),Cf.apply(this,i)}});var Gf,Wf={URLSearchParams:Yf,getState:Nf},$f=pi.codeAt,Zf=i.URL,Kf=Wf.URLSearchParams,Qf=Wf.getState,Jf=tt.set,tp=tt.getterFor("URL"),ep=Math.floor,np=Math.pow,rp=/[A-Za-z]/,ip=/[\d+\-.A-Za-z]/,op=/\d/,ap=/^(0x|0X)/,sp=/^[0-7]+$/,lp=/^\d+$/,up=/^[\dA-Fa-f]+$/,cp=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,hp=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,dp=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,fp=/[\u0009\u000A\u000D]/g,pp=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=gp(e.slice(1,-1))))return"Invalid host";t.host=n}else if(Sp(t)){if(e=function(t){var e,n,r=[],i=t.toLowerCase().replace(mf,".").split(".");for(e=0;e<i.length;e++)n=i[e],r.push(yf.test(n)?"xn--"+Sf(n):n);return r.join(".")}(e),cp.test(e))return"Invalid host";if(null===(n=vp(e)))return"Invalid host";t.host=n}else{if(hp.test(e))return"Invalid host";for(n="",r=xo(e),i=0;i<r.length;i++)n+=xp(r[i],mp);t.host=n}},vp=function(t){var e,n,r,i,o,a,s,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(e=l.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=l[r]))return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=ap.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?lp:8==o?sp:up).test(i))return t;a=parseInt(i,o)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=np(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*np(256,3-r);return s},gp=function(t){var e,n,r,i,o,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,d=function(){return t.charAt(h)};if(":"==d()){if(":"!=t.charAt(1))return;h+=2,c=++u}for(;d();){if(8==u)return;if(":"!=d()){for(e=n=0;n<4&&up.test(d());)e=16*e+parseInt(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,u>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;h++}if(!op.test(d()))return;for(;op.test(d());){if(o=parseInt(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}l[u]=256*l[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[u++]=e}else{if(null!==c)return;h++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s;else if(8!=u)return;return l},yp=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=ep(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},mp={},bp=Ai({},mp,{" ":1,'"':1,"<":1,">":1,"`":1}),wp=Ai({},bp,{"#":1,"?":1,"{":1,"}":1}),_p=Ai({},wp,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),xp=function(t,e){var n=$f(t,0);return n>32&&n<127&&!w(e,t)?t:encodeURIComponent(t)},Ep={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Sp=function(t){return w(Ep,t.scheme)},kp=function(t){return""!=t.username||""!=t.password},Cp=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Op=function(t,e){var n;return 2==t.length&&rp.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},Tp=function(t){var e;return t.length>1&&Op(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Pp=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&Op(e[0],!0)||e.pop()},Np=function(t){return"."===t||"%2e"===t.toLowerCase()},Ap={},Dp={},Mp={},Lp={},Ip={},jp={},Rp={},Bp={},Fp={},zp={},Vp={},qp={},Up={},Xp={},Yp={},Hp={},Gp={},Wp={},$p={},Zp={},Kp={},Qp=function(t,e,n,r){var i,o,a,s,l,u=n||Ap,c=0,h="",d=!1,f=!1,p=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(dp,"")),e=e.replace(fp,""),i=xo(e);c<=i.length;){switch(o=i[c],u){case Ap:if(!o||!rp.test(o)){if(n)return"Invalid scheme";u=Mp;continue}h+=o.toLowerCase(),u=Dp;break;case Dp:if(o&&(ip.test(o)||"+"==o||"-"==o||"."==o))h+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";h="",u=Mp,c=0;continue}if(n&&(Sp(t)!=w(Ep,h)||"file"==h&&(kp(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,n)return void(Sp(t)&&Ep[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?u=Xp:Sp(t)&&r&&r.scheme==t.scheme?u=Lp:Sp(t)?u=Bp:"/"==i[c+1]?(u=Ip,c++):(t.cannotBeABaseURL=!0,t.path.push(""),u=$p)}break;case Mp:if(!r||r.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,u=Kp;break}u="file"==r.scheme?Xp:jp;continue;case Lp:if("/"!=o||"/"!=i[c+1]){u=jp;continue}u=Fp,c++;break;case Ip:if("/"==o){u=zp;break}u=Wp;continue;case jp:if(t.scheme=r.scheme,o==Gf)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&Sp(t))u=Rp;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",u=Zp;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),u=Wp;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=Kp}break;case Rp:if(!Sp(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,u=Wp;continue}u=zp}else u=Fp;break;case Bp:if(u=Fp,"/"!=o||"/"!=h.charAt(c+1))continue;c++;break;case Fp:if("/"!=o&&"\\"!=o){u=zp;continue}break;case zp:if("@"==o){d&&(h="%40"+h),d=!0,a=xo(h);for(var v=0;v<a.length;v++){var g=a[v];if(":"!=g||p){var y=xp(g,_p);p?t.password+=y:t.username+=y}else p=!0}h=""}else if(o==Gf||"/"==o||"?"==o||"#"==o||"\\"==o&&Sp(t)){if(d&&""==h)return"Invalid authority";c-=xo(h).length+1,h="",u=Vp}else h+=o;break;case Vp:case qp:if(n&&"file"==t.scheme){u=Hp;continue}if(":"!=o||f){if(o==Gf||"/"==o||"?"==o||"#"==o||"\\"==o&&Sp(t)){if(Sp(t)&&""==h)return"Invalid host";if(n&&""==h&&(kp(t)||null!==t.port))return;if(s=pp(t,h))return s;if(h="",u=Gp,n)return;continue}"["==o?f=!0:"]"==o&&(f=!1),h+=o}else{if(""==h)return"Invalid host";if(s=pp(t,h))return s;if(h="",u=Up,n==qp)return}break;case Up:if(!op.test(o)){if(o==Gf||"/"==o||"?"==o||"#"==o||"\\"==o&&Sp(t)||n){if(""!=h){var m=parseInt(h,10);if(m>65535)return"Invalid port";t.port=Sp(t)&&m===Ep[t.scheme]?null:m,h=""}if(n)return;u=Gp;continue}return"Invalid port"}h+=o;break;case Xp:if(t.scheme="file","/"==o||"\\"==o)u=Yp;else{if(!r||"file"!=r.scheme){u=Wp;continue}if(o==Gf)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",u=Zp;else{if("#"!=o){Tp(i.slice(c).join(""))||(t.host=r.host,t.path=r.path.slice(),Pp(t)),u=Wp;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=Kp}}break;case Yp:if("/"==o||"\\"==o){u=Hp;break}r&&"file"==r.scheme&&!Tp(i.slice(c).join(""))&&(Op(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),u=Wp;continue;case Hp:if(o==Gf||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Op(h))u=Wp;else if(""==h){if(t.host="",n)return;u=Gp}else{if(s=pp(t,h))return s;if("localhost"==t.host&&(t.host=""),n)return;h="",u=Gp}continue}h+=o;break;case Gp:if(Sp(t)){if(u=Wp,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=Gf&&(u=Wp,"/"!=o))continue}else t.fragment="",u=Kp;else t.query="",u=Zp;break;case Wp:if(o==Gf||"/"==o||"\\"==o&&Sp(t)||!n&&("?"==o||"#"==o)){if(".."===(l=(l=h).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(Pp(t),"/"==o||"\\"==o&&Sp(t)||t.path.push("")):Np(h)?"/"==o||"\\"==o&&Sp(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Op(h)&&(t.host&&(t.host=""),h=h.charAt(0)+":"),t.path.push(h)),h="","file"==t.scheme&&(o==Gf||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",u=Zp):"#"==o&&(t.fragment="",u=Kp)}else h+=xp(o,wp);break;case $p:"?"==o?(t.query="",u=Zp):"#"==o?(t.fragment="",u=Kp):o!=Gf&&(t.path[0]+=xp(o,mp));break;case Zp:n||"#"!=o?o!=Gf&&("'"==o&&Sp(t)?t.query+="%27":t.query+="#"==o?"%23":xp(o,mp)):(t.fragment="",u=Kp);break;case Kp:o!=Gf&&(t.fragment+=xp(o,bp))}c++}},Jp=function(t){var e,n,r=Dn(this,Jp,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(t),s=Jf(r,{type:"URL"});if(void 0!==i)if(i instanceof Jp)e=tp(i);else if(n=Qp(e={},String(i)))throw TypeError(n);if(n=Qp(s,o,null,e))throw TypeError(n);var l=s.searchParams=new Kf,u=Qf(l);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(l)||null},a||(r.href=ev.call(r),r.origin=nv.call(r),r.protocol=rv.call(r),r.username=iv.call(r),r.password=ov.call(r),r.host=av.call(r),r.hostname=sv.call(r),r.port=lv.call(r),r.pathname=uv.call(r),r.search=cv.call(r),r.searchParams=hv.call(r),r.hash=dv.call(r))},tv=Jp.prototype,ev=function(){var t=tp(this),e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,l=t.fragment,u=e+":";return null!==i?(u+="//",kp(t)&&(u+=n+(r?":"+r:"")+"@"),u+=yp(i),null!==o&&(u+=":"+o)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},nv=function(){var t=tp(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Sp(t)?e+"://"+yp(t.host)+(null!==n?":"+n:""):"null"},rv=function(){return tp(this).scheme+":"},iv=function(){return tp(this).username},ov=function(){return tp(this).password},av=function(){var t=tp(this),e=t.host,n=t.port;return null===e?"":null===n?yp(e):yp(e)+":"+n},sv=function(){var t=tp(this).host;return null===t?"":yp(t)},lv=function(){var t=tp(this).port;return null===t?"":String(t)},uv=function(){var t=tp(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},cv=function(){var t=tp(this).query;return t?"?"+t:""},hv=function(){return tp(this).searchParams},dv=function(){var t=tp(this).fragment;return t?"#"+t:""},fv=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(a&&Rt(tv,{href:fv(ev,(function(t){var e=tp(this),n=String(t),r=Qp(e,n);if(r)throw TypeError(r);Qf(e.searchParams).updateSearchParams(e.query)})),origin:fv(nv),protocol:fv(rv,(function(t){var e=tp(this);Qp(e,String(t)+":",Ap)})),username:fv(iv,(function(t){var e=tp(this),n=xo(String(t));if(!Cp(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=xp(n[r],_p)}})),password:fv(ov,(function(t){var e=tp(this),n=xo(String(t));if(!Cp(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=xp(n[r],_p)}})),host:fv(av,(function(t){var e=tp(this);e.cannotBeABaseURL||Qp(e,String(t),Vp)})),hostname:fv(sv,(function(t){var e=tp(this);e.cannotBeABaseURL||Qp(e,String(t),qp)})),port:fv(lv,(function(t){var e=tp(this);Cp(e)||(""==(t=String(t))?e.port=null:Qp(e,t,Up))})),pathname:fv(uv,(function(t){var e=tp(this);e.cannotBeABaseURL||(e.path=[],Qp(e,t+"",Gp))})),search:fv(cv,(function(t){var e=tp(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Qp(e,t,Zp)),Qf(e.searchParams).updateSearchParams(e.query)})),searchParams:fv(hv),hash:fv(dv,(function(t){var e=tp(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Qp(e,t,Kp)):e.fragment=null}))}),et(tv,"toJSON",(function(){return ev.call(this)}),{enumerable:!0}),et(tv,"toString",(function(){return ev.call(this)}),{enumerable:!0}),Zf){var pv=Zf.createObjectURL,vv=Zf.revokeObjectURL;pv&&et(Jp,"createObjectURL",(function(t){return pv.apply(Zf,arguments)})),vv&&et(Jp,"revokeObjectURL",(function(t){return vv.apply(Zf,arguments)}))}re(Jp,"URL"),At({global:!0,forced:!gf,sham:!a},{URL:Jp}),At({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});n((function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(t,e,n){var r=c;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=u(t,e,n);if("normal"===l.type){if(r=n.done?f:h,l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=f,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var c="suspendedStart",h="suspendedYield",d="executing",f="completed",p={};function v(){}function g(){}function y(){}var m={};m[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(T([])));w&&w!==n&&r.call(w,o)&&(m=w);var _=y.prototype=v.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t){var e;this._invoke=function(n,i){function o(){return new Promise((function(e,o){!function e(n,i,o,a){var s=u(t[n],t,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(c).then((function(t){l.value=t,o(l)}),(function(t){return e("throw",t,o,a)}))}a(s.arg)}(n,i,e,o)}))}return e=e?e.then(o,o):o()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=u(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function T(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:e,done:!0}}return g.prototype=_.constructor=y,y.constructor=g,y[s]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},x(E.prototype),E.prototype[a]=function(){return this},t.AsyncIterator=E,t.async=function(e,n,r,i){var o=new E(l(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(_),_[s]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));
/**
	@license @nocompile
	Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
	This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	Code distributed by Google as part of the polymer project is also
	subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
	*/(function(){var e;function n(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function r(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:n(t)}}function i(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var o="undefined"!=typeof window&&window===this?this:void 0!==t&&null!=t?t:this,a="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function s(){s=function(){},o.Symbol||(o.Symbol=h)}function l(t,e){this.a=t,a(this,"description",{configurable:!0,writable:!0,value:e})}l.prototype.toString=function(){return this.a};var u,c,h=(u=0,function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new l("jscomp_symbol_"+(e||"")+"_"+u++,e)});function d(){s();var t=o.Symbol.iterator;t||(t=o.Symbol.iterator=o.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[t]&&a(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return function(t){return d(),(t={next:t})[o.Symbol.iterator]=function(){return this},t}(n(this))}}),d=function(){}}if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var f;t:{var p={};try{p.__proto__={Fa:!0},f=p.Fa;break t}catch(Yt){}f=!1}c=f?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var v=c;function g(){this.f=!1,this.b=null,this.U=void 0,this.a=1,this.F=0,this.c=null}function y(t){if(t.f)throw new TypeError("Generator is already running");t.f=!0}function m(t,e){t.c={Ia:e,Ma:!0},t.a=t.F}function b(t,e){return t.a=3,{value:e}}function w(t){this.a=new g,this.b=t}function _(t,e,n,r){try{var i=e.call(t.a.b,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.a.f=!1,i;var o=i.value}catch(e){return t.a.b=null,m(t.a,e),x(t)}return t.a.b=null,r.call(t.a,o),x(t)}function x(t){for(;t.a.a;)try{var e=t.b(t.a);if(e)return t.a.f=!1,{value:e.value,done:!1}}catch(e){t.a.U=void 0,m(t.a,e)}if(t.a.f=!1,t.a.c){if(e=t.a.c,t.a.c=null,e.Ma)throw e.Ia;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function E(t){this.next=function(e){return y(t.a),t.a.b?e=_(t,t.a.b.next,e,t.a.u):(t.a.u(e),e=x(t)),e},this.throw=function(e){return y(t.a),t.a.b?e=_(t,t.a.b.throw,e,t.a.u):(m(t.a,e),e=x(t)),e},this.return=function(e){return function(t,e){y(t.a);var n=t.a.b;return n?_(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),x(t))}(t,e)},d(),this[Symbol.iterator]=function(){return this}}function S(t,e){return e=new E(new w(e)),v&&v(e,t.prototype),e}g.prototype.u=function(t){this.U=t},g.prototype.return=function(t){this.c={return:t},this.a=this.F},Array.from||(Array.from=function(t){return[].slice.call(t)}),Object.assign||(Object.assign=function(t){for(var e,n=[].slice.call(arguments,1),r=0;r<n.length;r++)if(e=n[r])for(var i=t,o=e,a=Object.getOwnPropertyNames(o),s=0;s<a.length;s++)i[e=a[s]]=o[e];return t}),function(){if(!function(){var t=document.createEvent("Event");return t.initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented}()){var t=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(t.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var e=/Trident/.test(navigator.userAgent);if(!window.Event||e&&"function"!=typeof window.Event){var n=window.Event;if(window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,!!e.bubbles,!!e.cancelable),n},n){for(var r in n)window.Event[r]=n[r];window.Event.prototype=n.prototype}}if((!window.CustomEvent||e&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.MouseEvent||e&&"function"!=typeof window.MouseEvent){if(e=window.MouseEvent,window.MouseEvent=function(t,e){e=e||{};var n=document.createEvent("MouseEvent");return n.initMouseEvent(t,!!e.bubbles,!!e.cancelable,e.view||window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),n},e)for(var i in e)window.MouseEvent[i]=e[i];window.MouseEvent.prototype=e.prototype}}(),function(){function t(){}function e(t,e){if(!t.childNodes.length)return[];switch(t.nodeType){case Node.DOCUMENT_NODE:return v.call(t,e);case Node.DOCUMENT_FRAGMENT_NODE:return g.call(t,e);default:return p.call(t,e)}}var n="undefined"==typeof HTMLTemplateElement,r=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),i=!1;/Trident/.test(navigator.userAgent)&&function(){function t(t,e){if(t instanceof DocumentFragment)for(var r;r=t.firstChild;)n.call(this,r,e);else n.call(this,t,e);return t}i=!0;var e=Node.prototype.cloneNode;Node.prototype.cloneNode=function(t){return t=e.call(this,t),this instanceof DocumentFragment&&(t.__proto__=DocumentFragment.prototype),t},DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll,DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector,Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var n=Node.prototype.insertBefore;Node.prototype.insertBefore=t;var r=Node.prototype.appendChild;Node.prototype.appendChild=function(e){return e instanceof DocumentFragment?t.call(this,e,null):r.call(this,e),e};var o=Node.prototype.removeChild,a=Node.prototype.replaceChild;Node.prototype.replaceChild=function(e,n){return e instanceof DocumentFragment?(t.call(this,e,n),o.call(this,n)):a.call(this,e,n),n},Document.prototype.createDocumentFragment=function(){var t=this.createElement("df");return t.__proto__=DocumentFragment.prototype,t};var s=Document.prototype.importNode;Document.prototype.importNode=function(t,e){return e=s.call(this,t,e||!1),t instanceof DocumentFragment&&(e.__proto__=DocumentFragment.prototype),e}}();var o=Node.prototype.cloneNode,a=Document.prototype.createElement,s=Document.prototype.importNode,l=Node.prototype.removeChild,u=Node.prototype.appendChild,c=Node.prototype.replaceChild,h=DOMParser.prototype.parseFromString,d=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML")||{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}},f=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes")||{get:function(){return this.childNodes}},p=Element.prototype.querySelectorAll,v=Document.prototype.querySelectorAll,g=DocumentFragment.prototype.querySelectorAll,y=function(){if(!n){var t=document.createElement("template"),e=document.createElement("template");return e.content.appendChild(document.createElement("div")),t.content.appendChild(e),0===(t=t.cloneNode(!0)).content.childNodes.length||0===t.content.firstChild.content.childNodes.length||r}}();if(n){var m=document.implementation.createHTMLDocument("template"),b=!0,w=document.createElement("style");w.textContent="template{display:none;}";var _=document.head;_.insertBefore(w,_.firstElementChild),t.prototype=Object.create(HTMLElement.prototype);var x=!document.createElement("div").hasOwnProperty("innerHTML");t.S=function(e){if(!e.content&&e.namespaceURI===document.documentElement.namespaceURI){e.content=m.createDocumentFragment();for(var n;n=e.firstChild;)u.call(e.content,n);if(x)e.__proto__=t.prototype;else if(e.cloneNode=function(e){return t.b(this,e)},b)try{S(e),k(e)}catch(t){b=!1}t.a(e.content)}};var E={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},S=function(e){Object.defineProperty(e,"innerHTML",{get:function(){return A(this)},set:function(e){var n=E[(/<([a-z][^/\0>\x20\t\r\n\f]+)/i.exec(e)||["",""])[1].toLowerCase()];if(n)for(var r=0;r<n.length;r++)e="<"+n[r]+">"+e+"</"+n[r]+">";for(m.body.innerHTML=e,t.a(m);this.content.firstChild;)l.call(this.content,this.content.firstChild);if(e=m.body,n)for(r=0;r<n.length;r++)e=e.lastChild;for(;e.firstChild;)u.call(this.content,e.firstChild)},configurable:!0})},k=function(t){Object.defineProperty(t,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(t){if(!this.parentNode)throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");for(m.body.innerHTML=t,t=this.ownerDocument.createDocumentFragment();m.body.firstChild;)u.call(t,m.body.firstChild);c.call(this.parentNode,t,this)},configurable:!0})};S(t.prototype),k(t.prototype),t.a=function(n){for(var r,i=0,o=(n=e(n,"template")).length;i<o&&(r=n[i]);i++)t.S(r)},document.addEventListener("DOMContentLoaded",(function(){t.a(document)})),Document.prototype.createElement=function(){var e=a.apply(this,arguments);return"template"===e.localName&&t.S(e),e},DOMParser.prototype.parseFromString=function(){var e=h.apply(this,arguments);return t.a(e),e},Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return A(this)},set:function(e){d.set.call(this,e),t.a(this)},configurable:!0,enumerable:!0});var C=/[&\u00A0"]/g,O=/[&\u00A0<>]/g,T=function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}},P=(w=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e})("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),N=w("style script xmp iframe noembed noframes plaintext noscript".split(" ")),A=function(t,e){"template"===t.localName&&(t=t.content);for(var n,r="",i=e?e(t):f.get.call(t),o=0,a=i.length;o<a&&(n=i[o]);o++){t:{var s=n,l=t,u=e;switch(s.nodeType){case Node.ELEMENT_NODE:for(var c=s.localName,h="<"+c,d=s.attributes,p=0;l=d[p];p++)h+=" "+l.name+'="'+l.value.replace(C,T)+'"';h+=">",s=P[c]?h:h+A(s,u)+"</"+c+">";break t;case Node.TEXT_NODE:s=s.data,s=l&&N[l.localName]?s:s.replace(O,T);break t;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break t;default:throw window.console.error(s),Error("not implemented")}}r+=s}return r}}if(n||y){t.b=function(t,e){var n=o.call(t,!1);return this.S&&this.S(n),e&&(u.call(n.content,o.call(t.content,!0)),D(n.content,t.content)),n};var D=function(n,r){if(r.querySelectorAll&&0!==(r=e(r,"template")).length)for(var i,o,a=0,s=(n=e(n,"template")).length;a<s;a++)o=r[a],i=n[a],t&&t.S&&t.S(o),c.call(i.parentNode,M.call(o,!0),i)},M=Node.prototype.cloneNode=function(e){if(!i&&r&&this instanceof DocumentFragment){if(!e)return this.ownerDocument.createDocumentFragment();var n=L.call(this.ownerDocument,this,!0)}else n=this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?t.b(this,e):o.call(this,e);return e&&D(n,this),n},L=Document.prototype.importNode=function(n,r){if(r=r||!1,"template"===n.localName)return t.b(n,r);var i=s.call(this,n,r);if(r){D(i,n),n=e(i,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]');for(var o,l=0;l<n.length;l++){o=n[l],(r=a.call(document,"script")).textContent=o.textContent;for(var u,h=o.attributes,d=0;d<h.length;d++)u=h[d],r.setAttribute(u.name,u.value);c.call(o.parentNode,r,o)}}return i}}n&&(window.HTMLTemplateElement=t)}();var k=setTimeout;function C(){}function O(t){if(!(this instanceof O))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this.K=0,this.pa=!1,this.w=void 0,this.V=[],M(t,this)}function T(t,e){for(;3===t.K;)t=t.w;0===t.K?t.V.push(e):(t.pa=!0,L((function(){var n=1===t.K?e.Oa:e.Pa;if(null===n)(1===t.K?P:N)(e.na,t.w);else{try{var r=n(t.w)}catch(t){return void N(e.na,t)}P(e.na,r)}})))}function P(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof O)return t.K=3,t.w=e,void A(t);if("function"==typeof n)return void M(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t.K=1,t.w=e,A(t)}catch(e){N(t,e)}}function N(t,e){t.K=2,t.w=e,A(t)}function A(t){2===t.K&&0===t.V.length&&L((function(){t.pa||"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t.w)}));for(var e=0,n=t.V.length;e<n;e++)T(t,t.V[e]);t.V=null}function D(t,e,n){this.Oa="function"==typeof t?t:null,this.Pa="function"==typeof e?e:null,this.na=n}function M(t,e){var n=!1;try{t((function(t){n||(n=!0,P(e,t))}),(function(t){n||(n=!0,N(e,t))}))}catch(t){n||(n=!0,N(e,t))}}O.prototype.catch=function(t){return this.then(null,t)},O.prototype.then=function(t,e){var n=new this.constructor(C);return T(this,new D(t,e,n)),n},O.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))};var L="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){k(t,0)};if(!window.Promise){window.Promise=O,O.prototype.then=O.prototype.then,O.all=function(t){return new O((function(e,n){function r(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){r(t,e)}),n)}i[t]=a,0==--o&&e(i)}catch(t){n(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);for(var o=i.length,a=0;a<i.length;a++)r(a,i[a])}))},O.race=function(t){return new O((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},O.resolve=function(t){return t&&"object"==typeof t&&t.constructor===O?t:new O((function(e){e(t)}))},O.reject=function(t){return new O((function(e,n){n(t)}))};var I=document.createTextNode(""),j=[];new MutationObserver((function(){for(var t=j.length,e=0;e<t;e++)j[e]();j.splice(0,t)})).observe(I,{characterData:!0}),L=function(t){j.push(t),I.textContent=0<I.textContent.length?"":"a"}}!function(e,n){if(!(n in e)){var r=typeof t==typeof r?window:t,i=0,o=""+Math.random(),a="__symbol@@"+o,s=e.getOwnPropertyNames,l=e.getOwnPropertyDescriptor,u=e.create,c=e.keys,h=e.freeze||e,d=e.defineProperty,f=e.defineProperties,p=l(e,"getOwnPropertyNames"),v=e.prototype,g=v.hasOwnProperty,y=v.propertyIsEnumerable,m=v.toString,b=function(t,e,n){g.call(t,a)||d(t,a,{enumerable:!1,configurable:!1,writable:!1,value:{}}),t[a]["@@"+e]=n},w=function(t,e){var n=u(t);return s(e).forEach((function(t){S.call(e,t)&&N(n,t,e[t])})),n},_=function(){},x=function(t){return t!=a&&!g.call(O,t)},E=function(t){return t!=a&&g.call(O,t)},S=function(t){var e=""+t;return E(e)?g.call(this,e)&&this[a]["@@"+e]:y.call(this,t)},k=function(t){return d(v,t,{enumerable:!1,configurable:!0,get:_,set:function(e){D(this,t,{enumerable:!1,configurable:!0,writable:!0,value:e}),b(this,t,!0)}}),h(O[t]=d(e(t),"constructor",T))},C=function(t){if(this&&this!==r)throw new TypeError("Symbol is not a constructor");return k("__symbol:".concat(t||"",o,++i))},O=u(null),T={value:C},P=function(t){return O[t]},N=function(t,e,n){var r=""+e;if(E(r)){if(e=D,n.enumerable){var i=u(n);i.enumerable=!1}else i=n;e(t,r,i),b(t,r,!!n.enumerable)}else d(t,e,n);return t},A=function(t){return s(t).filter(E).map(P)};p.value=N,d(e,"defineProperty",p),p.value=A,d(e,n,p),p.value=function(t){return s(t).filter(x)},d(e,"getOwnPropertyNames",p),p.value=function(t,e){var n=A(e);return n.length?c(e).concat(n).forEach((function(n){S.call(e,n)&&N(t,n,e[n])})):f(t,e),t},d(e,"defineProperties",p),p.value=S,d(v,"propertyIsEnumerable",p),p.value=C,d(r,"Symbol",p),p.value=function(t){return(t="__symbol:".concat("__symbol:",t,o))in v?O[t]:k(t)},d(C,"for",p),p.value=function(t){if(x(t))throw new TypeError(t+" is not a symbol");return g.call(O,t)?t.slice(20,-o.length):void 0},d(C,"keyFor",p),p.value=function(t,e){var n=l(t,e);return n&&E(e)&&(n.enumerable=S.call(t,e)),n},d(e,"getOwnPropertyDescriptor",p),p.value=function(t,e){return 1===arguments.length?u(t):w(t,e)},d(e,"create",p),p.value=function(){var t=m.call(this);return"[object String]"===t&&E(this)?"[object Symbol]":t},d(v,"toString",p);try{var D=u(d({},"__symbol:",{get:function(){return d(this,"__symbol:",{value:!1})["__symbol:"]}}))["__symbol:"]||d}catch(t){D=function(t,e,n){var r=l(v,e);delete v[e],d(t,e,n),d(v,e,r)}}}}(Object,"getOwnPropertySymbols"),function(t){var e,n=t.defineProperty,r=t.prototype,i=r.toString;"iterator match replace search split hasInstance isConcatSpreadable unscopables species toPrimitive toStringTag".split(" ").forEach((function(o){if(!(o in Symbol))switch(n(Symbol,o,{value:Symbol(o)}),o){case"toStringTag":(e=t.getOwnPropertyDescriptor(r,"toString")).value=function(){var t=i.call(this),e=this[Symbol.toStringTag];return void 0===e?t:"[object "+e+"]"},n(r,"toString",e)}}))}(Object,Symbol),function(t,e,n){function r(){return this}e[t]||(e[t]=function(){var e=0,n=this,i={next:function(){var t=n.length<=e;return t?{done:t}:{done:t,value:n[e++]}}};return i[t]=r,i}),n[t]||(n[t]=function(){var e=String.fromCodePoint,n=this,i=0,o=n.length,a={next:function(){var t=o<=i,r=t?"":e(n.codePointAt(i));return i+=r.length,t?{done:t}:{done:t,value:r}}};return a[t]=r,a})}(Symbol.iterator,Array.prototype,String.prototype);var R=Object.prototype.toString;Object.prototype.toString=function(){return void 0===this?"[object Undefined]":null===this?"[object Null]":R.call(this)},Object.keys=function(t){return Object.getOwnPropertyNames(t).filter((function(e){return(e=Object.getOwnPropertyDescriptor(t,e))&&e.enumerable}))};var B=window.Symbol.iterator;String.prototype[B]&&String.prototype.codePointAt||(String.prototype[B]=function t(){var e,n=this;return S(t,(function(t){if(1==t.a&&(e=0),3!=t.a)return e<n.length?t=b(t,n[e]):(t.a=0,t=void 0),t;e++,t.a=2}))}),Set.prototype[B]||(Set.prototype[B]=function t(){var e,n,r=this;return S(t,(function(t){if(1==t.a&&(e=[],r.forEach((function(t){e.push(t)})),n=0),3!=t.a)return n<e.length?t=b(t,e[n]):(t.a=0,t=void 0),t;n++,t.a=2}))}),Map.prototype[B]||(Map.prototype[B]=function t(){var e,n,r=this;return S(t,(function(t){if(1==t.a&&(e=[],r.forEach((function(t,n){e.push([n,t])})),n=0),3!=t.a)return n<e.length?t=b(t,e[n]):(t.a=0,t=void 0),t;n++,t.a=2}))}),window.WebComponents=window.WebComponents||{flags:{}};var F=document.querySelector('script[src*="webcomponents-bundle"]'),z=/wc-(.+)/,V={};if(!V.noOpts){if(location.search.slice(1).split("&").forEach((function(t){var e;(t=t.split("="))[0]&&(e=t[0].match(z))&&(V[e[1]]=t[1]||!0)})),F)for(var q=0,U=void 0;U=F.attributes[q];q++)"src"!==U.name&&(V[U.name]=U.value||!0);if(V.log&&V.log.split){var X=V.log.split(",");V.log={},X.forEach((function(t){V.log[t]=!0}))}else V.log={}}window.WebComponents.flags=V;var Y=V.shadydom;if(Y){window.ShadyDOM=window.ShadyDOM||{},window.ShadyDOM.force=Y;var H=V.noPatch;window.ShadyDOM.noPatch="true"===H||H}var G=V.register||V.ce;function W(){}function $(t){return t.__shady||(t.__shady=new W),t.__shady}function Z(t){return t&&t.__shady}G&&window.customElements&&(window.customElements.forcePolyfill=G),W.prototype.toJSON=function(){return{}};var K=window.ShadyDOM||{};K.Ka=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var Q=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");function J(t){return(t=Z(t))&&void 0!==t.firstChild}function tt(t){return t instanceof ShadowRoot}function et(t){return(t=(t=Z(t))&&t.root)&&Pn(t)}K.D=!!(Q&&Q.configurable&&Q.get),K.ia=K.force||!K.Ka,K.G=K.noPatch||!1,K.ma=K.preferPerformance,K.la="on-demand"===K.G,K.ya=navigator.userAgent.match("Trident");var nt=Element.prototype,rt=nt.matches||nt.matchesSelector||nt.mozMatchesSelector||nt.msMatchesSelector||nt.oMatchesSelector||nt.webkitMatchesSelector,it=document.createTextNode(""),ot=0,at=[];function st(t){at.push(t),it.textContent=ot++}new MutationObserver((function(){for(;at.length;)try{at.shift()()}catch(t){throw it.textContent=ot++,t}})).observe(it,{characterData:!0});var lt=!!document.contains;function ut(t,e){for(;e;){if(e==t)return!0;e=e.__shady_parentNode}return!1}function ct(t){for(var e=t.length-1;0<=e;e--){var n=t[e],i=n.getAttribute("id")||n.getAttribute("name");i&&"length"!==i&&isNaN(i)&&(t[i]=n)}return t.item=function(e){return t[e]},t.namedItem=function(e){if("length"!==e&&isNaN(e)&&t[e])return t[e];for(var n=r(t),i=n.next();!i.done;i=n.next())if(((i=i.value).getAttribute("id")||i.getAttribute("name"))==e)return i;return null},t}function ht(t){var e=[];for(t=t.__shady_native_firstChild;t;t=t.__shady_native_nextSibling)e.push(t);return e}function dt(t){var e=[];for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling)e.push(t);return e}function ft(t,e,n){if(n.configurable=!0,n.value)t[e]=n.value;else try{Object.defineProperty(t,e,n)}catch(t){}}function pt(t,e,n,r){for(var i in n=void 0===n?"":n,e)r&&0<=r.indexOf(i)||ft(t,n+i,e[i])}function vt(t,e){for(var n in e)n in t&&ft(t,n,e[n])}function gt(t){var e={};return Object.getOwnPropertyNames(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e}var yt,mt=[];function bt(t){yt||(yt=!0,st(wt)),mt.push(t)}function wt(){yt=!1;for(var t=!!mt.length;mt.length;)mt.shift()();return t}function _t(){this.a=!1,this.addedNodes=[],this.removedNodes=[],this.ba=new Set}wt.list=mt,_t.prototype.flush=function(){if(this.a){this.a=!1;var t=this.takeRecords();t.length&&this.ba.forEach((function(e){e(t)}))}},_t.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var t=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],t}return[]};var xt=/[&\u00A0"]/g,Et=/[&\u00A0<>]/g;function St(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}}function kt(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var Ct=kt("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),Ot=kt("style script xmp iframe noembed noframes plaintext noscript".split(" "));function Tt(t,e){"template"===t.localName&&(t=t.content);for(var n="",r=e?e(t):t.childNodes,i=0,o=r.length,a=void 0;i<o&&(a=r[i]);i++){t:{var s=a,l=t,u=e;switch(s.nodeType){case Node.ELEMENT_NODE:for(var c,h="<"+(l=s.localName),d=s.attributes,f=0;c=d[f];f++)h+=" "+c.name+'="'+c.value.replace(xt,St)+'"';h+=">",s=Ct[l]?h:h+Tt(s,u)+"</"+l+">";break t;case Node.TEXT_NODE:s=s.data,s=l&&Ot[l.localName]?s:s.replace(Et,St);break t;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break t;default:throw window.console.error(s),Error("not implemented")}}n+=s}return n}var Pt=K.D,Nt={querySelector:function(t){return this.__shady_native_querySelector(t)},querySelectorAll:function(t){return this.__shady_native_querySelectorAll(t)}},At={};function Dt(t){At[t]=function(e){return e["__shady_native_"+t]}}function Mt(t,e){for(var n in pt(t,e,"__shady_native_"),e)Dt(n)}function Lt(t,e){e=void 0===e?[]:e;for(var n=0;n<e.length;n++){var r=e[n],i=Object.getOwnPropertyDescriptor(t,r);i&&(Object.defineProperty(t,"__shady_native_"+r,i),i.value?Nt[r]||(Nt[r]=i.value):Dt(r))}}var It=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),jt=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),Rt=document.implementation.createHTMLDocument("inert");function Bt(t){for(var e;e=t.__shady_native_firstChild;)t.__shady_native_removeChild(e)}var Ft=["firstElementChild","lastElementChild","children","childElementCount"],zt=["querySelector","querySelectorAll"];var Vt=gt({get childNodes(){return this.__shady_childNodes},get firstChild(){return this.__shady_firstChild},get lastChild(){return this.__shady_lastChild},get childElementCount(){return this.__shady_childElementCount},get children(){return this.__shady_children},get firstElementChild(){return this.__shady_firstElementChild},get lastElementChild(){return this.__shady_lastElementChild},get shadowRoot(){return this.__shady_shadowRoot}}),qt=gt({get textContent(){return this.__shady_textContent},set textContent(t){this.__shady_textContent=t},get innerHTML(){return this.__shady_innerHTML},set innerHTML(t){return this.__shady_innerHTML=t}}),Ut=gt({get parentElement(){return this.__shady_parentElement},get parentNode(){return this.__shady_parentNode},get nextSibling(){return this.__shady_nextSibling},get previousSibling(){return this.__shady_previousSibling},get nextElementSibling(){return this.__shady_nextElementSibling},get previousElementSibling(){return this.__shady_previousElementSibling},get className(){return this.__shady_className},set className(t){return this.__shady_className=t}});function Xt(t){for(var e in t){var n=t[e];n&&(n.enumerable=!1)}}Xt(Vt),Xt(qt),Xt(Ut);var Yt,Ht=K.D||!0===K.G,Gt=Ht?function(){}:function(t){var e=$(t);e.Aa||(e.Aa=!0,vt(t,Ut))},Wt=Ht?function(){}:function(t){var e=$(t);e.za||(e.za=!0,vt(t,Vt),window.customElements&&!K.G||vt(t,qt))},$t="__eventWrappers"+Date.now(),Zt=(Yt=Object.getOwnPropertyDescriptor(Event.prototype,"composed"))?function(t){return Yt.get.call(t)}:null,Kt=function(){function t(){}var e=!1,n={get capture(){return e=!0,!1}};return window.addEventListener("test",t,n),window.removeEventListener("test",t,n),e}();function Qt(t){if(t&&"object"==typeof t)var e=!!t.capture,n=!!t.once,r=!!t.passive,i=t.O;else e=!!t,r=n=!1;return{wa:i,capture:e,once:n,passive:r,ua:Kt?t:e}}var Jt={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},te={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0};function ee(t){return t instanceof Node?t.__shady_getRootNode():t}function ne(t,e){var n=[],r=t;for(t=ee(t);r;)n.push(r),r=r.__shady_assignedSlot?r.__shady_assignedSlot:r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r.host&&(e||r!==t)?r.host:r.__shady_parentNode;return n[n.length-1]===document&&n.push(window),n}function re(t,e){if(!tt)return t;t=ne(t,!0);for(var n,r,i=0,o=void 0,a=void 0;i<e.length;i++)if((r=ee(n=e[i]))!==o&&(a=t.indexOf(r),o=r),!tt(r)||-1<a)return n}function ie(t){function e(e,n){return(e=new t(e,n)).__composed=n&&!!n.composed,e}return e.__proto__=t,e.prototype=t.prototype,e}var oe={focus:!0,blur:!0};function ae(t){return t.__target!==t.target||t.__relatedTarget!==t.relatedTarget}function se(t,e,n){if(n=e.__handlers&&e.__handlers[t.type]&&e.__handlers[t.type][n])for(var r,i=0;(r=n[i])&&(!ae(t)||t.target!==t.relatedTarget)&&(r.call(e,t),!t.__immediatePropagationStopped);i++);}function le(t){var e,n=t.composedPath();Object.defineProperty(t,"currentTarget",{get:function(){return i},configurable:!0});for(var r=n.length-1;0<=r;r--){var i=n[r];if(se(t,i,"capture"),t.ea)return}for(Object.defineProperty(t,"eventPhase",{get:function(){return Event.AT_TARGET}}),r=0;r<n.length;r++){var o=Z(i=n[r]);if(o=o&&o.root,(0===r||o&&o===e)&&(se(t,i,"bubble"),i!==window&&(e=i.__shady_getRootNode()),t.ea))break}}function ue(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=t[a],l=s.type,u=s.capture,c=s.once,h=s.passive;if(e===s.node&&n===l&&r===u&&i===c&&o===h)return a}return-1}function ce(t){return wt(),this.__shady_native_dispatchEvent(t)}function he(t,e,n){var r=Qt(n),i=r.capture,o=r.once,a=r.passive,s=r.wa;if(r=r.ua,e){var l=typeof e;if(("function"===l||"object"===l)&&("object"!==l||e.handleEvent&&"function"==typeof e.handleEvent)){if(te[t])return this.__shady_native_addEventListener(t,e,r);var u=s||this;if(s=e[$t]){if(-1<ue(s,u,t,i,o,a))return}else e[$t]=[];s=function(r){if(o&&this.__shady_removeEventListener(t,e,n),r.__target||pe(r),u!==this){var i=Object.getOwnPropertyDescriptor(r,"currentTarget");Object.defineProperty(r,"currentTarget",{get:function(){return u},configurable:!0})}if(r.__previousCurrentTarget=r.currentTarget,(!tt(u)&&"slot"!==u.localName||-1!=r.composedPath().indexOf(u))&&(r.composed||-1<r.composedPath().indexOf(u)))if(ae(r)&&r.target===r.relatedTarget)r.eventPhase===Event.BUBBLING_PHASE&&r.stopImmediatePropagation();else if(r.eventPhase===Event.CAPTURING_PHASE||r.bubbles||r.target===u||u instanceof Window){var a="function"===l?e.call(u,r):e.handleEvent&&e.handleEvent(r);return u!==this&&(i?(Object.defineProperty(r,"currentTarget",i),i=null):delete r.currentTarget),a}},e[$t].push({node:u,type:t,capture:i,once:o,passive:a,$a:s}),oe[t]?(this.__handlers=this.__handlers||{},this.__handlers[t]=this.__handlers[t]||{capture:[],bubble:[]},this.__handlers[t][i?"capture":"bubble"].push(s)):this.__shady_native_addEventListener(t,s,r)}}}function de(t,e,n){if(e){var r=Qt(n);n=r.capture;var i=r.once,o=r.passive,a=r.wa;if(r=r.ua,te[t])return this.__shady_native_removeEventListener(t,e,r);var s=a||this;a=void 0;var l=null;try{l=e[$t]}catch(t){}l&&(-1<(i=ue(l,s,t,n,i,o))&&(a=l.splice(i,1)[0].$a,l.length||(e[$t]=void 0))),this.__shady_native_removeEventListener(t,a||e,r),a&&oe[t]&&this.__handlers&&this.__handlers[t]&&(-1<(e=(t=this.__handlers[t][n?"capture":"bubble"]).indexOf(a))&&t.splice(e,1))}}var fe=gt({get composed(){return void 0===this.__composed&&(Zt?this.__composed="focusin"===this.type||"focusout"===this.type||Zt(this):!1!==this.isTrusted&&(this.__composed=Jt[this.type])),this.__composed||!1},composedPath:function(){return this.__composedPath||(this.__composedPath=ne(this.__target,this.composed)),this.__composedPath},get target(){return re(this.currentTarget||this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=ne(this.__relatedTarget,!0)),re(this.currentTarget||this.__previousCurrentTarget,this.__relatedTargetComposedPath)):null},stopPropagation:function(){Event.prototype.stopPropagation.call(this),this.ea=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this),this.ea=this.__immediatePropagationStopped=!0}});function pe(t){if(t.__target=t.target,t.__relatedTarget=t.relatedTarget,K.D){var e=Object.getPrototypeOf(t);if(!e.hasOwnProperty("__shady_patchedProto")){var n=Object.create(e);n.__shady_sourceProto=e,pt(n,fe),e.__shady_patchedProto=n}t.__proto__=e.__shady_patchedProto}else pt(t,fe)}var ve=ie(Event),ge=ie(CustomEvent),ye=ie(MouseEvent);var me=Object.getOwnPropertyNames(Document.prototype).filter((function(t){return"on"===t.substring(0,2)}));function be(t,e){return{index:t,X:[],aa:e}}function we(t,e,n,r){var i=0,o=0,a=0,s=0,l=Math.min(e-i,r-o);if(0==i&&0==o)t:{for(a=0;a<l;a++)if(t[a]!==n[a])break t;a=l}if(e==t.length&&r==n.length){s=t.length;for(var u=n.length,c=0;c<l-a&&_e(t[--s],n[--u]);)c++;s=c}if(o+=a,r-=s,0==(e-=s)-(i+=a)&&0==r-o)return[];if(i==e){for(e=be(i,0);o<r;)e.X.push(n[o++]);return[e]}if(o==r)return[be(i,e-i)];for(r=r-(a=o)+1,s=e-(l=i)+1,e=Array(r),u=0;u<r;u++)e[u]=Array(s),e[u][0]=u;for(u=0;u<s;u++)e[0][u]=u;for(u=1;u<r;u++)for(c=1;c<s;c++)if(t[l+c-1]===n[a+u-1])e[u][c]=e[u-1][c-1];else{var h=e[u-1][c]+1,d=e[u][c-1]+1;e[u][c]=h<d?h:d}for(l=e.length-1,a=e[0].length-1,r=e[l][a],t=[];0<l||0<a;)0==l?(t.push(2),a--):0==a?(t.push(3),l--):(s=e[l-1][a-1],(h=(u=e[l-1][a])<(c=e[l][a-1])?u<s?u:s:c<s?c:s)==s?(s==r?t.push(0):(t.push(1),r=s),l--,a--):h==u?(t.push(3),l--,r=u):(t.push(2),a--,r=c));for(t.reverse(),e=void 0,l=[],a=0;a<t.length;a++)switch(t[a]){case 0:e&&(l.push(e),e=void 0),i++,o++;break;case 1:e||(e=be(i,0)),e.aa++,i++,e.X.push(n[o]),o++;break;case 2:e||(e=be(i,0)),e.aa++,i++;break;case 3:e||(e=be(i,0)),e.X.push(n[o]),o++}return e&&l.push(e),l}function _e(t,e){return t===e}var xe=gt({dispatchEvent:ce,addEventListener:he,removeEventListener:de}),Ee=null;function Se(){return Ee||(Ee=window.ShadyCSS&&window.ShadyCSS.ScopingShim),Ee||null}function ke(t,e,n){var r=Se();return!(!r||"class"!==e)&&(r.setElementClass(t,n),!0)}function Ce(t,e){var n=Se();n&&n.unscopeNode(t,e)}function Oe(t){if(t.nodeType!==Node.ELEMENT_NODE)return"";var e=Se();return e?e.currentScopeForNode(t):""}function Te(t,e){if(t)for(t.nodeType===Node.ELEMENT_NODE&&e(t),t=t.__shady_firstChild;t;t=t.__shady_nextSibling)t.nodeType===Node.ELEMENT_NODE&&Te(t,e)}var Pe=window.document,Ne=K.ma,Ae=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),De=Ae&&Ae.get;function Me(t){for(var e;e=t.__shady_firstChild;)t.__shady_removeChild(e)}function Le(t,e,n){if(t=(t=Z(t))&&t.W){if(e)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var r=0,i=e.childNodes.length;r<i;r++)t.addedNodes.push(e.childNodes[r]);else t.addedNodes.push(e);n&&t.removedNodes.push(n),function(t){t.a||(t.a=!0,st((function(){t.flush()})))}(t)}}var Ie=gt({get parentNode(){var t=Z(this);return void 0!==(t=t&&t.parentNode)?t:this.__shady_native_parentNode},get firstChild(){var t=Z(this);return void 0!==(t=t&&t.firstChild)?t:this.__shady_native_firstChild},get lastChild(){var t=Z(this);return void 0!==(t=t&&t.lastChild)?t:this.__shady_native_lastChild},get nextSibling(){var t=Z(this);return void 0!==(t=t&&t.nextSibling)?t:this.__shady_native_nextSibling},get previousSibling(){var t=Z(this);return void 0!==(t=t&&t.previousSibling)?t:this.__shady_native_previousSibling},get childNodes(){if(J(this)){var t=Z(this);if(!t.childNodes){t.childNodes=[];for(var e=this.__shady_firstChild;e;e=e.__shady_nextSibling)t.childNodes.push(e)}var n=t.childNodes}else n=this.__shady_native_childNodes;return n.item=function(t){return n[t]},n},get parentElement(){var t=Z(this);return(t=t&&t.parentNode)&&t.nodeType!==Node.ELEMENT_NODE&&(t=null),void 0!==t?t:this.__shady_native_parentElement},get isConnected(){if(De&&De.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var t=this.ownerDocument;if(lt){if(t.__shady_native_contains(this))return!0}else if(t.documentElement&&t.documentElement.__shady_native_contains(this))return!0;for(t=this;t&&!(t instanceof Document);)t=t.__shady_parentNode||(tt(t)?t.host:void 0);return!!(t&&t instanceof Document)},get textContent(){if(J(this)){for(var t=[],e=this.__shady_firstChild;e;e=e.__shady_nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.__shady_textContent);return t.join("")}return this.__shady_native_textContent},set textContent(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!J(this)&&K.D){var e=this.__shady_firstChild;(e!=this.__shady_lastChild||e&&e.nodeType!=Node.TEXT_NODE)&&Me(this),this.__shady_native_textContent=t}else Me(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_insertBefore(document.createTextNode(t));break;default:this.nodeValue=t}},insertBefore:function(t,e){if(this.ownerDocument!==Pe&&t.ownerDocument!==Pe)return this.__shady_native_insertBefore(t,e),t;if(t===this)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(e){var n=Z(e);if(void 0!==(n=n&&n.parentNode)&&n!==this||void 0===n&&e.__shady_native_parentNode!==this)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.")}if(e===t)return t;Le(this,t);var o=[],a=(n=Mn(this))?n.host.localName:Oe(this),s=t.__shady_parentNode;if(s){var l=Oe(t),u=!!n||!Mn(t)||Ne&&void 0!==this.__noInsertionPoint;s.__shady_removeChild(t,u)}s=!0;var c=(!Ne||void 0===t.__noInsertionPoint&&void 0===this.__noInsertionPoint)&&!function t(e,n){var r=Se();if(!r)return!0;if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(r=!0,e=e.__shady_firstChild;e;e=e.__shady_nextSibling)r=r&&t(e,n);return r}return e.nodeType!==Node.ELEMENT_NODE||r.currentScopeForNode(e)===n}(t,a),h=n&&!t.__noInsertionPoint&&(!Ne||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE);return(h||c)&&(c&&(l=l||Oe(t)),Te(t,(function(t){if(h&&"slot"===t.localName&&o.push(t),c){var e=l;Se()&&(e&&Ce(t,e),(e=Se())&&e.scopeNode(t,a))}}))),o.length&&(kn(n),n.c.push.apply(n.c,o instanceof Array?o:i(r(o))),wn(n)),J(this)&&(function(t,e,n){un(e,2);var r=$(e);if(void 0!==r.firstChild&&(r.childNodes=null),t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(t=t.__shady_native_firstChild;t;t=t.__shady_native_nextSibling)cn(t,e,r,n);else cn(t,e,r,n)}(t,this,e),n=Z(this),et(this)?(wn(n.root),s=!1):n.root&&(s=!1)),s?(n=tt(this)?this.host:this,e?(e=function t(e){var n=e;return e&&"slot"===e.localName&&(n=(n=(n=Z(e))&&n.T)&&n.length?n[0]:t(e.__shady_nextSibling)),n}(e),n.__shady_native_insertBefore(t,e)):n.__shady_native_appendChild(t)):t.ownerDocument!==this.ownerDocument&&this.ownerDocument.adoptNode(t),t},appendChild:function(t){if(this!=t||!tt(t))return this.__shady_insertBefore(t)},removeChild:function(t,e){if(e=void 0!==e&&e,this.ownerDocument!==Pe)return this.__shady_native_removeChild(t);if(t.__shady_parentNode!==this)throw Error("The node to be removed is not a child of this node: "+t);Le(this,null,t);var n=Mn(t),r=n&&function(t,e){if(t.a){Cn(t);var n,r=t.b;for(n in r)for(var i=r[n],o=0;o<i.length;o++){var a=i[o];if(ut(e,a)){i.splice(o,1);var s=t.a.indexOf(a);if(0<=s&&(t.a.splice(s,1),(s=Z(a.__shady_parentNode))&&s.Z&&s.Z--),o--,a=Z(a),s=a.T)for(var l=0;l<s.length;l++){var u=s[l],c=u.__shady_native_parentNode;c&&c.__shady_native_removeChild(u)}a.T=[],a.assignedNodes=[],s=!0}}return s}}(n,t),i=Z(this);if(J(this)&&(function(t,e){var n=$(t);e=$(e),t===e.firstChild&&(e.firstChild=n.nextSibling),t===e.lastChild&&(e.lastChild=n.previousSibling),t=n.previousSibling;var r=n.nextSibling;t&&($(t).nextSibling=r),r&&($(r).previousSibling=t),n.parentNode=n.previousSibling=n.nextSibling=void 0,void 0!==e.childNodes&&(e.childNodes=null)}(t,this),et(this))){wn(i.root);var o=!0}if(Se()&&!e&&n&&t.nodeType!==Node.TEXT_NODE){var a=Oe(t);Te(t,(function(t){Ce(t,a)}))}return function t(e){var n=Z(e);if(n&&void 0!==n.da)for(n=e.__shady_firstChild;n;n=n.__shady_nextSibling)t(n);(e=Z(e))&&(e.da=void 0)}(t),n&&((e=this&&"slot"===this.localName)&&(o=!0),(r||e)&&wn(n)),o||(o=tt(this)?this.host:this,(!i.root&&"slot"!==t.localName||o===t.__shady_native_parentNode)&&o.__shady_native_removeChild(t)),t},replaceChild:function(t,e){return this.__shady_insertBefore(t,e),this.__shady_removeChild(e),t},cloneNode:function(t){if("template"==this.localName)return this.__shady_native_cloneNode(t);var e=this.__shady_native_cloneNode(!1);if(t&&e.nodeType!==Node.ATTRIBUTE_NODE){t=this.__shady_firstChild;for(var n;t;t=t.__shady_nextSibling)n=t.__shady_cloneNode(!0),e.__shady_appendChild(n)}return e},getRootNode:function(t){if(this&&this.nodeType){var e=$(this),n=e.da;return void 0===n&&(tt(this)?(n=this,e.da=n):(n=(n=this.__shady_parentNode)?n.__shady_getRootNode(t):this,document.documentElement.__shady_native_contains(this)&&(e.da=n))),n}},contains:function(t){return ut(this,t)}}),je=gt({get assignedSlot(){var t=this.__shady_parentNode;return(t=t&&t.__shady_shadowRoot)&&_n(t),(t=Z(this))&&t.assignedSlot||null}});function Re(t,e,n){var r=[];return function t(e,n,r,i){for(e=e.__shady_firstChild;e;e=e.__shady_nextSibling){var o;if(o=e.nodeType===Node.ELEMENT_NODE){var a=n,s=r,l=i,u=a(o=e);u&&l.push(o),s&&s(u)?o=u:(t(o,a,s,l),o=void 0)}if(o)break}}(t,e,n,r),r}var Be=gt({get firstElementChild(){var t=Z(this);if(t&&void 0!==t.firstChild){for(t=this.__shady_firstChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_firstElementChild},get lastElementChild(){var t=Z(this);if(t&&void 0!==t.lastChild){for(t=this.__shady_lastChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_lastElementChild},get children(){return J(this)?ct(Array.prototype.filter.call(dt(this),(function(t){return t.nodeType===Node.ELEMENT_NODE}))):this.__shady_native_children},get childElementCount(){var t=this.__shady_children;return t?t.length:0}}),Fe=gt({querySelector:function(t){return Re(this,(function(e){return rt.call(e,t)}),(function(t){return!!t}))[0]||null},querySelectorAll:function(t,e){if(e){e=Array.prototype.slice.call(this.__shady_native_querySelectorAll(t));var n=this.__shady_getRootNode();return ct(e.filter((function(t){return t.__shady_getRootNode()==n})))}return ct(Re(this,(function(e){return rt.call(e,t)})))}}),ze=K.ma&&!K.G?Object.assign({},Be):Be;Object.assign(Be,Fe);var Ve=window.document;function qe(t,e){if("slot"===e)et(t=t.__shady_parentNode)&&wn(Z(t).root);else if("slot"===t.localName&&"name"===e&&(e=Mn(t))){if(e.a){Cn(e);var n=t.Ba,r=On(t);if(r!==n){var i=(n=e.b[n]).indexOf(t);0<=i&&n.splice(i,1),(n=e.b[r]||(e.b[r]=[])).push(t),1<n.length&&(e.b[r]=Tn(n))}}wn(e)}}var Ue=gt({get previousElementSibling(){var t=Z(this);if(t&&void 0!==t.previousSibling){for(t=this.__shady_previousSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_previousElementSibling},get nextElementSibling(){var t=Z(this);if(t&&void 0!==t.nextSibling){for(t=this.__shady_nextSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_nextElementSibling},get slot(){return this.getAttribute("slot")},set slot(t){this.__shady_setAttribute("slot",t)},get className(){return this.getAttribute("class")||""},set className(t){this.__shady_setAttribute("class",t)},setAttribute:function(t,e){this.ownerDocument!==Ve?this.__shady_native_setAttribute(t,e):ke(this,t,e)||(this.__shady_native_setAttribute(t,e),qe(this,t))},removeAttribute:function(t){this.ownerDocument!==Ve?this.__shady_native_removeAttribute(t):ke(this,t,"")?""===this.getAttribute(t)&&this.__shady_native_removeAttribute(t):(this.__shady_native_removeAttribute(t),qe(this,t))}}),Xe=gt({attachShadow:function(t){if(!this)throw Error("Must provide a host.");if(!t)throw Error("Not enough arguments.");if(t.shadyUpgradeFragment&&!K.ya){var e=t.shadyUpgradeFragment;if(e.__proto__=ShadowRoot.prototype,bn(e,this,t),hn(e,e),t=e.__noInsertionPoint?null:e.querySelectorAll("slot"),e.__noInsertionPoint=void 0,t&&t.length){var n=e;kn(n),n.c.push.apply(n.c,t instanceof Array?t:i(r(t))),wn(e)}e.host.__shady_native_appendChild(e)}else e=new mn(vn,this,t);return this.__CE_shadowRoot=e},get shadowRoot(){var t=Z(this);return t&&t.Sa||null}});Object.assign(Ue,Xe);var Ye=document.implementation.createHTMLDocument("inert"),He=gt({get innerHTML(){return J(this)?Tt("template"===this.localName?this.content:this,dt):this.__shady_native_innerHTML},set innerHTML(t){if("template"===this.localName)this.__shady_native_innerHTML=t;else{Me(this);var e=this.localName||"div";for(e=this.namespaceURI&&this.namespaceURI!==Ye.namespaceURI?Ye.createElementNS(this.namespaceURI,e):Ye.createElement(e),K.D?e.__shady_native_innerHTML=t:e.innerHTML=t;t=e.__shady_firstChild;)this.__shady_insertBefore(t)}}}),Ge=gt({blur:function(){var t=Z(this);(t=(t=t&&t.root)&&t.activeElement)?t.__shady_blur():this.__shady_native_blur()}});K.ma||me.forEach((function(t){Ge[t]={set:function(e){var n=$(this),r=t.substring(2);n.N||(n.N={}),n.N[t]&&this.removeEventListener(r,n.N[t]),this.__shady_addEventListener(r,e),n.N[t]=e},get:function(){var e=Z(this);return e&&e.N&&e.N[t]},configurable:!0}}));var We=gt({assignedNodes:function(t){if("slot"===this.localName){var e=this.__shady_getRootNode();return e&&tt(e)&&_n(e),(e=Z(this))&&(t&&t.flatten?e.T:e.assignedNodes)||[]}},addEventListener:function(t,e,n){if("slot"!==this.localName||"slotchange"===t)he.call(this,t,e,n);else{"object"!=typeof n&&(n={capture:!!n});var r=this.__shady_parentNode;if(!r)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.O=this,r.__shady_addEventListener(t,e,n)}},removeEventListener:function(t,e,n){if("slot"!==this.localName||"slotchange"===t)de.call(this,t,e,n);else{"object"!=typeof n&&(n={capture:!!n});var r=this.__shady_parentNode;if(!r)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.O=this,r.__shady_removeEventListener(t,e,n)}}}),$e=gt({getElementById:function(t){return""===t?null:Re(this,(function(e){return e.id==t}),(function(t){return!!t}))[0]||null}}),Ze=gt({get activeElement(){var t=K.D?document.__shady_native_activeElement:document.activeElement;if(!t||!t.nodeType)return null;var e=!!tt(this);if(!(this===document||e&&this.host!==t&&this.host.__shady_native_contains(t)))return null;for(e=Mn(t);e&&e!==this;)e=Mn(t=e.host);return this===document?e?null:t:e===this?t:null}}),Ke=window.document,Qe=gt({importNode:function(t,e){if(t.ownerDocument!==Ke||"template"===t.localName)return this.__shady_native_importNode(t,e);var n=this.__shady_native_importNode(t,!1);if(e)for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling)e=this.__shady_importNode(t,!0),n.__shady_appendChild(e);return n}}),Je=gt({dispatchEvent:ce,addEventListener:he.bind(window),removeEventListener:de.bind(window)}),tn={};Object.getOwnPropertyDescriptor(HTMLElement.prototype,"parentElement")&&(tn.parentElement=Ie.parentElement),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"contains")&&(tn.contains=Ie.contains),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"children")&&(tn.children=Be.children),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML")&&(tn.innerHTML=He.innerHTML),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"className")&&(tn.className=Ue.className);var en={EventTarget:[xe],Node:[Ie,window.EventTarget?null:xe],Text:[je],Comment:[je],CDATASection:[je],ProcessingInstruction:[je],Element:[Ue,Be,je,!K.D||"innerHTML"in Element.prototype?He:null,window.HTMLSlotElement?null:We],HTMLElement:[Ge,tn],HTMLSlotElement:[We],DocumentFragment:[ze,$e],Document:[Qe,ze,$e,Ze],Window:[Je]},nn=K.D?null:["innerHTML","textContent"];function rn(t,e,n,r){e.forEach((function(e){return t&&e&&pt(t,e,n,r)}))}function on(t){var e,n=t?null:nn;for(e in en)rn(window[e]&&window[e].prototype,en[e],t,n)}function an(t){return t.__shady_protoIsPatched=!0,rn(t,en.EventTarget),rn(t,en.Node),rn(t,en.Element),rn(t,en.HTMLElement),rn(t,en.HTMLSlotElement),t}["Text","Comment","CDATASection","ProcessingInstruction"].forEach((function(t){var e=window[t],n=Object.create(e.prototype);n.__shady_protoIsPatched=!0,rn(n,en.EventTarget),rn(n,en.Node),en[t]&&rn(n,en[t]),e.prototype.__shady_patchedProto=n}));var sn=K.la,ln=K.D;function un(t,e){if(sn&&!t.__shady_protoIsPatched&&!tt(t)){var n=Object.getPrototypeOf(t),r=n.hasOwnProperty("__shady_patchedProto")&&n.__shady_patchedProto;r||(an(r=Object.create(n)),n.__shady_patchedProto=r),Object.setPrototypeOf(t,r)}ln||(1===e?Gt(t):2===e&&Wt(t))}function cn(t,e,n,r){un(t,1),r=r||null;var i=$(t),o=r?$(r):null;i.previousSibling=r?o.previousSibling:e.__shady_lastChild,(o=Z(i.previousSibling))&&(o.nextSibling=t),(o=Z(i.nextSibling=r))&&(o.previousSibling=t),i.parentNode=e,r?r===n.firstChild&&(n.firstChild=t):(n.lastChild=t,n.firstChild||(n.firstChild=t)),n.childNodes=null}function hn(t,e){var n=$(t);if(e||void 0===n.firstChild){n.childNodes=null;var r=n.firstChild=t.__shady_native_firstChild;for(n.lastChild=t.__shady_native_lastChild,un(t,2),n=r,r=void 0;n;n=n.__shady_native_nextSibling){var i=$(n);i.parentNode=e||t,i.nextSibling=n.__shady_native_nextSibling,i.previousSibling=r||null,r=n,un(n,1)}}}var dn=gt({addEventListener:function(t,e,n){"object"!=typeof n&&(n={capture:!!n}),n.O=n.O||this,this.host.__shady_addEventListener(t,e,n)},removeEventListener:function(t,e,n){"object"!=typeof n&&(n={capture:!!n}),n.O=n.O||this,this.host.__shady_removeEventListener(t,e,n)}});function fn(t,e){pt(t,dn,e),pt(t,Ze,e),pt(t,He,e),pt(t,Be,e),K.G&&!e?(pt(t,Ie,e),pt(t,$e,e)):K.D||(pt(t,Ut),pt(t,Vt),pt(t,qt))}var pn,vn={},gn=K.deferConnectionCallbacks&&"loading"===document.readyState;function yn(t){var e=[];do{e.unshift(t)}while(t=t.__shady_parentNode);return e}function mn(t,e,n){if(t!==vn)throw new TypeError("Illegal constructor");this.a=null,bn(this,e,n)}function bn(t,e,n){if(t.host=e,t.mode=n&&n.mode,hn(t.host),(e=$(t.host)).root=t,e.Sa="closed"!==t.mode?t:null,(e=$(t)).firstChild=e.lastChild=e.parentNode=e.nextSibling=e.previousSibling=null,K.preferPerformance)for(;e=t.host.__shady_native_firstChild;)t.host.__shady_native_removeChild(e);else wn(t)}function wn(t){t.R||(t.R=!0,bt((function(){return _n(t)})))}function _n(t){var e;if(e=t.R){for(var n;t;)t.R&&(n=t),tt(t=(e=t).host.__shady_getRootNode())&&(e=Z(e.host))&&0<e.Z||(t=void 0);e=n}(n=e)&&n._renderSelf()}function xn(t,e,n){var r=$(e),i=r.fa;r.fa=null,n||(n=(t=t.b[e.__shady_slot||"__catchall"])&&t[0]),n?($(n).assignedNodes.push(e),r.assignedSlot=n):r.assignedSlot=void 0,i!==r.assignedSlot&&r.assignedSlot&&($(r.assignedSlot).ha=!0)}function En(t,e,n){for(var r=0,i=void 0;r<n.length&&(i=n[r]);r++)if("slot"==i.localName){var o=Z(i).assignedNodes;o&&o.length&&En(t,e,o)}else e.push(n[r])}function Sn(t,e){e.__shady_native_dispatchEvent(new Event("slotchange")),(e=Z(e)).assignedSlot&&Sn(t,e.assignedSlot)}function kn(t){t.c=t.c||[],t.a=t.a||[],t.b=t.b||{}}function Cn(t){if(t.c&&t.c.length){for(var e,n=t.c,r=0;r<n.length;r++){var i=n[r];hn(i);var o=i.__shady_parentNode;hn(o),(o=Z(o)).Z=(o.Z||0)+1,o=On(i),t.b[o]?((e=e||{})[o]=!0,t.b[o].push(i)):t.b[o]=[i],t.a.push(i)}if(e)for(var a in e)t.b[a]=Tn(t.b[a]);t.c=[]}}function On(t){var e=t.name||t.getAttribute("name")||"__catchall";return t.Ba=e}function Tn(t){return t.sort((function(t,e){t=yn(t);for(var n=yn(e),r=0;r<t.length;r++){e=t[r];var i=n[r];if(e!==i)return(t=dt(e.__shady_parentNode)).indexOf(e)-t.indexOf(i)}}))}function Pn(t){return Cn(t),!(!t.a||!t.a.length)}if(mn.prototype._renderSelf=function(){var t=gn;if(gn=!0,this.R=!1,this.a){Cn(this);for(var e,n=0;n<this.a.length;n++){var r=Z(e=this.a[n]),i=r.assignedNodes;if(r.assignedNodes=[],r.T=[],r.ra=i)for(r=0;r<i.length;r++){var o=Z(i[r]);o.fa=o.assignedSlot,o.assignedSlot===e&&(o.assignedSlot=null)}}for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)xn(this,n);for(n=0;n<this.a.length;n++){if(!(i=Z(e=this.a[n])).assignedNodes.length)for(r=e.__shady_firstChild;r;r=r.__shady_nextSibling)xn(this,r,e);if((r=(r=Z(e.__shady_parentNode))&&r.root)&&(Pn(r)||r.R)&&r._renderSelf(),En(this,i.T,i.assignedNodes),r=i.ra){for(o=0;o<r.length;o++)Z(r[o]).fa=null;i.ra=null,r.length>i.assignedNodes.length&&(i.ha=!0)}i.ha&&(i.ha=!1,Sn(this,e))}for(e=this.a,n=[],i=0;i<e.length;i++)(o=Z(r=e[i].__shady_parentNode))&&o.root||!(0>n.indexOf(r))||n.push(r);for(e=0;e<n.length;e++){for(i=(o=n[e])===this?this.host:o,r=[],o=o.__shady_firstChild;o;o=o.__shady_nextSibling)if("slot"==o.localName)for(var a=Z(o).T,s=0;s<a.length;s++)r.push(a[s]);else r.push(o);o=ht(i),a=we(r,r.length,o,o.length);for(var l=s=0,u=void 0;s<a.length&&(u=a[s]);s++){for(var c=0,h=void 0;c<u.X.length&&(h=u.X[c]);c++)h.__shady_native_parentNode===i&&i.__shady_native_removeChild(h),o.splice(u.index+l,1);l-=u.aa}for(l=0,u=void 0;l<a.length&&(u=a[l]);l++)for(s=o[u.index],c=u.index;c<u.index+u.aa;c++)h=r[c],i.__shady_native_insertBefore(h,s),o.splice(c,0,h)}}if(!K.preferPerformance&&!this.qa)for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)e=Z(n),n.__shady_native_parentNode!==this.host||"slot"!==n.localName&&e.assignedSlot||this.host.__shady_native_removeChild(n);this.qa=!0,gn=t,pn&&pn()},function(t){t.__proto__=DocumentFragment.prototype,fn(t,"__shady_"),fn(t),Object.defineProperties(t,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}}),["localName","namespaceURI","prefix"].forEach((function(e){Object.defineProperty(t,e,{value:void 0,configurable:!0})})),["ownerDocument","baseURI","isConnected"].forEach((function(e){Object.defineProperty(t,e,{get:function(){return this.host[e]},configurable:!0})}))}(mn.prototype),window.customElements&&K.ia&&!K.preferPerformance){var Nn=new Map;pn=function(){var t=[];Nn.forEach((function(e,n){t.push([n,e])})),Nn.clear();for(var e=0;e<t.length;e++){var n=t[e][0];t[e][1]?n.__shadydom_connectedCallback():n.__shadydom_disconnectedCallback()}},gn&&document.addEventListener("readystatechange",(function(){gn=!1,pn()}),{once:!0});var An=window.customElements.define,Dn=function(t,e){var n=e.prototype.connectedCallback,r=e.prototype.disconnectedCallback;An.call(window.customElements,t,function(t,e,n){var r=0,i="__isConnected"+r++;return(e||n)&&(t.prototype.connectedCallback=t.prototype.__shadydom_connectedCallback=function(){gn?Nn.set(this,!0):this[i]||(this[i]=!0,e&&e.call(this))},t.prototype.disconnectedCallback=t.prototype.__shadydom_disconnectedCallback=function(){gn?this.isConnected||Nn.set(this,!1):this[i]&&(this[i]=!1,n&&n.call(this))}),t}(e,n,r)),e.prototype.connectedCallback=n,e.prototype.disconnectedCallback=r};window.customElements.define=Dn,Object.defineProperty(window.CustomElementRegistry.prototype,"define",{value:Dn,configurable:!0})}function Mn(t){if(tt(t=t.__shady_getRootNode()))return t}function Ln(t){this.node=t}(e=Ln.prototype).addEventListener=function(t,e,n){return this.node.__shady_addEventListener(t,e,n)},e.removeEventListener=function(t,e,n){return this.node.__shady_removeEventListener(t,e,n)},e.appendChild=function(t){return this.node.__shady_appendChild(t)},e.insertBefore=function(t,e){return this.node.__shady_insertBefore(t,e)},e.removeChild=function(t){return this.node.__shady_removeChild(t)},e.replaceChild=function(t,e){return this.node.__shady_replaceChild(t,e)},e.cloneNode=function(t){return this.node.__shady_cloneNode(t)},e.getRootNode=function(t){return this.node.__shady_getRootNode(t)},e.contains=function(t){return this.node.__shady_contains(t)},e.dispatchEvent=function(t){return this.node.__shady_dispatchEvent(t)},e.setAttribute=function(t,e){this.node.__shady_setAttribute(t,e)},e.getAttribute=function(t){return this.node.__shady_native_getAttribute(t)},e.hasAttribute=function(t){return this.node.__shady_native_hasAttribute(t)},e.removeAttribute=function(t){this.node.__shady_removeAttribute(t)},e.attachShadow=function(t){return this.node.__shady_attachShadow(t)},e.focus=function(){this.node.__shady_native_focus()},e.blur=function(){this.node.__shady_blur()},e.importNode=function(t,e){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_importNode(t,e)},e.getElementById=function(t){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_getElementById(t)},e.querySelector=function(t){return this.node.__shady_querySelector(t)},e.querySelectorAll=function(t,e){return this.node.__shady_querySelectorAll(t,e)},e.assignedNodes=function(t){if("slot"===this.node.localName)return this.node.__shady_assignedNodes(t)},o.Object.defineProperties(Ln.prototype,{activeElement:{configurable:!0,enumerable:!0,get:function(){if(tt(this.node)||this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_activeElement}},_activeElement:{configurable:!0,enumerable:!0,get:function(){return this.activeElement}},host:{configurable:!0,enumerable:!0,get:function(){if(tt(this.node))return this.node.host}},parentNode:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentNode}},firstChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstChild}},lastChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastChild}},nextSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextSibling}},previousSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousSibling}},childNodes:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childNodes}},parentElement:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentElement}},firstElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstElementChild}},lastElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastElementChild}},nextElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextElementSibling}},previousElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousElementSibling}},children:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_children}},childElementCount:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childElementCount}},shadowRoot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_shadowRoot}},assignedSlot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_assignedSlot}},isConnected:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_isConnected}},innerHTML:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_innerHTML},set:function(t){this.node.__shady_innerHTML=t}},textContent:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_textContent},set:function(t){this.node.__shady_textContent=t}},slot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_slot},set:function(t){this.node.__shady_slot=t}},className:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_className},set:function(t){return this.node.__shady_className=t}}}),me.forEach((function(t){Object.defineProperty(Ln.prototype,t,{get:function(){return this.node["__shady_"+t]},set:function(e){this.node["__shady_"+t]=e},configurable:!0})}));var In=new WeakMap;function jn(t){if(tt(t)||t instanceof Ln)return t;var e=In.get(t);return e||(e=new Ln(t),In.set(t,e)),e}if(K.ia){var Rn=K.D?function(t){return t}:function(t){return Wt(t),Gt(t),t},Bn={inUse:K.ia,patch:Rn,isShadyRoot:tt,enqueue:bt,flush:wt,flushInitial:function(t){!t.qa&&t.R&&_n(t)},settings:K,filterMutations:function(t,e){var n=e.getRootNode();return t.map((function(t){var e=n===t.target.getRootNode();if(e&&t.addedNodes){if((e=Array.from(t.addedNodes).filter((function(t){return n===t.getRootNode()}))).length)return t=Object.create(t),Object.defineProperty(t,"addedNodes",{value:e,configurable:!0}),t}else if(e)return t})).filter((function(t){return t}))},observeChildren:function(t,e){var n=$(t);n.W||(n.W=new _t),n.W.ba.add(e);var r=n.W;return{Ca:e,P:r,Da:t,takeRecords:function(){return r.takeRecords()}}},unobserveChildren:function(t){var e=t&&t.P;e&&(e.ba.delete(t.Ca),e.ba.size||($(t.Da).W=null))},deferConnectionCallbacks:K.deferConnectionCallbacks,preferPerformance:K.preferPerformance,handlesDynamicScoping:!0,wrap:K.G?jn:Rn,wrapIfNeeded:!0===K.G?jn:function(t){return t},Wrapper:Ln,composedPath:function(t){return t.__composedPath||(t.__composedPath=ne(t.target,!0)),t.__composedPath},noPatch:K.G,patchOnDemand:K.la,nativeMethods:Nt,nativeTree:At,patchElementProto:an};window.ShadyDOM=Bn,function(){var t=["dispatchEvent","addEventListener","removeEventListener"];window.EventTarget?Lt(window.EventTarget.prototype,t):(Lt(Node.prototype,t),Lt(Window.prototype,t)),Pt?Lt(Node.prototype,"parentNode firstChild lastChild previousSibling nextSibling childNodes parentElement textContent".split(" ")):Mt(Node.prototype,{parentNode:{get:function(){return It.currentNode=this,It.parentNode()}},firstChild:{get:function(){return It.currentNode=this,It.firstChild()}},lastChild:{get:function(){return It.currentNode=this,It.lastChild()}},previousSibling:{get:function(){return It.currentNode=this,It.previousSibling()}},nextSibling:{get:function(){return It.currentNode=this,It.nextSibling()}},childNodes:{get:function(){var t=[];It.currentNode=this;for(var e=It.firstChild();e;)t.push(e),e=It.nextSibling();return t}},parentElement:{get:function(){return jt.currentNode=this,jt.parentNode()}},textContent:{get:function(){switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:for(var t,e=document.createTreeWalker(this,NodeFilter.SHOW_TEXT,null,!1),n="";t=e.nextNode();)n+=t.nodeValue;return n;default:return this.nodeValue}},set:function(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:Bt(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_native_insertBefore(document.createTextNode(t),void 0);break;default:this.nodeValue=t}}}}),Lt(Node.prototype,"appendChild insertBefore removeChild replaceChild cloneNode contains".split(" ")),Lt(HTMLElement.prototype,["parentElement","contains"]),t={firstElementChild:{get:function(){return jt.currentNode=this,jt.firstChild()}},lastElementChild:{get:function(){return jt.currentNode=this,jt.lastChild()}},children:{get:function(){var t=[];jt.currentNode=this;for(var e=jt.firstChild();e;)t.push(e),e=jt.nextSibling();return ct(t)}},childElementCount:{get:function(){return this.children?this.children.length:0}}},Pt?(Lt(Element.prototype,Ft),Lt(Element.prototype,["previousElementSibling","nextElementSibling","innerHTML","className"]),Lt(HTMLElement.prototype,["children","innerHTML","className"])):(Mt(Element.prototype,t),Mt(Element.prototype,{previousElementSibling:{get:function(){return jt.currentNode=this,jt.previousSibling()}},nextElementSibling:{get:function(){return jt.currentNode=this,jt.nextSibling()}},innerHTML:{get:function(){return Tt(this,ht)},set:function(t){var e="template"===this.localName?this.content:this;Bt(e);var n=this.localName||"div";for((n=this.namespaceURI&&this.namespaceURI!==Rt.namespaceURI?Rt.createElementNS(this.namespaceURI,n):Rt.createElement(n)).innerHTML=t,t="template"===this.localName?n.content:n;n=t.__shady_native_firstChild;)e.__shady_native_insertBefore(n,void 0)}},className:{get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)}}})),Lt(Element.prototype,"setAttribute getAttribute hasAttribute removeAttribute focus blur".split(" ")),Lt(Element.prototype,zt),Lt(HTMLElement.prototype,["focus","blur"]),window.HTMLTemplateElement&&Lt(window.HTMLTemplateElement.prototype,["innerHTML"]),Pt?Lt(DocumentFragment.prototype,Ft):Mt(DocumentFragment.prototype,t),Lt(DocumentFragment.prototype,zt),Pt?(Lt(Document.prototype,Ft),Lt(Document.prototype,["activeElement"])):Mt(Document.prototype,t),Lt(Document.prototype,["importNode","getElementById"]),Lt(Document.prototype,zt)}(),on("__shady_"),Object.defineProperty(document,"_activeElement",Ze.activeElement),pt(Window.prototype,Je,"__shady_"),K.G?K.la&&pt(Element.prototype,Xe):(on(),function(){if(!Zt&&Object.getOwnPropertyDescriptor(Event.prototype,"isTrusted")){var t=function(){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.__shady_dispatchEvent(t)};Element.prototype.click?Element.prototype.click=t:HTMLElement.prototype.click&&(HTMLElement.prototype.click=t)}}()),function(){for(var t in oe)window.__shady_native_addEventListener(t,(function(t){t.__target||(pe(t),le(t))}),!0)}(),window.Event=ve,window.CustomEvent=ge,window.MouseEvent=ye,window.ShadowRoot=mn}var Fn=window.Document.prototype.createElement,zn=window.Document.prototype.createElementNS,Vn=window.Document.prototype.importNode,qn=window.Document.prototype.prepend,Un=window.Document.prototype.append,Xn=window.DocumentFragment.prototype.prepend,Yn=window.DocumentFragment.prototype.append,Hn=window.Node.prototype.cloneNode,Gn=window.Node.prototype.appendChild,Wn=window.Node.prototype.insertBefore,$n=window.Node.prototype.removeChild,Zn=window.Node.prototype.replaceChild,Kn=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),Qn=window.Element.prototype.attachShadow,Jn=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),tr=window.Element.prototype.getAttribute,er=window.Element.prototype.setAttribute,nr=window.Element.prototype.removeAttribute,rr=window.Element.prototype.getAttributeNS,ir=window.Element.prototype.setAttributeNS,or=window.Element.prototype.removeAttributeNS,ar=window.Element.prototype.insertAdjacentElement,sr=window.Element.prototype.insertAdjacentHTML,lr=window.Element.prototype.prepend,ur=window.Element.prototype.append,cr=window.Element.prototype.before,hr=window.Element.prototype.after,dr=window.Element.prototype.replaceWith,fr=window.Element.prototype.remove,pr=window.HTMLElement,vr=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),gr=window.HTMLElement.prototype.insertAdjacentElement,yr=window.HTMLElement.prototype.insertAdjacentHTML,mr=new Set;function br(t){var e=mr.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!e&&t}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(t){return mr.add(t)}));var wr=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function _r(t){var e=t.isConnected;if(void 0!==e)return e;if(wr(t))return!0;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function xr(t){var e=t.children;if(e)return Array.prototype.slice.call(e);for(e=[],t=t.firstChild;t;t=t.nextSibling)t.nodeType===Node.ELEMENT_NODE&&e.push(t);return e}function Er(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function Sr(t,e,n){t[e]=n}function kr(t){var e=document;this.b=t,this.a=e,this.P=void 0,Fr(this.b,this.a),"loading"===this.a.readyState&&(this.P=new MutationObserver(this.c.bind(this)),this.P.observe(this.a,{childList:!0,subtree:!0}))}function Cr(t){t.P&&t.P.disconnect()}function Or(){var t=this;this.a=this.w=void 0,this.b=new Promise((function(e){t.a=e,t.w&&e(t.w)}))}function Tr(t){this.f=new Map,this.u=new Map,this.ta=new Map,this.U=!1,this.b=t,this.ja=new Map,this.c=function(t){return t()},this.a=!1,this.F=[],this.va=t.f?new kr(t):void 0}function Pr(t,e){if(!br(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(Dr(t,e))throw Error("A custom element with name '"+e+"' has already been defined.");if(t.U)throw Error("A custom element is already being defined.")}function Nr(t,e,n){var r;t.U=!0;try{var i=function(t){var e=o[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},o=n.prototype;if(!(o instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var a=i("connectedCallback"),s=i("disconnectedCallback"),l=i("adoptedCallback"),u=(r=i("attributeChangedCallback"))&&n.observedAttributes||[]}catch(t){throw t}finally{t.U=!1}return n={localName:e,constructorFunction:n,connectedCallback:a,disconnectedCallback:s,adoptedCallback:l,attributeChangedCallback:r,observedAttributes:u,constructionStack:[]},t.u.set(e,n),t.ta.set(n.constructorFunction,n),n}function Ar(t){if(!1!==t.a){t.a=!1;for(var e=[],n=t.F,r=new Map,i=0;i<n.length;i++)r.set(n[i],[]);for(Fr(t.b,document,{upgrade:function(n){if(void 0===n.__CE_state){var i=n.localName,o=r.get(i);o?o.push(n):t.u.has(i)&&e.push(n)}}}),i=0;i<e.length;i++)zr(t.b,e[i]);for(i=0;i<n.length;i++){for(var o=n[i],a=r.get(o),s=0;s<a.length;s++)zr(t.b,a[s]);(o=t.ja.get(o))&&o.resolve(void 0)}n.length=0}}function Dr(t,e){var n=t.u.get(e);if(n)return n;if(n=t.f.get(e)){t.f.delete(e);try{return Nr(t,e,n())}catch(t){qr(t)}}}function Mr(){var t=Hr&&Hr.noDocumentConstructionObserver,e=Hr&&Hr.shadyDomFastWalk;this.b=[],this.c=[],this.a=!1,this.shadyDomFastWalk=e,this.f=!t}function Lr(t,e,n,r){var i=window.ShadyDOM;if(t.shadyDomFastWalk&&i&&i.inUse){if(e.nodeType===Node.ELEMENT_NODE&&n(e),e.querySelectorAll)for(t=i.nativeMethods.querySelectorAll.call(e,"*"),e=0;e<t.length;e++)n(t[e])}else!function t(e,n,r){for(var i=e;i;){if(i.nodeType===Node.ELEMENT_NODE){var o=i;n(o);var a=o.localName;if("link"===a&&"import"===o.getAttribute("rel")){if(i=o.import,void 0===r&&(r=new Set),i instanceof Node&&!r.has(i))for(r.add(i),i=i.firstChild;i;i=i.nextSibling)t(i,n,r);i=Er(e,o);continue}if("template"===a){i=Er(e,o);continue}if(o=o.__CE_shadowRoot)for(o=o.firstChild;o;o=o.nextSibling)t(o,n,r)}i=i.firstChild?i.firstChild:Er(e,i)}}(e,n,r)}function Ir(t,e){t.a&&Lr(t,e,(function(e){return jr(t,e)}))}function jr(t,e){if(t.a&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.b.length;n++)t.b[n](e);for(n=0;n<t.c.length;n++)t.c[n](e)}}function Rr(t,e){var n=[];for(Lr(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state?t.connectedCallback(r):zr(t,r)}}function Br(t,e){var n=[];for(Lr(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state&&t.disconnectedCallback(r)}}function Fr(t,e,n){var r=(n=void 0===n?{}:n).Za,i=n.upgrade||function(e){return zr(t,e)},o=[];for(Lr(t,e,(function(e){if(t.a&&jr(t,e),"link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:e.addEventListener("load",(function(){var n=e.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var o=new Set;r&&(r.forEach((function(t){return o.add(t)})),o.delete(n)),Fr(t,n,{Za:o,upgrade:i})}}))}else o.push(e)}),r),e=0;e<o.length;e++)i(o[e])}function zr(t,e){try{var n=e.ownerDocument,r=n.__CE_registry,i=r&&(n.defaultView||n.__CE_isImportDocument)?Dr(r,e.localName):void 0;if(i&&void 0===e.__CE_state){i.constructionStack.push(e);try{try{if(new i.constructorFunction!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{i.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=i,i.attributeChangedCallback&&e.hasAttributes()){var o=i.observedAttributes;for(i=0;i<o.length;i++){var a=o[i],s=e.getAttribute(a);null!==s&&t.attributeChangedCallback(e,a,null,s,null)}}_r(e)&&t.connectedCallback(e)}}catch(t){qr(t)}}function Vr(t,e,n,r){var i=e.__CE_registry;if(i&&(null===r||"http://www.w3.org/1999/xhtml"===r)&&(i=Dr(i,n)))try{var o=new i.constructorFunction;if(void 0===o.__CE_state||void 0===o.__CE_definition)throw Error("Failed to construct '"+n+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==o.namespaceURI)throw Error("Failed to construct '"+n+"': The constructed element's namespace must be the HTML namespace.");if(o.hasAttributes())throw Error("Failed to construct '"+n+"': The constructed element must not have any attributes.");if(null!==o.firstChild)throw Error("Failed to construct '"+n+"': The constructed element must not have any children.");if(null!==o.parentNode)throw Error("Failed to construct '"+n+"': The constructed element must not have a parent node.");if(o.ownerDocument!==e)throw Error("Failed to construct '"+n+"': The constructed element's owner document is incorrect.");if(o.localName!==n)throw Error("Failed to construct '"+n+"': The constructed element's local name is incorrect.");return o}catch(i){return qr(i),e=null===r?Fn.call(e,n):zn.call(e,r,n),Object.setPrototypeOf(e,HTMLUnknownElement.prototype),e.__CE_state=2,e.__CE_definition=void 0,jr(t,e),e}return jr(t,e=null===r?Fn.call(e,n):zn.call(e,r,n)),e}function qr(t){var e=t.message,n=t.sourceURL||t.fileName||"",r=t.line||t.lineNumber||0,i=t.column||t.columnNumber||0,o=void 0;void 0===ErrorEvent.prototype.initErrorEvent?o=new ErrorEvent("error",{cancelable:!0,message:e,filename:n,lineno:r,colno:i,error:t}):((o=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,e,n,r),o.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===o.error&&Object.defineProperty(o,"error",{configurable:!0,enumerable:!0,get:function(){return t}}),window.dispatchEvent(o),o.defaultPrevented||console.error(t)}kr.prototype.c=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||Cr(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,r=0;r<n.length;r++)Fr(this.b,n[r])},Or.prototype.resolve=function(t){if(this.w)throw Error("Already resolved.");this.w=t,this.a&&this.a(t)},(e=Tr.prototype).Qa=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");Pr(this,t),this.f.set(t,e),this.F.push(t),this.a||(this.a=!0,this.c((function(){return Ar(n)})))},e.define=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");Pr(this,t),Nr(this,t,e),this.F.push(t),this.a||(this.a=!0,this.c((function(){return Ar(n)})))},e.upgrade=function(t){Fr(this.b,t)},e.get=function(t){if(t=Dr(this,t))return t.constructorFunction},e.whenDefined=function(t){if(!br(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.ja.get(t);if(e)return e.b;e=new Or,this.ja.set(t,e);var n=this.u.has(t)||this.f.has(t);return t=-1===this.F.indexOf(t),n&&t&&e.resolve(void 0),e.b},e.polyfillWrapFlushCallback=function(t){this.va&&Cr(this.va);var e=this.c;this.c=function(n){return t((function(){return e(n)}))}},window.CustomElementRegistry=Tr,Tr.prototype.define=Tr.prototype.define,Tr.prototype.upgrade=Tr.prototype.upgrade,Tr.prototype.get=Tr.prototype.get,Tr.prototype.whenDefined=Tr.prototype.whenDefined,Tr.prototype.polyfillDefineLazy=Tr.prototype.Qa,Tr.prototype.polyfillWrapFlushCallback=Tr.prototype.polyfillWrapFlushCallback,Mr.prototype.connectedCallback=function(t){var e=t.__CE_definition;if(e.connectedCallback)try{e.connectedCallback.call(t)}catch(t){qr(t)}},Mr.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;if(e.disconnectedCallback)try{e.disconnectedCallback.call(t)}catch(t){qr(t)}},Mr.prototype.attributeChangedCallback=function(t,e,n,r,i){var o=t.__CE_definition;if(o.attributeChangedCallback&&-1<o.observedAttributes.indexOf(e))try{o.attributeChangedCallback.call(t,e,n,r,i)}catch(t){qr(t)}};var Ur=new function(){};function Xr(t,e,n){function r(e){return function(n){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];i=[];for(var o=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&_r(s)&&o.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(e.apply(this,r),r=0;r<o.length;r++)Br(t,o[r]);if(_r(this))for(r=0;r<i.length;r++)(o=i[r])instanceof Element&&Rr(t,o)}}void 0!==n.prepend&&Sr(e,"prepend",r(n.prepend)),void 0!==n.append&&Sr(e,"append",r(n.append))}function Yr(t){function e(e,n){Object.defineProperty(e,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){var r=this,i=void 0;if(_r(this)&&(i=[],Lr(t,this,(function(t){t!==r&&i.push(t)}))),n.set.call(this,e),i)for(var o=0;o<i.length;o++){var a=i[o];1===a.__CE_state&&t.disconnectedCallback(a)}return this.ownerDocument.__CE_registry?Fr(t,this):Ir(t,this),e}})}function n(e,n){Sr(e,"insertAdjacentElement",(function(e,r){var i=_r(r);return e=n.call(this,e,r),i&&Br(t,r),_r(e)&&Rr(t,r),e}))}function r(e,n){function r(e,n){for(var r=[];e!==n;e=e.nextSibling)r.push(e);for(n=0;n<r.length;n++)Fr(t,r[n])}Sr(e,"insertAdjacentHTML",(function(t,e){if("beforebegin"===(t=t.toLowerCase())){var i=this.previousSibling;n.call(this,t,e),r(i||this.parentNode.firstChild,this)}else if("afterbegin"===t)i=this.firstChild,n.call(this,t,e),r(this.firstChild,i);else if("beforeend"===t)i=this.lastChild,n.call(this,t,e),r(i||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");i=this.nextSibling,n.call(this,t,e),r(this.nextSibling,i)}}))}Qn&&Sr(Element.prototype,"attachShadow",(function(e){if(e=Qn.call(this,e),t.a&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.b.length;n++)t.b[n](e)}return this.__CE_shadowRoot=e})),Jn&&Jn.get?e(Element.prototype,Jn):vr&&vr.get?e(HTMLElement.prototype,vr):function(t,e){t.a=!0,t.c.push(e)}(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return Hn.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName,n=e?this.content:this,r=zn.call(document,this.namespaceURI,this.localName);for(r.innerHTML=t;0<n.childNodes.length;)$n.call(n,n.childNodes[0]);for(t=e?r.content:r;0<t.childNodes.length;)Gn.call(n,t.childNodes[0])}})})),Sr(Element.prototype,"setAttribute",(function(e,n){if(1!==this.__CE_state)return er.call(this,e,n);var r=tr.call(this,e);er.call(this,e,n),n=tr.call(this,e),t.attributeChangedCallback(this,e,r,n,null)})),Sr(Element.prototype,"setAttributeNS",(function(e,n,r){if(1!==this.__CE_state)return ir.call(this,e,n,r);var i=rr.call(this,e,n);ir.call(this,e,n,r),r=rr.call(this,e,n),t.attributeChangedCallback(this,n,i,r,e)})),Sr(Element.prototype,"removeAttribute",(function(e){if(1!==this.__CE_state)return nr.call(this,e);var n=tr.call(this,e);nr.call(this,e),null!==n&&t.attributeChangedCallback(this,e,n,null,null)})),Sr(Element.prototype,"removeAttributeNS",(function(e,n){if(1!==this.__CE_state)return or.call(this,e,n);var r=rr.call(this,e,n);or.call(this,e,n);var i=rr.call(this,e,n);r!==i&&t.attributeChangedCallback(this,n,r,i,e)})),gr?n(HTMLElement.prototype,gr):ar&&n(Element.prototype,ar),yr?r(HTMLElement.prototype,yr):sr&&r(Element.prototype,sr),Xr(t,Element.prototype,{prepend:lr,append:ur}),function(t){function e(e){return function(n){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];i=[];for(var o=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&_r(s)&&o.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(e.apply(this,r),r=0;r<o.length;r++)Br(t,o[r]);if(_r(this))for(r=0;r<i.length;r++)(o=i[r])instanceof Element&&Rr(t,o)}}var n=Element.prototype;void 0!==cr&&Sr(n,"before",e(cr)),void 0!==hr&&Sr(n,"after",e(hr)),void 0!==dr&&Sr(n,"replaceWith",(function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var i=[],o=0;o<n.length;o++){var a=n[o];if(a instanceof Element&&_r(a)&&i.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)r.push(a);else r.push(a)}for(o=_r(this),dr.apply(this,n),n=0;n<i.length;n++)Br(t,i[n]);if(o)for(Br(t,this),n=0;n<r.length;n++)(i=r[n])instanceof Element&&Rr(t,i)})),void 0!==fr&&Sr(n,"remove",(function(){var e=_r(this);fr.call(this),e&&Br(t,this)}))}(t)}var Hr=window.customElements;function Gr(){var t=new Mr;!function(t){window.HTMLElement=function(){function e(){var e=this.constructor,n=document.__CE_registry.ta.get(e);if(!n)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var r=n.constructionStack;if(0===r.length)return r=Fn.call(document,n.localName),Object.setPrototypeOf(r,e.prototype),r.__CE_state=1,r.__CE_definition=n,jr(t,r),r;var i=r.length-1,o=r[i];if(o===Ur)throw Error("Failed to construct '"+n.localName+"': This element was already constructed.");return r[i]=Ur,Object.setPrototypeOf(o,e.prototype),jr(t,o),o}return e.prototype=pr.prototype,Object.defineProperty(e.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:e}),e}()}(t),function(t){Sr(Document.prototype,"createElement",(function(e){return Vr(t,this,e,null)})),Sr(Document.prototype,"importNode",(function(e,n){return e=Vn.call(this,e,!!n),this.__CE_registry?Fr(t,e):Ir(t,e),e})),Sr(Document.prototype,"createElementNS",(function(e,n){return Vr(t,this,n,e)})),Xr(t,Document.prototype,{prepend:qn,append:Un})}(t),Xr(t,DocumentFragment.prototype,{prepend:Xn,append:Yn}),function(t){function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e);else{var r=void 0;if(this.firstChild){var i=this.childNodes,o=i.length;if(0<o&&_r(this)){r=Array(o);for(var a=0;a<o;a++)r[a]=i[a]}}if(n.set.call(this,e),r)for(e=0;e<r.length;e++)Br(t,r[e])}}})}Sr(Node.prototype,"insertBefore",(function(e,n){if(e instanceof DocumentFragment){var r=xr(e);if(e=Wn.call(this,e,n),_r(this))for(n=0;n<r.length;n++)Rr(t,r[n]);return e}return r=e instanceof Element&&_r(e),n=Wn.call(this,e,n),r&&Br(t,e),_r(this)&&Rr(t,e),n})),Sr(Node.prototype,"appendChild",(function(e){if(e instanceof DocumentFragment){var n=xr(e);if(e=Gn.call(this,e),_r(this))for(var r=0;r<n.length;r++)Rr(t,n[r]);return e}return n=e instanceof Element&&_r(e),r=Gn.call(this,e),n&&Br(t,e),_r(this)&&Rr(t,e),r})),Sr(Node.prototype,"cloneNode",(function(e){return e=Hn.call(this,!!e),this.ownerDocument.__CE_registry?Fr(t,e):Ir(t,e),e})),Sr(Node.prototype,"removeChild",(function(e){var n=e instanceof Element&&_r(e),r=$n.call(this,e);return n&&Br(t,e),r})),Sr(Node.prototype,"replaceChild",(function(e,n){if(e instanceof DocumentFragment){var r=xr(e);if(e=Zn.call(this,e,n),_r(this))for(Br(t,n),n=0;n<r.length;n++)Rr(t,r[n]);return e}r=e instanceof Element&&_r(e);var i=Zn.call(this,e,n),o=_r(this);return o&&Br(t,n),r&&Br(t,e),o&&Rr(t,e),i})),Kn&&Kn.get?e(Node.prototype,Kn):function(t,e){t.a=!0,t.b.push(e)}(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=this.firstChild;e;e=e.nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.textContent);return t.join("")},set:function(t){for(;this.firstChild;)$n.call(this,this.firstChild);null!=t&&""!==t&&Gn.call(this,document.createTextNode(t))}})}))}(t),Yr(t),t=new Tr(t),document.__CE_registry=t,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:t})}function Wr(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function $r(t){var e=t=t.replace(ni,"").replace(ri,""),n=new Wr;n.start=0,n.end=e.length;for(var r=n,i=0,o=e.length;i<o;i++)if("{"===e[i]){r.rules||(r.rules=[]);var a=r,s=a.rules[a.rules.length-1]||null;(r=new Wr).start=i+1,r.parent=a,r.previous=s,a.rules.push(r)}else"}"===e[i]&&(r.end=i+1,r=r.parent||n);return function t(e,n){var r=n.substring(e.start,e.end-1);if(e.parsedCssText=e.cssText=r.trim(),e.parent&&(r=(r=(r=function(t){return t.replace(/\\([0-9a-f]{1,6})\s/gi,(function(t,e){for(e=6-(t=e).length;e--;)t="0"+t;return"\\"+t}))}(r=n.substring(e.previous?e.previous.end:e.parent.start,e.start-1))).replace(ui," ")).substring(r.lastIndexOf(";")+1),r=e.parsedSelector=e.selector=r.trim(),e.atRule=0===r.indexOf("@"),e.atRule?0===r.indexOf("@media")?e.type=ti:r.match(li)&&(e.type=Jr,e.keyframesName=e.selector.split(ui).pop()):e.type=0===r.indexOf("--")?ei:Qr),r=e.rules)for(var i=0,o=r.length,a=void 0;i<o&&(a=r[i]);i++)t(a,n);return e}(n,t)}Hr&&!Hr.forcePolyfill&&"function"==typeof Hr.define&&"function"==typeof Hr.get||Gr(),window.__CE_installPolyfill=Gr;var Zr,Kr,Qr=1,Jr=7,ti=4,ei=1e3,ni=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,ri=/@import[^;]*;/gim,ii=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,oi=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,ai=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,si=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,li=/^@[^\s]*keyframes/,ui=/\s+/g,ci=!(window.ShadyDOM&&window.ShadyDOM.inUse);function hi(t){Zr=(!t||!t.shimcssproperties)&&(ci||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(Kr=window.ShadyCSS.cssBuild);var di=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?Zr=window.ShadyCSS.nativeCss:window.ShadyCSS?(hi(window.ShadyCSS),window.ShadyCSS=void 0):hi(window.WebComponents&&window.WebComponents.flags);var fi=Zr,pi=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,vi=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,gi=/(--[\w-]+)\s*([:,;)]|$)/gi,yi=/(animation\s*:)|(animation-name\s*:)/,mi=/@media\s(.*)/,bi=/\{[^}]*\}/g,wi=new Set;function _i(t,e){return t?("string"==typeof t&&(t=$r(t)),e&&Si(t,e),function t(e,n,r){r=void 0===r?"":r;var i="";if(e.cssText||e.rules){var o,a=e.rules;if((o=a)&&(o=!((o=a[0])&&o.selector&&0===o.selector.indexOf("--"))),o){o=0;for(var s=a.length,l=void 0;o<s&&(l=a[o]);o++)i=t(l,n,i)}else n?n=e.cssText:n=(n=(n=e.cssText).replace(ii,"").replace(oi,"")).replace(ai,"").replace(si,""),(i=n.trim())&&(i="  "+i+"\n")}return i&&(e.selector&&(r+=e.selector+" {\n"),r+=i,e.selector&&(r+="}\n\n")),r}(t,fi)):""}function xi(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=$r(t.textContent)),t.__cssRules||null}function Ei(t){return!!t.parent&&t.parent.type===Jr}function Si(t,e,n,r){if(t){var i=!1,o=t.type;if(r&&o===ti){var a=t.selector.match(mi);a&&(window.matchMedia(a[1]).matches||(i=!0))}if(o===Qr?e(t):n&&o===Jr?n(t):o===ei&&(i=!0),(t=t.rules)&&!i)for(i=0,o=t.length,a=void 0;i<o&&(a=t[i]);i++)Si(a,e,n,r)}}function ki(t,e,n,r){var i=document.createElement("style");return e&&i.setAttribute("scope",e),i.textContent=t,Ti(i,n,r),i}var Ci=null;function Oi(t){t=document.createComment(" Shady DOM styles for "+t+" ");var e=document.head;return e.insertBefore(t,(Ci?Ci.nextSibling:null)||e.firstChild),Ci=t}function Ti(t,e,n){(e=e||document.head).insertBefore(t,n&&n.nextSibling||e.firstChild),Ci?t.compareDocumentPosition(Ci)===Node.DOCUMENT_POSITION_PRECEDING&&(Ci=t):Ci=t}function Pi(t,e){for(var n=0,r=t.length;e<r;e++)if("("===t[e])n++;else if(")"===t[e]&&0==--n)return e;return-1}function Ni(t,e){ci?t.setAttribute("class",e):window.ShadyDOM.nativeMethods.setAttribute.call(t,"class",e)}var Ai=window.ShadyDOM&&window.ShadyDOM.wrap||function(t){return t};function Di(t){var e=t.localName,n="";return e?-1<e.indexOf("-")||(n=e,e=t.getAttribute&&t.getAttribute("is")||""):(e=t.is,n=t.extends),{is:e,Y:n}}function Mi(t){for(var e=[],n="",r=0;0<=r&&r<t.length;r++)if("("===t[r]){var i=Pi(t,r);n+=t.slice(r,i+1),r=i}else","===t[r]?(e.push(n),n=""):n+=t[r];return n&&e.push(n),e}function Li(t){if(void 0!==Kr)return Kr;if(void 0===t.__cssBuild){var e=t.getAttribute("css-build");if(e)t.__cssBuild=e;else{if(""!==(e=(e="template"===t.localName?t.content.firstChild:t.firstChild)instanceof Comment&&"css-build"===(e=e.textContent.trim().split(":"))[0]?e[1]:"")){var n="template"===t.localName?t.content.firstChild:t.firstChild;n.parentNode.removeChild(n)}t.__cssBuild=e}}return t.__cssBuild||""}function Ii(t){return!(""===(t=void 0===t?"":t)||!fi)&&(ci?"shadow"===t:"shady"===t)}function ji(){}function Ri(t,e,n){var r;if(e.nodeType===Node.ELEMENT_NODE&&n(e),r="template"===e.localName?(e.content||e._content||e).childNodes:e.children||e.childNodes)for(e=0;e<r.length;e++)Ri(t,r[e],n)}function Bi(t,e,n){if(e)if(t.classList)n?(t.classList.remove("style-scope"),t.classList.remove(e)):(t.classList.add("style-scope"),t.classList.add(e));else if(t.getAttribute){var r=t.getAttribute("class");n?r&&Ni(t,e=r.replace("style-scope","").replace(e,"")):Ni(t,(r?r+" ":"")+"style-scope "+e)}}function Fi(t,e,n){Ri(eo,t,(function(t){Bi(t,e,!0),Bi(t,n)}))}function zi(t,e){Ri(eo,t,(function(t){Bi(t,e||"",!0)}))}function Vi(t,e,n,r,i){var o=eo;return""===(i=void 0===i?"":i)&&(ci||"shady"===(void 0===r?"":r)?i=_i(e,n):i=function(t,e,n,r,i){var o=qi(n,r);return n=n?"."+n:"",_i(e,(function(e){e.c||(e.selector=e.B=Ui(t,e,t.b,n,o),e.c=!0),i&&i(e,n,o)}))}(o,e,(t=Di(t)).is,t.Y,n)+"\n\n"),i.trim()}function qi(t,e){return e?"[is="+t+"]":t}function Ui(t,e,n,r,i){var o=Mi(e.selector);if(!Ei(e)){e=0;for(var a=o.length,s=void 0;e<a&&(s=o[e]);e++)o[e]=n.call(t,s,r,i)}return o.filter((function(t){return!!t})).join(",")}function Xi(t){return t.replace(Gi,(function(t,e,n){return-1<n.indexOf("+")?n=n.replace(/\+/g,"___"):-1<n.indexOf("___")&&(n=n.replace(/___/g,"+")),":"+e+"("+n+")"}))}function Yi(t,e){t=t.split(/(\[.+?\])/);for(var n=[],r=0;r<t.length;r++)if(1==r%2)n.push(t[r]);else{var i=t[r];""===i&&r===t.length-1||((i=i.split(":"))[0]+=e,n.push(i.join(":")))}return n.join("")}function Hi(t){":root"===t.selector&&(t.selector="html")}ji.prototype.b=function(t,e,n){var r=!1;t=t.trim();var i=Gi.test(t);i&&(t=Xi(t=t.replace(Gi,(function(t,e,n){return":"+e+"("+n.replace(/\s/g,"")+")"}))));var o=to.test(t);if(o){var a=function(t){for(var e,n=[];e=t.match(to);){var r=e.index,i=Pi(t,r);if(-1===i)throw Error(e.input+" selector missing ')'");e=t.slice(r,i+1),t=t.replace(e,""),n.push(e)}return{oa:t,matches:n}}(t);t=a.oa,a=a.matches}return t=(t=t.replace(Zi,":host $1")).replace(Wi,(function(t,i,o){return r||(t=function(t,e,n,r){var i=t.indexOf("::slotted");if(0<=t.indexOf(":host")?t=function(t,e){var n=t.match(Ki);return(n=n&&n[2].trim()||"")?n[0].match($i)?t.replace(Ki,(function(t,n,r){return e+r})):n.split($i)[0]===e?n:"should_not_match":t.replace(":host",e)}(t,r):0!==i&&(t=n?Yi(t,n):t),n=!1,0<=i&&(e="",n=!0),n){var o=!0;n&&(t=t.replace(Qi,(function(t,e){return" > "+e})))}return{value:t,Ga:e,stop:o}}(o,i,e,n),r=r||t.stop,i=t.Ga,o=t.value),i+o})),o&&(t=function(t,e){var n=t.split("");return e.reduce((function(t,e,r){return t+e+n[r+1]}),n[0])}(t,a)),i&&(t=Xi(t)),t.replace(Ji,(function(t,e,n,r){return'[dir="'+n+'"] '+e+r+", "+e+'[dir="'+n+'"]'+r}))},ji.prototype.c=function(t){return t.match(":host")?"":t.match("::slotted")?this.b(t,":not(.style-scope)"):Yi(t.trim(),":not(.style-scope)")},o.Object.defineProperties(ji.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var Gi=/:(nth[-\w]+)\(([^)]+)\)/,Wi=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,$i=/[[.:#*]/,Zi=/^(::slotted)/,Ki=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,Qi=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,Ji=/(.*):dir\((?:(ltr|rtl))\)(.*)/,to=/:(?:matches|any|-(?:webkit|moz)-any)/,eo=new ji;function no(t,e,n,r,i){this.J=t||null,this.b=e||null,this.ka=n||[],this.H=null,this.cssBuild=i||"",this.Y=r||"",this.a=this.I=this.M=null}function ro(t){return t?t.__styleInfo:null}function io(t,e){return t.__styleInfo=e}function oo(t){var e=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return e&&e.call(this,t)}no.prototype.c=function(){return this.J},no.prototype._getStyleRules=no.prototype.c;var ao=/:host\s*>\s*/,so=navigator.userAgent.match("Trident");function lo(){}function uo(t){if(!t.A){var e={},n={};co(t,n)&&(e.L=n,t.rules=null),e.cssText=t.parsedCssText.replace(bi,"").replace(pi,""),t.A=e}}function co(t,e){var n=t.A;if(!n){n=t.parsedCssText;for(var r;t=pi.exec(n);)"inherit"===(r=(t[2]||t[3]).trim())&&"unset"===r||(e[t[1].trim()]=r),r=!0;return r}if(n.L)return Object.assign(e,n.L),!0}function ho(t,e,n){return e&&(e=0<=e.indexOf(";")?fo(t,e,n):function t(e,n){var r=e.indexOf("var(");if(-1===r)return n(e,"","","");var i=Pi(e,r+3),o=e.substring(r+4,i);return r=e.substring(0,r),e=t(e.substring(i+1),n),-1===(i=o.indexOf(","))?n(r,o.trim(),"",e):n(r,o.substring(0,i).trim(),o.substring(i+1).trim(),e)}(e,(function(e,r,i,o){return r?((r=ho(t,n[r],n))&&"initial"!==r?"apply-shim-inherit"===r&&(r="inherit"):r=ho(t,n[i]||i,n)||i,e+(r||"")+o):e+o}))),e&&e.trim()||""}function fo(t,e,n){e=e.split(";");for(var r,i,o=0;o<e.length;o++)if(r=e[o]){if(vi.lastIndex=0,i=vi.exec(r))r=ho(t,n[i[1]],n);else if(-1!==(i=r.indexOf(":"))){var a=r.substring(i);a=ho(t,a=a.trim(),n)||a,r=r.substring(0,i)+a}e[o]=r&&r.lastIndexOf(";")===r.length-1?r.slice(0,-1):r||""}return e.join(";")}function po(t,e,n){var r={},i={};return Si(e,(function(e){!function(t,e,n,r){if(e.A||uo(e),e.A.L){var i=Di(t);t=i.is,i=i.Y,i=t?qi(t,i):"html";var o=e.parsedSelector,a=!!o.match(ao)||"html"===i&&-1<o.indexOf("html"),s=0===o.indexOf(":host")&&!a;"shady"===n&&(s=!(a=o===i+" > *."+i||-1!==o.indexOf("html"))&&0===o.indexOf(i)),(a||s)&&(n=i,s&&(e.B||(e.B=Ui(eo,e,eo.b,t?"."+t:"",i)),n=e.B||i),a&&"html"===i&&(n=e.B||e.u),r({oa:n,Na:s,ab:a}))}}(t,e,n,(function(n){oo.call(t._element||t,n.oa)&&(n.Na?co(e,r):co(e,i))}))}),null,!0),{Ta:i,La:r}}function vo(t,e,n,r){var i=Di(e),o=qi(i.is,i.Y),a=new RegExp("(?:^|[^.#[:])"+(e.extends?"\\"+o.slice(0,-1)+"\\]":o)+"($|[.:[\\s>+~])"),s=ro(e);i=s.J,s=s.cssBuild;var l=function(t,e){t=t.b;var n={};if(!ci&&t)for(var r=0,i=t[r];r<t.length;i=t[++r]){var o=i,a=e;o.f=new RegExp("\\b"+o.keyframesName+"(?!\\B|-)","g"),o.a=o.keyframesName+"-"+a,o.B=o.B||o.selector,o.selector=o.B.replace(o.keyframesName,o.a),n[i.keyframesName]=go(i)}return n}(i,r);return Vi(e,i,(function(e){var i="";if(e.A||uo(e),e.A.cssText&&(i=fo(t,e.A.cssText,n)),e.cssText=i,!ci&&!Ei(e)&&e.cssText){var s=i=e.cssText;if(null==e.sa&&(e.sa=yi.test(i)),e.sa)if(null==e.ca)for(var u in e.ca=[],l)i!==(s=(s=l[u])(i))&&(i=s,e.ca.push(u));else{for(u=0;u<e.ca.length;++u)i=(s=l[e.ca[u]])(i);s=i}e.cssText=s,e.B=e.B||e.selector,i="."+r,s=0;for(var c=(u=Mi(e.B)).length,h=void 0;s<c&&(h=u[s]);s++)u[s]=h.match(a)?h.replace(o,i):i+" "+h;e.selector=u.join(",")}}),s)}function go(t){return function(e){return e.replace(t.f,t.a)}}function yo(t,e){var n=mo,r=xi(t);t.textContent=_i(r,(function(t){var r=t.cssText=t.parsedCssText;t.A&&t.A.cssText&&(r=r.replace(ii,"").replace(oi,""),t.cssText=fo(n,r,e))}))}o.Object.defineProperties(lo.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var mo=new lo,bo={},wo=window.customElements;if(wo&&!ci&&!di){var _o=wo.define;wo.define=function(t,e,n){bo[t]||(bo[t]=Oi(t)),_o.call(wo,t,e,n)}}function xo(){this.cache={}}function Eo(){}xo.prototype.store=function(t,e,n,r){var i=this.cache[t]||[];i.push({L:e,styleElement:n,I:r}),100<i.length&&i.shift(),this.cache[t]=i};var So=new RegExp(eo.a+"\\s*([^\\s]*)");function ko(t){return(t=(t.classList&&t.classList.value?t.classList.value:t.getAttribute("class")||"").match(So))?t[1]:""}function Co(t){var e=Ai(t).getRootNode();return e===t||e===t.ownerDocument?"":(t=e.host)?Di(t).is:""}function Oo(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.target!==document.documentElement&&n.target!==document.head)for(var r=0;r<n.addedNodes.length;r++){var i=n.addedNodes[r];if(i.nodeType===Node.ELEMENT_NODE){var o=i.getRootNode(),a=ko(i);if(a&&o===i.ownerDocument&&("style"!==i.localName&&"template"!==i.localName||""===Li(i)))zi(i,a);else if(o instanceof ShadowRoot)for((o=Co(i))!==a&&Fi(i,a,o),i=window.ShadyDOM.nativeMethods.querySelectorAll.call(i,":not(."+eo.a+")"),a=0;a<i.length;a++){var s=Co(o=i[a]);s&&Bi(o,s)}}}}}if(!(ci||window.ShadyDOM&&window.ShadyDOM.handlesDynamicScoping)){var To=new MutationObserver(Oo),Po=function(t){To.observe(t,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)Po(document);else{var No=function(){Po(document.body)};window.HTMLImports?window.HTMLImports.whenReady(No):requestAnimationFrame((function(){if("loading"===document.readyState){var t=function(){No(),document.removeEventListener("readystatechange",t)};document.addEventListener("readystatechange",t)}else No()}))}Eo=function(){Oo(To.takeRecords())}}var Ao={},Do=Promise.resolve();function Mo(t){(t=Ao[t])&&(t._applyShimCurrentVersion=t._applyShimCurrentVersion||0,t._applyShimValidatingVersion=t._applyShimValidatingVersion||0,t._applyShimNextVersion=(t._applyShimNextVersion||0)+1)}function Lo(t){return t._applyShimCurrentVersion===t._applyShimNextVersion}var Io={},jo=new xo;function Ro(){this.F={},this.c=document.documentElement;var t=new Wr;t.rules=[],this.f=io(this.c,new no(t)),this.u=!1,this.a=this.b=null}function Bo(t){var e=Di(t),n=e.is;e=e.Y;var r=bo[n]||null,i=Ao[n];if(i)return io(t,e=new no(n=i._styleAst,r,i.a,e,i=Li(i))),e}function Fo(t){if(!t.b&&window.ShadyCSS&&window.ShadyCSS.ApplyShim){t.b=window.ShadyCSS.ApplyShim,t.b.invalidCallback=Mo;var e=!0}else e=!1;return function(t){!t.a&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(t.a=window.ShadyCSS.CustomStyleInterface,t.a.transformCallback=function(e){t.xa(e)},t.a.validateCallback=function(){requestAnimationFrame((function(){(t.a.enqueued||t.u)&&t.flushCustomStyles()}))})}(t),e}function zo(t,e,n){var r=Di(e).is;if(n.H){var i,o=n.H;for(i in o)null===i?e.style.removeProperty(i):e.style.setProperty(i,o[i])}!(o=Ao[r])&&e!==t.c||o&&""!==Li(o)||!o||!o._style||Lo(o)||((Lo(o)||o._applyShimValidatingVersion!==o._applyShimNextVersion)&&(Fo(t),t.b&&t.b.transformRules(o._styleAst,r),o._style.textContent=Vi(e,n.J),function(t){t._applyShimValidatingVersion=t._applyShimNextVersion,t._validating||(t._validating=!0,Do.then((function(){t._applyShimCurrentVersion=t._applyShimNextVersion,t._validating=!1})))}(o)),ci&&(t=e.shadowRoot)&&(t=t.querySelector("style"))&&(t.textContent=Vi(e,n.J)),n.J=o._styleAst)}function Vo(t,e){return(e=Ai(e).getRootNode().host)?ro(e)||Bo(e)?e:Vo(t,e):t.c}function qo(t,e,n){var r=Vo(t,e),i=ro(r),o=i.M;for(var a in r===t.c||o||(qo(t,r,i),o=i.M),t=Object.create(o||null),r=po(e,n.J,n.cssBuild),e=function(t,e){var n={},r=[];return Si(t,(function(t){t.A||uo(t);var i=t.B||t.parsedSelector;e&&t.A.L&&i&&oo.call(e,i)&&(co(t,n),t=t.index,i=parseInt(t/32,10),r[i]=(r[i]||0)|1<<t%32)}),null,!0),{L:n,key:r}}(i.J,e).L,Object.assign(t,r.La,e,r.Ta),e=n.H)((i=e[a])||0===i)&&(t[a]=i);for(a=mo,e=Object.getOwnPropertyNames(t),i=0;i<e.length;i++)t[r=e[i]]=ho(a,t[r],t);n.M=t}(e=Ro.prototype).flush=function(){Eo()},e.Ja=function(t){return xi(t)},e.Xa=function(t){return _i(t)},e.prepareTemplate=function(t,e,n){this.prepareTemplateDom(t,e),this.prepareTemplateStyles(t,e,n)},e.prepareTemplateStyles=function(t,e,n){if(!t._prepared&&!di){ci||bo[e]||(bo[e]=Oi(e)),t._prepared=!0,t.name=e,t.extends=n,Ao[e]=t;var r=Li(t),i=Ii(r);n={is:e,extends:n};for(var o=[],a=t.content.querySelectorAll("style"),s=0;s<a.length;s++){var l=a[s];if(l.hasAttribute("shady-unscoped")){if(!ci){var u=l.textContent;wi.has(u)||(wi.add(u),u=l.cloneNode(!0),document.head.appendChild(u)),l.parentNode.removeChild(l)}}else o.push(l.textContent),l.parentNode.removeChild(l)}o=o.join("").trim()+(Io[e]||""),Fo(this),i||((a=!r)&&(a=vi.test(o)||pi.test(o),vi.lastIndex=0,pi.lastIndex=0),s=$r(o),a&&fi&&this.b&&this.b.transformRules(s,e),t._styleAst=s),a=[],fi||(a=function(t){var e={},n=[],r=0;for(var i in Si(t,(function(t){uo(t),t.index=r++,t=t.A.cssText;for(var n;n=gi.exec(t);){var i=n[1];":"!==n[2]&&(e[i]=!0)}}),(function(t){n.push(t)})),t.b=n,t=[],e)t.push(i);return t}(t._styleAst)),a.length&&!fi||(s=ci?t.content:null,e=bo[e]||null,r=(r=Vi(n,t._styleAst,null,r,i?o:"")).length?ki(r,n.is,s,e):null,t._style=r),t.a=a}},e.Ra=function(t,e){Io[e]=t.join(" ")},e.prepareTemplateDom=function(t,e){if(!di){var n=Li(t);ci||"shady"===n||t._domPrepared||(t._domPrepared=!0,function(t,e){Ri(eo,t,(function(t){Bi(t,e||"")}))}(t.content,e))}},e.flushCustomStyles=function(){if(!di){var t=Fo(this);if(this.a){var e=this.a.processStyles();if((t||this.a.enqueued)&&!Ii(this.f.cssBuild)){if(fi){if(!this.f.cssBuild)for(t=0;t<e.length;t++){var n=this.a.getStyleForCustomStyle(e[t]);if(n&&fi&&this.b){var r=xi(n);Fo(this),this.b.transformRules(r),n.textContent=_i(r)}}}else{for(function(t,e){(e=e.map((function(e){return t.a.getStyleForCustomStyle(e)})).filter((function(t){return!!t}))).sort((function(t,e){return(t=e.compareDocumentPosition(t))&Node.DOCUMENT_POSITION_FOLLOWING?1:t&Node.DOCUMENT_POSITION_PRECEDING?-1:0})),t.f.J.rules=e.map((function(t){return xi(t)}))}(this,e),qo(this,this.c,this.f),t=0;t<e.length;t++)(n=this.a.getStyleForCustomStyle(e[t]))&&yo(n,this.f.M);this.u&&this.styleDocument()}this.a.enqueued=!1}}}},e.styleElement=function(t,e){if(di){if(e){ro(t)||io(t,new no(null));var n=ro(t);n.H=n.H||{},Object.assign(n.H,e),zo(this,t,n)}}else if(n=ro(t)||Bo(t))if(t!==this.c&&(this.u=!0),e&&(n.H=n.H||{},Object.assign(n.H,e)),fi)zo(this,t,n);else if(this.flush(),qo(this,t,n),n.ka&&n.ka.length){var r;e=Di(t).is;t:{if(r=jo.cache[e])for(var i=r.length-1;0<=i;i--){var o=r[i];e:{for(var a=n.ka,s=0;s<a.length;s++){var l=a[s];if(o.L[l]!==n.M[l]){a=!1;break e}}a=!0}if(a){r=o;break t}}r=void 0}a=r?r.styleElement:null,i=n.I,(o=r&&r.I)||(o=e+"-"+(o=this.F[e]=(this.F[e]||0)+1)),n.I=o,o=n.I,s=mo,s=a?a.textContent||"":vo(s,t,n.M,o);var u=(l=ro(t)).a;u&&!ci&&u!==a&&(u._useCount--,0>=u._useCount&&u.parentNode&&u.parentNode.removeChild(u)),ci?l.a?(l.a.textContent=s,a=l.a):s&&(a=ki(s,o,t.shadowRoot,l.b)):a?a.parentNode||(so&&-1<s.indexOf("@media")&&(a.textContent=s),Ti(a,null,l.b)):s&&(a=ki(s,o,null,l.b)),a&&(a._useCount=a._useCount||0,l.a!=a&&a._useCount++,l.a=a),o=a,ci||(a=n.I,l=s=t.getAttribute("class")||"",i&&(l=s.replace(new RegExp("\\s*x-scope\\s*"+i+"\\s*","g")," ")),s!==(l+=(l?" ":"")+"x-scope "+a)&&Ni(t,l)),r||jo.store(e,n.M,o,n.I)}},e.styleDocument=function(t){this.styleSubtree(this.c,t)},e.styleSubtree=function(t,e){var n=Ai(t),r=n.shadowRoot,i=t===this.c;if((r||i)&&this.styleElement(t,e),t=i?n:r)for(t=Array.from(t.querySelectorAll("*")).filter((function(t){return Ai(t).shadowRoot})),e=0;e<t.length;e++)this.styleSubtree(t[e])},e.xa=function(t){var e=this,n=Li(t);if(n!==this.f.cssBuild&&(this.f.cssBuild=n),!Ii(n)){var r=xi(t);Si(r,(function(t){if(ci)Hi(t);else{var r=eo;t.selector=t.parsedSelector,Hi(t),t.selector=t.B=Ui(r,t,r.c,void 0,void 0)}fi&&""===n&&(Fo(e),e.b&&e.b.transformRule(t))})),fi?t.textContent=_i(r):this.f.J.rules.push(r)}},e.getComputedStyleValue=function(t,e){var n;return fi||(n=(ro(t)||ro(Vo(this,t))).M[e]),(n=n||window.getComputedStyle(t).getPropertyValue(e))?n.trim():""},e.Wa=function(t,e){var n,r=Ai(t).getRootNode();if(n=e?("string"==typeof e?e:String(e)).split(/\s/):[],!(e=r.host&&r.host.localName)&&(r=t.getAttribute("class"))){r=r.split(/\s/);for(var i=0;i<r.length;i++)if(r[i]===eo.a){e=r[i+1];break}}e&&n.push(eo.a,e),fi||(e=ro(t))&&e.I&&n.push(mo.a,e.I),Ni(t,n.join(" "))},e.Ea=function(t){return ro(t)},e.Va=function(t,e){Bi(t,e)},e.Ya=function(t,e){Bi(t,e,!0)},e.Ua=function(t){return Co(t)},e.Ha=function(t){return ko(t)},Ro.prototype.flush=Ro.prototype.flush,Ro.prototype.prepareTemplate=Ro.prototype.prepareTemplate,Ro.prototype.styleElement=Ro.prototype.styleElement,Ro.prototype.styleDocument=Ro.prototype.styleDocument,Ro.prototype.styleSubtree=Ro.prototype.styleSubtree,Ro.prototype.getComputedStyleValue=Ro.prototype.getComputedStyleValue,Ro.prototype.setElementClass=Ro.prototype.Wa,Ro.prototype._styleInfoForNode=Ro.prototype.Ea,Ro.prototype.transformCustomStyleForDocument=Ro.prototype.xa,Ro.prototype.getStyleAst=Ro.prototype.Ja,Ro.prototype.styleAstToString=Ro.prototype.Xa,Ro.prototype.flushCustomStyles=Ro.prototype.flushCustomStyles,Ro.prototype.scopeNode=Ro.prototype.Va,Ro.prototype.unscopeNode=Ro.prototype.Ya,Ro.prototype.scopeForNode=Ro.prototype.Ua,Ro.prototype.currentScopeForNode=Ro.prototype.Ha,Ro.prototype.prepareAdoptedCssText=Ro.prototype.Ra,Object.defineProperties(Ro.prototype,{nativeShadow:{get:function(){return ci}},nativeCss:{get:function(){return fi}}});var Uo,Xo,Yo=new Ro;window.ShadyCSS&&(Uo=window.ShadyCSS.ApplyShim,Xo=window.ShadyCSS.CustomStyleInterface),window.ShadyCSS={ScopingShim:Yo,prepareTemplate:function(t,e,n){Yo.flushCustomStyles(),Yo.prepareTemplate(t,e,n)},prepareTemplateDom:function(t,e){Yo.prepareTemplateDom(t,e)},prepareTemplateStyles:function(t,e,n){Yo.flushCustomStyles(),Yo.prepareTemplateStyles(t,e,n)},styleSubtree:function(t,e){Yo.flushCustomStyles(),Yo.styleSubtree(t,e)},styleElement:function(t){Yo.flushCustomStyles(),Yo.styleElement(t)},styleDocument:function(t){Yo.flushCustomStyles(),Yo.styleDocument(t)},flushCustomStyles:function(){Yo.flushCustomStyles()},getComputedStyleValue:function(t,e){return Yo.getComputedStyleValue(t,e)},nativeCss:fi,nativeShadow:ci,cssBuild:Kr,disableRuntime:di},Uo&&(window.ShadyCSS.ApplyShim=Uo),Xo&&(window.ShadyCSS.CustomStyleInterface=Xo),function(t){function e(t){return""==t&&(o.call(this),this.i=!0),t.toLowerCase()}function n(t){var e=t.charCodeAt(0);return 32<e&&127>e&&-1==[34,35,60,62,63,96].indexOf(e)?t:encodeURIComponent(t)}function r(t){var e=t.charCodeAt(0);return 32<e&&127>e&&-1==[34,35,60,62,96].indexOf(e)?t:encodeURIComponent(t)}function i(t,i,a){var s=i||"scheme start",l=0,f="",p=!1,v=!1;t:for(;(null!=t[l-1]||0==l)&&!this.i;){var g=t[l];switch(s){case"scheme start":if(!g||!h.test(g)){if(i)break t;f="",s="no scheme";continue}f+=g.toLowerCase(),s="scheme";break;case"scheme":if(g&&d.test(g))f+=g.toLowerCase();else{if(":"!=g){if(i)break t;f="",l=0,s="no scheme";continue}if(this.h=f,f="",i)break t;void 0!==u[this.h]&&(this.C=!0),s="file"==this.h?"relative":this.C&&a&&a.h==this.h?"relative or authority":this.C?"authority first slash":"scheme data"}break;case"scheme data":"?"==g?(this.o="?",s="query"):"#"==g?(this.v="#",s="fragment"):null!=g&&"\t"!=g&&"\n"!=g&&"\r"!=g&&(this.ga+=n(g));break;case"no scheme":if(a&&void 0!==u[a.h]){s="relative";continue}o.call(this),this.i=!0;break;case"relative or authority":if("/"!=g||"/"!=t[l+1]){s="relative";continue}s="authority ignore slashes";break;case"relative":if(this.C=!0,"file"!=this.h&&(this.h=a.h),null==g){this.j=a.j,this.m=a.m,this.l=a.l.slice(),this.o=a.o,this.s=a.s,this.g=a.g;break t}if("/"==g||"\\"==g)s="relative slash";else if("?"==g)this.j=a.j,this.m=a.m,this.l=a.l.slice(),this.o="?",this.s=a.s,this.g=a.g,s="query";else{if("#"!=g){s=t[l+1];var y=t[l+2];("file"!=this.h||!h.test(g)||":"!=s&&"|"!=s||null!=y&&"/"!=y&&"\\"!=y&&"?"!=y&&"#"!=y)&&(this.j=a.j,this.m=a.m,this.s=a.s,this.g=a.g,this.l=a.l.slice(),this.l.pop()),s="relative path";continue}this.j=a.j,this.m=a.m,this.l=a.l.slice(),this.o=a.o,this.v="#",this.s=a.s,this.g=a.g,s="fragment"}break;case"relative slash":if("/"!=g&&"\\"!=g){"file"!=this.h&&(this.j=a.j,this.m=a.m,this.s=a.s,this.g=a.g),s="relative path";continue}s="file"==this.h?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=g){s="authority ignore slashes";continue}s="authority second slash";break;case"authority second slash":if(s="authority ignore slashes","/"!=g)continue;break;case"authority ignore slashes":if("/"!=g&&"\\"!=g){s="authority";continue}break;case"authority":if("@"==g){for(p&&(f+="%40"),p=!0,g=0;g<f.length;g++)"\t"==(y=f[g])||"\n"==y||"\r"==y||(":"==y&&null===this.g?this.g="":(y=n(y),null!==this.g?this.g+=y:this.s+=y));f=""}else{if(null==g||"/"==g||"\\"==g||"?"==g||"#"==g){l-=f.length,f="",s="host";continue}f+=g}break;case"file host":if(null==g||"/"==g||"\\"==g||"?"==g||"#"==g){2!=f.length||!h.test(f[0])||":"!=f[1]&&"|"!=f[1]?(0!=f.length&&(this.j=e.call(this,f),f=""),s="relative path start"):s="relative path";continue}"\t"==g||"\n"==g||"\r"==g||(f+=g);break;case"host":case"hostname":if(":"!=g||v){if(null==g||"/"==g||"\\"==g||"?"==g||"#"==g){if(this.j=e.call(this,f),f="",s="relative path start",i)break t;continue}"\t"!=g&&"\n"!=g&&"\r"!=g&&("["==g?v=!0:"]"==g&&(v=!1),f+=g)}else if(this.j=e.call(this,f),f="",s="port","hostname"==i)break t;break;case"port":if(/[0-9]/.test(g))f+=g;else{if(null==g||"/"==g||"\\"==g||"?"==g||"#"==g||i){if(""!=f&&((f=parseInt(f,10))!=u[this.h]&&(this.m=f+""),f=""),i)break t;s="relative path start";continue}"\t"==g||"\n"==g||"\r"==g||(o.call(this),this.i=!0)}break;case"relative path start":if(s="relative path","/"!=g&&"\\"!=g)continue;break;case"relative path":null!=g&&"/"!=g&&"\\"!=g&&(i||"?"!=g&&"#"!=g)?"\t"!=g&&"\n"!=g&&"\r"!=g&&(f+=n(g)):((y=c[f.toLowerCase()])&&(f=y),".."==f?(this.l.pop(),"/"!=g&&"\\"!=g&&this.l.push("")):"."==f&&"/"!=g&&"\\"!=g?this.l.push(""):"."!=f&&("file"==this.h&&0==this.l.length&&2==f.length&&h.test(f[0])&&"|"==f[1]&&(f=f[0]+":"),this.l.push(f)),f="","?"==g?(this.o="?",s="query"):"#"==g&&(this.v="#",s="fragment"));break;case"query":i||"#"!=g?null!=g&&"\t"!=g&&"\n"!=g&&"\r"!=g&&(this.o+=r(g)):(this.v="#",s="fragment");break;case"fragment":null!=g&&"\t"!=g&&"\n"!=g&&"\r"!=g&&(this.v+=g)}l++}}function o(){this.s=this.ga=this.h="",this.g=null,this.m=this.j="",this.l=[],this.v=this.o="",this.C=this.i=!1}function a(t,e){void 0===e||e instanceof a||(e=new a(String(e))),this.a=t,o.call(this),i.call(this,this.a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,""),null,e)}var s=!1;try{var l=new URL("b","http://a");l.pathname="c%20d",s="http://a/c%20d"===l.href}catch(t){}if(!s){var u=Object.create(null);u.ftp=21,u.file=0,u.gopher=70,u.http=80,u.https=443,u.ws=80,u.wss=443;var c=Object.create(null);c["%2e"]=".",c[".%2e"]="..",c["%2e."]="..",c["%2e%2e"]="..";var h=/[a-zA-Z]/,d=/[a-zA-Z0-9\+\-\.]/;a.prototype={toString:function(){return this.href},get href(){if(this.i)return this.a;var t="";return""==this.s&&null==this.g||(t=this.s+(null!=this.g?":"+this.g:"")+"@"),this.protocol+(this.C?"//"+t+this.host:"")+this.pathname+this.o+this.v},set href(t){o.call(this),i.call(this,t)},get protocol(){return this.h+":"},set protocol(t){this.i||i.call(this,t+":","scheme start")},get host(){return this.i?"":this.m?this.j+":"+this.m:this.j},set host(t){!this.i&&this.C&&i.call(this,t,"host")},get hostname(){return this.j},set hostname(t){!this.i&&this.C&&i.call(this,t,"hostname")},get port(){return this.m},set port(t){!this.i&&this.C&&i.call(this,t,"port")},get pathname(){return this.i?"":this.C?"/"+this.l.join("/"):this.ga},set pathname(t){!this.i&&this.C&&(this.l=[],i.call(this,t,"relative path start"))},get search(){return this.i||!this.o||"?"==this.o?"":this.o},set search(t){!this.i&&this.C&&(this.o="?","?"==t[0]&&(t=t.slice(1)),i.call(this,t,"query"))},get hash(){return this.i||!this.v||"#"==this.v?"":this.v},set hash(t){this.i||(t?(this.v="#","#"==t[0]&&(t=t.slice(1)),i.call(this,t,"fragment")):this.v="")},get origin(){var t;if(this.i||!this.h)return"";switch(this.h){case"data":case"file":case"javascript":case"mailto":return"null"}return(t=this.host)?this.h+"://"+t:""}};var f=t.URL;f&&(a.createObjectURL=function(t){return f.createObjectURL.apply(f,arguments)},a.revokeObjectURL=function(t){f.revokeObjectURL(t)}),t.URL=a}}(window),Object.getOwnPropertyDescriptor(Node.prototype,"baseURI")||Object.defineProperty(Node.prototype,"baseURI",{get:function(){var t=(this.ownerDocument||this).querySelector("base[href]");return t&&t.href||window.location.href},configurable:!0,enumerable:!0});var Ho=document.createElement("style");Ho.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var Go=document.querySelector("head");Go.insertBefore(Ho,Go.firstChild);var Wo=window.customElements,$o=!1,Zo=null;function Ko(){window.HTMLTemplateElement.bootstrap&&window.HTMLTemplateElement.bootstrap(window.document),Zo&&Zo(),$o=!0,window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}Wo.polyfillWrapFlushCallback&&Wo.polyfillWrapFlushCallback((function(t){Zo=t,$o&&t()})),"complete"!==document.readyState?(window.addEventListener("load",Ko),window.addEventListener("DOMContentLoaded",(function(){window.removeEventListener("load",Ko),Ko()}))):Ko()}).call(t);var gv="Expected a function",yv=NaN,mv="[object Symbol]",bv=/^\s+|\s+$/g,wv=/^[-+]0x[0-9a-f]+$/i,_v=/^0b[01]+$/i,xv=/^0o[0-7]+$/i,Ev=parseInt,Sv="object"==typeof t&&t&&t.Object===Object&&t,kv="object"==typeof self&&self&&self.Object===Object&&self,Cv=Sv||kv||Function("return this")(),Ov=Object.prototype.toString,Tv=Math.max,Pv=Math.min,Nv=function(){return Cv.Date.now()};function Av(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Dv(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&Ov.call(t)==mv}(t))return yv;if(Av(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Av(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(bv,"");var n=_v.test(t);return n||xv.test(t)?Ev(t.slice(2),n?2:8):wv.test(t)?yv:+t}var Mv=function(t,e,n){var r,i,o,a,s,l,u=0,c=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError(gv);function f(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n)}function p(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-u>=o}function v(){var t=Nv();if(p(t))return g(t);s=setTimeout(v,function(t){var n=e-(t-l);return h?Pv(n,o-(t-u)):n}(t))}function g(t){return s=void 0,d&&r?f(t):(r=i=void 0,a)}function y(){var t=Nv(),n=p(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return function(t){return u=t,s=setTimeout(v,e),c?f(t):a}(l);if(h)return s=setTimeout(v,e),f(l)}return void 0===s&&(s=setTimeout(v,e)),a}return e=Dv(e)||0,Av(n)&&(c=!!n.leading,o=(h="maxWait"in n)?Tv(Dv(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?a:g(Nv())},y},Lv=n((function(e,n){(function(){var t,n,r,i,o,a,s,l,u,c,h,d,f,p,v;r=Math.floor,c=Math.min,n=function(t,e){return t<e?-1:t>e?1:0},u=function(t,e,i,o,a){var s;if(null==i&&(i=0),null==a&&(a=n),i<0)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);i<o;)a(e,t[s=r((i+o)/2)])<0?o=s:i=s+1;return[].splice.apply(t,[i,i-i].concat(e)),e},a=function(t,e,r){return null==r&&(r=n),t.push(e),p(t,0,t.length-1,r)},o=function(t,e){var r,i;return null==e&&(e=n),r=t.pop(),t.length?(i=t[0],t[0]=r,v(t,0,e)):i=r,i},l=function(t,e,r){var i;return null==r&&(r=n),i=t[0],t[0]=e,v(t,0,r),i},s=function(t,e,r){var i;return null==r&&(r=n),t.length&&r(t[0],e)<0&&(e=(i=[t[0],e])[0],t[0]=i[1],v(t,0,r)),e},i=function(t,e){var i,o,a,s,l,u;for(null==e&&(e=n),l=[],o=0,a=(s=function(){u=[];for(var e=0,n=r(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)u.push(e);return u}.apply(this).reverse()).length;o<a;o++)i=s[o],l.push(v(t,i,e));return l},f=function(t,e,r){var i;if(null==r&&(r=n),-1!==(i=t.indexOf(e)))return p(t,0,i,r),v(t,i,r)},h=function(t,e,r){var o,a,l,u,c;if(null==r&&(r=n),!(a=t.slice(0,e)).length)return a;for(i(a,r),l=0,u=(c=t.slice(e)).length;l<u;l++)o=c[l],s(a,o,r);return a.sort(r).reverse()},d=function(t,e,r){var a,s,l,h,d,f,p,v,g;if(null==r&&(r=n),10*e<=t.length){if(!(l=t.slice(0,e).sort(r)).length)return l;for(s=l[l.length-1],h=0,f=(p=t.slice(e)).length;h<f;h++)r(a=p[h],s)<0&&(u(l,a,0,null,r),l.pop(),s=l[l.length-1]);return l}for(i(t,r),g=[],d=0,v=c(e,t.length);0<=v?d<v:d>v;0<=v?++d:--d)g.push(o(t,r));return g},p=function(t,e,r,i){var o,a,s;for(null==i&&(i=n),o=t[r];r>e&&i(o,a=t[s=r-1>>1])<0;)t[r]=a,r=s;return t[r]=o},v=function(t,e,r){var i,o,a,s,l;for(null==r&&(r=n),o=t.length,l=e,a=t[e],i=2*e+1;i<o;)(s=i+1)<o&&!(r(t[i],t[s])<0)&&(i=s),t[e]=t[i],i=2*(e=i)+1;return t[e]=a,p(t,l,e,r)},t=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=a,t.pop=o,t.replace=l,t.pushpop=s,t.heapify=i,t.updateItem=f,t.nlargest=h,t.nsmallest=d,t.prototype.push=function(t){return a(this.nodes,t,this.cmp)},t.prototype.pop=function(){return o(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return l(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return s(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return i(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return f(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),e.exports=t}).call(t)})),Iv=e(n((function(t,e){var n;"undefined"!=typeof self&&self,n=function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=20)}([function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(3),o=i?i.navigator:null,a=i?i.document:null,s=r(""),l=r({}),u=r((function(){})),c="undefined"==typeof HTMLElement?"undefined":r(HTMLElement),h=function(t){return t&&t.instanceString&&d.fn(t.instanceString)?t.instanceString():null},d={defined:function(t){return null!=t},string:function(t){return null!=t&&(void 0===t?"undefined":r(t))==s},fn:function(t){return null!=t&&(void 0===t?"undefined":r(t))===u},array:function(t){return Array.isArray?Array.isArray(t):null!=t&&t instanceof Array},plainObject:function(t){return null!=t&&(void 0===t?"undefined":r(t))===l&&!d.array(t)&&t.constructor===Object},object:function(t){return null!=t&&(void 0===t?"undefined":r(t))===l},number:function(t){return null!=t&&(void 0===t?"undefined":r(t))===r(1)&&!isNaN(t)},integer:function(t){return d.number(t)&&Math.floor(t)===t},bool:function(t){return null!=t&&(void 0===t?"undefined":r(t))===r(!0)},htmlElement:function(t){return"undefined"===c?void 0:null!=t&&t instanceof HTMLElement},elementOrCollection:function(t){return d.element(t)||d.collection(t)},element:function(t){return"collection"===h(t)&&t._private.single},collection:function(t){return"collection"===h(t)&&!t._private.single},core:function(t){return"core"===h(t)},style:function(t){return"style"===h(t)},stylesheet:function(t){return"stylesheet"===h(t)},event:function(t){return"event"===h(t)},thread:function(t){return"thread"===h(t)},fabric:function(t){return"fabric"===h(t)},emptyString:function(t){return null==t||!(""!==t&&!t.match(/^\s+$/))},nonemptyString:function(t){return!(!t||!d.string(t)||""===t||t.match(/^\s+$/))},domElement:function(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement},boundingBox:function(t){return d.plainObject(t)&&d.number(t.x1)&&d.number(t.x2)&&d.number(t.y1)&&d.number(t.y2)},promise:function(t){return d.object(t)&&d.fn(t.then)},touch:function(){return i&&("ontouchstart"in i||i.DocumentTouch&&a instanceof DocumentTouch)},gecko:function(){return i&&("undefined"!=typeof InstallTrigger||"MozAppearance"in a.documentElement.style)},webkit:function(){return i&&("undefined"!=typeof webkitURL||"WebkitAppearance"in a.documentElement.style)},chromium:function(){return i&&"undefined"!=typeof chrome},khtml:function(){return o&&o.vendor.match(/kde/i)},khtmlEtc:function(){return d.khtml()||d.webkit()||d.chromium()},ms:function(){return o&&o.userAgent.match(/msie|trident|edge/i)},windows:function(){return o&&o.appVersion.match(/Win/i)},mac:function(){return o&&o.appVersion.match(/Mac/i)},linux:function(){return o&&o.appVersion.match(/Linux/i)},unix:function(){return o&&o.appVersion.match(/X11/i)}};t.exports=d},function(t,e,n){var r=n(0),i=n(2),o={MAX_INT:Number.MAX_SAFE_INTEGER||9007199254740991,trueify:function(){return!0},falsify:function(){return!1},zeroify:function(){return 0},noop:function(){},error:function(t){console.error?(console.error.apply(console,arguments),console.trace&&console.trace()):(console.log.apply(console,arguments),console.trace&&console.trace())},clone:function(t){return this.extend({},t)},copy:function(t){return null==t?t:r.array(t)?t.slice():r.plainObject(t)?this.clone(t):t},copyArray:function(t){return t.slice()},clonePosition:function(t){return{x:t.x,y:t.y}},uuid:function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e}};o.makeBoundingBox=i.makeBoundingBox.bind(i),o._staticEmptyObject={},o.staticEmptyObject=function(){return o._staticEmptyObject},o.extend=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments,n=1;n<e.length;n++){var r=e[n];if(null!=r)for(var i=Object.keys(r),o=0;o<i.length;o++){var a=i[o];t[a]=r[a]}}return t},o.assign=o.extend,o.default=function(t,e){return void 0===t?e:t},o.removeFromArray=function(t,e,n){for(var r=t.length;r>=0&&(t[r]!==e||(t.splice(r,1),n));r--);},o.clearArray=function(t){t.splice(0,t.length)},o.push=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.push(r)}},o.getPrefixedProperty=function(t,e,n){return n&&(e=this.prependCamel(n,e)),t[e]},o.setPrefixedProperty=function(t,e,n,r){n&&(e=this.prependCamel(n,e)),t[e]=r},[n(21),n(22),{memoize:n(13)},n(23),n(24),n(25),n(27)].forEach((function(t){o.extend(o,t)})),t.exports=o},function(t,e,n){var r={arePositionsSame:function(t,e){return t.x===e.x&&t.y===e.y},copyPosition:function(t){return{x:t.x,y:t.y}},modelToRenderedPosition:function(t,e,n){return{x:t.x*e+n.x,y:t.y*e+n.y}},renderedToModelPosition:function(t,e,n){return{x:(t.x-n.x)/e,y:(t.y-n.y)/e}},array2point:function(t){return{x:t[0],y:t[1]}},deg2rad:function(t){return Math.PI*t/180},getAngleFromDisp:function(t,e){return Math.atan2(e,t)-Math.PI/2}};r.log2=Math.log2||function(t){return Math.log(t)/Math.log(2)},r.signum=function(t){return t>0?1:t<0?-1:0},r.dist=function(t,e){return Math.sqrt(r.sqdist(t,e))},r.sqdist=function(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r},r.qbezierAt=function(t,e,n,r){return(1-r)*(1-r)*t+2*(1-r)*r*e+r*r*n},r.qbezierPtAt=function(t,e,n,i){return{x:r.qbezierAt(t.x,e.x,n.x,i),y:r.qbezierAt(t.y,e.y,n.y,i)}},r.lineAt=function(t,e,n,i){var o=e.x-t.x,a=e.y-t.y,s=r.dist(t,e),l=o/s,u=a/s;return n=null==n?0:n,i=null!=i?i:n*s,{x:t.x+l*i,y:t.y+u*i}},r.lineAtDist=function(t,e,n){return r.lineAt(t,e,void 0,n)},r.triangleAngle=function(t,e,n){var i=r.dist(e,n),o=r.dist(t,n),a=r.dist(t,e);return Math.acos((i*i+o*o-a*a)/(2*i*o))},r.bound=function(t,e,n){return Math.max(t,Math.min(n,e))},r.makeBoundingBox=function(t){if(null==t)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=t.x1&&null!=t.y1){if(null!=t.x2&&null!=t.y2&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(null!=t.w&&null!=t.h&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},r.updateBoundingBox=function(t,e){t.x1=Math.min(t.x1,e.x1),t.x2=Math.max(t.x2,e.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,e.y1),t.y2=Math.max(t.y2,e.y2),t.h=t.y2-t.y1},r.expandBoundingBoxByPoint=function(t,e,n){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},r.expandBoundingBox=function(t,e){return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},r.boundingBoxesIntersect=function(t,e){return!(t.x1>e.x2||e.x1>t.x2||t.x2<e.x1||e.x2<t.x1||t.y2<e.y1||e.y2<t.y1||t.y1>e.y2||e.y1>t.y2)},r.inBoundingBox=function(t,e,n){return t.x1<=e&&e<=t.x2&&t.y1<=n&&n<=t.y2},r.pointInBoundingBox=function(t,e){return this.inBoundingBox(t,e.x,e.y)},r.boundingBoxInBoundingBox=function(t,e){return r.inBoundingBox(t,e.x1,e.y1)&&r.inBoundingBox(t,e.x2,e.y2)},r.roundRectangleIntersectLine=function(t,e,n,r,i,o,a){var s=this.getRoundRectangleRadius(i,o),l=i/2,u=o/2,c=void 0,h=n-l+s-a,d=r-u-a,f=n+l-s+a,p=d;if((c=this.finiteLinesIntersect(t,e,n,r,h,d,f,p,!1)).length>0)return c;var v=n+l+a,g=r-u+s-a,y=v,m=r+u-s+a;if((c=this.finiteLinesIntersect(t,e,n,r,v,g,y,m,!1)).length>0)return c;var b=n-l+s-a,w=r+u+a,_=n+l-s+a,x=w;if((c=this.finiteLinesIntersect(t,e,n,r,b,w,_,x,!1)).length>0)return c;var E=n-l-a,S=r-u+s-a,k=E,C=r+u-s+a;if((c=this.finiteLinesIntersect(t,e,n,r,E,S,k,C,!1)).length>0)return c;var O=void 0,T=n-l+s,P=r-u+s;if((O=this.intersectLineCircle(t,e,n,r,T,P,s+a)).length>0&&O[0]<=T&&O[1]<=P)return[O[0],O[1]];var N=n+l-s,A=r-u+s;if((O=this.intersectLineCircle(t,e,n,r,N,A,s+a)).length>0&&O[0]>=N&&O[1]<=A)return[O[0],O[1]];var D=n+l-s,M=r+u-s;if((O=this.intersectLineCircle(t,e,n,r,D,M,s+a)).length>0&&O[0]>=D&&O[1]>=M)return[O[0],O[1]];var L=n-l+s,I=r+u-s;return(O=this.intersectLineCircle(t,e,n,r,L,I,s+a)).length>0&&O[0]<=L&&O[1]>=I?[O[0],O[1]]:[]},r.inLineVicinity=function(t,e,n,r,i,o,a){var s=a,l=Math.min(n,i),u=Math.max(n,i),c=Math.min(r,o),h=Math.max(r,o);return l-s<=t&&t<=u+s&&c-s<=e&&e<=h+s},r.inBezierVicinity=function(t,e,n,r,i,o,a,s,l){var u=Math.min(n,a,i)-l,c=Math.max(n,a,i)+l,h=Math.min(r,s,o)-l,d=Math.max(r,s,o)+l;return!(t<u||t>c||e<h||e>d)},r.solveQuadratic=function(t,e,n,r){var i=e*e-4*t*(n-=r);if(i<0)return[];var o=Math.sqrt(i),a=2*t;return[(-e+o)/a,(-e-o)/a]},r.solveCubic=function(t,e,n,r,i){var o,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,h=void 0,d=void 0;return s=-27*(r/=t)+(e/=t)*(9*(n/=t)-e*e*2),o=(a=(3*n-e*e)/9)*a*a+(s/=54)*s,i[1]=0,h=e/3,o>0?(u=(u=s+Math.sqrt(o))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=(c=s-Math.sqrt(o))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-h+u+c,h+=(u+c)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-c+u)/2,i[3]=h,void(i[5]=-h)):(i[5]=i[3]=0,0===o?(d=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*d-h,void(i[4]=i[2]=-(d+h))):(l=(a=-a)*a*a,l=Math.acos(s/Math.sqrt(l)),d=2*Math.sqrt(a),i[0]=-h+d*Math.cos(l/3),i[2]=-h+d*Math.cos((l+2*Math.PI)/3),void(i[4]=-h+d*Math.cos((l+4*Math.PI)/3))))},r.sqdistToQuadraticBezier=function(t,e,n,r,i,o,a,s){var l=1*n*n-4*n*i+2*n*a+4*i*i-4*i*a+a*a+r*r-4*r*o+2*r*s+4*o*o-4*o*s+s*s,u=9*n*i-3*n*n-3*n*a-6*i*i+3*i*a+9*r*o-3*r*r-3*r*s-6*o*o+3*o*s,c=3*n*n-6*n*i+n*a-n*t+2*i*i+2*i*t-a*t+3*r*r-6*r*o+r*s-r*e+2*o*o+2*o*e-s*e,h=1*n*i-n*n+n*t-i*t+r*o-r*r+r*e-o*e,d=[];this.solveCubic(l,u,c,h,d);for(var f=[],p=0;p<6;p+=2)Math.abs(d[p+1])<1e-7&&d[p]>=0&&d[p]<=1&&f.push(d[p]);f.push(1),f.push(0);for(var v=-1,g=void 0,y=void 0,m=void 0,b=0;b<f.length;b++)g=Math.pow(1-f[b],2)*n+2*(1-f[b])*f[b]*i+f[b]*f[b]*a,y=Math.pow(1-f[b],2)*r+2*(1-f[b])*f[b]*o+f[b]*f[b]*s,m=Math.pow(g-t,2)+Math.pow(y-e,2),v>=0?m<v&&(v=m):v=m;return v},r.sqdistToFiniteLine=function(t,e,n,r,i,o){var a=[t-n,e-r],s=[i-n,o-r],l=s[0]*s[0]+s[1]*s[1],u=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],h=c*c/l;return c<0?u:h>l?(t-i)*(t-i)+(e-o)*(e-o):u-h},r.pointInsidePolygonPoints=function(t,e,n){for(var r=void 0,i=void 0,o=void 0,a=void 0,s=0,l=0;l<n.length/2;l++)if(r=n[2*l],i=n[2*l+1],l+1<n.length/2?(o=n[2*(l+1)],a=n[2*(l+1)+1]):(o=n[2*(l+1-n.length/2)],a=n[2*(l+1-n.length/2)+1]),r==t&&o==t);else{if(!(r>=t&&t>=o||r<=t&&t<=o))continue;(t-r)/(o-r)*(a-i)+i>e&&s++}return s%2!=0},r.pointInsidePolygon=function(t,e,n,i,o,a,s,l,u){var c=new Array(n.length),h=void 0;null!=l[0]?(h=Math.atan(l[1]/l[0]),l[0]<0?h+=Math.PI/2:h=-h-Math.PI/2):h=l;for(var d=Math.cos(-h),f=Math.sin(-h),p=0;p<c.length/2;p++)c[2*p]=a/2*(n[2*p]*d-n[2*p+1]*f),c[2*p+1]=s/2*(n[2*p+1]*d+n[2*p]*f),c[2*p]+=i,c[2*p+1]+=o;var v=void 0;if(u>0){var g=this.expandPolygon(c,-u);v=this.joinLines(g)}else v=c;return r.pointInsidePolygonPoints(t,e,v)},r.joinLines=function(t){for(var e=new Array(t.length/2),n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=0;c<t.length/4;c++){n=t[4*c],r=t[4*c+1],i=t[4*c+2],o=t[4*c+3],c<t.length/4-1?(a=t[4*(c+1)],s=t[4*(c+1)+1],l=t[4*(c+1)+2],u=t[4*(c+1)+3]):(a=t[0],s=t[1],l=t[2],u=t[3]);var h=this.finiteLinesIntersect(n,r,i,o,a,s,l,u,!0);e[2*c]=h[0],e[2*c+1]=h[1]}return e},r.expandPolygon=function(t,e){for(var n=new Array(2*t.length),r=void 0,i=void 0,o=void 0,a=void 0,s=0;s<t.length/2;s++){r=t[2*s],i=t[2*s+1],s<t.length/2-1?(o=t[2*(s+1)],a=t[2*(s+1)+1]):(o=t[0],a=t[1]);var l=a-i,u=-(o-r),c=Math.sqrt(l*l+u*u),h=l/c,d=u/c;n[4*s]=r+h*e,n[4*s+1]=i+d*e,n[4*s+2]=o+h*e,n[4*s+3]=a+d*e}return n},r.intersectLineEllipse=function(t,e,n,r,i,o){var a=n-t,s=r-e;a/=i,s/=o;var l=Math.sqrt(a*a+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(n-t)*c+t,(r-e)*c+e]},r.checkInEllipse=function(t,e,n,r,i,o,a){return t-=i,e-=o,(t/=n/2+a)*t+(e/=r/2+a)*e<=1},r.intersectLineCircle=function(t,e,n,r,i,o,a){var s=[n-t,r-e],l=[t-i,e-o],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),h=c*c-4*u*(l[0]*l[0]+l[1]*l[1]-a*a);if(h<0)return[];var d=(-c+Math.sqrt(h))/(2*u),f=(-c-Math.sqrt(h))/(2*u),p=Math.min(d,f),v=Math.max(d,f),g=[];if(p>=0&&p<=1&&g.push(p),v>=0&&v<=1&&g.push(v),0===g.length)return[];var y=g[0]*s[0]+t,m=g[0]*s[1]+e;return g.length>1?g[0]==g[1]?[y,m]:[y,m,g[1]*s[0]+t,g[1]*s[1]+e]:[y,m]},r.findCircleNearPoint=function(t,e,n,r,i){var o=r-t,a=i-e,s=Math.sqrt(o*o+a*a);return[t+o/s*n,e+a/s*n]},r.findMaxSqDistanceToOrigin=function(t){for(var e=1e-6,n=void 0,r=0;r<t.length/2;r++)(n=t[2*r]*t[2*r]+t[2*r+1]*t[2*r+1])>e&&(e=n);return e},r.midOfThree=function(t,e,n){return e<=t&&t<=n||n<=t&&t<=e?t:t<=e&&e<=n||n<=e&&e<=t?e:n},r.finiteLinesIntersect=function(t,e,n,r,i,o,a,s,l){var u=t-i,c=n-t,h=a-i,d=e-o,f=r-e,p=s-o,v=h*d-p*u,g=c*d-f*u,y=p*c-h*f;if(0!==y){var m=v/y,b=g/y;return-.001<=m&&m<=1.001&&-.001<=b&&b<=1.001?[t+m*c,e+m*f]:l?[t+m*c,e+m*f]:[]}return 0===v||0===g?this.midOfThree(t,n,a)===a?[a,s]:this.midOfThree(t,n,i)===i?[i,o]:this.midOfThree(i,a,n)===n?[n,r]:[]:[]},r.polygonIntersectLine=function(t,e,n,i,o,a,s,l){var u=[],c=void 0,h=new Array(n.length),d=!0;5===arguments.length&&(d=!1);var f=void 0;if(d){for(var p=0;p<h.length/2;p++)h[2*p]=n[2*p]*a+i,h[2*p+1]=n[2*p+1]*s+o;if(l>0){var v=r.expandPolygon(h,-l);f=r.joinLines(v)}else f=h}else f=n;for(var g=void 0,y=void 0,m=void 0,b=void 0,w=0;w<f.length/2;w++)g=f[2*w],y=f[2*w+1],w<f.length/2-1?(m=f[2*(w+1)],b=f[2*(w+1)+1]):(m=f[0],b=f[1]),0!==(c=this.finiteLinesIntersect(t,e,i,o,g,y,m,b)).length&&u.push(c[0],c[1]);return u},r.shortenIntersection=function(t,e,n){var r=[t[0]-e[0],t[1]-e[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),o=(i-n)/i;return o<0&&(o=1e-5),[e[0]+o*r[0],e[1]+o*r[1]]},r.generateUnitNgonPointsFitToSquare=function(t,e){var n=r.generateUnitNgonPoints(t,e);return n=r.fitPolygonToSquare(n)},r.fitPolygonToSquare=function(t){for(var e=void 0,n=void 0,r=t.length/2,i=1/0,o=1/0,a=-1/0,s=-1/0,l=0;l<r;l++)e=t[2*l],n=t[2*l+1],i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,n),s=Math.max(s,n);for(var u=2/(a-i),c=2/(s-o),h=0;h<r;h++)e=t[2*h]=t[2*h]*u,n=t[2*h+1]=t[2*h+1]*c,i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,n),s=Math.max(s,n);if(o<-1)for(var d=0;d<r;d++)n=t[2*d+1]=t[2*d+1]+(-1-o);return t},r.generateUnitNgonPoints=function(t,e){var n=1/t*2*Math.PI,r=t%2==0?Math.PI/2+n/2:Math.PI/2;r+=e;for(var i=new Array(2*t),o=void 0,a=0;a<t;a++)o=a*n+r,i[2*a]=Math.cos(o),i[2*a+1]=Math.sin(-o);return i},r.getRoundRectangleRadius=function(t,e){return Math.min(t/4,e/4,8)},r.getCutRectangleCornerLength=function(){return 8},r.bezierPtsToQuadCoeff=function(t,e,n){return[t-2*e+n,2*(e-t),t]},r.getBarrelCurveConstants=function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},t.exports=r},function(t,e,n){t.exports="undefined"==typeof window?null:window},function(t,e,n){var r=n(1),i={};[n(43),n(45),n(46)].forEach((function(t){r.assign(i,t)})),t.exports=i},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};
/*!
	Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
	Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
	Licensed under The MIT License (http://opensource.org/licenses/MIT)
	*/i.prototype={fulfill:function(t){return o(this,1,"fulfillValue",t)},reject:function(t){return o(this,2,"rejectReason",t)},then:function(t,e){var n=new i;return this.onFulfilled.push(l(t,n,"fulfill")),this.onRejected.push(l(e,n,"reject")),a(this),n.proxy}};var o=function(t,e,n,r){return 0===t.state&&(t.state=e,t[n]=r,a(t)),t},a=function(t){1===t.state?s(t,"onFulfilled",t.fulfillValue):2===t.state&&s(t,"onRejected",t.rejectReason)},s=function(t,e,n){if(0!==t[e].length){var r=t[e];t[e]=[];var i=function(){for(var t=0;t<r.length;t++)r[t](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},l=function(t,e,n){return function(r){if("function"!=typeof t)e[n].call(e,r);else{var i;try{i=t(r)}catch(t){return void e.reject(t)}u(e,i)}}},u=function t(e,n){if(e!==n&&e.proxy!==n){var i;if("object"===(void 0===n?"undefined":r(n))&&null!==n||"function"==typeof n)try{i=n.then}catch(t){return void e.reject(t)}if("function"!=typeof i)e.fulfill(n);else{var o=!1;try{i.call(n,(function(r){o||(o=!0,r===n?e.reject(new TypeError("circular thenable chain")):t(e,r))}),(function(t){o||(o=!0,e.reject(t))}))}catch(t){o||e.reject(t)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};i.all=function(t){return new i((function(e,n){for(var r=new Array(t.length),i=0,o=function(n,o){r[n]=o,++i===t.length&&e(r)},a=0;a<t.length;a++)!function(e){var r=t[e];null!=r&&null!=r.then?r.then((function(t){o(e,t)}),(function(t){n(t)})):o(e,r)}(a)}))},i.resolve=function(t){return new i((function(e,n){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},t.exports="undefined"!=typeof Promise?Promise:i},function(t,e,n){var r=n(0),i=n(1),o=n(10),a=function(t){if(this._private={selectorText:t,invalid:!0},null==t||r.string(t)&&t.match(/^\s*$/))this.length=0;else if("*"===t||"edge"===t||"node"===t)this[0]=o(),this[0].group="*"===t?t:t+"s",this[0].groupOnly=!0,this[0].length=1,this._private.invalid=!1,this.length=1;else if(r.elementOrCollection(t)){var e=t.collection();this[0]=o(),this[0].collection=e,this[0].length=1,this.length=1}else if(r.fn(t))this[0]=o(),this[0].filter=t,this[0].length=1,this.length=1;else{if(!r.string(t))return void i.error("A selector must be created from a string; found ",t);if(!this.parse(t))return}this._private.invalid=!1},s=a.prototype;s.valid=function(){return!this._private.invalid},s.invalid=function(){return this._private.invalid},s.text=function(){return this._private.selectorText},s.size=function(){return this.length},s.eq=function(t){return this[t]},s.sameText=function(t){return this.text()===t.text()},s.toString=s.selector=function(){if(null!=this._private.toStringCache)return this._private.toStringCache;var t=void 0,e="",n=function(t){return null==t?"":t},i=function(t){return r.string(t)?'"'+t+'"':n(t)},o=function(t){return" "+t+" "},a=function e(r){var a="",s=void 0;r.subject===r&&(a+="$");var l=n(r.group);for(a+=l.substring(0,l.length-1),s=0;s<r.data.length;s++){var u=r.data[s];u.value?a+="["+u.field+o(n(u.operator))+i(u.value)+"]":a+="["+n(u.operator)+u.field+"]"}for(s=0;s<r.meta.length;s++){var c=r.meta[s];a+="[["+c.field+o(n(c.operator))+i(c.value)+"]]"}for(s=0;s<r.colonSelectors.length;s++)a+=r.colonSelectors[t];for(s=0;s<r.ids.length;s++)a+="#"+r.ids[t];for(s=0;s<r.classes.length;s++)a+="."+r.classes[s];if(null!=r.source&&null!=r.target&&(a=e(r.source)+" -> "+e(r.target)),null!=r.connectedNodes){var h=r.connectedNodes;a=e(h[0])+" <-> "+e(h[1])}return null!=r.parent&&(a=e(r.parent)+" > "+a),null!=r.ancestor&&(a=e(r.ancestor)+" "+a),null!=r.child&&(a+=" > "+e(r.child)),null!=r.descendant&&(a+=" "+e(r.descendant)),a};for(t=0;t<this.length;t++)e+=a(this[t]),this.length>1&&t<this.length-1&&(e+=", ");return this._private.toStringCache=e,e},[n(49),n(52)].forEach((function(t){return i.assign(s,t)})),t.exports=a},function(t,e,n){var r=n(1),i=n(0),o=n(28),a=n(8),s=n(14),l=function(t,e,n){for(var i=null!=n?n:r.uuid();t.hasElementWithId(i);)i=r.uuid();return i},u=function(t,e,n){if(void 0!==t&&i.core(t)){var u=new o,c=!1;if(e){if(e.length>0&&i.plainObject(e[0])&&!i.element(e[0])){c=!0;for(var h=[],d=new a,f=0,p=e.length;f<p;f++){var v=e[f];null==v.data&&(v.data={});var g=v.data;if(null==g.id)g.id=l(t,v);else if(t.hasElementWithId(g.id)||d.has(g.id))continue;var y=new s(t,v,!1);h.push(y),d.add(g.id)}e=h}}else e=[];this.length=0;for(var m=0,b=e.length;m<b;m++){var w=e[m];if(null!=w){var _=w._private.data.id;(null==n||n.unique&&!u.has(_))&&(u.set(_,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={cy:t,map:u},c&&this.restore()}else r.error("A collection must have a reference to the core")},c=s.prototype=u.prototype;c.instanceString=function(){return"collection"},c.spawn=function(t,e,n){return i.core(t)||(n=e,e=t,t=this.cy()),new u(t,e,n)},c.spawnSelf=function(){return this.spawn(this)},c.cy=function(){return this._private.cy},c.renderer=function(){return this._private.cy.renderer()},c.element=function(){return this[0]},c.collection=function(){return i.collection(this)?this:new u(this._private.cy,[this])},c.unique=function(){return new u(this._private.cy,this,{unique:!0})},c.hasElementWithId=function(t){return this._private.map.has(t)},c.getElementById=function(t){var e=this._private.cy,n=this._private.map.get(t);return n?n.ele:new u(e)},c.$id=c.getElementById,c.poolIndex=function(){var t=this._private.cy._private.elements,e=this._private.data.id;return t._private.map.get(e).index},c.json=function(t){var e=this.element(),n=this.cy();if(null==e&&t)return this;if(null!=e){var o=e._private;if(i.plainObject(t)){if(n.startBatch(),t.data){e.data(t.data);var a=o.data;if(e.isEdge()){var s=!1,l={},u=t.data.source,c=t.data.target;null!=u&&u!==a.source&&(l.source=u,s=!0),null!=c&&c!==a.target&&(l.target=c,s=!0),s&&(e=e.move(l))}else{var h=t.data.parent;null==h&&null==a.parent||h===a.parent||(void 0===h&&(h=null),e=e.move({parent:h}))}}t.position&&e.position(t.position);var d=function(n,r,i){var a=t[n];null!=a&&a!==o[n]&&(a?e[r]():e[i]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),null!=t.classes&&e.classes(t.classes),n.endBatch(),this}if(void 0===t){var f={data:r.copy(o.data),position:r.copy(o.position),group:o.group,removed:o.removed,selected:o.selected,selectable:o.selectable,locked:o.locked,grabbable:o.grabbable,classes:null};f.classes="";var p=0;return o.classes.forEach((function(t){return f.classes+=0==p++?t:" "+t})),f}}},c.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e].json();t.push(n)}return t},c.clone=function(){for(var t=this.cy(),e=[],n=0;n<this.length;n++){var r=this[n].json(),i=new s(t,r,!1);e.push(i)}return new u(t,e)},c.copy=c.clone,c.restore=function(t){var e=this.cy(),n=e._private;void 0===t&&(t=!0);for(var a=[],s=[],c=void 0,h=0,d=this.length;h<d;h++){var f=this[h];f.removed()&&(f.isNode()?a.push(f):s.push(f))}c=a.concat(s);var p=void 0,v=function(){c.splice(p,1),p--};for(p=0;p<c.length;p++){var g=c[p],y=g._private,m=y.data;if(g.clearTraversalCache(),void 0===m.id)m.id=l(e,g);else if(i.number(m.id))m.id=""+m.id;else{if(i.emptyString(m.id)||!i.string(m.id)){r.error("Can not create element with invalid string ID `"+m.id+"`"),v();continue}if(e.hasElementWithId(m.id)){r.error("Can not create second element with ID `"+m.id+"`"),v();continue}}var b=m.id;if(g.isNode()){var w=y.position;null==w.x&&(w.x=0),null==w.y&&(w.y=0)}if(g.isEdge()){for(var _=g,x=["source","target"],E=x.length,S=!1,k=0;k<E;k++){var C=x[k],O=m[C];i.number(O)&&(O=m[C]=""+m[C]),null==O||""===O?(r.error("Can not create edge `"+b+"` with unspecified "+C),S=!0):e.hasElementWithId(O)||(r.error("Can not create edge `"+b+"` with nonexistant "+C+" `"+O+"`"),S=!0)}if(S){v();continue}var T=e.getElementById(m.source),P=e.getElementById(m.target);T._private.edges.push(_),P._private.edges.push(_),_._private.source=T,_._private.target=P}y.map=new o,y.map.set(b,{ele:g,index:0}),y.removed=!1,e.addToPool(g)}for(var N=0;N<a.length;N++){var A=a[N],D=A._private.data;i.number(D.parent)&&(D.parent=""+D.parent);var M=D.parent;if(null!=M){var L=e.getElementById(M);if(L.empty())D.parent=void 0;else{for(var I=!1,j=L;!j.empty();){if(A.same(j)){I=!0,D.parent=void 0;break}j=j.parent()}I||(L[0]._private.children.push(A),A._private.parent=L[0],n.hasCompoundNodes=!0)}}}if(c.length>0){for(var R=new u(e,c),B=0;B<R.length;B++){var F=R[B];F.isNode()||(F.parallelEdges().clearTraversalCache(),F.source().clearTraversalCache(),F.target().clearTraversalCache())}(n.hasCompoundNodes?e.collection().merge(R).merge(R.connectedNodes()).merge(R.parent()):R).dirtyCompoundBoundsCache().updateStyle(t),t?R.emitAndNotify("add"):R.emit("add")}return this},c.removed=function(){var t=this[0];return t&&t._private.removed},c.inside=function(){var t=this[0];return t&&!t._private.removed},c.remove=function(t){var e=[],n=[],i={},o=this._private.cy;function a(t){var e=i[t.id()];t.removed()||e||(i[t.id()]=!0,t.isNode()?(n.push(t),function(t){for(var e=t._private.edges,n=0;n<e.length;n++)a(e[n])}(t),function(t){for(var e=t._private.children,n=0;n<e.length;n++)a(e[n])}(t)):n.unshift(t))}void 0===t&&(t=!0);for(var s=0,l=this.length;s<l;s++)a(this[s]);function c(t,e){var n=t._private.edges;r.removeFromArray(n,e),t.clearTraversalCache()}var h=[];function d(t,e){e=e[0];var n=(t=t[0])._private.children,i=t.id();r.removeFromArray(n,e),h.ids[i]||(h.ids[i]=!0,h.push(t))}h.ids={},this.dirtyCompoundBoundsCache(),o.removeFromPool(n);for(var f=0;f<n.length;f++){var p=n[f];if(p._private.removed=!0,e.push(p),p.isEdge()){var v=p.source()[0],g=p.target()[0];c(v,p),c(g,p),p.parallelEdges().clearTraversalCache()}else{var y=p.parent();0!==y.length&&d(y,p)}}var m=o._private.elements;o._private.hasCompoundNodes=!1;for(var b=0;b<m.length;b++)if(m[b].isParent()){o._private.hasCompoundNodes=!0;break}var w=new u(this.cy(),e);w.size()>0&&(t&&this.cy().notify({type:"remove",eles:w}),w.emit("remove"));for(var _=0;_<h.length;_++){var x=h[_];x.removed()||x.updateStyle()}return new u(o,e)},c.move=function(t){var e=this._private.cy;if(void 0!==t.source||void 0!==t.target){var n=t.source,r=t.target,i=e.hasElementWithId(n),o=e.hasElementWithId(r);if(i||o){var a=this.jsons();this.remove();for(var s=0;s<a.length;s++){var l=a[s],u=this[s];"edges"===l.group&&(i&&(l.data.source=n),o&&(l.data.target=r),l.scratch=u._private.scratch)}return e.add(a)}}else if(void 0!==t.parent){var c=t.parent;if(null===c||e.hasElementWithId(c)){var h=this.jsons(),d=this.descendants(),f=d.union(d.union(this).connectedEdges()).jsons();this.remove();for(var p=0;p<h.length;p++){var v=h[p],g=this[p];"nodes"===v.group&&(v.data.parent=null===c?void 0:c,v.scratch=g._private.scratch)}return e.add(h.concat(f))}}return this},[n(29),n(42),n(47),n(48),n(53),n(54),n(55),n(56),n(61),n(62),n(63),n(7),n(64),n(65),n(66),n(67),n(68)].forEach((function(t){r.extend(c,t)})),t.exports=u},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._obj=Object.create(null),null!=e){var n=void 0;n=null!=e.instanceString&&e.instanceString()===this.instanceString()?e.toArray():e;for(var r=0;r<n.length;r++)this.add(n[r])}}return r(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){this._obj[t]=1}},{key:"delete",value:function(t){this._obj[t]=0}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return 1===this._obj[t]}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter((function(e){return t.has(e)}))}},{key:"forEach",value:function(t,e){return this.toArray().forEach(t,e)}},{key:"size",get:function(){return this.toArray().length}}]),t}();t.exports=i},function(t,e,n){t.exports=n(32)},function(t,e,n){t.exports=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}}},function(t,e,n){var r=n(1),i=n(0),o=n(16),a=/^([^.]+)(\.(?:[^.]+))?$/,s={qualifierCompare:function(t,e){return t===e},eventMatches:function(){return!0},eventFields:function(){return{}},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:void 0};function l(t){r.assign(this,s,t),this.listeners=[],this.emitting=0}var u=l.prototype,c=function(t,e,n,o,s,l,u){i.fn(o)&&(s=o,o=null),u&&(l=null==l?u:r.assign({},l,u));for(var c=n.split(/\s+/),h=0;h<c.length;h++){var d=c[h];if(!i.emptyString(d)){var f=d.match(a);if(f&&!1===e(t,d,f[1],f[2]?f[2]:null,o,s,l))break}}},h=function(t,e){return new o(e.type,r.assign(e,t.eventFields(t.context)))};u.on=u.addListener=function(t,e,n,r,o){return c(this,(function(t,e,n,r,o,a,s){i.fn(a)&&t.listeners.push({event:e,callback:a,type:n,namespace:r,qualifier:o,conf:s})}),t,e,n,r,o),this},u.one=function(t,e,n,r){return this.on(t,e,n,r,{one:!0})},u.removeListener=u.off=function(t,e,n,i){var o=this;0!==this.emitting&&(this.listeners=r.copyArray(this.listeners));for(var a=this.listeners,s=function(r){var s=a[r];c(o,(function(t,e,n,i,o,l){if(s.type===n&&(!i||s.namespace===i)&&(!o||t.qualifierCompare(s.qualifier,o))&&(!l||s.callback===l))return a.splice(r,1),!1}),t,e,n,i)},l=a.length-1;l>=0;l--)s(l);return this},u.emit=u.trigger=function(t,e,n){var o=this.listeners,s=o.length;return this.emitting++,i.array(e)||(e=[e]),function(t,e,n){if(i.event(n))e(t,n);else if(i.plainObject(n))e(t,h(t,n));else for(var r=n.split(/\s+/),o=0;o<r.length;o++){var s=r[o];if(!i.emptyString(s)){var l=s.match(a);if(l){var u=l[1],c=l[2]?l[2]:null;e(t,h(t,{type:u,namespace:c,target:t.context}))}}}}(this,(function(t,i){null!=n&&(o=[{event:i.event,type:i.type,namespace:i.namespace,callback:n}],s=o.length);for(var a=function(n){var a=o[n];if(a.type===i.type&&(!a.namespace||a.namespace===i.namespace||".*"===a.namespace)&&t.eventMatches(t.context,a,i)){var s=[i];null!=e&&r.push(s,e),t.beforeEmit(t.context,a,i),a.conf&&a.conf.one&&(t.listeners=t.listeners.filter((function(t){return t!==a})));var l=t.callbackContext(t.context,a,i),u=a.callback.apply(l,s);t.afterEmit(t.context,a,i),!1===u&&(i.stopPropagation(),i.preventDefault())}},l=0;l<s;l++)a(l);t.bubble(t.context)&&!i.isPropagationStopped()&&t.parent(t.context).emit(i,e)}),t),this.emitting--,this},t.exports=l},function(t,e,n){var r=n(3),i=n(1),o=n(7),a=n(0),s=n(5),l=n(4),u=function(t){var e=this,n=(t=i.extend({},t)).container;n&&!a.htmlElement(n)&&a.htmlElement(n[0])&&(n=n[0]);var l=n?n._cyreg:null;(l=l||{})&&l.cy&&(l.cy.destroy(),l={});var u=l.readies=l.readies||[];n&&(n._cyreg=l),l.cy=e;var c=void 0!==r&&void 0!==n&&!t.headless,h=t;h.layout=i.extend({name:c?"grid":"null"},h.layout),h.renderer=i.extend({name:c?"canvas":"null"},h.renderer);var d=function(t,e,n){return void 0!==e?e:void 0!==n?n:t},f=this._private={container:n,ready:!1,options:h,elements:new o(this),listeners:[],aniEles:new o(this),scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:d(!0,h.zoomingEnabled),userZoomingEnabled:d(!0,h.userZoomingEnabled),panningEnabled:d(!0,h.panningEnabled),userPanningEnabled:d(!0,h.userPanningEnabled),boxSelectionEnabled:d(!0,h.boxSelectionEnabled),autolock:d(!1,h.autolock,h.autolockNodes),autoungrabify:d(!1,h.autoungrabify,h.autoungrabifyNodes),autounselectify:d(!1,h.autounselectify),styleEnabled:void 0===h.styleEnabled?c:h.styleEnabled,zoom:a.number(h.zoom)?h.zoom:1,pan:{x:a.plainObject(h.pan)&&a.number(h.pan.x)?h.pan.x:0,y:a.plainObject(h.pan)&&a.number(h.pan.y)?h.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter();var p=h.selectionType;f.selectionType=void 0===p||"additive"!==p&&"single"!==p?"single":p,a.number(h.minZoom)&&a.number(h.maxZoom)&&h.minZoom<h.maxZoom?(f.minZoom=h.minZoom,f.maxZoom=h.maxZoom):a.number(h.minZoom)&&void 0===h.maxZoom?f.minZoom=h.minZoom:a.number(h.maxZoom)&&void 0===h.minZoom&&(f.maxZoom=h.maxZoom),f.styleEnabled&&e.setStyle([]),e.initRenderer(i.extend({hideEdgesOnViewport:h.hideEdgesOnViewport,textureOnViewport:h.textureOnViewport,wheelSensitivity:a.number(h.wheelSensitivity)&&h.wheelSensitivity>0?h.wheelSensitivity:1,motionBlur:void 0!==h.motionBlur&&h.motionBlur,motionBlurOpacity:void 0===h.motionBlurOpacity?.05:h.motionBlurOpacity,pixelRatio:a.number(h.pixelRatio)&&h.pixelRatio>0?h.pixelRatio:void 0,desktopTapThreshold:void 0===h.desktopTapThreshold?4:h.desktopTapThreshold,touchTapThreshold:void 0===h.touchTapThreshold?8:h.touchTapThreshold},h.renderer)),function(t,e){if(t.some(a.promise))return s.all(t).then(e);e(t)}([h.style,h.elements],(function(t){var n=t[0],r=t[1];f.styleEnabled&&e.style().append(n),function(t,n,r){e.notifications(!1);var o=e.mutableElements();o.length>0&&o.remove(),null!=t&&(a.plainObject(t)||a.array(t))&&e.add(t),e.one("layoutready",(function(t){e.notifications(!0),e.emit(t),e.notify({type:"load",eles:e.mutableElements()}),e.one("load",n),e.emit("load")})).one("layoutstop",(function(){e.one("done",r),e.emit("done")}));var s=i.extend({},e._private.options.layout);s.eles=e.elements(),e.layout(s).run()}(r,(function(){e.startAnimationLoop(),f.ready=!0,a.fn(h.ready)&&e.on("ready",h.ready);for(var t=0;t<u.length;t++){var n=u[t];e.on("ready",n)}l&&(l.readies=[]),e.emit("ready")}),h.done)}))},c=u.prototype;i.extend(c,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},isDestroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.isDestroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return"null"===this._private.options.renderer.name},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container},options:function(){return i.copy(this._private.options)},json:function(t){var e=this,n=e._private,r=e.mutableElements();if(a.plainObject(t)){if(e.startBatch(),t.elements){var o={},s=function(t,n){for(var r=[],a=[],s=0;s<t.length;s++){var l=t[s],u=l.data.id,c=e.getElementById(u);o[u]=!0,0!==c.length?a.push({ele:c,json:l}):n?r.push(i.extend({group:n},l)):r.push(l)}e.add(r);for(var h=0;h<a.length;h++){var d=a[h],f=d.ele,p=d.json;f.json(p)}};if(a.array(t.elements))s(t.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],h=t.elements[c];a.array(h)&&s(h,c)}for(var d=0;d<r.length;d++){var f=r[d];!o[f.id()]&&(f.isParent()?(f.children().move({parent:null}),f.remove()):f.remove())}}t.style&&e.style(t.style),null!=t.zoom&&t.zoom!==n.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x===n.pan.x&&t.pan.y===n.pan.y||e.pan(t.pan));for(var p=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],v=0;v<p.length;v++){var g=p[v];null!=t[g]&&e[g](t[g])}return e.endBatch(),this}if(void 0===t){var y={elements:{}};return r.forEach((function(t){var e=t.group();y.elements[e]||(y.elements[e]=[]),y.elements[e].push(t.json())})),this._private.styleEnabled&&(y.style=e.style().json()),y.zoomingEnabled=e._private.zoomingEnabled,y.userZoomingEnabled=e._private.userZoomingEnabled,y.zoom=e._private.zoom,y.minZoom=e._private.minZoom,y.maxZoom=e._private.maxZoom,y.panningEnabled=e._private.panningEnabled,y.userPanningEnabled=e._private.userPanningEnabled,y.pan=i.copy(e._private.pan),y.boxSelectionEnabled=e._private.boxSelectionEnabled,y.renderer=i.copy(e._private.options.renderer),y.hideEdgesOnViewport=e._private.options.hideEdgesOnViewport,y.textureOnViewport=e._private.options.textureOnViewport,y.wheelSensitivity=e._private.options.wheelSensitivity,y.motionBlur=e._private.options.motionBlur,y}},scratch:l.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:l.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),c.$id=c.getElementById,[n(69),n(70),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(93)].forEach((function(t){i.extend(c,t)})),t.exports=u},function(t,e,n){t.exports=function(t,e){e||(e=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")});var n=function n(){var r=this,i=arguments,o=void 0,a=e.apply(r,i),s=n.cache;return(o=s[a])||(o=s[a]=t.apply(r,i)),o};return n.cache={},n}},function(t,e,n){var r=n(1),i=n(0),o=n(8);t.exports=function(t,e,n){if(n=!(void 0!==n&&!n),void 0!==t&&void 0!==e&&i.core(t)){var a=e.group;if(null==a&&(a=e.data&&null!=e.data.source&&null!=e.data.target?"edges":"nodes"),"nodes"===a||"edges"===a){this.length=1,this[0]=this;var s=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!e.selected,selectable:void 0===e.selectable||!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:void 0===e.grabbable||!!e.grabbable,active:!1,classes:new o,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1};if(e.renderedPosition){var l=e.renderedPosition,u=t.pan(),c=t.zoom();s.position={x:(l.x-u.x)/c,y:(l.y-u.y)/c}}if(i.string(e.classes))for(var h=e.classes.split(/\s+/),d=0,f=h.length;d<f;d++){var p=h[d];p&&""!==p&&s.classes.add(p)}(e.style||e.css)&&t.style().applyBypass(this,e.style||e.css),this.createEmitter(),(void 0===n||n)&&this.restore()}else r.error("An element must be of type `nodes` or `edges`; you specified `"+a+"`")}else r.error("An element must have a core reference and parameters set")}},function(t,e,n){var r=n(1),i=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort((function(t,e){return r.sort.descending(t.selector,e.selector)})),o="("+i.map((function(t){return t.selector})).join("|")+")";t.exports={stateSelectors:i,stateSelectorMatches:function t(e,n){return(t.lookup=t.lookup||function(){for(var t={},e=void 0,n=0;n<i.length;n++)t[(e=i[n]).selector]=e.matches;return t}())[e](n)},stateSelectorRegex:o}},function(t,e,n){
/*!
	Event object based on jQuery events, MIT license

	https://jquery.org/license/
	https://tldrlegal.com/license/mit-license
	https://github.com/jquery/jquery/blob/master/src/event.js
	*/
var r=function(t,e){this.recycle(t,e)};function i(){return!1}function o(){return!0}r.prototype={instanceString:function(){return"event"},recycle:function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=i,null!=t&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?o:i):null!=t&&t.type?e=t:this.type=t,null!=e&&(this.originalEvent=e.originalEvent,this.type=null!=e.type?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*r+a.x,y:n.y*r+a.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=o;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=o;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:i,isPropagationStopped:i,isImmediatePropagationStopped:i},t.exports=r},function(t,e,n){var r=n(1);t.exports=function(t,e){var n=t.cy().hasCompoundNodes();function i(t){var e=t.pstyle("z-compound-depth");return"auto"===e.value?n?t.zDepth():0:"bottom"===e.value?-1:"top"===e.value?r.MAX_INT:0}var o=i(t)-i(e);if(0!==o)return o;function a(t){return"auto"===t.pstyle("z-index-compare").value&&t.isNode()?1:0}var s=a(t)-a(e);if(0!==s)return s;var l=t.pstyle("z-index").value-e.pstyle("z-index").value;return 0!==l?l:t.poolIndex()-e.poolIndex()}},function(t,e,n){var r=n(0),i=n(1),o=n(6),a=function t(e){if(!(this instanceof t))return new t(e);r.core(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):i.error("A style must have a core reference")},s=a.prototype;s.instanceString=function(){return"style"},s.clear=function(){for(var t=0;t<this.length;t++)this[t]=void 0;return this.length=0,this._private.newStyle=!0,this},s.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},s.core=function(){return this._private.coreStyle},s.selector=function(t){var e="core"===t?null:new o(t),n=this.length++;return this[n]={selector:e,properties:[],mappedProperties:[],index:n},this},s.css=function(){var t=this,e=arguments;switch(e.length){case 1:for(var n=e[0],r=0;r<t.properties.length;r++){var o=t.properties[r],a=n[o.name];void 0===a&&(a=n[i.dash2camel(o.name)]),void 0!==a&&this.cssRule(o.name,a)}break;case 2:this.cssRule(e[0],e[1])}return this},s.style=s.css,s.cssRule=function(t,e){var n=this.parse(t,e);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},s.append=function(t){return r.stylesheet(t)?t.appendToStyle(this):r.array(t)?this.appendFromJson(t):r.string(t)&&this.appendFromString(t),this},a.fromJson=function(t,e){var n=new a(t);return n.fromJson(e),n},a.fromString=function(t,e){return new a(t).fromString(e)},[n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92)].forEach((function(t){i.extend(s,t)})),a.types=s.types,a.properties=s.properties,t.exports=a},function(t,e,n){var r=n(1);t.exports={setupDequeueing:function(t){return function(){var e=this,n=this.renderer;if(!e.dequeueingSetup){e.dequeueingSetup=!0;var i=r.debounce((function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()}),t.deqRedrawThreshold),o=t.priority||r.noop;n.beforeRender((function(o,a){for(var s=r.performanceNow(),l=n.averageRedrawTime,u=n.lastRedrawTime,c=[],h=n.cy.extent(),d=n.getPixelRatio();;){var f=r.performanceNow(),p=f-s,v=f-a;if(u<1e3/60){var g=1e3/60-(o?l:0);if(v>=t.deqFastCost*g)break}else if(o){if(p>=t.deqCost*u||p>=t.deqAvgCost*l)break}else if(v>=t.deqNoDrawCost*(1e3/60))break;var y=t.deq(e,d,h);if(!(y.length>0))break;for(var m=0;m<y.length;m++)c.push(y[m])}c.length>0&&(t.onDeqd(e,c),!o&&t.shouldRedraw(e,c,d,h)&&i())}),o(e))}}}}},function(t,e,n){var r=n(0),i=n(12),o=n(94),a=n(136),s=function(t){return void 0===t&&(t={}),r.plainObject(t)?new i(t):r.string(t)?o.apply(o,arguments):void 0};s.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(s),t.apply(null,e),this},s.version=n(137),s.stylesheet=s.Stylesheet=a,t.exports=s},function(t,e,n){var r=n(0);t.exports={hex2tuple:function(t){if((4===t.length||7===t.length)&&"#"===t[0]){var e=void 0,n=void 0,r=void 0;return 4===t.length?(e=parseInt(t[1]+t[1],16),n=parseInt(t[2]+t[2],16),r=parseInt(t[3]+t[3],16)):(e=parseInt(t[1]+t[2],16),n=parseInt(t[3]+t[4],16),r=parseInt(t[5]+t[6],16)),[e,n,r]}},hsl2tuple:function(t){var e=void 0,n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,l=void 0;function u(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var c=new RegExp("^"+this.regex.hsla+"$").exec(t);if(c){if((n=parseInt(c[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(c[2]))<0||r>100)return;if(r/=100,(i=parseFloat(c[3]))<0||i>100)return;if(i/=100,void 0!==(o=c[4])&&((o=parseFloat(o))<0||o>1))return;if(0===r)a=s=l=Math.round(255*i);else{var h=i<.5?i*(1+r):i+r-i*r,d=2*i-h;a=Math.round(255*u(d,h,n+1/3)),s=Math.round(255*u(d,h,n)),l=Math.round(255*u(d,h,n-1/3))}e=[a,s,l,o]}return e},rgb2tuple:function(t){var e=void 0,n=new RegExp("^"+this.regex.rgba+"$").exec(t);if(n){e=[];for(var r=[],i=1;i<=3;i++){var o=n[i];if("%"===o[o.length-1]&&(r[i]=!0),o=parseFloat(o),r[i]&&(o=o/100*255),o<0||o>255)return;e.push(Math.floor(o))}var a=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(a&&!s)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;e.push(l)}}return e},colorname2tuple:function(t){return this.colors[t.toLowerCase()]},color2tuple:function(t){return(r.array(t)?t:null)||this.colorname2tuple(t)||this.hex2tuple(t)||this.rgb2tuple(t)||this.hsl2tuple(t)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},function(t,e,n){var r=n(0);t.exports={mapEmpty:function(t){return null==t||0===Object.keys(t).length},pushMap:function(t){var e=this.getMap(t);null==e?this.setMap(this.extend({},t,{value:[t.value]})):e.push(t.value)},setMap:function(t){for(var e=t.map,n=t.keys,i=n.length,o=0;o<i;o++){var a=n[o];r.plainObject(a)&&this.error("Tried to set map with object key"),o<n.length-1?(null==e[a]&&(e[a]={}),e=e[a]):e[a]=t.value}},getMap:function(t){for(var e=t.map,n=t.keys,i=n.length,o=0;o<i;o++){var a=n[o];if(r.plainObject(a)&&this.error("Tried to get map with object key"),null==(e=e[a]))return e}return e},deleteMap:function(t){for(var e=t.map,n=t.keys,i=n.length,o=t.keepChildren,a=0;a<i;a++){var s=n[a];if(r.plainObject(s)&&this.error("Tried to delete map with object key"),a===t.keys.length-1)if(o)for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];o[c]||(e[c]=void 0)}else e[s]=void 0;else e=e[s]}}}},function(t,e,n){var r="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))";t.exports={regex:{number:r,rgba:"rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",rgbaNoBackRefs:"rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hsla:"hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hslaNoBackRefs:"hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hex3:"\\#[0-9a-fA-F]{3}",hex6:"\\#[0-9a-fA-F]{6}"}}},function(t,e,n){var r=n(13),i=n(0);t.exports={camel2dash:r((function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))})),dash2camel:r((function(t){return t.replace(/(-\w)/g,(function(t){return t[1].toUpperCase()}))})),prependCamel:r((function(t,e){return t+e[0].toUpperCase()+e.substring(1)}),(function(t,e){return t+"$"+e})),capitalize:function(t){return i.emptyString(t)?t:t.charAt(0).toUpperCase()+t.substring(1)}}},function(t,e,n){var r=n(3),i=r?r.performance:null,o={},a=i&&i.now?function(){return i.now()}:function(){return Date.now()},s=function(){if(r){if(r.requestAnimationFrame)return function(t){r.requestAnimationFrame(t)};if(r.mozRequestAnimationFrame)return function(t){r.mozRequestAnimationFrame(t)};if(r.webkitRequestAnimationFrame)return function(t){r.webkitRequestAnimationFrame(t)};if(r.msRequestAnimationFrame)return function(t){r.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout((function(){t(a())}),1e3/60)}}();o.requestAnimationFrame=function(t){s(t)},o.performanceNow=a,o.debounce=n(26),o.now=function(){return Date.now()},t.exports=o},function(e,n){e.exports=t},function(t,e,n){function r(t,e){return t<e?-1:t>e?1:0}t.exports={sort:{ascending:r,descending:function(t,e){return-1*r(t,e)}}}},function(t,e,n){function r(){this._obj={}}var i=r.prototype;i.set=function(t,e){this._obj[t]=e},i.delete=function(t){this._obj[t]=null},i.has=function(t){return null!=this._obj[t]},i.get=function(t){return this._obj[t]},t.exports=r},function(t,e,n){var r=n(1),i={};[n(30),n(31),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41)].forEach((function(t){r.extend(i,t)})),t.exports=i},function(t,e,n){var r=n(0),i=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(e,n,i){var o;r.plainObject(e)&&!r.elementOrCollection(e)&&(e=(o=e).roots||o.root,n=o.visit,i=o.directed),i=2!==arguments.length||r.fn(n)?i:n,n=r.fn(n)?n:function(){};for(var a,s=this._private.cy,l=e=r.string(e)?this.filter(e):e,u=[],c=[],h={},d={},f={},p=0,v=this.nodes(),g=this.edges(),y=0;y<l.length;y++)l[y].isNode()&&(u.unshift(l[y]),t.bfs&&(f[l[y].id()]=!0,c.push(l[y])),d[l[y].id()]=0);for(;0!==u.length;){if(l=t.bfs?u.shift():u.pop(),t.dfs){if(f[l.id()])continue;f[l.id()]=!0,c.push(l)}var m,b=d[l.id()],w=h[l.id()],_=null==w?void 0:w.connectedNodes().not(l)[0];if(!0===(m=n(l,w,_,p++,b))){a=l;break}if(!1===m)break;var x=l.connectedEdges(i?function(t){return t.data("source")===l.id()}:void 0).intersect(g);for(y=0;y<x.length;y++){var E=x[y],S=E.connectedNodes((function(t){return t.id()!==l.id()})).intersect(v);0===S.length||f[S.id()]||(S=S[0],u.push(S),t.bfs&&(f[S.id()]=!0,c.push(S)),h[S.id()]=E,d[S.id()]=d[l.id()]+1)}}var k=[];for(y=0;y<c.length;y++){var C=c[y],O=h[C.id()];O&&k.push(O),k.push(C)}return{path:s.collection(k,{unique:!0}),found:s.collection(a)}}},o={breadthFirstSearch:i({bfs:!0}),depthFirstSearch:i({dfs:!0})};o.bfs=o.breadthFirstSearch,o.dfs=o.depthFirstSearch,t.exports=o},function(t,e,n){var r=n(0),i=n(9),o={dijkstra:function(t,e,n){var o;r.plainObject(t)&&!r.elementOrCollection(t)&&(t=(o=t).root,e=o.weight,n=o.directed);var a=this._private.cy;e=r.fn(e)?e:function(){return 1};for(var s=r.string(t)?this.filter(t)[0]:t[0],l={},u={},c={},h=this.edges().filter((function(t){return!t.isLoop()})),d=this.nodes(),f=function(t){return l[t.id()]},p=function(t,e){l[t.id()]=e,v.updateItem(t)},v=new i((function(t,e){return f(t)-f(e)})),g=0;g<d.length;g++){var y=d[g];l[y.id()]=y.same(s)?0:1/0,v.push(y)}for(var m=function(t,r){for(var i,o=(n?t.edgesTo(r):t.edgesWith(r)).intersect(h),a=1/0,s=0;s<o.length;s++){var l=o[s],u=e(l);(u<a||!i)&&(a=u,i=l)}return{edge:i,dist:a}};v.size()>0;){var b=v.pop(),w=f(b),_=b.id();if(c[_]=w,w!==1/0){var x=b.neighborhood().intersect(d);for(g=0;g<x.length;g++){var E=x[g],S=E.id(),k=m(b,E),C=w+k.dist;C<f(E)&&(p(E,C),u[S]={node:b,edge:k.edge})}}}return{distanceTo:function(t){var e=r.string(t)?d.filter(t)[0]:t[0];return c[e.id()]},pathTo:function(t){var e=r.string(t)?d.filter(t)[0]:t[0],n=[],i=e;if(e.length>0)for(n.unshift(e);u[i.id()];){var o=u[i.id()];n.unshift(o.edge),n.unshift(o.node),i=o.node}return a.collection(n)}}}};t.exports=o},function(t,n){t.exports=e},function(t,e,n){var r=n(0),i={kruskal:function(t){var e=this.cy();function n(t){for(var e=0;e<o.length;e++){var n=o[e];if(n.anySame(t))return{eles:n,index:e}}}t=r.fn(t)?t:function(){return 1};for(var i=e.collection(e,[]),o=[],a=this.nodes(),s=0;s<a.length;s++)o.push(a[s].collection());var l=this.edges().toArray().sort((function(e,n){return t(e)-t(n)}));for(s=0;s<l.length;s++){var u=l[s],c=u.source()[0],h=u.target()[0],d=n(c),f=n(h);d.index!==f.index&&(i=i.add(u),o[d.index]=d.eles.add(f.eles),o.splice(f.index,1))}return a.add(i)}};t.exports=i},function(t,e,n){var r=n(0),i={aStar:function(t){t=t||{};var e=function t(e,n,r,o){if(e==n)return o.unshift(i.getElementById(n)),o;if(n in r){var a=r[n],s=v[n];return o.unshift(i.getElementById(s)),o.unshift(i.getElementById(n)),t(e,a,r,o)}},n=function(t,e){if(0!==t.length){for(var n=0,r=e[t[0]],i=1;i<t.length;i++){var o=e[t[i]];o<r&&(r=o,n=i)}return n}},i=this._private.cy;if(null!=t&&null!=t.root){var o=r.string(t.root)?this.filter(t.root)[0]:t.root[0];if(null!=t.goal){var a=r.string(t.goal)?this.filter(t.goal)[0]:t.goal[0];if(null!=t.heuristic&&r.fn(t.heuristic))var s=t.heuristic;else s=function(){return 0};if(null!=t.weight&&r.fn(t.weight))var l=t.weight;else l=function(t){return 1};if(null!=t.directed)var u=t.directed;else u=!1;var c=o.id(),h=a.id(),d=[],f=[c],p={},v={},g={},y={};g[c]=0,y[c]=s(o);for(var m=0;f.length>0;){var b=n(f,y),w=i.getElementById(f[b]),_=w.id();if(m++,_==h){var x=e(c,h,p,[]);return{found:!0,distance:g[_],path:this.spawn(x),steps:m}}d.push(_),f.splice(b,1);for(var E=w._private.edges,S=0;S<E.length;S++){var k=E[S];if(this.hasElementWithId(k.id())&&(!u||k.data("source")===_)){var C=k.source(),O=k.target(),T=C.id()!==_?C:O,P=T.id();if(this.hasElementWithId(P)&&-1==d.indexOf(P)){var N=g[_]+l(k);-1!=f.indexOf(P)?N<g[P]&&(g[P]=N,y[P]=N+s(T),p[P]=_):(g[P]=N,y[P]=N+s(T),f.push(P),p[P]=_,v[P]=k.id())}}}}return{found:!1,distance:void 0,path:void 0,steps:m}}}}};t.exports=i},function(t,e,n){var r=n(0),i={floydWarshall:function(t){t=t||{};var e=this.cy();if(null!=t.weight&&r.fn(t.weight))var n=t.weight;else n=function(t){return 1};if(null!=t.directed)var i=t.directed;else i=!1;for(var o=this.edges().stdFilter((function(t){return!t.isLoop()})),a=this.nodes(),s=a.length,l={},u=0;u<s;u++)l[a[u].id()]=u;var c=[];for(u=0;u<s;u++){for(var h=new Array(s),d=0;d<s;d++)h[d]=u==d?0:1/0;c.push(h)}var f=[],p=[],v=function(t){for(var e=0;e<s;e++){for(var n=new Array(s),r=0;r<s;r++)n[r]=void 0;t.push(n)}};for(v(f),v(p),u=0;u<o.length;u++){var g=l[o[u].source().id()],y=l[o[u].target().id()],m=n(o[u]);c[g][y]>m&&(c[g][y]=m,f[g][y]=y,p[g][y]=o[u])}if(!i)for(u=0;u<o.length;u++)g=l[o[u].target().id()],y=l[o[u].source().id()],m=n(o[u]),c[g][y]>m&&(c[g][y]=m,f[g][y]=y,p[g][y]=o[u]);for(var b=0;b<s;b++)for(u=0;u<s;u++)for(d=0;d<s;d++)c[u][b]+c[b][d]<c[u][d]&&(c[u][d]=c[u][b]+c[b][d],f[u][d]=f[u][b]);var w=[];for(u=0;u<s;u++)w.push(a[u].id());return{distance:function(t,n){if(r.string(t))var i=e.filter(t)[0].id();else i=t.id();if(r.string(n))var o=e.filter(n)[0].id();else o=n.id();return c[l[i]][l[o]]},path:function(t,n){if(r.string(t))var i=e.filter(t)[0].id();else i=t.id();if(r.string(n))var o=e.filter(n)[0].id();else o=n.id();var a=function(t,n,r,i,o){if(t===n)return e.getElementById(i[t]);if(void 0!==r[t][n]){for(var a=[e.getElementById(i[t])],s=t;t!==n;){s=t,t=r[t][n];var l=o[s][t];a.push(l),a.push(e.getElementById(i[t]))}return a}}(l[i],l[o],f,w,p);return e.collection(a)}}}};t.exports=i},function(t,e,n){var r=n(0),i=n(1),o={bellmanFord:function(t){var e=this;if(null!=(t=t||{}).weight&&r.fn(t.weight))var n=t.weight;else n=function(t){return 1};if(null!=t.directed)var o=t.directed;else o=!1;if(null!=t.root){if(r.string(t.root))var a=this.filter(t.root)[0];else a=t.root[0];for(var s=this._private.cy,l=this.edges().stdFilter((function(t){return!t.isLoop()})),u=this.nodes(),c=u.length,h={},d=0;d<c;d++)h[u[d].id()]=d;var f=[],p=[],v=[];for(d=0;d<c;d++)u[d].id()===a.id()?f[d]=0:f[d]=1/0,p[d]=void 0;var g=!1;for(d=1;d<c;d++){g=!1;for(var y=0;y<l.length;y++){var m,b=h[l[y].source().id()],w=h[l[y].target().id()],_=n(l[y]);(m=f[b]+_)<f[w]&&(f[w]=m,p[w]=b,v[w]=l[y],g=!0),o||(m=f[w]+_)<f[b]&&(f[b]=m,p[b]=w,v[b]=l[y],g=!0)}if(!g)break}if(g)for(y=0;y<l.length;y++)if(b=h[l[y].source().id()],w=h[l[y].target().id()],_=n(l[y]),f[b]+_<f[w])return i.error("Graph contains a negative weight cycle for Bellman-Ford"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0};var x=[];for(d=0;d<c;d++)x.push(u[d].id());return{distanceTo:function(t){if(r.string(t))var e=s.filter(t)[0].id();else e=t.id();return f[h[e]]},pathTo:function(t){if(r.string(t))var n=s.filter(t)[0].id();else n=t.id();var i=function(t,e,n,r,i,o){for(;;){if(i.push(s.getElementById(r[n])),i.push(o[n]),e===n)return i;var a=t[n];if(void 0===a)return;n=a}}(p,h[a.id()],h[n],x,[],v);return null!=i&&i.reverse(),e.spawn(i)},hasNegativeWeightCycle:!1}}}};t.exports=o},function(t,e,n){var r=n(1),i={kargerStein:function(t){t=t||{};var e=function t(e,n,r,i){return r<=i?n:t(e,function(t,e,n){for(var r=n[t],i=r[1],o=r[2],a=e[i],s=e[o],l=n.filter((function(t){return!(e[t[1]]===a&&e[t[2]]===s||e[t[1]]===s&&e[t[2]]===a)})),u=0;u<l.length;u++){var c=l[u];c[1]===s?(l[u]=c.slice(0),l[u][1]=a):c[2]===s&&(l[u]=c.slice(0),l[u][2]=a)}for(u=0;u<e.length;u++)e[u]===s&&(e[u]=a);return l}(Math.floor(Math.random()*n.length),e,n),r-1,i)},n=this._private.cy,i=this.edges().stdFilter((function(t){return!t.isLoop()})),o=this.nodes(),a=o.length,s=i.length,l=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),u=Math.floor(a/Math.sqrt(2));if(!(a<2)){for(var c={},h=0;h<a;h++)c[o[h].id()]=h;var d=[];for(h=0;h<s;h++){var f=i[h];d.push([h,c[f.source().id()],c[f.target().id()]])}var p,v=1/0,g=[];for(h=0;h<a;h++)g.push(h);for(var y=0;y<=l;y++){var m=g.slice(0),b=e(m,d,a,u),w=m.slice(0),_=e(m,b,u,2),x=e(w,b,u,2);_.length<=x.length&&_.length<v?(v=_.length,p=[_,m]):x.length<=_.length&&x.length<v&&(v=x.length,p=[x,w])}var E=p[0].map((function(t){return i[t[0]]})),S=[],k=[],C=p[1][0];for(h=0;h<p[1].length;h++)p[1][h]===C?S.push(o[h]):k.push(o[h]);return{cut:this.spawn(n,E),partition1:this.spawn(S),partition2:this.spawn(k)}}r.error("At least 2 nodes are required for Karger-Stein algorithm")}};t.exports=i},function(t,e,n){var r=n(0),i={pageRank:function(t){var e=function(t){for(var e=t.length,n=0,r=0;r<e;r++)n+=t[r];for(r=0;r<e;r++)t[r]=t[r]/n};if(null!=(t=t||{})&&null!=t.dampingFactor)var n=t.dampingFactor;else n=.8;if(null!=t&&null!=t.precision)var i=t.precision;else i=1e-6;if(null!=t&&null!=t.iterations)var o=t.iterations;else o=200;if(null!=t&&null!=t.weight&&r.fn(t.weight))var a=t.weight;else a=function(t){return 1};for(var s=this._private.cy,l=this.edges().stdFilter((function(t){return!t.isLoop()})),u=this.nodes(),c=u.length,h=l.length,d={},f=0;f<c;f++)d[u[f].id()]=f;var p=[],v=[],g=(1-n)/c;for(f=0;f<c;f++){for(var y=[],m=0;m<c;m++)y.push(0);p.push(y),v.push(0)}for(f=0;f<h;f++){var b=l[f],w=d[b.source().id()],_=d[b.target().id()],x=a(b);p[_][w]+=x,v[w]+=x}var E=1/c+g;for(m=0;m<c;m++)if(0===v[m])for(f=0;f<c;f++)p[f][m]=E;else for(f=0;f<c;f++)p[f][m]=p[f][m]/v[m]+g;var S,k=[],C=[];for(f=0;f<c;f++)k.push(1),C.push(0);for(var O=0;O<o;O++){var T=C.slice(0);for(f=0;f<c;f++)for(m=0;m<c;m++)T[f]+=p[f][m]*k[m];e(T),S=k,k=T;var P=0;for(f=0;f<c;f++)P+=Math.pow(S[f]-k[f],2);if(P<i)break}return{rank:function(t){if(r.string(t))var e=s.filter(t)[0].id();else e=t.id();return k[d[e]]}}}};t.exports=i},function(t,e,n){var r=n(0),i=n(1),o={degreeCentralityNormalized:function(t){t=t||{};var e=this.cy();if(null!=t.directed)var n=t.directed;else n=!1;var o=this.nodes(),a=o.length;if(n){var s={},l={},u=0,c=0;for(f=0;f<a;f++)p=o[f],v=this.degreeCentrality(i.extend({},t,{root:p})),u<v.indegree&&(u=v.indegree),c<v.outdegree&&(c=v.outdegree),s[p.id()]=v.indegree,l[p.id()]=v.outdegree;return{indegree:function(t){return 0==u?0:(t=r.string(t)?e.filter(t)[0].id():t.id(),s[t]/u)},outdegree:function(t){return 0==c?0:(t=r.string(t)?e.filter(t)[0].id():t.id(),l[t]/c)}}}for(var h={},d=0,f=0;f<a;f++){var p=o[f],v=this.degreeCentrality(i.extend({},t,{root:p}));d<v.degree&&(d=v.degree),h[p.id()]=v.degree}return{degree:function(t){return 0==d?0:(t=r.string(t)?e.filter(t)[0].id():t.id(),h[t]/d)}}},degreeCentrality:function(t){if(null!=(t=t||{})&&null!=t.root){var e=r.string(t.root)?this.filter(t.root)[0]:t.root[0];if(null!=t.weight&&r.fn(t.weight))var n=t.weight;else n=function(t){return 1};if(null!=t.directed)var i=t.directed;else i=!1;if(null!=t.alpha&&r.number(t.alpha))var o=t.alpha;else o=0;if(i){var a=e.connectedEdges('edge[target = "'+e.id()+'"]').intersection(this),s=e.connectedEdges('edge[source = "'+e.id()+'"]').intersection(this),l=a.length,u=s.length,c=0,h=0;for(v=0;v<a.length;v++)c+=n(a[v]);for(v=0;v<s.length;v++)h+=n(s[v]);return{indegree:Math.pow(l,1-o)*Math.pow(c,o),outdegree:Math.pow(u,1-o)*Math.pow(h,o)}}for(var d=e.connectedEdges().intersection(this),f=d.length,p=0,v=0;v<d.length;v++)p+=n(d[v]);return{degree:Math.pow(f,1-o)*Math.pow(p,o)}}}};o.dc=o.degreeCentrality,o.dcn=o.degreeCentralityNormalised=o.degreeCentralityNormalized,t.exports=o},function(t,e,n){var r=n(0),i={closenessCentralityNormalized:function(t){t=t||{};var e=this.cy(),n=t.harmonic;void 0===n&&(n=!0);for(var i={},o=0,a=this.nodes(),s=this.floydWarshall({weight:t.weight,directed:t.directed}),l=0;l<a.length;l++){for(var u=0,c=0;c<a.length;c++)if(l!=c){var h=s.distance(a[l],a[c]);u+=n?1/h:h}n||(u=1/u),o<u&&(o=u),i[a[l].id()]=u}return{closeness:function(t){return 0==o?0:(t=r.string(t)?e.filter(t)[0].id():t.id(),i[t]/o)}}},closenessCentrality:function(t){if(null!=(t=t||{}).root){if(r.string(t.root))var e=this.filter(t.root)[0];else e=t.root[0];if(null!=t.weight&&r.fn(t.weight))var n=t.weight;else n=function(){return 1};if(null!=t.directed&&r.bool(t.directed))var i=t.directed;else i=!1;var o=t.harmonic;void 0===o&&(o=!0);for(var a=this.dijkstra({root:e,weight:n,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++)if(l[u].id()!=e.id()){var c=a.distanceTo(l[u]);s+=o?1/c:c}return o?s:1/s}}};i.cc=i.closenessCentrality,i.ccn=i.closenessCentralityNormalised=i.closenessCentralityNormalized,t.exports=i},function(t,e,n){var r=n(0),i=n(9),o={betweennessCentrality:function(t){var e,n;t=t||{},r.fn(t.weight)?(n=t.weight,e=!0):e=!1;for(var o=null!=t.directed&&t.directed,a=this._private.cy,s=this.nodes(),l={},u={},c=0,h=function(t,e){u[t]=e,e>c&&(c=e)},d=function(t){return u[t]},f=0;f<s.length;f++)l[_=(x=s[f]).id()]=o?x.outgoers().nodes():x.openNeighborhood().nodes(),h(_,0);for(var p=0;p<s.length;p++){var v=s[p].id(),g=[],y={},m={},b={},w=new i((function(t,e){return b[t]-b[e]}));for(f=0;f<s.length;f++){var _;y[_=s[f].id()]=[],m[_]=0,b[_]=1/0}for(m[v]=1,b[v]=0,w.push(v);!w.empty();){var x=w.pop();if(g.push(x),e)for(var E=0;E<l[x].length;E++){var S=l[x][E],k=a.getElementById(x),C=n(k.edgesTo(S).length>0?k.edgesTo(S)[0]:S.edgesTo(k)[0]);S=S.id(),b[S]>b[x]+C&&(b[S]=b[x]+C,w.nodes.indexOf(S)<0?w.push(S):w.updateItem(S),m[S]=0,y[S]=[]),b[S]==b[x]+C&&(m[S]=m[S]+m[x],y[S].push(x))}else for(E=0;E<l[x].length;E++)S=l[x][E].id(),b[S]==1/0&&(w.push(S),b[S]=b[x]+1),b[S]==b[x]+1&&(m[S]=m[S]+m[x],y[S].push(x))}var O={};for(f=0;f<s.length;f++)O[s[f].id()]=0;for(;g.length>0;)for(S=g.pop(),E=0;E<y[S].length;E++)O[x=y[S][E]]=O[x]+m[x]/m[S]*(1+O[S]),S!=s[p].id()&&h(S,d(S)+O[S])}var T={betweenness:function(t){return t=r.string(t)?a.filter(t).id():t.id(),d(t)},betweennessNormalized:function(t){return 0==c?0:(t=r.string(t)?a.filter(t).id():t.id(),d(t)/c)}};return T.betweennessNormalised=T.betweennessNormalized,T}};o.bc=o.betweennessCentrality,t.exports=o},function(t,e,n){var r=n(4),i={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop()};t.exports=i},function(t,e,n){var r=n(1),i=n(44),o=n(2),a=n(0),s={animated:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var e=t[0];return e?e._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var e=0;e<t.length;e++)t[e]._private.animation.queue=[];return this}},delay:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animate({delay:t,duration:t,complete:e}):this}},delayAnimation:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animation({delay:t,duration:t,complete:e}):this}},animation:function(){return function(t,e){var n=void 0!==this.length,s=n?this:[this],l=this._private.cy||this,u=!n,c=!u;if(!l.styleEnabled())return this;var h=l.style();if(t=r.assign({},t,e),0===Object.keys(t).length)return new i(s[0],t);switch(void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}if(c&&(t.style=h.getPropsList(t.style||t.css),t.css=void 0),c&&null!=t.renderedPosition){var d=t.renderedPosition,f=l.pan(),p=l.zoom();t.position=o.renderedToModelPosition(d,p,f)}if(u&&null!=t.panBy){var v=t.panBy,g=l.pan();t.pan={x:g.x+v.x,y:g.y+v.y}}var y=t.center||t.centre;if(u&&null!=y){var m=l.getCenterPan(y.eles,t.zoom);null!=m&&(t.pan=m)}if(u&&null!=t.fit){var b=t.fit,w=l.getFitViewport(b.eles||b.boundingBox,b.padding);null!=w&&(t.pan=w.pan,t.zoom=w.zoom)}if(u&&a.plainObject(t.zoom)){var _=l.getZoomedViewport(t.zoom);null!=_&&(_.zoomed&&(t.zoom=_.zoom),_.panned&&(t.pan=_.pan))}return new i(s[0],t)}},animate:function(){return function(t,e){var n=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;e&&(t=r.extend({},t,e));for(var i=0;i<n.length;i++){var o=n[i],a=o.animated()&&(void 0===t.queue||t.queue);o.animation(t,a?{queue:!0}:void 0).play()}return this}},stop:function(){return function(t,e){var n=void 0!==this.length?this:[this],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var i=0;i<n.length;i++){for(var o=n[i]._private,a=o.animation.current,s=0;s<a.length;s++){var l=a[s]._private;e&&(l.duration=0)}t&&(o.animation.queue=[]),e||(o.animation.current=[])}return r.notify({eles:this,type:"draw"}),this}}};t.exports=s},function(t,e,n){var r=n(1),i=n(0),o=n(5),a=function(t,e,n){var o=this._private=r.extend({duration:1e3},e,n);o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&i.fn(o.complete)&&o.completes.push(o.complete),this.length=1,this[0]=this},s=a.prototype;r.extend(s,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var e=t.target._private.animation;(t.queue?e.queue:e.current).push(this),i.elementOrCollection(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return 1===t.progress&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var e=this._private;return void 0===t?e.progress*e.duration:this.progress(t/e.duration)},progress:function(t){var e=this._private,n=e.playing;return void 0===t?e.progress:(n&&this.pause(),e.progress=t,e.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(e,n){var r=t[e];null!=r&&(t[e]=t[n],t[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var r=0;r<t.style.length;r++){var i=t.style[r],o=i.name,a=t.startStyle[o];t.startStyle[o]=i,t.style[r]=a}return e&&this.play(),this},promise:function(t){var e=this._private,n=void 0;switch(t){case"frame":n=e.frames;break;default:case"complete":case"completed":n=e.completes}return new o((function(t,e){n.push((function(){t()}))}))}}),s.complete=s.completed,t.exports=a},function(t,e,n){var r=n(1),i=n(0),o={data:function(t){return t=r.extend({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(t){},beforeSet:function(t,e){},onSet:function(t){},canSet:function(t){return!0}},t),function(e,n){var r=t,o=void 0!==this.length,a=o?this:[this],s=o?this[0]:this;if(i.string(e)){if(r.allowGetting&&void 0===n){var l=void 0;return s&&(r.beforeGet(s),l=s._private[r.field][e]),l}if(r.allowSetting&&void 0!==n&&!r.immutableKeys[e]){var u=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n);r.beforeSet(this,u);for(var c=0,h=a.length;c<h;c++){var d=a[c];r.canSet(d)&&(d._private[r.field][e]=n)}r.updateStyle&&this.updateStyle(),r.onSet(this),r.settingTriggersEvent&&this[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&i.plainObject(e)){var f=e,p=void 0,v=void 0,g=Object.keys(f);r.beforeSet(this,f);for(var y=0;y<g.length;y++)if(v=f[p=g[y]],!r.immutableKeys[p])for(var m=0;m<a.length;m++){var b=a[m];r.canSet(b)&&(b._private[r.field][p]=v)}r.updateStyle&&this.updateStyle(),r.onSet(this),r.settingTriggersEvent&&this[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&i.fn(e)){var w=e;this.on(r.bindingEvent,w)}else if(r.allowGetting&&void 0===e){var _=void 0;return s&&(r.beforeGet(s),_=s._private[r.field]),_}return this}},removeData:function(t){return t=r.extend({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},t),function(e){var n=t,r=void 0!==this.length?this:[this];if(i.string(e)){for(var o=e.split(/\s+/),a=o.length,s=0;s<a;s++){var l=o[s];if(!i.emptyString(l)&&!n.immutableKeys[l])for(var u=0,c=r.length;u<c;u++)r[u]._private[n.field][l]=void 0}n.triggerEvent&&this[n.triggerFnName](n.event)}else if(void 0===e){for(var h=0,d=r.length;h<d;h++)for(var f=r[h]._private[n.field],p=Object.keys(f),v=0;v<p.length;v++){var g=p[v];!n.immutableKeys[g]&&(f[g]=void 0)}n.triggerEvent&&this[n.triggerFnName](n.event)}return this}}};t.exports=o},function(t,e,n){var r=n(5),i={eventAliasesOn:function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(t,e){var n=this,i=Array.prototype.slice.call(arguments,0);return new r((function(t,e){var r=i.concat([function(e){n.off.apply(n,o),t(e)}]),o=r.concat([]);n.on.apply(n,r)}))}}};t.exports=i},function(t,e,n){var r=n(8),i={classes:function(t){t=(t||"").match(/\S+/g)||[];for(var e=this,n=[],i=new r(t),o=function(t){var o=e[t],a=o._private,s=a.classes,l=!1;i.forEach((function(t){s.has(t)||(l=!0)})),l||s.forEach((function(t){i.has(t)||(l=!0)})),l&&(a.classes=new r(i),n.push(o))},a=0;a<e.length;a++)o(a);return n.length>0&&this.spawn(n).updateStyle().emit("class"),e},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var e=this[0];return null!=e&&e._private.classes.has(t)},toggleClass:function(t,e){for(var n=t.match(/\S+/g)||[],r=[],i=0,o=this.length;i<o;i++)for(var a=this[i],s=!1,l=0;l<n.length;l++){var u=n[l],c=a._private.classes,h=c.has(u);e||void 0===e&&!h?(c.add(u),h||s||(r.push(a),s=!0)):(c.delete(u),h&&!s&&(r.push(a),s=!0))}return r.length>0&&this.spawn(r).updateStyle().emit("class"),this},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,e){var n=this;if(null==e)e=250;else if(0===e)return n;return n.addClass(t),setTimeout((function(){n.removeClass(t)}),e),n}};t.exports=i},function(t,e,n){n(0);var r=n(6),i={allAre:function(t){var e=new r(t);return this.every((function(t){return e.matches(t)}))},is:function(t){var e=new r(t);return this.some((function(t){return e.matches(t)}))},some:function(t,e){for(var n=0;n<this.length;n++)if(e?t.apply(e,[this[n],n,this]):t(this[n],n,this))return!0;return!1},every:function(t,e){for(var n=0;n<this.length;n++)if(!(e?t.apply(e,[this[n],n,this]):t(this[n],n,this)))return!1;return!0},same:function(t){return t=this.cy().collection(t),this.length===t.length&&this.every((function(e){return t.hasElementWithId(e.id())}))},anySame:function(t){return t=this.cy().collection(t),this.some((function(e){return t.hasElementWithId(e.id())}))},allAreNeighbors:function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every((function(t){return e.hasElementWithId(t.id())}))},contains:function(t){t=this.cy().collection(t);var e=this;return t.every((function(t){return e.hasElementWithId(t.id())}))}};i.allAreNeighbours=i.allAreNeighbors,i.has=i.contains,t.exports=i},function(t,e,n){var r=n(1),i=n(50),o=n(10),a=function(t){for(var e=void 0,n=void 0,r=void 0,o=0;o<i.length;o++){var a=i[o],s=a.name,l=t.match(a.regexObj);if(null!=l){n=l,e=a,r=s;var u=l[0];t=t.substring(u.length);break}}return{expr:e,match:n,name:r,remaining:t}};t.exports={parse:function(t){var e=this._private.selectorText=t,n=this[0]=o();for(this.length=1,e=function(t){var e=t.match(/^\s+/);if(e){var n=e[0];t=t.substring(n.length)}return t}(e);;){var i=a(e);if(null==i.expr)return r.error("The selector `"+t+"`is invalid"),!1;var s=i.match.slice(1),l=i.expr.populate(this,n,s);if(!1===l)return!1;if(null!=l&&(n=l),(e=i.remaining).match(/^\s*$/))break}for(var u=0;u<this.length;u++){var c=this[u];if(null!=c.subject){for(;c.subject!==c;)if(null!=c.parent){var h=c.parent,d=c;d.parent=null,h.child=d,c=h}else{if(null==c.ancestor)return c.source||c.target||c.connectedNodes?(r.error("The selector `"+this.text()+"` can not contain a subject selector that applies to the source or target of an edge selector"),!1):(r.error("When adjusting references for the selector `"+this.text()+"`, neither parent nor ancestor was found"),!1);var f=c.ancestor,p=c;p.ancestor=null,f.descendant=p,c=f}this[u]=c.subject}}return!0}}},function(t,e,n){var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(15).stateSelectorRegex,o=n(51),a=n(1),s=n(10),l=function(t){return t.replace(new RegExp("\\\\("+o.metaChar+")","g"),(function(t,e){return e}))},u=function(t,e,n){e===t[t.length-1]&&(t[t.length-1]=n)},c=[{name:"group",query:!0,regex:"("+o.group+")",populate:function(t,e,n){var i=r(n,1)[0];e.group="*"===i?i:i+"s"}},{name:"state",query:!0,regex:i,populate:function(t,e,n){var i=r(n,1)[0];e.colonSelectors.push(i)}},{name:"id",query:!0,regex:"\\#("+o.id+")",populate:function(t,e,n){var i=r(n,1)[0];e.ids.push(l(i))}},{name:"className",query:!0,regex:"\\.("+o.className+")",populate:function(t,e,n){var i=r(n,1)[0];e.classes.push(l(i))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+o.variable+")\\s*\\]",populate:function(t,e,n){var i=r(n,1)[0];e.data.push({field:l(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+o.variable+")\\s*("+o.comparatorOp+")\\s*("+o.value+")\\s*\\]",populate:function(t,e,n){var i=r(n,3),a=i[0],s=i[1],u=i[2];u=null!=new RegExp("^"+o.string+"$").exec(u)?u.substring(1,u.length-1):parseFloat(u),e.data.push({field:l(a),operator:s,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+o.boolOp+")\\s*("+o.variable+")\\s*\\]",populate:function(t,e,n){var i=r(n,2),o=i[0],a=i[1];e.data.push({field:l(a),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+o.meta+")\\s*("+o.comparatorOp+")\\s*("+o.number+")\\s*\\]\\]",populate:function(t,e,n){var i=r(n,3),o=i[0],a=i[1],s=i[2];e.meta.push({field:l(o),operator:a,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:o.separator,populate:function(t){var e=t[t.length++]=s();return t.currentSubject=null,e}},{name:"directedEdge",separator:!0,regex:o.directedEdge,populate:function(t,e){var n=s(),r=e,i=s();return n.group="edges",n.target=i,n.source=r,n.subject=t.currentSubject,u(t,e,n),i}},{name:"undirectedEdge",separator:!0,regex:o.undirectedEdge,populate:function(t,e){var n=s(),r=e,i=s();return n.group="edges",n.connectedNodes=[r,i],n.subject=t.currentSubject,u(t,e,n),i}},{name:"child",separator:!0,regex:o.child,populate:function(t,e){var n=s();return n.parent=e,n.subject=t.currentSubject,u(t,e,n),n}},{name:"descendant",separator:!0,regex:o.descendant,populate:function(t,e){var n=s();return n.ancestor=e,n.subject=t.currentSubject,u(t,e,n),n}},{name:"subject",modifier:!0,regex:o.subject,populate:function(t,e){if(null!=t.currentSubject&&e.subject!=e)return a.error("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e,e.subject=e,t[t.length-1].subject=e}}];c.forEach((function(t){return t.regexObj=new RegExp("^"+t.regex)})),t.exports=c},function(t,e,n){var r={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:n(1).regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};r.variable="(?:[\\w-]|(?:\\\\"+r.metaChar+"))+",r.value=r.string+"|"+r.number,r.className=r.variable,r.id=r.variable,function(){var t=void 0,e=void 0,n=void 0;for(t=r.comparatorOp.split("|"),n=0;n<t.length;n++)e=t[n],r.comparatorOp+="|@"+e;for(t=r.comparatorOp.split("|"),n=0;n<t.length;n++)(e=t[n]).indexOf("!")>=0||"="!==e&&(r.comparatorOp+="|\\!"+e)}(),t.exports=r},function(t,e,n){var r=n(15).stateSelectorMatches,i=n(0),o=function(t,e){for(var n=!0,r=0;r<t[e.name].length;r++){var o=t[e.name][r],a=o.operator,s=o.value,l=o.field,u=void 0,c=e.fieldValue(l);if(null!=a&&null!=s){var h=i.string(c)||i.number(c)?""+c:"",d=""+s,f=!1;a.indexOf("@")>=0&&(h=h.toLowerCase(),d=d.toLowerCase(),a=a.replace("@",""),f=!0);var p=!1;a.indexOf("!")>=0&&(a=a.replace("!",""),p=!0),f&&(s=d.toLowerCase(),c=h.toLowerCase());var v=!1;switch(a){case"*=":u=h.indexOf(d)>=0;break;case"$=":u=h.indexOf(d,h.length-d.length)>=0;break;case"^=":u=0===h.indexOf(d);break;case"=":u=c===s;break;case">":v=!0,u=c>s;break;case">=":v=!0,u=c>=s;break;case"<":v=!0,u=c<s;break;case"<=":v=!0,u=c<=s;break;default:u=!1}!p||null==c&&v||(u=!u)}else if(null!=a)switch(a){case"?":u=!!c;break;case"!":u=!c;break;case"^":u=void 0===c}else u=void 0!==c;if(!u){n=!1;break}}return n},a=function(t,e,n){if(null!=t){var r=!1;if(!e)return!1;n=n();for(var i=0;i<n.length;i++)if(s(t,n[i])){r=!0;break}return r}return!0},s=function(t,e){if(t.groupOnly)return"*"===t.group||t.group===e.group();if(null!=t.group&&"*"!=t.group&&t.group!=e.group())return!1;var n=e.cy(),i=void 0,s=!0;for(i=0;i<t.colonSelectors.length;i++){var l=t.colonSelectors[i];if(!(s=r(l,e)))break}if(!s)return!1;var u=!0;for(i=0;i<t.ids.length;i++){var c=t.ids[i],h=e.id();if(!(u=u&&c==h))break}if(!u)return!1;var d=!0;for(i=0;i<t.classes.length;i++){var f=t.classes[i];if(!(d=d&&e.hasClass(f)))break}if(!d)return!1;if(!o(t,{name:"data",fieldValue:function(t){return e.data(t)}}))return!1;if(!o(t,{name:"meta",fieldValue:function(t){return e[t]()}}))return!1;if(null!=t.collection&&!t.collection.hasElementWithId(e.id()))return!1;if(null!=t.filter&&e.collection().some(t.filter))return!1;var p=n.hasCompoundNodes(),v=function(){return e.source()},g=function(){return e.target()};if(!a(t.parent,p,(function(){return e.parent()})))return!1;if(!a(t.ancestor,p,(function(){return e.parents()})))return!1;if(!a(t.child,p,(function(){return e.children()})))return!1;if(!a(t.descendant,p,(function(){return e.descendants()})))return!1;if(!a(t.source,!0,v))return!1;if(!a(t.target,!0,g))return!1;if(t.connectedNodes){var y=t.connectedNodes[0],m=t.connectedNodes[1];if(a(y,!0,v)&&a(m,!0,g));else if(!a(y,!0,g)||!a(m,!0,v))return!1}return!0};t.exports={matches:function(t){if(this.invalid())return!1;for(var e=0;e<this.length;e++){var n=this[e];if(s(n,t))return!0}return!1},filter:function(t){var e=this,n=t.cy();if(e.invalid())return n.collection();if(1===e.length&&1===e[0].length&&1===e[0].ids.length)return t.getElementById(e[0].ids[0]).collection();var r=function(t){for(var n=0;n<e.length;n++){var r=e[n];if(s(r,t))return!0}return!1};return null==e.text()&&(r=function(){return!0}),t.filter(r)}}},function(t,e,n){var r=n(8),i={parent:function(t){var e=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var i=this[r]._private.parent;i&&e.push(i)}return this.spawn(e,{unique:!0}).filter(t)},parents:function(t){for(var e=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];e.push(i)}n=n.parent()}return this.spawn(e,{unique:!0}).filter(t)},commonAncestors:function(t){for(var e=void 0,n=0;n<this.length;n++){var r=this[n].parents();e=(e=e||r).intersect(r)}return e.filter(t)},orphans:function(t){return this.stdFilter((function(t){return t.isOrphan()})).filter(t)},nonorphans:function(t){return this.stdFilter((function(t){return t.isChild()})).filter(t)},children:function(t){for(var e=[],n=0;n<this.length;n++){var r=this[n];e=e.concat(r._private.children)}return this.spawn(e,{unique:!0}).filter(t)},siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&0!==t._private.children.length},isChildless:function(){var t=this[0];if(t)return t.isNode()&&0===t._private.children.length},isChild:function(){var t=this[0];if(t)return t.isNode()&&null!=t._private.parent},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&null==t._private.parent},descendants:function(t){var e=[];return function t(n){for(var r=0;r<n.length;r++){var i=n[r];e.push(i),i.children().nonempty()&&t(i.children())}}(this.children()),this.spawn(e,{unique:!0}).filter(t)}};function o(t,e,n,i){for(var o=[],a=new r,s=t.cy().hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];n?o.push(u):s&&i(o,a,u)}for(;o.length>0;){var c=o.shift();e(c),a.add(c.id()),s&&i(o,a,c)}return t}function a(t,e,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var o=r[i];e.has(o.id())||t.push(o)}}function s(t,e,n){if(n.isChild()){var r=n._private.parent;e.has(r.id())||t.push(r)}}function l(t,e,n){s(t,e,n),a(t,e,n)}i.forEachDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o(this,t,e,a)},i.forEachUp=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o(this,t,e,s)},i.forEachUpAndDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o(this,t,e,l)},i.ancestors=i.parents,t.exports=i},function(t,e,n){var r,i=n(4),o=void 0;(o=r={data:i.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:i.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:i.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:i.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:i.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:i.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}}).attr=o.data,o.removeAttr=o.removeData,t.exports=r},function(t,e,n){var r=n(1),i={};function o(t){return function(e){if(void 0===e&&(e=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var n=0,r=this[0],i=r._private.edges,o=0;o<i.length;o++){var a=i[o];!e&&a.isLoop()||(n+=t(r,a))}return n}}}function a(t,e){return function(n){for(var r=void 0,i=this.nodes(),o=0;o<i.length;o++){var a=i[o][t](n);void 0===a||void 0!==r&&!e(a,r)||(r=a)}return r}}r.extend(i,{degree:o((function(t,e){return e.source().same(e.target())?2:1})),indegree:o((function(t,e){return e.target().same(t)?1:0})),outdegree:o((function(t,e){return e.source().same(t)?1:0}))}),r.extend(i,{minDegree:a("degree",(function(t,e){return t<e})),maxDegree:a("degree",(function(t,e){return t>e})),minIndegree:a("indegree",(function(t,e){return t<e})),maxIndegree:a("indegree",(function(t,e){return t>e})),minOutdegree:a("outdegree",(function(t,e){return t<e})),maxOutdegree:a("outdegree",(function(t,e){return t>e}))}),r.extend(i,{totalDegree:function(t){for(var e=0,n=this.nodes(),r=0;r<n.length;r++)e+=n[r].degree(t);return e}}),t.exports=i},function(t,e,n){var r=n(1),i=n(57),o=n(58),a=n(59),s=n(60);t.exports=r.assign({},i,o,a,s)},function(t,e,n){var r,i=n(4),o=n(0),a=n(2),s=void 0,l=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.isParent()&&!r.locked()){var i=r._private.position,o={x:e.x-i.x,y:e.y-i.y};t.children().shift(o)}}};(s=r={position:i.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:l,onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}}),silentPosition:i.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!1,validKeys:["x","y"],beforeSet:l,onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}}),positions:function(t,e){if(o.plainObject(t))e?this.silentPosition(t):this.position(t);else if(o.fn(t)){var n=t,r=this.cy();r.startBatch();for(var i=0;i<this.length;i++){var a,s=this[i];(a=n(s,i))&&(e?s.silentPosition(a):s.position(a))}r.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,e){var n=void 0;if(o.plainObject(t)?n=t:o.string(t)&&o.number(e)&&((n={x:0,y:0})[t]=e),null!=n)for(var r=0;r<this.length;r++){var i=this[r],a=i.position();i.position({x:a.x+n.x,y:a.y+n.y})}return this},renderedPosition:function(t,e){var n=this[0],r=this.cy(),i=r.zoom(),s=r.pan(),l=o.plainObject(t)?t:void 0,u=void 0!==l||void 0!==e&&o.string(t);if(n&&n.isNode()){if(!u){var c=n.position();return l=a.modelToRenderedPosition(c,i,s),void 0===t?l:l[t]}for(var h=0;h<this.length;h++){var d=this[h];void 0!==e?d.position(t,(e-s[t])/i):void 0!==l&&d.position(a.renderedToModelPosition(l,i,s))}}else if(!u)return;return this},relativePosition:function(t,e){var n=this[0],r=this.cy(),i=o.plainObject(t)?t:void 0,a=void 0!==i||void 0!==e&&o.string(t),s=r.hasCompoundNodes();if(n&&n.isNode()){if(!a){var l=n.position(),u=s?n.parent():null,c=u&&u.length>0,h=c;c&&(u=u[0]);var d=h?u.position():{x:0,y:0};return i={x:l.x-d.x,y:l.y-d.y},void 0===t?i:i[t]}for(var f=0;f<this.length;f++){var p=this[f],v=s?p.parent():null,g=v&&v.length>0,y=g;g&&(v=v[0]);var m=y?v.position():{x:0,y:0};void 0!==e?p.position(t,e+m[t]):void 0!==i&&p.position({x:i.x+m.x,y:i.y+m.y})}}else if(!a)return;return this}}).modelPosition=s.point=s.position,s.modelPositions=s.points=s.positions,s.renderedPoint=s.renderedPosition,s.relativePoint=s.relativePosition,t.exports=r},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=void 0,s=void 0;a=s={},s.renderedBoundingBox=function(t){var e=this.boundingBox(t),n=this.cy(),r=n.zoom(),i=n.pan(),o=e.x1*r+i.x,a=e.x2*r+i.x,s=e.y1*r+i.y,l=e.y2*r+i.y;return{x1:o,x2:a,y1:s,y2:l,w:a-o,h:l-s}},s.dirtyCompoundBoundsCache=function(){var t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp((function(t){t._private.compoundBoundsClean=!1,t.isParent()&&t.emit("bounds")})),this):this},s.updateCompoundBounds=function(){var t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(t.batching())return this;function e(t){if(t.isParent()){var e=t._private,n=t.children(),r="include"===t.pstyle("compound-sizing-wrt-labels").value,i={width:{val:t.pstyle("min-width").pfValue,left:t.pstyle("min-width-bias-left"),right:t.pstyle("min-width-bias-right")},height:{val:t.pstyle("min-height").pfValue,top:t.pstyle("min-height-bias-top"),bottom:t.pstyle("min-height-bias-bottom")}},o=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),a=e.position;0!==o.w&&0!==o.h||((o={w:t.pstyle("width").pfValue,h:t.pstyle("height").pfValue}).x1=a.x-o.w/2,o.x2=a.x+o.w/2,o.y1=a.y-o.h/2,o.y2=a.y+o.h/2);var s=i.width.left.value;"px"===i.width.left.units&&i.width.val>0&&(s=100*s/i.width.val);var l=i.width.right.value;"px"===i.width.right.units&&i.width.val>0&&(l=100*l/i.width.val);var u=i.height.top.value;"px"===i.height.top.units&&i.height.val>0&&(u=100*u/i.height.val);var c=i.height.bottom.value;"px"===i.height.bottom.units&&i.height.val>0&&(c=100*c/i.height.val);var h=y(i.width.val-o.w,s,l),d=h.biasDiff,f=h.biasComplementDiff,p=y(i.height.val-o.h,u,c),v=p.biasDiff,g=p.biasComplementDiff;e.autoPadding=function(t,e,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return t>0?n.pfValue*t:0;case"height":return e>0?n.pfValue*e:0;case"average":return t>0&&e>0?n.pfValue*(t+e)/2:0;case"min":return t>0&&e>0?t>e?n.pfValue*e:n.pfValue*t:0;case"max":return t>0&&e>0?t>e?n.pfValue*t:n.pfValue*e:0;default:return 0}}(o.w,o.h,t.pstyle("padding"),t.pstyle("padding-relative-to").value),e.autoWidth=Math.max(o.w,i.width.val),a.x=(-d+o.x1+o.x2+f)/2,e.autoHeight=Math.max(o.h,i.height.val),a.y=(-v+o.y1+o.y2+g)/2}function y(t,e,n){var r=0,i=0,o=e+n;return t>0&&o>0&&(r=e/o*t,i=n/o*t),{biasDiff:r,biasComplementDiff:i}}}for(var n=0;n<this.length;n++){var r=this[n],i=r._private;i.compoundBoundsClean||(e(r),t._private.batchingStyle||(i.compoundBoundsClean=!0))}return this};var l=function(t){return t===1/0||t===-1/0?0:t},u=function(t,e,n,r,i){r-e!=0&&i-n!=0&&null!=e&&null!=n&&null!=r&&null!=i&&(t.x1=e<t.x1?e:t.x1,t.x2=r>t.x2?r:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=i>t.y2?i:t.y2)},c=function(t,e,n){return i.getPrefixedProperty(t,e,n)},h=function(t,e,n){if(!e.cy().headless()){var r=e._private.rstyle,i=r.arrowWidth/2,o=void 0,a=void 0;"none"!==e.pstyle(n+"-arrow-shape").value&&("source"===n?(o=r.srcX,a=r.srcY):"target"===n?(o=r.tgtX,a=r.tgtY):(o=r.midX,a=r.midY),u(t,o-i,a-i,o+i,a+i))}},d=function(t,e,n){if(!e.cy().headless()){var r=void 0;r=n?n+"-":"";var i=e._private,o=i.rstyle;if(e.pstyle(r+"label").strValue){var a=e.pstyle("text-halign"),s=e.pstyle("text-valign"),l=c(o,"labelWidth",n),h=c(o,"labelHeight",n),d=c(o,"labelX",n),f=c(o,"labelY",n),p=e.pstyle(r+"text-margin-x").pfValue,v=e.pstyle(r+"text-margin-y").pfValue,g=e.isEdge(),y=e.pstyle(r+"text-rotation"),m=e.pstyle("text-outline-width").pfValue,b=e.pstyle("text-border-width").pfValue/2,w=e.pstyle("text-background-padding").pfValue,_=h+2*w,x=l+2*w,E=x/2,S=_/2,k=void 0,C=void 0,O=void 0,T=void 0;if(g)k=d-E,C=d+E,O=f-S,T=f+S;else{switch(a.value){case"left":k=d-x,C=d;break;case"center":k=d-E,C=d+E;break;case"right":k=d,C=d+x}switch(s.value){case"top":O=f-_,T=f;break;case"center":O=f-S,T=f+S;break;case"bottom":O=f,T=f+_}}var P=g&&"autorotate"===y.strValue,N=null!=y.pfValue&&0!==y.pfValue;if(P||N){var A=P?c(i.rstyle,"labelAngle",n):y.pfValue,D=Math.cos(A),M=Math.sin(A),L=function(t,e){return{x:(t-=d)*D-(e-=f)*M+d,y:t*M+e*D+f}},I=L(k,O),j=L(k,T),R=L(C,O),B=L(C,T);k=Math.min(I.x,j.x,R.x,B.x),C=Math.max(I.x,j.x,R.x,B.x),O=Math.min(I.y,j.y,R.y,B.y),T=Math.max(I.y,j.y,R.y,B.y)}k+=p-Math.max(m,b),C+=p+Math.max(m,b),O+=v-Math.max(m,b),T+=v+Math.max(m,b),u(t,k,O,C,T)}return t}},f=function(t){return t?"t":"f"},p=function(t){var e="";return e+=f(t.incudeNodes),e+=f(t.includeEdges),e+=f(t.includeLabels),e+=f(t.includeOverlays)},v=function(t,e){var n=t._private,r=void 0,i=t.cy().headless(),a=e===g?y:p(e);return e.useCache&&!i&&n.bbCache&&n.bbCache[a]?r=n.bbCache[a]:(r=function(t,e){var n=t._private.cy,r=n.styleEnabled(),i=n.headless(),a={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},s=t._private,c=r?t.pstyle("display").value:"element",f=t.isNode(),p=t.isEdge(),v=void 0,g=void 0,y=void 0,m=void 0,b=void 0,w=void 0,_="none"!==c;if(_){var x=0;r&&e.includeOverlays&&0!==t.pstyle("overlay-opacity").value&&(x=t.pstyle("overlay-padding").value);var E=0;if(r&&(E=t.pstyle("width").pfValue/2),f&&e.includeNodes){var S=t.position();b=S.x,w=S.y;var k=t.outerWidth()/2,C=t.outerHeight()/2;u(a,v=b-k-x,y=w-C-x,g=b+k+x,m=w+C+x)}else if(p&&e.includeEdges){var O=s.rstyle||{};if(r&&!i&&(v=Math.min(O.srcX,O.midX,O.tgtX),g=Math.max(O.srcX,O.midX,O.tgtX),y=Math.min(O.srcY,O.midY,O.tgtY),m=Math.max(O.srcY,O.midY,O.tgtY),u(a,v-=E,y-=E,g+=E,m+=E)),r&&!i&&"haystack"===t.pstyle("curve-style").strValue){var T=O.haystackPts||[];if(v=T[0].x,y=T[0].y,v>(g=T[1].x)){var P=v;v=g,g=P}if(y>(m=T[1].y)){var N=y;y=m,m=N}u(a,v-E,y-E,g+E,m+E)}else{for(var A=O.bezierPts||O.linePts||[],D=0;D<A.length;D++){var M=A[D];v=M.x-E,g=M.x+E,y=M.y-E,m=M.y+E,u(a,v,y,g,m)}if(0===A.length){var L=t.source().position(),I=t.target().position();if((v=L.x)>(g=I.x)){var j=v;v=g,g=j}if((y=L.y)>(m=I.y)){var R=y;y=m,m=R}u(a,v-=E,y-=E,g+=E,m+=E)}}}if(r&&e.includeEdges&&p&&(h(a,t,"mid-source"),h(a,t,"mid-target"),h(a,t,"source"),h(a,t,"target")),r&&"yes"===t.pstyle("ghost").value){var B=t.pstyle("ghost-offset-x").pfValue,F=t.pstyle("ghost-offset-y").pfValue;u(a,a.x1+B,a.y1+F,a.x2+B,a.y2+F)}r&&(v=a.x1,g=a.x2,y=a.y1,m=a.y2,u(a,v-x,y-x,g+x,m+x)),r&&e.includeLabels&&(d(a,t,null),p&&(d(a,t,"source"),d(a,t,"target")))}return a.x1=l(a.x1),a.y1=l(a.y1),a.x2=l(a.x2),a.y2=l(a.y2),a.w=l(a.x2-a.x1),a.h=l(a.y2-a.y1),a.w>0&&a.h>0&&_&&o.expandBoundingBox(a,1),a}(t,e),i||(n.bbCache=n.bbCache||{},n.bbCache[a]=r)),r},g={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},y=p(g);function m(t){return{includeNodes:i.default(t.includeNodes,g.includeNodes),includeEdges:i.default(t.includeEdges,g.includeEdges),includeLabels:i.default(t.includeLabels,g.includeLabels),includeOverlays:i.default(t.includeOverlays,g.includeOverlays),useCache:i.default(t.useCache,g.useCache)}}s.boundingBox=function(t){if(1===this.length&&this[0]._private.bbCache&&(void 0===t||void 0===t.useCache||!0===t.useCache))return t=void 0===t?g:m(t),v(this[0],t);var e={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},n=m(t=t||i.staticEmptyObject()),r=this.cy().styleEnabled();r&&this.recalculateRenderedStyle(n.useCache),this.updateCompoundBounds();for(var o,a,s={},c=0;c<this.length;c++){var h=this[c];if(r&&h.isEdge()&&"bezier"===h.pstyle("curve-style").strValue&&!s[h.id()]){for(var d=h.parallelEdges(),f=0;f<d.length;f++)s[d[f].id()]=!0;d.recalculateRenderedStyle(n.useCache)}o=e,a=v(h,n),u(o,a.x1,a.y1,a.x2,a.y2)}return e.x1=l(e.x1),e.y1=l(e.y1),e.x2=l(e.x2),e.y2=l(e.y2),e.w=l(e.x2-e.x1),e.h=l(e.y2-e.y1),e},s.boundingBoxAt=function(t){var e=this.nodes();if(r.plainObject(t)){var n=t;t=function(){return n}}for(var i=0;i<e.length;i++){var o=e[i],a=o._private,s=a.position,l=t.call(o,o,i);a.bbAtOldPos={x:s.x,y:s.y},l&&(s.x=l.x,s.y=l.y)}this.emit("dirty"),e.dirtyCompoundBoundsCache().updateCompoundBounds();for(var u=this.boundingBox({useCache:!1}),c=0;c<e.length;c++){var h=e[c],d=h._private,f=h._private.position,p=d.bbAtOldPos;f.x=p.x,f.y=p.y}return e.dirtyCompoundBoundsCache(),this.emit("dirty"),u},a.boundingbox=a.boundingBox,a.renderedBoundingbox=a.renderedBoundingBox,t.exports=s},function(t,e,n){var r=n(1),i=void 0,o=void 0;i=o={};var a=function(t){t.uppercaseName=r.capitalize(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=r.capitalize(t.outerName),i[t.name]=function(){var e=this[0],n=e._private,r=n.cy._private.styleEnabled;if(e){if(!r)return 1;if(e.isParent())return e.updateCompoundBounds(),n[t.autoName]||0;var i=e.pstyle(t.name);switch(i.strValue){case"label":return e.recalculateRenderedStyle(),n.rstyle[t.labelName]||0;default:return i.pfValue}}},i["outer"+t.uppercaseName]=function(){var e=this[0],n=e._private.cy._private.styleEnabled;if(e)return n?e[t.name]()+e.pstyle("border-width").pfValue+2*e.padding():1},i["rendered"+t.uppercaseName]=function(){var e=this[0];if(e)return e[t.name]()*this.cy().zoom()},i["rendered"+t.uppercaseOuterName]=function(){var e=this[0];if(e)return e[t.outerName]()*this.cy().zoom()}};a({name:"width"}),a({name:"height"}),o.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),void 0!==e.autoPadding?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue},t.exports=o},function(t,e,n){var r=function(t,e){if(t.isEdge())return e(t.renderer())};t.exports={controlPoints:function(){var t=this;return r(this,(function(e){return e.getControlPoints(t)}))},segmentPoints:function(){var t=this;return r(this,(function(e){return e.getSegmentPoints(t)}))},sourceEndpoint:function(){var t=this;return r(this,(function(e){return e.getSourceEndpoint(t)}))},targetEndpoint:function(){var t=this;return r(this,(function(e){return e.getTargetEndpoint(t)}))},midpoint:function(){var t=this;return r(this,(function(e){return e.getEdgeMidpoint(t)}))}}},function(t,e,n){var r=n(11),i=n(4),o=n(0),a=n(1),s=n(6),l={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var r=e.qualifier;return null==r||t!==n.target&&o.element(n.target)&&r.matches(n.target)},eventFields:function(t){return{cy:t.cy(),target:t}},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t},beforeEmit:function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},u=function(t){return o.string(t)?new s(t):t},c={createEmitter:function(){for(var t=0;t<this.length;t++){var e=this[t],n=e._private;n.emitter||(n.emitter=new r(a.assign({context:e},l)))}return this},emitter:function(){return this._private.emitter},on:function(t,e,n){for(var r=0;r<this.length;r++)this[r].emitter().on(t,u(e),n);return this},removeListener:function(t,e,n){for(var r=0;r<this.length;r++)this[r].emitter().removeListener(t,u(e),n);return this},one:function(t,e,n){for(var r=0;r<this.length;r++)this[r].emitter().one(t,u(e),n);return this},once:function(t,e,n){for(var r=0;r<this.length;r++)this[r].emitter().on(t,u(e),n,{once:!0,onceCollection:this})},emit:function(t,e){for(var n=0;n<this.length;n++)this[n].emitter().emit(t,e);return this},emitAndNotify:function(t,e){if(0!==this.length)return this.cy().notify({type:t,eles:this}),this.emit(t,e),this}};i.eventAliasesOn(c),t.exports=c},function(t,e,n){var r=n(0),i=n(6),o={nodes:function(t){return this.filter((function(t){return t.isNode()})).filter(t)},edges:function(t){return this.filter((function(t){return t.isEdge()})).filter(t)},filter:function(t,e){if(void 0===t)return this;if(r.string(t)||r.elementOrCollection(t))return new i(t).filter(this);if(r.fn(t)){for(var n=this.spawn(),o=0;o<this.length;o++){var a=this[o];(e?t.apply(e,[a,o,this]):t(a,o,this))&&n.merge(a)}return n}return this.spawn()},not:function(t){if(t){r.string(t)&&(t=this.filter(t));for(var e=[],n=t._private.map,i=0;i<this.length;i++){var o=this[i];n.has(o.id())||e.push(o)}return this.spawn(e)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(t){if(r.string(t)){var e=t;return this.filter(e)}for(var n=[],i=t,o=this.length<t.length,a=o?i._private.map:this._private.map,s=o?this:i,l=0;l<s.length;l++){var u=s[l]._private.data.id,c=a.get(u);c&&n.push(c.ele)}return this.spawn(n)},xor:function(t){var e=this._private.cy;r.string(t)&&(t=e.$(t));var n=[],i=t,o=function(t,e){for(var r=0;r<t.length;r++){var i=t[r],o=i._private.data.id;e.hasElementWithId(o)||n.push(i)}};return o(this,i),o(i,this),this.spawn(n)},diff:function(t){var e=this._private.cy;r.string(t)&&(t=e.$(t));var n=[],i=[],o=[],a=t,s=function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],a=i._private.data.id;e.hasElementWithId(a)?o.push(i):n.push(i)}};return s(this,a,n),s(a,this,i),{left:this.spawn(n,{unique:!0}),right:this.spawn(i,{unique:!0}),both:this.spawn(o,{unique:!0})}},add:function(t){var e=this._private.cy;if(!t)return this;if(r.string(t)){var n=t;t=e.mutableElements().filter(n)}for(var i=[],o=0;o<this.length;o++)i.push(this[o]);for(var a=this._private.map,s=0;s<t.length;s++){var l=!a.has(t[s].id());l&&i.push(t[s])}return this.spawn(i)},merge:function(t){var e=this._private,n=e.cy;if(!t)return this;if(t&&r.string(t)){var i=t;t=n.mutableElements().filter(i)}for(var o=e.map,a=0;a<t.length;a++){var s=t[a],l=s._private.data.id;if(o.has(l)){var u=o.get(l).index;this[u]=s,o.set(l,{ele:s,index:u})}else{var c=this.length++;this[c]=s,o.set(l,{ele:s,index:c})}}return this},unmergeOne:function(t){t=t[0];var e=this._private,n=t._private.data.id,r=e.map,i=r.get(n);if(!i)return this;var o=i.index;this[o]=void 0,r.delete(n);var a=o===this.length-1;if(this.length>1&&!a){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[o]=l,r.set(u,{ele:l,index:o})}return this.length--,this},unmerge:function(t){var e=this._private.cy;if(!t)return this;if(t&&r.string(t)){var n=t;t=e.mutableElements().filter(n)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},map:function(t,e){for(var n=[],r=0;r<this.length;r++){var i=this[r],o=e?t.apply(e,[i,r,this]):t(i,r,this);n.push(o)}return n},reduce:function(t,e){for(var n=e,r=0;r<this.length;r++)n=t(n,this[r],r,this);return n},max:function(t,e){for(var n=-1/0,r=void 0,i=0;i<this.length;i++){var o=this[i],a=e?t.apply(e,[o,i,this]):t(o,i,this);a>n&&(n=a,r=o)}return{value:n,ele:r}},min:function(t,e){for(var n=1/0,r=void 0,i=0;i<this.length;i++){var o=this[i],a=e?t.apply(e,[o,i,this]):t(o,i,this);a<n&&(n=a,r=o)}return{value:n,ele:r}}},a=o;a.u=a["|"]=a["+"]=a.union=a.or=a.add,a["\\"]=a["!"]=a["-"]=a.difference=a.relativeComplement=a.subtract=a.not,a.n=a["&"]=a["."]=a.and=a.intersection=a.intersect,a["^"]=a["(+)"]=a["(-)"]=a.symmetricDifference=a.symdiff=a.xor,a.fnFilter=a.filterFn=a.stdFilter=a.filter,a.complement=a.abscomp=a.absoluteComplement,t.exports=o},function(t,e,n){t.exports={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var t=this[0];if(t)return t._private.group}}},function(t,e,n){var r=n(0),i=n(17),o=n(1),a={forEach:function(t,e){if(r.fn(t))for(var n=0;n<this.length;n++){var i=this[n];if(!1===(e?t.apply(e,[i,n,this]):t(i,n,this)))break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(t,e){var n=[],r=this.length;null==e&&(e=r),null==t&&(t=0),t<0&&(t=r+t),e<0&&(e=r+e);for(var i=t;i>=0&&i<e&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!r.fn(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},sortByZIndex:function(){return this.sort(i)},zDepth:function(){var t=this[0];if(t){var e=t._private;if("nodes"===e.group){var n=e.data.parent?t.parents().size():0;return t.isParent()?n:o.MAX_INT-1}var r=e.source,i=e.target,a=r.zDepth(),s=i.zDepth();return Math.max(a,s,0)}}};a.each=a.forEach,t.exports=a},function(t,e,n){var r=n(0),i=n(1),o=n(5),a=n(2),s={layoutDimensions:function(t){if((t=i.assign({nodeDimensionsIncludeLabels:!0},t)).nodeDimensionsIncludeLabels){var e=this.boundingBox();return{w:e.w,h:e.h}}return{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function(t,e,n){var s=this.nodes(),l=this.cy(),u=e.eles,c=function(t,e){return t.id()+"$"+e},h=i.memoize(n,c);t.emit({type:"layoutstart",layout:t}),t.animations=[];var d=e.spacingFactor&&1!==e.spacingFactor,f=function(){if(!d)return null;for(var t=a.makeBoundingBox(),e=0;e<s.length;e++){var n=s[e],r=h(n,e);a.expandBoundingBoxByPoint(t,r.x,r.y)}return t}(),p=i.memoize((function(t,n){var i=h(t,n),o=t.position();return r.number(o.x)&&r.number(o.y)||t.silentPosition({x:0,y:0}),d&&(i=function(t,e,n){var r=e.x1+e.w/2,i=e.y1+e.h/2;return{x:r+(n.x-r)*t,y:i+(n.y-i)*t}}(Math.abs(e.spacingFactor),f,i)),null!=e.transform&&(i=e.transform(t,i)),i}),c);if(e.animate){for(var v=0;v<s.length;v++){var g=s[v],y=p(g,v);if(null==e.animateFilter||e.animateFilter(g,v)){var m=g.animation({position:y,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(m),m.play()}else g.position(y)}if(e.fit){var b=l.animation({fit:{boundingBox:u.boundingBoxAt(p),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(b),b.play()}else if(void 0!==e.zoom&&void 0!==e.pan){var w=l.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(w),w.play()}t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),o.all(t.animations.map((function(t){return t.promise()}))).then((function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})}))}else s.positions(p),e.fit&&l.fit(e.eles,e.padding),null!=e.zoom&&l.zoom(e.zoom),e.pan&&l.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){return this.cy().makeLayout(i.extend({},t,{eles:this}))}};s.createLayout=s.makeLayout=s.layout,t.exports=s},function(t,e,n){var r=n(0);function i(t,e,n){var r,i=n._private,o=i.styleCache=i.styleCache||{};return null!=(r=o[t])?r:r=o[t]=e(n)}function o(t,e){return function(n){return i(t,e,n)}}function a(t,e){var n=function(t){return e.call(t)};return function(){var e=this[0];if(e)return i(t,n,e)}}var s={recalculateRenderedStyle:function(t){var e=this.cy(),n=e.renderer(),r=e.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),e=function(t){return t._private.styleCache={}};if(t.hasCompoundNodes()){var n=void 0;(n=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(n.connectedEdges()),n.forEach(e)}else this.forEach((function(t){e(t),t.connectedEdges().forEach(e)}));return this},updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e._private.batchingStyle)return e._private.batchStyleEles.merge(this),this;var n=e.hasCompoundNodes(),r=e.style(),i=this;t=!(!t&&void 0!==t),n&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=r.apply(i);return o.dirtyStyleCache(),o.dirtyCompoundBoundsCache(),t?o.emitAndNotify("style"):o.emit("style"),this},updateMappers:function(t){var e=this._private.cy,n=e.style();if(t=!(!t&&void 0!==t),!e.styleEnabled())return this;var r=n.updateMappers(this);return r.dirtyStyleCache(),r.dirtyCompoundBoundsCache(),t?r.emitAndNotify("style"):r.emit("style"),this},parsedStyle:function(t){var e=this[0],n=e.cy();if(n.styleEnabled())return e?e._private.style[t]||n.style().getDefaultProperty(t):void 0},numericStyle:function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var n=e.pstyle(t);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(t){var e=this[0];if(e.cy().styleEnabled())return e?e.pstyle(t).units:void 0},renderedStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=this[0];return n?e.style().getRenderedStyle(n,t):void 0},style:function(t,e){var n=this.cy();if(!n.styleEnabled())return this;var i=n.style();if(r.plainObject(t)){var o=t;i.applyBypass(this,o,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(r.string(t)){if(void 0===e){var a=this[0];return a?i.getStylePropertyValue(a,t):void 0}i.applyBypass(this,t,e,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(void 0===t){var s=this[0];return s?i.getRawStyle(s):void 0}return this},removeStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=e.style();if(void 0===t)for(var r=0;r<this.length;r++){var i=this[r];n.removeAllBypasses(i,!1)}else{t=t.split(/\s+/);for(var o=0;o<this.length;o++){var a=this[o];n.removeBypasses(a,t,!1)}}return this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!e)return i;var o=r.data.parent?n.parents():null;if(o)for(var a=0;a<o.length;a++)i*=o[a].pstyle("opacity").value;return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var t=this[0],e=t.cy().hasCompoundNodes();return t?e?0===t.effectiveOpacity():0===t.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function l(t,e){var n=t._private.data.parent?t.parents():null;if(n)for(var r=0;r<n.length;r++)if(!e(n[r]))return!1;return!0}function u(t){var e=t.ok,n=t.edgeOkViaNode||t.ok,r=t.parentOk||t.ok;return function(){var t=this.cy();if(!t.styleEnabled())return!0;var i=this[0],o=t.hasCompoundNodes();if(i){var a=i._private;if(!e(i))return!1;if(i.isNode())return!o||l(i,r);var s=a.source,u=a.target;return n(s)&&(!o||l(s,n))&&(s===u||n(u)&&(!o||l(u,n)))}}}var c=o("eleTakesUpSpace",(function(t){return"element"===t.pstyle("display").value&&0!==t.width()&&(!t.isNode()||0!==t.height())}));s.takesUpSpace=a("takesUpSpace",u({ok:c}));var h=o("eleInteractive",(function(t){return"yes"===t.pstyle("events").value&&"visible"===t.pstyle("visibility").value&&c(t)})),d=o("parentInteractive",(function(t){return"visible"===t.pstyle("visibility").value&&c(t)}));s.interactive=a("interactive",u({ok:h,parentOk:d,edgeOkViaNode:c})),s.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var f=o("eleVisible",(function(t){return"visible"===t.pstyle("visibility").value&&0!==t.pstyle("opacity").pfValue&&c(t)})),p=c;s.visible=a("visible",u({ok:f,edgeOkViaNode:p})),s.hidden=function(){var t=this[0];if(t)return!t.visible()},s.bypass=s.css=s.style,s.renderedCss=s.renderedStyle,s.removeBypass=s.removeCss=s.removeStyle,s.pstyle=s.parsedStyle,t.exports=s},function(t,e,n){var r={};function i(t){return function(){var e=arguments,n=[];if(2===e.length){var r=e[0],i=e[1];this.on(t.event,r,i)}else if(1===e.length){var o=e[0];this.on(t.event,o)}else if(0===e.length){for(var a=0;a<this.length;a++){var s=this[a],l=!t.ableField||s._private[t.ableField],u=s._private[t.field]!=t.value;if(t.overrideAble){var c=t.overrideAble(s);if(void 0!==c&&(l=c,!c))return this}l&&(s._private[t.field]=t.value,u&&n.push(s))}var h=this.spawn(n);h.updateStyle(),h.emit(t.event)}return this}}function o(t){r[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var n=t.overrideField(e);if(void 0!==n)return n}return e._private[t.field]}},r[t.on]=i({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),r[t.off]=i({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}o({field:"locked",overrideField:function(t){return!!t.cy().autolock()||void 0},on:"lock",off:"unlock"}),o({field:"grabbable",overrideField:function(t){return!t.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),o({field:"selected",ableField:"selectable",overrideAble:function(t){return!t.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),o({field:"selectable",overrideField:function(t){return!t.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),r.deselect=r.unselect,r.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},o({field:"active",on:"activate",off:"unactivate"}),r.inactive=function(){var t=this[0];if(t)return!t._private.active},t.exports=r},function(t,e,n){var r=n(1),i=n(0),o={},a=function(t,e){return function(n,r,o,a){var s=n,l=void 0;if(null==s?l="null":i.elementOrCollection(s)&&1===s.length&&(l="#"+s.id()),1===this.length&&l){var u=this[0]._private,c=u.traversalCache=u.traversalCache||{},h=c[e]=c[e]||{},d=h[l];return d||(h[l]=t.call(this,n,r,o,a))}return t.call(this,n,r,o,a)}},s=function(t){return function(e){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode()){for(var o=!1,a=i.connectedEdges(),s=0;s<a.length;s++){var l=a[s],u=l.source(),c=l.target();if(t.noIncomingEdges&&c===i&&u!==i||t.noOutgoingEdges&&u===i&&c!==i){o=!0;break}}o||n.push(i)}}return this.spawn(n,{unique:!0}).filter(e)}},l=function(t){return function(e){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode())for(var o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target();t.outgoing&&l===i?(n.push(s),n.push(u)):t.incoming&&u===i&&(n.push(s),n.push(l))}}return this.spawn(n,{unique:!0}).filter(e)}},u=function(t){return function(e){for(var n=this,r=[],i={};;){var o=t.outgoing?n.outgoers():n.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],u=l.id();i[u]||(i[u]=!0,r.push(l),a=!0)}if(!a)break;n=o}return this.spawn(r,{unique:!0}).filter(e)}};function c(t){return function(e){for(var n=[],r=0;r<this.length;r++){var i=this[r]._private[t.attr];i&&n.push(i)}return this.spawn(n,{unique:!0}).filter(e)}}function h(t){return function(e){var n=[],r=this._private.cy,o=t||{};i.string(e)&&(e=r.$(e));for(var a=0;a<e.length;a++)for(var s=e[a]._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data,h=this.hasElementWithId(c.source)&&e.hasElementWithId(c.target),d=e.hasElementWithId(c.source)&&this.hasElementWithId(c.target);if(h||d){if(o.thisIsSrc||o.thisIsTgt){if(o.thisIsSrc&&!h)continue;if(o.thisIsTgt&&!d)continue}n.push(u)}}return this.spawn(n,{unique:!0})}}function d(t){return t=r.extend({},{codirected:!1},t),function(e){for(var n=[],r=this.edges(),i=t,o=0;o<r.length;o++)for(var a=r[o]._private,s=a.source,l=s._private.data.id,u=a.data.target,c=s._private.edges,h=0;h<c.length;h++){var d=c[h],f=d._private.data,p=f.target,v=f.source,g=p===u&&v===l,y=l===p&&u===v;(i.codirected&&g||!i.codirected&&(g||y))&&n.push(d)}return this.spawn(n,{unique:!0}).filter(e)}}o.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},r.extend(o,{roots:s({noIncomingEdges:!0}),leaves:s({noOutgoingEdges:!0}),outgoers:a(l({outgoing:!0}),"outgoers"),successors:u({outgoing:!0}),incomers:a(l({incoming:!0}),"incomers"),predecessors:u({incoming:!0})}),r.extend(o,{neighborhood:a((function(t){for(var e=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&e.push(c[0]),e.push(s[0])}return this.spawn(e,{unique:!0}).filter(t)}),"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),o.neighbourhood=o.neighborhood,o.closedNeighbourhood=o.closedNeighborhood,o.openNeighbourhood=o.openNeighborhood,r.extend(o,{source:a((function(t){var e=this[0],n=void 0;return e&&(n=e._private.source||e.cy().collection()),n&&t?n.filter(t):n}),"source"),target:a((function(t){var e=this[0],n=void 0;return e&&(n=e._private.target||e.cy().collection()),n&&t?n.filter(t):n}),"target"),sources:c({attr:"source"}),targets:c({attr:"target"})}),r.extend(o,{edgesWith:a(h(),"edgesWith"),edgesTo:a(h({thisIsSrc:!0}),"edgesTo")}),r.extend(o,{connectedEdges:a((function(t){for(var e=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r._private.edges,o=0;o<i.length;o++){var a=i[o];e.push(a)}}return this.spawn(e,{unique:!0}).filter(t)}),"connectedEdges"),connectedNodes:a((function(t){for(var e=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(e.push(r.source()[0]),e.push(r.target()[0]))}return this.spawn(e,{unique:!0}).filter(t)}),"connectedNodes"),parallelEdges:a(d(),"parallelEdges"),codirectedEdges:a(d({codirected:!0}),"codirectedEdges")}),r.extend(o,{components:function(){var t=this,e=t.cy(),n=t.spawn(),r=t.nodes().spawnSelf(),i=[],o=function(t,e){n.merge(t),r.unmerge(t),e.merge(t)};if(r.empty())return t.spawn();var a=function(){var n=e.collection();i.push(n);var a=r[0];o(a,n),t.bfs({directed:!1,roots:a,visit:function(t,e,r,i,a){o(t,n)}})};do{a()}while(r.length>0);return i.map((function(t){var e=t.connectedEdges().stdFilter((function(e){return t.anySame(e.source())&&t.anySame(e.target())}));return t.union(e)}))}}),t.exports=o},function(t,e,n){var r=n(0),i=n(1),o=n(7),a=n(14),s={add:function(t){var e=void 0,n=this;if(r.elementOrCollection(t)){var s=t;if(s._private.cy===n)e=s.restore();else{for(var l=[],u=0;u<s.length;u++){var c=s[u];l.push(c.json())}e=new o(n,l)}}else if(r.array(t))e=new o(n,t);else if(r.plainObject(t)&&(r.array(t.nodes)||r.array(t.edges))){for(var h=t,d=[],f=["nodes","edges"],p=0,v=f.length;p<v;p++){var g=f[p],y=h[g];if(r.array(y))for(var m=0,b=y.length;m<b;m++){var w=i.extend({group:g},y[m]);d.push(w)}}e=new o(n,d)}else e=new a(n,t).collection();return e},remove:function(t){if(r.elementOrCollection(t));else if(r.string(t)){var e=t;t=this.$(e)}return t.remove()}};t.exports=s},function(t,e,n){var r=n(4),i=n(1),o=n(71),a={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop(),addToAnimationPool:function(t){this.styleEnabled()&&this._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var e=t.renderer();e&&e.beforeRender?e.beforeRender((function(e,n){o(n,t)}),e.beforeRenderPriorities.animations):function e(){t._private.animationsRunning&&i.requestAnimationFrame((function(n){o(n,t),e()}))}()}}};t.exports=a},function(t,e,n){var r=n(72),i=n(77);t.exports=function(t,e){var n=e._private.aniEles,o=[];function a(e,n){var a=e._private,s=a.animation.current,l=a.animation.queue,u=!1;if(!n&&"none"===e.pstyle("display").value){s=s.splice(0,s.length).concat(l.splice(0,l.length));for(var c=0;c<s.length;c++)s[c].stop()}if(0===s.length){var h=l.shift();h&&s.push(h)}for(var d=function(t){for(var e=t.length-1;e>=0;e--)(0,t[e])();t.splice(0,t.length)},f=s.length-1;f>=0;f--){var p=s[f],v=p._private;v.stopped?(s.splice(f,1),v.hooked=!1,v.playing=!1,v.started=!1,d(v.frames)):(v.playing||v.applying)&&(v.playing&&v.applying&&(v.applying=!1),v.started||i(e,p,t,n),r(e,p,t,n),v.applying&&(v.applying=!1),d(v.frames),null!=v.step&&v.step(t),p.completed()&&(s.splice(f,1),v.hooked=!1,v.playing=!1,v.started=!1,d(v.completes)),u=!0)}return n||0!==s.length||0!==l.length||o.push(e),u}for(var s=!1,l=0;l<n.length;l++){var u=a(n[l]);s=s||u}var c=a(e,!0);(s||c)&&(n.length>0?(n.dirtyCompoundBoundsCache(),e.notify({type:"draw",eles:n})):e.notify({type:"draw"})),n.unmerge(o),e.emit("step")}},function(t,e,n){var r=n(73),i=n(76),o=n(0);function a(t,e){return!!(null!=t&&null!=e&&(o.number(t)&&o.number(e)||t&&e))}t.exports=function(t,e,n,s){var l=!s,u=t._private,c=e._private,h=c.easing,d=c.startTime,f=(s?t:t.cy()).style();if(!c.easingImpl)if(null==h)c.easingImpl=r.linear;else{var p=void 0;p=o.string(h)?f.parse("transition-timing-function",h).value:h;var v=void 0,g=void 0;o.string(p)?(v=p,g=[]):(v=p[1],g=p.slice(2).map((function(t){return+t}))),g.length>0?("spring"===v&&g.push(c.duration),c.easingImpl=r[v].apply(null,g)):c.easingImpl=r[v]}var y=c.easingImpl,m=void 0;if(m=0===c.duration?1:(n-d)/c.duration,c.applying&&(m=c.progress),m<0?m=0:m>1&&(m=1),null==c.delay){var b=c.startPosition,w=c.position;if(w&&l&&!t.locked()){var _=t.position();a(b.x,w.x)&&(_.x=i(b.x,w.x,m,y)),a(b.y,w.y)&&(_.y=i(b.y,w.y,m,y)),t.emit("position")}var x=c.startPan,E=c.pan,S=u.pan,k=null!=E&&s;k&&(a(x.x,E.x)&&(S.x=i(x.x,E.x,m,y)),a(x.y,E.y)&&(S.y=i(x.y,E.y,m,y)),t.emit("pan"));var C=c.startZoom,O=c.zoom,T=null!=O&&s;T&&(a(C,O)&&(u.zoom=i(C,O,m,y)),t.emit("zoom")),(k||T)&&t.emit("viewport");var P=c.style;if(P&&P.length>0&&l){for(var N=0;N<P.length;N++){var A=P[N],D=A.name,M=A,L=c.startStyle[D],I=f.properties[L.name],j=i(L,M,m,y,I);f.overrideBypass(t,D,j)}t.emit("style")}}return c.progress=m,m}},function(t,e,n){var r=n(74),i=n(75),o=function(t,e,n,i){var o=r(t,e,n,i);return function(t,e,n){return t+(e-t)*o(n)}},a={linear:function(t,e,n){return t+(e-t)*n},ease:o(.25,.1,.25,1),"ease-in":o(.42,0,1,1),"ease-out":o(0,0,.58,1),"ease-in-out":o(.42,0,.58,1),"ease-in-sine":o(.47,0,.745,.715),"ease-out-sine":o(.39,.575,.565,1),"ease-in-out-sine":o(.445,.05,.55,.95),"ease-in-quad":o(.55,.085,.68,.53),"ease-out-quad":o(.25,.46,.45,.94),"ease-in-out-quad":o(.455,.03,.515,.955),"ease-in-cubic":o(.55,.055,.675,.19),"ease-out-cubic":o(.215,.61,.355,1),"ease-in-out-cubic":o(.645,.045,.355,1),"ease-in-quart":o(.895,.03,.685,.22),"ease-out-quart":o(.165,.84,.44,1),"ease-in-out-quart":o(.77,0,.175,1),"ease-in-quint":o(.755,.05,.855,.06),"ease-out-quint":o(.23,1,.32,1),"ease-in-out-quint":o(.86,0,.07,1),"ease-in-expo":o(.95,.05,.795,.035),"ease-out-expo":o(.19,1,.22,1),"ease-in-out-expo":o(1,0,0,1),"ease-in-circ":o(.6,.04,.98,.335),"ease-out-circ":o(.075,.82,.165,1),"ease-in-out-circ":o(.785,.135,.15,.86),spring:function(t,e,n){if(0===n)return a.linear;var r=i(t,e,n);return function(t,e,n){return t+(e-t)*r(n)}},"cubic-bezier":o};t.exports=a},function(t,e,n){t.exports=
/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */
function(t,e,n,r){var i=4,o=.001,a=1e-7,s=10,l=11,u=1/(l-1),c="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var h=0;h<4;++h)if("number"!=typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var d=c?new Float32Array(l):new Array(l);function f(t,e){return 1-3*e+3*t}function p(t,e){return 3*e-6*t}function v(t){return 3*t}function g(t,e,n){return((f(e,n)*t+p(e,n))*t+v(e))*t}function y(t,e,n){return 3*f(e,n)*t*t+2*p(e,n)*t+v(e)}function m(e){for(var r=0,c=1,h=l-1;c!==h&&d[c]<=e;++c)r+=u;--c;var f=r+(e-d[c])/(d[c+1]-d[c])*u,p=y(f,t,n);return p>=o?function(e,r){for(var o=0;o<i;++o){var a=y(r,t,n);if(0===a)return r;r-=(g(r,t,n)-e)/a}return r}(e,f):0===p?f:function(e,r,i){var o=void 0,l=void 0,u=0;do{(o=g(l=r+(i-r)/2,t,n)-e)>0?i=l:r=l}while(Math.abs(o)>a&&++u<s);return l}(e,r,r+u)}var b=!1;function w(){b=!0,t===e&&n===r||function(){for(var e=0;e<l;++e)d[e]=g(e*u,t,n)}()}var _=function(i){return b||w(),t===e&&n===r?i:0===i?0:1===i?1:g(m(i),e,r)};_.getControlPoints=function(){return[{x:t,y:e},{x:n,y:r}]};var x="generateBezier("+[t,e,n,r]+")";return _.toString=function(){return x},_}},function(t,e,n){
/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */
var r=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,r){var i={x:e.x+r.dx*n,v:e.v+r.dv*n,tension:e.tension,friction:e.friction};return{dx:i.v,dv:t(i)}}function n(n,r){var i={dx:n.v,dv:t(n)},o=e(n,.5*r,i),a=e(n,.5*r,o),s=e(n,r,a),l=1/6*(i.dx+2*(o.dx+a.dx)+s.dx),u=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+l*r,n.v=n.v+u*r,n}return function t(e,r,i){var o,a={x:-1,v:0,tension:null,friction:null},s=[0],l=0,u=void 0,c=void 0;for(e=parseFloat(e)||500,r=parseFloat(r)||20,i=i||null,a.tension=e,a.friction=r,u=(o=null!==i)?(l=t(e,r))/i*.016:.016;c=n(c||a,u),s.push(1+c.x),l+=16,Math.abs(c.x)>1e-4&&Math.abs(c.v)>1e-4;);return o?function(t){return s[t*(s.length-1)|0]}:l}}();t.exports=r},function(t,e,n){var r=n(0);function i(t,e,n,r,i){if(1===r)return n;var o=i(e,n,r);return null==t?o:((t.roundValue||t.color)&&(o=Math.round(o)),void 0!==t.min&&(o=Math.max(o,t.min)),void 0!==t.max&&(o=Math.min(o,t.max)),o)}function o(t,e){return null!=t.pfValue||null!=t.value?null==t.pfValue||null!=e&&"%"===e.type.units?t.value:t.pfValue:t}t.exports=function(t,e,n,a,s){var l=null!=s?s.type:null;n<0?n=0:n>1&&(n=1);var u=o(t,s),c=o(e,s);if(r.number(u)&&r.number(c))return i(l,u,c,n,a);if(r.array(u)&&r.array(c)){for(var h=[],d=0;d<c.length;d++){var f=u[d],p=c[d];if(null!=f&&null!=p){var v=i(l,f,p,n,a);h.push(v)}else h.push(p)}return h}}},function(t,e,n){t.exports=function(t,e,n,r){var i=!r,o=t,a=e._private,s=r?t:t.cy(),l=s.style();if(i){var u=o.position();a.startPosition=a.startPosition||{x:u.x,y:u.y},a.startStyle=a.startStyle||l.getAnimationStartStyle(o,a.style)}if(r){var c=s._private.pan;a.startPan=a.startPan||{x:c.x,y:c.y},a.startZoom=null!=a.startZoom?a.startZoom:s._private.zoom}a.started=!0,a.startTime=n-a.progress*a.duration}},function(t,e,n){var r=n(11),i=n(4),o=n(0),a=n(1),s=n(6),l={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var r=e.qualifier;return null==r||t!==n.target&&o.element(n.target)&&r.matches(n.target)},eventFields:function(t){return{cy:t,target:t}},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t}},u=function(t){return o.string(t)?new s(t):t},c={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new r(a.assign({context:this},l))),this},emitter:function(){return this._private.emitter},on:function(t,e,n){return this.emitter().on(t,u(e),n),this},removeListener:function(t,e,n){return this.emitter().removeListener(t,u(e),n),this},one:function(t,e,n){return this.emitter().one(t,u(e),n),this},once:function(t,e,n){return this.emitter().one(t,u(e),n),this},emit:function(t,e){return this.emitter().emit(t,e),this}};i.eventAliasesOn(c),t.exports=c},function(t,e,n){var r={png:function(t){return t=t||{},this._private.renderer.png(t)},jpg:function(t){var e=this._private.renderer;return(t=t||{}).bg=t.bg||"#fff",e.jpg(t)}};r.jpeg=r.jpg,t.exports=r},function(t,e,n){var r=n(1),i=n(0),o={layout:function(t){if(null!=t)if(null!=t.name){var e=t.name,n=this.extension("layout",e);if(null!=n){var o=void 0;o=i.string(t.eles)?this.$(t.eles):null!=t.eles?t.eles:this.$();var a=new n(r.extend({},t,{cy:this,eles:o}));return a}r.error("Can not apply layout: No such layout `"+e+"` found; did you include its JS file?")}else r.error("A `name` must be specified to make a layout");else r.error("Layout options must be specified to make a layout")}};o.createLayout=o.makeLayout=o.layout,t.exports=o},function(t,e,n){var r={notify:function(t){var e=this._private;if(e.batchingNotify){var n=e.batchNotifyEles,r=e.batchNotifyTypes;return t.eles&&n.merge(t.eles),void(r.ids[t.type]||(r.push(t.type),r.ids[t.type]=!0))}if(e.notificationsEnabled){var i=this.renderer();!this.isDestroyed()&&i&&i.notify(t)}},notifications:function(t){var e=this._private;if(void 0===t)return e.notificationsEnabled;e.notificationsEnabled=!!t},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return null==t.batchCount&&(t.batchCount=0),0===t.batchCount&&(t.batchingStyle=t.batchingNotify=!0,t.batchStyleEles=this.collection(),t.batchNotifyEles=this.collection(),t.batchNotifyTypes=[],t.batchNotifyTypes.ids={}),t.batchCount++,this},endBatch:function(){var t=this._private;return t.batchCount--,0===t.batchCount&&(t.batchingStyle=!1,t.batchStyleEles.updateStyle(),t.batchingNotify=!1,this.notify({type:t.batchNotifyTypes,eles:t.batchNotifyEles})),this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch((function(){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];e.getElementById(i).data(o)}}))}};t.exports=r},function(t,e,n){var r=n(1),i={renderTo:function(t,e,n,r){return this._private.renderer.renderTo(t,e,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.invalidateSize(),this.notify({type:"resize"}),this.emit("resize"),this},initRenderer:function(t){var e=this.extension("renderer",t.name);null!=e?(this._private.renderer=new e(r.extend({},t,{cy:this})),this.notify({type:"init"})):r.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",t.name)},destroyRenderer:function(){this.notify({type:"destroy"});var t=this.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);this._private.renderer=null},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};i.invalidateDimensions=i.resize,t.exports=i},function(t,e,n){var r=n(0),i=n(7),o={collection:function(t,e){return r.string(t)?this.$(t):r.elementOrCollection(t)?t.collection():r.array(t)?new i(this,t,e):new i(this)},nodes:function(t){var e=this.$((function(t){return t.isNode()}));return t?e.filter(t):e},edges:function(t){var e=this.$((function(t){return t.isEdge()}));return t?e.filter(t):e},$:function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},mutableElements:function(){return this._private.elements}};o.elements=o.filter=o.$,t.exports=o},function(t,e,n){var r=n(0),i=n(18),o={style:function(t){return t&&this.setStyle(t).update(),this._private.style},setStyle:function(t){var e=this._private;return r.stylesheet(t)?e.style=t.generateStyle(this):r.array(t)?e.style=i.fromJson(this,t):r.string(t)?e.style=i.fromString(this,t):e.style=i(this),e.style}};t.exports=o},function(t,e,n){var r=n(1),i=n(0),o=n(5),a={apply:function(t){var e=this._private,n=e.cy.collection();e.newStyle&&(e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0));for(var r=0;r<t.length;r++){var i=t[r],o=this.getContextMeta(i);if(!o.empty){n.merge(i);var a=this.getContextStyle(o),s=this.applyContextStyle(o,a,i);e.newStyle||this.updateTransitions(i,s.diffProps),this.updateStyleHints(i)}}return e.newStyle=!1,n},getPropertiesDiff:function(t,e){var n=this._private.propDiffs=this._private.propDiffs||{},r=t+"-"+e,i=n[r];if(i)return i;for(var o=[],a={},s=0;s<this.length;s++){var l=this[s],u="t"===t[s]!=("t"===e[s]),c=l.mappedProperties.length>0;if(u||c){var h=void 0;u&&c?h=l.properties:u?h=l.properties:c&&(h=l.mappedProperties);for(var d=0;d<h.length;d++){for(var f=h[d],p=f.name,v=!1,g=s+1;g<this.length;g++){var y=this[g];if("t"===e[g]&&(v=null!=y.properties[f.name]))break}a[p]||v||(a[p]=!0,o.push(p))}}}return n[r]=o,o},getContextMeta:function(t){var e,n="",r=t._private.styleCxtKey||"";this._private.newStyle&&(r="");for(var i=0;i<this.length;i++){var o=this[i];n+=o.selector&&o.selector.matches(t)?"t":"f"}return e=this.getPropertiesDiff(r,n),t._private.styleCxtKey=n,{key:n,diffPropNames:e,empty:0===e.length}},getContextStyle:function(t){var e=t.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var r={_private:{key:e}},i=0;i<this.length;i++){var o=this[i];if("t"===e[i])for(var a=0;a<o.properties.length;a++){var s=o.properties[a];r[s.name]=s}}return n[e]=r,r},applyContextStyle:function(t,e,n){for(var r=t.diffPropNames,i={},o=0;o<r.length;o++){var a=r[o],s=e[a],l=n.pstyle(a);if(!s){if(!l)continue;s=l.bypass?{name:a,deleteBypassed:!0}:{name:a,delete:!0}}if(l!==s){var u=i[a]={prev:l};this.applyParsedProperty(n,s),u.next=n.pstyle(a),u.next&&u.next.bypass&&(u.next=u.next.bypassed)}}return{diffProps:i}},updateStyleHints:function(t){var e=t._private;if(!t.removed()){var n=!1;if("nodes"===e.group)for(var r=1;r<=this.pieBackgroundN;r++)if(t.pstyle("pie-"+r+"-background-size").value>0){n=!0;break}e.hasPie=n;var i=t.pstyle("text-transform").strValue,o=t.pstyle("label").strValue,a=t.pstyle("source-label").strValue,s=t.pstyle("target-label").strValue,l=t.pstyle("font-style").strValue,u=t.pstyle("font-size").pfValue+"px",c=t.pstyle("font-family").strValue,h=t.pstyle("font-weight").strValue,d=l+"$"+u+"$"+c+"$"+h+"$"+i+"$"+t.pstyle("text-valign").strValue+"$"+t.pstyle("text-valign").strValue+"$"+t.pstyle("text-outline-width").pfValue+"$"+t.pstyle("text-wrap").strValue+"$"+t.pstyle("text-max-width").pfValue;e.labelStyleKey=d,e.sourceLabelKey=d+"$"+a,e.targetLabelKey=d+"$"+s,e.labelKey=d+"$"+o,e.fontKey=l+"$"+h+"$"+u+"$"+c,e.styleKey=Date.now()}},applyParsedProperty:function(t,e){var n=this,o=e,a=t._private.style,s=void 0,l=n.types,u=n.properties[o.name].type,c=o.bypass,h=a[o.name],d=h&&h.bypass,f=t._private,p=function(){n.checkZOrderTrigger(t,o.name,h?h.value:null,o.value)};if("curve-style"===e.name&&"haystack"===e.value&&t.isEdge()&&(t.isLoop()||t.source().isParent()||t.target().isParent())&&(o=e=this.parse(e.name,"bezier",c)),o.delete)return a[o.name]=void 0,p(),!0;if(o.deleteBypassed)return h?!!h.bypass&&(h.bypassed=void 0,p(),!0):(p(),!0);if(o.deleteBypass)return h?!!h.bypass&&(a[o.name]=h.bypassed,p(),!0):(p(),!0);var v=function(){r.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+t.id()+"` for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case l.mapData:for(var g=o.field.split("."),y=f.data,m=0;m<g.length&&y;m++)y=y[g[m]];var b=void 0;if((b=i.number(y)?(y-o.fieldMin)/(o.fieldMax-o.fieldMin):0)<0?b=0:b>1&&(b=1),u.color){var w=o.valueMin[0],_=o.valueMax[0],x=o.valueMin[1],E=o.valueMax[1],S=o.valueMin[2],k=o.valueMax[2],C=null==o.valueMin[3]?1:o.valueMin[3],O=null==o.valueMax[3]?1:o.valueMax[3],T=[Math.round(w+(_-w)*b),Math.round(x+(E-x)*b),Math.round(S+(k-S)*b),Math.round(C+(O-C)*b)];s={bypass:o.bypass,name:o.name,value:T,strValue:"rgb("+T[0]+", "+T[1]+", "+T[2]+")"}}else{if(!u.number)return!1;var P=o.valueMin+(o.valueMax-o.valueMin)*b;s=this.parse(o.name,P,o.bypass,"mapping")}s||(s=this.parse(o.name,h.strValue,o.bypass,"mapping")),s||v(),s.mapping=o,o=s;break;case l.data:var N=o.field.split("."),A=f.data;if(A)for(var D=0;D<N.length;D++)A=A[N[D]];if(!(s=this.parse(o.name,A,o.bypass,"mapping"))){var M=h?h.strValue:"";s=this.parse(o.name,M,o.bypass,"mapping")}s||v(),s.mapping=o,o=s;break;case l.fn:var L=(0,o.value)(t);(s=this.parse(o.name,L,o.bypass,"mapping")).mapping=o,o=s;break;case void 0:break;default:return!1}return c?(o.bypassed=d?h.bypassed:h,a[o.name]=o):d?h.bypassed=o:a[o.name]=o,p(),!0},cleanElements:function(t,e){for(var n=this.properties,r=0;r<t.length;r++){var i=t[r];if(e)for(var o=i._private.style,a=0;a<n.length;a++){var s=n[a],l=o[s.name];l&&(l.bypass?l.bypassed=null:o[s.name]=null)}else i._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateMappers:function(t){for(var e=this._private.cy.collection(),n=0;n<t.length;n++){for(var r=t[n],i=r._private.style,o=!1,a=0;a<this.properties.length;a++){var s=i[this.properties[a].name];if(s&&s.mapping){var l=s.mapping;this.applyParsedProperty(r,l),o=!0}}o&&(this.updateStyleHints(r),e.merge(r))}return e},updateTransitions:function(t,e,n){var r=this,a=t._private,s=t.pstyle("transition-property").value,l=t.pstyle("transition-duration").pfValue,u=t.pstyle("transition-delay").pfValue;if(s.length>0&&l>0){for(var c={},h=!1,d=0;d<s.length;d++){var f=s[d],p=t.pstyle(f),v=e[f];if(v){var g=v.prev,y=null!=v.next?v.next:p,m=!1,b=void 0;g&&(i.number(g.pfValue)&&i.number(y.pfValue)?(m=y.pfValue-g.pfValue,b=g.pfValue+1e-6*m):i.number(g.value)&&i.number(y.value)?(m=y.value-g.value,b=g.value+1e-6*m):i.array(g.value)&&i.array(y.value)&&(m=g.value[0]!==y.value[0]||g.value[1]!==y.value[1]||g.value[2]!==y.value[2],b=g.strValue),m&&(c[f]=y.strValue,this.applyBypass(t,f,b),h=!0))}}if(!h)return;a.transitioning=!0,new o((function(e){u>0?t.delayAnimation(u).play().promise().then(e):e()})).then((function(){return t.animation({style:c,duration:l,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){r.removeBypasses(t,s),t.emitAndNotify("style"),a.transitioning=!1}))}else a.transitioning&&(this.removeBypasses(t,s),t.emitAndNotify("style"),a.transitioning=!1)},checkZOrderTrigger:function(t,e,n,r){var i=this.properties[e];null==i.triggersZOrder||null!=n&&!i.triggersZOrder(n,r)||this._private.cy.notify({type:"zorder",eles:t})}};t.exports=a},function(t,e,n){var r=n(0),i=n(1),o={applyBypass:function(t,e,n,o){var a=[];if("*"===e||"**"===e){if(void 0!==n)for(var s=0;s<this.properties.length;s++){var l=this.properties[s].name,u=this.parse(l,n,!0);u&&a.push(u)}}else if(r.string(e)){var c=this.parse(e,n,!0);c&&a.push(c)}else{if(!r.plainObject(e))return!1;var h=e;o=n;for(var d=Object.keys(h),f=0;f<d.length;f++){var p=d[f],v=(this.properties[p],h[p]);if(void 0===v&&(v=h[i.dash2camel(p)]),void 0!==v){var g=this.parse(p,v,!0);g&&a.push(g)}}}if(0===a.length)return!1;for(var y=!1,m=0;m<t.length;m++){for(var b=t[m],w={},_=void 0,x=0;x<a.length;x++){var E=a[x];if(o){var S=b.pstyle(E.name);_=w[E.name]={prev:S}}y=this.applyParsedProperty(b,E)||y,o&&(_.next=b.pstyle(E.name))}y&&this.updateStyleHints(b),o&&this.updateTransitions(b,w,!0)}return y},overrideBypass:function(t,e,n){e=i.camel2dash(e);for(var r=0;r<t.length;r++){var o=t[r],a=o._private.style[e],s=this.properties[e].type,l=s.color,u=s.mutiple;if(a&&a.bypass){var c=null!=a.pfValue?a.pfValue:a.value;a.value=n,null!=a.pfValue&&(a.pfValue=n),a.strValue=l?"rgb("+n.join(",")+")":u?n.join(" "):""+n,this.checkZOrderTrigger(o,e,c,n)}else this.applyBypass(o,e,n)}},removeAllBypasses:function(t,e){return this.removeBypasses(t,this.propertyNames,e)},removeBypasses:function(t,e,n){for(var r=0;r<t.length;r++){for(var i=t[r],o={},a=0;a<e.length;a++){var s=e[a],l=this.properties[s],u=i.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),h=o[l.name]={prev:u};this.applyParsedProperty(i,c),h.next=i.pstyle(l.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,o,!0)}}};t.exports=o},function(t,e,n){var r=n(3),i={getEmSizeInPixels:function(){var t=this.containerCss("font-size");return null!=t?parseFloat(t):1},containerCss:function(t){var e=this._private.cy.container();if(r&&e&&r.getComputedStyle)return r.getComputedStyle(e).getPropertyValue(t)}};t.exports=i},function(t,e,n){var r=n(1),i=n(0),o={getRenderedStyle:function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},getRawStyle:function(t,e){if(t=t[0]){for(var n={},i=0;i<this.properties.length;i++){var o=this.properties[i],a=this.getStylePropertyValue(t,o.name,e);null!=a&&(n[o.name]=a,n[r.dash2camel(o.name)]=a)}return n}},getIndexedStyle:function(t,e,n,r){var i=t.pstyle(e)[n][r];return null!=i?i:t.cy().style().getDefaultProperty(e)[n][0]},getStylePropertyValue:function(t,e,n){if(t=t[0]){var r=this.properties[e];r.alias&&(r=r.pointsTo);var o=r.type,a=t.pstyle(r.name);if(a){var s=a.value,l=a.units,u=a.strValue;if(n&&o.number&&null!=s&&i.number(s)){var c=t.cy().zoom(),h=function(t){return t*c},d=function(t,e){return h(t)+e},f=i.array(s);return(f?l.every((function(t){return null!=t})):null!=l)?f?s.map((function(t,e){return d(t,l[e])})).join(" "):d(s,l):f?s.map((function(t){return i.string(t)?t:""+h(t)})).join(" "):""+h(s)}if(null!=u)return u}return null}},getAnimationStartStyle:function(t,e){for(var n={},r=0;r<e.length;r++){var o=e[r].name,a=t.pstyle(o);void 0!==a&&(a=i.plainObject(a)?this.parse(o,a.strValue):this.parse(o,a)),a&&(n[o]=a)}return n},getPropsList:function(t){var e=[],n=t,i=this.properties;if(n)for(var o=Object.keys(n),a=0;a<o.length;a++){var s=o[a],l=n[s],u=i[s]||i[r.camel2dash(s)],c=this.parse(u.name,l);c&&e.push(c)}return e}};t.exports=o},function(t,e,n){var r={appendFromJson:function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.selector,i=n.style||n.css,o=Object.keys(i);this.selector(r);for(var a=0;a<o.length;a++){var s=o[a],l=i[s];this.css(s,l)}}return this},fromJson:function(t){return this.resetToDefault(),this.appendFromJson(t),this},json:function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var n=this[e],r=n.selector,i=n.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}t.push({selector:r?r.toString():"core",style:o})}return t}};t.exports=r},function(t,e,n){var r=n(1),i=n(6),o={appendFromString:function(t){var e=""+t,n=void 0,o=void 0,a=void 0;function s(){e=e.length>n.length?e.substr(n.length):""}function l(){o=o.length>a.length?o.substr(a.length):""}for(e=e.replace(/[/][*](\s|.)+?[*][/]/g,"");!e.match(/^\s*$/);){var u=e.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!u){r.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+e);break}n=u[0];var c=u[1];if("core"!==c&&new i(c)._private.invalid)r.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+c),s();else{var h=u[2],d=!1;o=h;for(var f=[];!o.match(/^\s*$/);){var p=o.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!p){r.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),d=!0;break}a=p[0];var v=p[1],g=p[2];this.properties[v]?this.parse(v,g)?(f.push({name:v,val:g}),l()):(r.error("Skipping property: Invalid property definition in: "+a),l()):(r.error("Skipping property: Invalid property name in: "+a),l())}if(d){s();break}this.selector(c);for(var y=0;y<f.length;y++){var m=f[y];this.css(m.name,m.val)}s()}}return this},fromString:function(t){return this.resetToDefault(),this.appendFromString(t),this}};t.exports=o},function(t,e,n){var r=n(1),i=n(0),o={};!function(){var t=r.regex.number,e=r.regex.rgbaNoBackRefs,n=r.regex.hslaNoBackRefs,a=r.regex.hex3,s=r.regex.hex6,l=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},u=function(r){var i=t+"|\\w+|"+e+"|"+n+"|"+a+"|"+s;return"^"+r+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"},c=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];o.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"]},color:{color:!0},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontletiant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","cutrectangle","bottomroundrectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","half-triangle-overshot","vee","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:l("data")},layoutData:{mapping:!0,regex:l("layoutData")},scratch:{mapping:!0,regex:l("scratch")},mapData:{mapping:!0,regex:u("mapData")},mapLayoutData:{mapping:!0,regex:u("mapLayoutData")},mapScratch:{mapping:!0,regex:u("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:c,singleRegexMatchValue:!0},urls:{regexes:c,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-line"],singleEnum:!0,validate:function(t,e){switch(t.length){case 2:return"deg"!==e[0]&&"rad"!==e[0]&&"deg"!==e[1]&&"rad"!==e[1];case 1:return i.string(t[0])||"deg"===e[0]||"rad"===e[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]}};var h={zeroNonZero:function(t,e){return 0===t&&0!==e||0!==t&&0===e},anyDiff:function(t,e){return t!==e}},d=o.types,f=o.properties=[{name:"label",type:d.text},{name:"text-rotation",type:d.textRotation},{name:"text-margin-x",type:d.bidirectionalSize},{name:"text-margin-y",type:d.bidirectionalSize},{name:"source-label",type:d.text},{name:"source-text-rotation",type:d.textRotation},{name:"source-text-margin-x",type:d.bidirectionalSize},{name:"source-text-margin-y",type:d.bidirectionalSize},{name:"source-text-offset",type:d.size},{name:"target-label",type:d.text},{name:"target-text-rotation",type:d.textRotation},{name:"target-text-margin-x",type:d.bidirectionalSize},{name:"target-text-margin-y",type:d.bidirectionalSize},{name:"target-text-offset",type:d.size},{name:"text-valign",type:d.valign},{name:"text-halign",type:d.halign},{name:"color",type:d.color},{name:"text-outline-color",type:d.color},{name:"text-outline-width",type:d.size},{name:"text-outline-opacity",type:d.zeroOneNumber},{name:"text-opacity",type:d.zeroOneNumber},{name:"text-background-color",type:d.color},{name:"text-background-opacity",type:d.zeroOneNumber},{name:"text-background-padding",type:d.size},{name:"text-border-opacity",type:d.zeroOneNumber},{name:"text-border-color",type:d.color},{name:"text-border-width",type:d.size},{name:"text-border-style",type:d.borderStyle},{name:"text-background-shape",type:d.textBackgroundShape},{name:"text-transform",type:d.textTransform},{name:"text-wrap",type:d.textWrap},{name:"text-max-width",type:d.size},{name:"text-events",type:d.bool},{name:"font-family",type:d.fontFamily},{name:"font-style",type:d.fontStyle},{name:"font-weight",type:d.fontWeight},{name:"font-size",type:d.size},{name:"min-zoomed-font-size",type:d.size},{name:"events",type:d.bool},{name:"display",type:d.display,triggersZOrder:h.anyDiff},{name:"visibility",type:d.visibility,triggersZOrder:h.anyDiff},{name:"opacity",type:d.zeroOneNumber,triggersZOrder:h.zeroNonZero},{name:"z-compound-depth",type:d.zCompoundDepth,triggersZOrder:h.anyDiff},{name:"z-index-compare",type:d.zIndexCompare,triggersZOrder:h.anyDiff},{name:"z-index",type:d.nonNegativeInt,triggersZOrder:h.anyDiff},{name:"overlay-padding",type:d.size},{name:"overlay-color",type:d.color},{name:"overlay-opacity",type:d.zeroOneNumber},{name:"transition-property",type:d.propList},{name:"transition-duration",type:d.time},{name:"transition-delay",type:d.time},{name:"transition-timing-function",type:d.easing},{name:"height",type:d.nodeSize},{name:"width",type:d.nodeSize},{name:"shape",type:d.nodeShape},{name:"shape-polygon-points",type:d.polygonPointList},{name:"background-color",type:d.color},{name:"background-opacity",type:d.zeroOneNumber},{name:"background-blacken",type:d.nOneOneNumber},{name:"padding",type:d.sizeMaybePercent},{name:"padding-relative-to",type:d.paddingRelativeTo},{name:"border-color",type:d.color},{name:"border-opacity",type:d.zeroOneNumber},{name:"border-width",type:d.size},{name:"border-style",type:d.borderStyle},{name:"background-image",type:d.urls},{name:"background-image-crossorigin",type:d.bgCrossOrigin},{name:"background-image-opacity",type:d.zeroOneNumbers},{name:"background-position-x",type:d.bgPos},{name:"background-position-y",type:d.bgPos},{name:"background-width-relative-to",type:d.bgRelativeTo},{name:"background-height-relative-to",type:d.bgRelativeTo},{name:"background-repeat",type:d.bgRepeat},{name:"background-fit",type:d.bgFit},{name:"background-clip",type:d.bgClip},{name:"background-width",type:d.bgWH},{name:"background-height",type:d.bgWH},{name:"position",type:d.position},{name:"compound-sizing-wrt-labels",type:d.compoundIncludeLabels},{name:"min-width",type:d.size},{name:"min-width-bias-left",type:d.sizeMaybePercent},{name:"min-width-bias-right",type:d.sizeMaybePercent},{name:"min-height",type:d.size},{name:"min-height-bias-top",type:d.sizeMaybePercent},{name:"min-height-bias-bottom",type:d.sizeMaybePercent},{name:"line-style",type:d.lineStyle},{name:"line-color",type:d.color},{name:"curve-style",type:d.curveStyle},{name:"haystack-radius",type:d.zeroOneNumber},{name:"source-endpoint",type:d.edgeEndpoint},{name:"target-endpoint",type:d.edgeEndpoint},{name:"control-point-step-size",type:d.size},{name:"control-point-distances",type:d.bidirectionalSizes},{name:"control-point-weights",type:d.numbers},{name:"segment-distances",type:d.bidirectionalSizes},{name:"segment-weights",type:d.numbers},{name:"edge-distances",type:d.edgeDistances},{name:"arrow-scale",type:d.positiveNumber},{name:"loop-direction",type:d.angle},{name:"loop-sweep",type:d.angle},{name:"source-distance-from-node",type:d.size},{name:"target-distance-from-node",type:d.size},{name:"ghost",type:d.bool},{name:"ghost-offset-x",type:d.bidirectionalSize},{name:"ghost-offset-y",type:d.bidirectionalSize},{name:"ghost-opacity",type:d.zeroOneNumber},{name:"selection-box-color",type:d.color},{name:"selection-box-opacity",type:d.zeroOneNumber},{name:"selection-box-border-color",type:d.color},{name:"selection-box-border-width",type:d.size},{name:"active-bg-color",type:d.color},{name:"active-bg-opacity",type:d.zeroOneNumber},{name:"active-bg-size",type:d.size},{name:"outside-texture-bg-color",type:d.color},{name:"outside-texture-bg-opacity",type:d.zeroOneNumber}],p=o.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];o.pieBackgroundN=16,f.push({name:"pie-size",type:d.sizeMaybePercent});for(var v=1;v<=o.pieBackgroundN;v++)f.push({name:"pie-"+v+"-background-color",type:d.color}),f.push({name:"pie-"+v+"-background-size",type:d.percent}),f.push({name:"pie-"+v+"-background-opacity",type:d.zeroOneNumber});var g=o.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:d.arrowShape},{name:"arrow-color",type:d.color},{name:"arrow-fill",type:d.arrowFill}].forEach((function(t){g.forEach((function(e){var n=e+"-"+t.name,r=t.type;f.push({name:n,type:r})}))}),{}),o.propertyNames=f.map((function(t){return t.name}));for(var y=0;y<f.length;y++){var m=f[y];f[m.name]=m}for(var b=0;b<p.length;b++){var w=p[b],_=f[w.pointsTo],x={name:w.name,alias:!0,pointsTo:_};f.push(x),f[w.name]=x}}(),o.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},o.getDefaultProperties=r.memoize((function(){for(var t=r.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(t,e){for(var n=1;n<=o.pieBackgroundN;n++){var r=e.name.replace("{{i}}",n),i=e.value;t[r]=i}return t}),{}),{"line-style":"solid","line-color":"#999","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"edge-distances":"intersection","curve-style":"bezier","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node"},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(t,e){return o.arrowPrefixes.forEach((function(n){var r=n+"-"+e.name,i=e.value;t[r]=i})),t}),{})),e={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,s=t[a],l=this.parse(a,s);e[a]=l}}return e})),o.addDefaultStylesheet=function(){this.selector("$node > node").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3,"curve-style":"haystack"}).selector(":parent <-> node").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector("node:parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},t.exports=o},function(t,e,n){var r=n(1),i=n(0),o=n(2),a={parse:function(t,e,n,o){if(i.fn(e))return this.parseImplWarn(t,e,n,o);var a=[t,e,n,"mapping"===o||!0===o||!1===o||null==o?"dontcare":o].join("$"),s=this.propCache=this.propCache||{},l=void 0;return(l=s[a])||(l=s[a]=this.parseImplWarn(t,e,n,o)),(n||"mapping"===o)&&(l=r.copy(l))&&(l.value=r.copy(l.value)),l},parseImplWarn:function(t,e,n,i){var o=this.parseImpl(t,e,n,i);return o||null==e||r.error("The style property `%s: %s` is invalid",t,e),o},parseImpl:function(t,e,n,a){t=r.camel2dash(t);var s=this.properties[t],l=e,u=this.types;if(!s)return null;if(void 0===e)return null;s.alias&&(s=s.pointsTo,t=s.name);var c=i.string(e);c&&(e=e.trim());var h=s.type;if(!h)return null;if(n&&(""===e||null===e))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(i.fn(e))return{name:t,value:e,strValue:"fn",mapped:u.fn,bypass:n};var d=void 0,f=void 0;if(!c||a);else{if(d=new RegExp(u.data.regex).exec(e)){if(n)return!1;var p=u.data;return{name:t,value:d,strValue:""+e,mapped:p,field:d[1],bypass:n}}if(f=new RegExp(u.mapData.regex).exec(e)){if(n)return!1;if(h.multiple)return!1;var v=u.mapData;if(!h.color&&!h.number)return!1;var g=this.parse(t,f[4]);if(!g||g.mapped)return!1;var y=this.parse(t,f[5]);if(!y||y.mapped)return!1;if(g.value===y.value)return!1;if(h.color){var m=g.value,b=y.value;if(!(m[0]!==b[0]||m[1]!==b[1]||m[2]!==b[2]||m[3]!==b[3]&&(null!=m[3]&&1!==m[3]||null!=b[3]&&1!==b[3])))return!1}return{name:t,value:f,strValue:""+e,mapped:v,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:g.value,valueMax:y.value,bypass:n}}}if(h.multiple&&"multiple"!==a){var w=void 0;if(w=c?e.split(/\s+/):i.array(e)?e:[e],h.evenMultiple&&w.length%2!=0)return null;for(var _=[],x=[],E=[],S=!1,k=0;k<w.length;k++){var C=this.parse(t,w[k],n,"multiple");S=S||i.string(C.value),_.push(C.value),E.push(null!=C.pfValue?C.pfValue:C.value),x.push(C.units)}return h.validate&&!h.validate(_,x)?null:h.singleEnum&&S?1===_.length&&i.string(_[0])?{name:t,value:_[0],strValue:_[0],bypass:n}:null:{name:t,value:_,pfValue:E,strValue:_.map((function(t,e){return t+(x[e]||"")})).join(" "),bypass:n,units:x}}var O=function(){for(var r=0;r<h.enums.length;r++)if(h.enums[r]===e)return{name:t,value:e,strValue:""+e,bypass:n};return null};if(h.number){var T=void 0,P="px";if(h.units&&(T=h.units),h.implicitUnits&&(P=h.implicitUnits),!h.unitless)if(c){var N="px|em"+(h.allowPercent?"|\\%":"");T&&(N=T);var A=e.match("^("+r.regex.number+")("+N+")?$");A&&(e=A[1],T=A[2]||P)}else T&&!h.implicitUnits||(T=P);if(e=parseFloat(e),isNaN(e)&&void 0===h.enums)return null;if(isNaN(e)&&void 0!==h.enums)return e=l,O();if(h.integer&&!i.integer(e))return null;if(void 0!==h.min&&(e<h.min||h.strictMin&&e===h.min)||void 0!==h.max&&(e>h.max||h.strictMax&&e===h.max))return null;var D={name:t,value:e,strValue:""+e+(T||""),units:T,bypass:n};return h.unitless||"px"!==T&&"em"!==T?D.pfValue=e:D.pfValue="px"!==T&&T?this.getEmSizeInPixels()*e:e,"ms"!==T&&"s"!==T||(D.pfValue="ms"===T?e:1e3*e),"deg"!==T&&"rad"!==T||(D.pfValue="rad"===T?e:o.deg2rad(e)),"%"===T&&(D.pfValue=e/100),D}if(h.propList){var M=[],L=""+e;if("none"===L);else{for(var I=L.split(","),j=0;j<I.length;j++){var R=I[j].trim();this.properties[R]&&M.push(R)}if(0===M.length)return null}return{name:t,value:M,strValue:0===M.length?"none":M.join(", "),bypass:n}}if(h.color){var B=r.color2tuple(e);return B?{name:t,value:B,pfValue:B,strValue:""+e,bypass:n}:null}if(h.regex||h.regexes){if(h.enums){var F=O();if(F)return F}for(var z=h.regexes?h.regexes:[h.regex],V=0;V<z.length;V++){var q=new RegExp(z[V]).exec(e);if(q)return{name:t,value:h.singleRegexMatchValue?q[1]:q,strValue:""+e,bypass:n}}return null}return h.string?{name:t,value:""+e,strValue:""+e,bypass:n}:h.enums?O():null}};t.exports=a},function(t,e,n){var r=n(0),i=n(3),o=n(2),a={autolock:function(t){return void 0===t?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return void 0===t?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return void 0===t?this._private.autounselectify:(this._private.autounselectify=!!t,this)},panningEnabled:function(t){return void 0===t?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return void 0===t?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return void 0===t?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return void 0===t?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return void 0===t?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var t=arguments,e=this._private.pan,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0;switch(t.length){case 0:return e;case 1:if(r.string(t[0]))return e[n=t[0]];if(r.plainObject(t[0])){if(!this._private.panningEnabled)return this;a=(o=t[0]).x,s=o.y,r.number(a)&&(e.x=a),r.number(s)&&(e.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=t[0],i=t[1],"x"!==n&&"y"!==n||!r.number(i)||(e[n]=i),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(t,e){var n=arguments,i=this._private.pan,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0;if(!this._private.panningEnabled)return this;switch(n.length){case 1:r.plainObject(t)&&(l=(s=n[0]).x,u=s.y,r.number(l)&&(i.x+=l),r.number(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=e,"x"!==(o=t)&&"y"!==o||!r.number(a)||(i[o]+=a),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(t,e){var n=this.getFitViewport(t,e);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(t,e){if(r.number(t)&&void 0===e&&(e=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n=void 0;if(r.string(t)){var i=t;t=this.$(i)}else if(r.boundingBox(t)){var o=t;(n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else r.elementOrCollection(t)||(t=this.mutableElements());if(!r.elementOrCollection(t)||!t.empty()){n=n||t.boundingBox();var a=this.width(),s=this.height(),l=void 0;if(e=r.number(e)?e:0,!isNaN(a)&&!isNaN(s)&&a>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:l=(l=(l=Math.min((a-2*e)/n.w,(s-2*e)/n.h))>this._private.maxZoom?this._private.maxZoom:l)<this._private.minZoom?this._private.minZoom:l,pan:{x:(a-l*(n.x1+n.x2))/2,y:(s-l*(n.y1+n.y2))/2}}}}},minZoom:function(t){return void 0===t?this._private.minZoom:(r.number(t)&&(this._private.minZoom=t),this)},maxZoom:function(t){return void 0===t?this._private.maxZoom:(r.number(t)&&(this._private.maxZoom=t),this)},getZoomedViewport:function(t){var e=this._private,n=e.pan,i=e.zoom,a=void 0,s=void 0,l=!1;if(e.zoomingEnabled||(l=!0),r.number(t)?s=t:r.plainObject(t)&&(s=t.level,null!=t.position?a=o.modelToRenderedPosition(t.position,i,n):null!=t.renderedPosition&&(a=t.renderedPosition),null==a||e.panningEnabled||(l=!0)),s=(s=s>e.maxZoom?e.maxZoom:s)<e.minZoom?e.minZoom:s,l||!r.number(s)||s===i||null!=a&&(!r.number(a.x)||!r.number(a.y)))return null;if(null!=a){var u=n,c=i,h=s;return{zoomed:!0,panned:!0,zoom:h,pan:{x:-h/c*(a.x-u.x)+a.x,y:-h/c*(a.y-u.y)+a.y}}}return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(t){if(void 0===t)return this._private.zoom;var e=this.getZoomedViewport(t),n=this._private;return null!=e&&e.zoomed?(n.zoom=e.zoom,e.panned&&(n.pan.x=e.pan.x,n.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify({type:"viewport"}),this):this},viewport:function(t){var e=this._private,n=!0,i=!0,o=[],a=!1,s=!1;if(!t)return this;if(r.number(t.zoom)||(n=!1),r.plainObject(t.pan)||(i=!1),!n&&!i)return this;if(n){var l=t.zoom;l<e.minZoom||l>e.maxZoom||!e.zoomingEnabled?a=!0:(e.zoom=l,o.push("zoom"))}if(i&&(!a||!t.cancelOnFailedZoom)&&e.panningEnabled){var u=t.pan;r.number(u.x)&&(e.pan.x=u.x,s=!1),r.number(u.y)&&(e.pan.y=u.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify({type:"viewport"})),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(t,e){if(this._private.panningEnabled){if(r.string(t)){var n=t;t=this.mutableElements().filter(n)}else r.elementOrCollection(t)||(t=this.mutableElements());if(0!==t.length){var i=t.boundingBox(),o=this.width(),a=this.height();return{x:(o-(e=void 0===e?this._private.zoom:e)*(i.x1+i.x2))/2,y:(a-e*(i.y1+i.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,e=t.container;return t.sizeCache=t.sizeCache||(e?function(){var t=i.getComputedStyle(e),n=function(e){return parseFloat(t.getPropertyValue(e))};return{width:e.clientWidth-n("padding-left")-n("padding-right"),height:e.clientHeight-n("padding-top")-n("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,e=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-t.x)/e,x2:(n.x2-t.x)/e,y1:(n.y1-t.y)/e,y2:(n.y2-t.y)/e};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}}};a.centre=a.center,a.autolockNodes=a.autolock,a.autoungrabifyNodes=a.autoungrabify,t.exports=a},function(t,e,n){var r=n(1),i=n(4),o=n(7),a=n(12),s=n(95),l=n(0),u=n(11),c={},h={};function d(t,e,n){var s=n,h=function(n){r.error("Can not register `"+e+"` for `"+t+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===t){if(a.prototype[e])return h(e);a.prototype[e]=n}else if("collection"===t){if(o.prototype[e])return h(e);o.prototype[e]=n}else if("layout"===t){for(var d=function(t){this.options=t,n.call(this,t),l.plainObject(this._private)||(this._private={}),this._private.cy=t.cy,this._private.listeners=[],this.createEmitter()},p=d.prototype=Object.create(n.prototype),v=[],g=0;g<v.length;g++){var y=v[g];p[y]=p[y]||function(){return this}}p.start&&!p.run?p.run=function(){return this.start(),this}:!p.start&&p.run&&(p.start=function(){return this.run(),this});var m=n.prototype.stop;p.stop=function(){var t=this.options;if(t&&t.animate){var e=this.animations;if(e)for(var n=0;n<e.length;n++)e[n].stop()}return m?m.call(this):this.emit("layoutstop"),this},p.destroy||(p.destroy=function(){return this}),p.cy=function(){return this._private.cy};var b=function(t){return t._private.cy};r.assign(p,{createEmitter:function(){return this._private.emitter=new u({eventFields:function(t){return{layout:t,cy:b(t),target:t}},bubble:function(){return!0},parent:function(t){return b(t)},context:this}),this},emitter:function(){return this._private.emitter},on:function(t,e){return this.emitter().on(t,e),this},one:function(t,e){return this.emitter().one(t,e),this},once:function(t,e){return this.emitter().one(t,e),this},removeListener:function(t,e){return this.emitter().removeListener(t,e),this},emit:function(t,e){return this.emitter().emit(t,e),this}}),i.eventAliasesOn(p),s=d}else if("renderer"===t&&"null"!==e&&"base"!==e){var w=f("renderer","base"),_=w.prototype,x=n,E=n.prototype,S=function(){w.apply(this,arguments),x.apply(this,arguments)},k=S.prototype;for(var C in _){var O=_[C];if(null!=E[C])return h(C);k[C]=O}for(var T in E)k[T]=E[T];_.clientFunctions.forEach((function(t){k[t]=k[t]||function(){r.error("Renderer does not implement `renderer."+t+"()` on its prototype")}})),s=S}return r.setMap({map:c,keys:[t,e],value:s})}function f(t,e){return r.getMap({map:c,keys:[t,e]})}function p(t,e,n,i,o){return r.setMap({map:h,keys:[t,e,n,i],value:o})}function v(t,e,n,i){return r.getMap({map:h,keys:[t,e,n,i]})}var g=function(){return 2===arguments.length?f.apply(null,arguments):3===arguments.length?d.apply(null,arguments):4===arguments.length?v.apply(null,arguments):5===arguments.length?p.apply(null,arguments):void r.error("Invalid extension access syntax")};a.prototype.extension=g,s.forEach((function(t){t.extensions.forEach((function(e){d(t.type,e.name,e.impl)}))})),t.exports=g},function(t,e,n){t.exports=[{type:"layout",extensions:n(96)},{type:"renderer",extensions:n(105)}]},function(t,e,n){t.exports=[{name:"breadthfirst",impl:n(97)},{name:"circle",impl:n(98)},{name:"concentric",impl:n(99)},{name:"cose",impl:n(100)},{name:"grid",impl:n(101)},{name:"null",impl:n(102)},{name:"preset",impl:n(103)},{name:"random",impl:n(104)}]},function(t,e,n){var r=n(1),i=n(2),o=n(0),a={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function s(t){this.options=r.extend({},a,t)}s.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,a=r.nodes().not(":parent"),s=r,l=i.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u=void 0;if(o.elementOrCollection(e.roots))u=e.roots;else if(o.array(e.roots)){for(var c=[],h=0;h<e.roots.length;h++){var d=e.roots[h],f=n.getElementById(d);c.push(f)}u=n.collection(c)}else if(o.string(e.roots))u=n.$(e.roots);else if(e.directed)u=a.roots();else{for(var p=[],v=a,g=function(){var t=n.collection();r.bfs({roots:v[0],visit:function(e,n,r,i,o){t=t.add(e)},directed:!1}),v=v.not(t),p.push(t)};v.length>0;)g();u=n.collection();for(var y=function(t){var e=p[t],n=e.maxDegree(!1),r=e.filter((function(t){return t.degree(!1)===n}));u=u.add(r)},m=0;m<p.length;m++)y(m)}var b=[],w={},_={},x={};s.bfs({roots:u,directed:e.directed,visit:function(t,e,n,r,i){var o=t[0],a=o.id();if(b[i]||(b[i]=[]),b[i].push(o),w[a]=!0,_[a]=i,n){var s=n.id();(x[s]=x[s]||[]).push(t)}}});for(var E=[],S=0;S<a.length;S++){var k=a[S];w[k.id()]||E.push(k)}for(var C=3*E.length,O=0;0!==E.length&&O<C;){for(var T=E.shift(),P=T.neighborhood().nodes(),N=!1,A=0;A<P.length;A++){var D=_[P[A].id()];if(void 0!==D){b[D].push(T),N=!0;break}}N||E.push(T),O++}for(;0!==E.length;){var M=E.shift();0===b.length&&b.push([]),b[0].push(M)}var L=function(){for(var t=0;t<b.length;t++)for(var e=b[t],n=0;n<e.length;n++){var r=e[n];null!=r?r._private.scratch.breadthfirst={depth:t,index:n}:(e.splice(n,1),n--)}};L();for(var I=function(t){for(var e=t.connectedEdges((function(e){return e.data("target")===t.id()})),n=t._private.scratch.breadthfirst,r=0,i=void 0,o=0;o<e.length;o++){var a=e[o].source()[0],s=a._private.scratch.breadthfirst;n.depth<=s.depth&&r<s.depth&&(r=s.depth,i=a)}return i},j=0;j<e.maximalAdjustments;j++){for(var R=b.length,B=[],F=0;F<R;F++)for(var z=b[F],V=z.length,q=0;q<V;q++){var U=z[q],X=U._private.scratch.breadthfirst,Y=I(U);Y&&(X.intEle=Y,B.push(U))}for(var H=0;H<B.length;H++){var G=B[H],W=G._private.scratch.breadthfirst,$=W.intEle._private.scratch.breadthfirst;b[W.depth][W.index]=null;for(var Z=$.depth+1;Z>b.length-1;)b.push([]);b[Z].push(G),W.depth=Z,W.index=b[Z].length-1}L()}var K=0;if(e.avoidOverlap)for(var Q=0;Q<a.length;Q++){var J=a[Q].layoutDimensions(e),tt=J.w,et=J.h;K=Math.max(K,tt,et)}for(var nt={},rt=function(t){if(nt[t.id()])return nt[t.id()];for(var e=t._private.scratch.breadthfirst.depth,n=t.neighborhood().nodes().not(":parent").intersection(a),r=0,i=0,o=0;o<n.length;o++){var s=n[o]._private.scratch.breadthfirst,l=s.index,u=s.depth,c=b[u].length;(e>u||0===e)&&(r+=l/c,i++)}return r/=i=Math.max(1,i),0===i&&(r=void 0),nt[t.id()]=r,r},it=function(t,e){return rt(t)-rt(e)},ot=0;ot<3;ot++){for(var at=0;at<b.length;at++)b[at]=b[at].sort(it);L()}for(var st=0,lt=0;lt<b.length;lt++)st=Math.max(b[lt].length,st);for(var ut=l.x1+l.w/2,ct=l.x1+l.h/2,ht=function(t,n){var r=t._private.scratch.breadthfirst,i=r.depth,o=r.index,a=b[i].length,s=Math.max(l.w/(a+1),K),u=Math.max(l.h/(b.length+1),K),c=Math.min(l.w/2/b.length,l.h/2/b.length);if(c=Math.max(c,K),e.circle){if(e.circle){var h=c*i+c-(b.length>0&&b[0].length<=3?c/2:0),d=2*Math.PI/b[i].length*o;return 0===i&&1===b[0].length&&(h=1),{x:ut+h*Math.cos(d),y:ct+h*Math.sin(d)}}return{x:ut+(o+1-(a+1)/2)*s,y:(i+1)*u}}var f={x:ut+(o+1-(a+1)/2)*s,y:(i+1)*u};return f},dt={},ft=b.length-1;ft>=0;ft--)for(var pt=b[ft],vt=0;vt<pt.length;vt++){var gt=pt[vt];dt[gt.id()]=ht(gt,b.length)}return a.layoutPositions(this,e,(function(t){return dt[t.id()]})),this},t.exports=s},function(t,e,n){var r=n(1),i=n(2),o=n(0),a={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function s(t){this.options=r.extend({},a,t)}s.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,a=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,s=r.nodes().not(":parent");e.sort&&(s=s.sort(e.sort));for(var l=i.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u=l.x1+l.w/2,c=l.y1+l.h/2,h=(void 0===e.sweep?2*Math.PI-2*Math.PI/s.length:e.sweep)/Math.max(1,s.length-1),d=void 0,f=0,p=0;p<s.length;p++){var v=s[p].layoutDimensions(e),g=v.w,y=v.h;f=Math.max(f,g,y)}if(d=o.number(e.radius)?e.radius:s.length<=1?0:Math.min(l.h,l.w)/2-f,s.length>1&&e.avoidOverlap){f*=1.75;var m=Math.cos(h)-Math.cos(0),b=Math.sin(h)-Math.sin(0),w=Math.sqrt(f*f/(m*m+b*b));d=Math.max(w,d)}return s.layoutPositions(this,e,(function(t,n){var r=e.startAngle+n*h*(a?1:-1),i=d*Math.cos(r),o=d*Math.sin(r);return{x:u+i,y:c+o}})),this},t.exports=s},function(t,e,n){var r=n(1),i=n(2),o={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function a(t){this.options=r.extend({},o,t)}a.prototype.run=function(){for(var t=this.options,e=t,n=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,r=t.cy,o=e.eles.nodes().not(":parent"),a=i.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s=a.x1+a.w/2,l=a.y1+a.h/2,u=[],c=(e.startAngle,0),h=0;h<o.length;h++){var d,f=o[h];d=e.concentric(f),u.push({value:d,node:f}),f._private.scratch.concentric=d}o.updateStyle();for(var p=0;p<o.length;p++){var v=o[p].layoutDimensions(e);c=Math.max(c,v.w,v.h)}u.sort((function(t,e){return e.value-t.value}));for(var g=e.levelWidth(o),y=[[]],m=y[0],b=0;b<u.length;b++){var w=u[b];m.length>0&&Math.abs(m[0].value-w.value)>=g&&(m=[],y.push(m)),m.push(w)}var _=c+e.minNodeSpacing;if(!e.avoidOverlap){var x=y.length>0&&y[0].length>1,E=(Math.min(a.w,a.h)/2-_)/(y.length+x?1:0);_=Math.min(_,E)}for(var S=0,k=0;k<y.length;k++){var C=y[k],O=void 0===e.sweep?2*Math.PI-2*Math.PI/C.length:e.sweep,T=C.dTheta=O/Math.max(1,C.length-1);if(C.length>1&&e.avoidOverlap){var P=Math.cos(T)-Math.cos(0),N=Math.sin(T)-Math.sin(0),A=Math.sqrt(_*_/(P*P+N*N));S=Math.max(A,S)}C.r=S,S+=_}if(e.equidistant){for(var D=0,M=0,L=0;L<y.length;L++){var I=y[L].r-M;D=Math.max(D,I)}M=0;for(var j=0;j<y.length;j++){var R=y[j];0===j&&(M=R.r),R.r=M,M+=D}}for(var B={},F=0;F<y.length;F++)for(var z=y[F],V=z.dTheta,q=z.r,U=0;U<z.length;U++){var X=z[U],Y=e.startAngle+(n?1:-1)*V*U,H={x:s+q*Math.cos(Y),y:l+q*Math.sin(Y)};B[X.node.id()]=H}return o.layoutPositions(this,e,(function(t){var e=t.id();return B[e]})),this},t.exports=a},function(t,e,n){var r,i=n(1),o=n(2),a=n(0),s=n(5),l={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,e){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1,weaver:!1};function u(t){this.options=i.extend({},l,t),this.options.layout=this}u.prototype.run=function(){var t=this.options,e=t.cy,n=this,o=this.thread,l=t.weaver?t.weaver.Thread:null,u={listeners:[],on:function(t,e){return this.listeners.push({event:t,callback:e}),this},trigger:function(t){a.string(t)&&(t={type:t});var e=function(e){e.callback(t)};return this.listeners.filter((function(e){return e.event===t.type})).forEach(e),this},pass:function(t){return this.pass=t,this},run:function(t){var e=this.pass;return new s((function(n){n(t(e))}))},stop:function(){return this},stopped:function(){return!0}};o&&!o.stopped()||(o=this.thread=l?new l:u),n.stopped=!1,!0!==t.animate&&!1!==t.animate||n.emit({type:"layoutstart",layout:n}),r=!0===t.debug;var h=c(e,n,t);r&&f(h),t.randomize&&p(h,e);var d=Date.now(),g=!1,y=function(n){n=n||{},g&&!n.next||!n.force&&Date.now()-d<t.animationThreshold||(g=!0,i.requestAnimationFrame((function(){v(h,e,t),!0===t.fit&&e.fit(t.padding),g=!1,n.next&&n.next()})))};o.on("message",(function(t){var e=t.message;h.layoutNodes=e,y()})),o.pass({layoutInfo:h,options:{animate:t.animate,refresh:t.refresh,componentSpacing:t.componentSpacing,nodeOverlap:t.nodeOverlap,nestingFactor:t.nestingFactor,gravity:t.gravity,numIter:t.numIter,initialTemp:t.initialTemp,coolingFactor:t.coolingFactor,minTemp:t.minTemp}}).run((function(t){var e,n,r=t.layoutInfo,i=t.options,o=function(t,e){for(var n=0;n<t.graphSet.length;n++)for(var r=t.graphSet[n],i=r.length,o=0;o<i;o++)for(var a=t.layoutNodes[t.idToIndex[r[o]]],l=o+1;l<i;l++){var u=t.layoutNodes[t.idToIndex[r[l]]];s(a,u,t,e)}},a=function(t){return-t+2*t*Math.random()},s=function(t,e,n,r){if(t.cmptId===e.cmptId||n.isCompound){var i=e.positionX-t.positionX,o=e.positionY-t.positionY;0===i&&0===o&&(i=a(1),o=a(1));var s=l(t,e,i,o);if(s>0)var u=(d=r.nodeOverlap*s)*i/(m=Math.sqrt(i*i+o*o)),h=d*o/m;else{var d,f=c(t,i,o),p=c(e,-1*i,-1*o),v=p.x-f.x,g=p.y-f.y,y=v*v+g*g,m=Math.sqrt(y);u=(d=(t.nodeRepulsion+e.nodeRepulsion)/y)*v/m,h=d*g/m}t.isLocked||(t.offsetX-=u,t.offsetY-=h),e.isLocked||(e.offsetX+=u,e.offsetY+=h)}},l=function(t,e,n,r){if(n>0)var i=t.maxX-e.minX;else i=e.maxX-t.minX;if(r>0)var o=t.maxY-e.minY;else o=e.maxY-t.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},c=function(t,e,n){var r=t.positionX,i=t.positionY,o=t.height||1,a=t.width||1,s=n/e,l=o/a,u={};return 0===e&&0<n?(u.x=r,u.y=i+o/2,u):0===e&&0>n?(u.x=r,u.y=i+o/2,u):0<e&&-1*l<=s&&s<=l?(u.x=r+a/2,u.y=i+a*n/2/e,u):0>e&&-1*l<=s&&s<=l?(u.x=r-a/2,u.y=i-a*n/2/e,u):0<n&&(s<=-1*l||s>=l)?(u.x=r+o*e/2/n,u.y=i+o/2,u):0>n&&(s<=-1*l||s>=l)?(u.x=r-o*e/2/n,u.y=i-o/2,u):u},h=function(t,e){for(var n=0;n<t.edgeSize;n++){var r=t.layoutEdges[n],i=t.idToIndex[r.sourceId],o=t.layoutNodes[i],a=t.idToIndex[r.targetId],s=t.layoutNodes[a],l=s.positionX-o.positionX,u=s.positionY-o.positionY;if(0!==l||0!==u){var h=c(o,l,u),d=c(s,-1*l,-1*u),f=d.x-h.x,p=d.y-h.y,v=Math.sqrt(f*f+p*p),g=Math.pow(r.idealLength-v,2)/r.elasticity;if(0!==v)var y=g*f/v,m=g*p/v;else y=0,m=0;o.isLocked||(o.offsetX+=y,o.offsetY+=m),s.isLocked||(s.offsetX-=y,s.offsetY-=m)}}},d=function(t,e){for(var n=0;n<t.graphSet.length;n++){var r=t.graphSet[n],i=r.length;if(0===n)var o=t.clientHeight/2,a=t.clientWidth/2;else{var s=t.layoutNodes[t.idToIndex[r[0]]],l=t.layoutNodes[t.idToIndex[s.parentId]];o=l.positionX,a=l.positionY}for(var u=0;u<i;u++){var c=t.layoutNodes[t.idToIndex[r[u]]];if(!c.isLocked){var h=o-c.positionX,d=a-c.positionY,f=Math.sqrt(h*h+d*d);if(f>1){var p=e.gravity*h/f,v=e.gravity*d/f;c.offsetX+=p,c.offsetY+=v}}}}},f=function(t,e){var n=[],r=0,i=-1;for(n.push.apply(n,t.graphSet[0]),i+=t.graphSet[0].length;r<=i;){var o=n[r++],a=t.idToIndex[o],s=t.layoutNodes[a],l=s.children;if(0<l.length&&!s.isLocked){for(var u=s.offsetX,c=s.offsetY,h=0;h<l.length;h++){var d=t.layoutNodes[t.idToIndex[l[h]]];d.offsetX+=u,d.offsetY+=c,n[++i]=l[h]}s.offsetX=0,s.offsetY=0}}},p=function(t,e){for(var n=0;n<t.nodeSize;n++)0<(i=t.layoutNodes[n]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0);for(n=0;n<t.nodeSize;n++)if(!(0<(i=t.layoutNodes[n]).children.length||i.isLocked)){var r=v(i.offsetX,i.offsetY,t.temperature);i.positionX+=r.x,i.positionY+=r.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,g(i,t)}for(n=0;n<t.nodeSize;n++){var i;0<(i=t.layoutNodes[n]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},v=function(t,e,n){var r=Math.sqrt(t*t+e*e);if(r>n)var i={x:n*t/r,y:n*e/r};else i={x:t,y:e};return i},g=function t(e,n){var r=e.parentId;if(null!=r){var i=n.layoutNodes[n.idToIndex[r]],o=!1;return(null==i.maxX||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(null==i.minX||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(null==i.maxY||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(null==i.minY||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o?t(i,n):void 0}},y=function(t){return function(t,e,n){o(t,e),h(t,e),d(t,e),f(t,e),p(t,e)}(r,i),r.temperature=r.temperature*i.coolingFactor,!(r.temperature<i.minTemp)},m=0;do{for(var b=0;(b<i.refresh||0===i.refresh)&&m<i.numIter;){var w;if(!(w=y()))break;b++,m++}!0===i.animate&&(e=r.layoutNodes,n=void 0,n={type:"message",message:e},u.trigger(n))}while(w&&m+1<i.numIter);return function(t,e){for(var n=r.layoutNodes,i=[],o=0;o<n.length;o++){var a=n[o],s=a.cmptId;(i[s]=i[s]||[]).push(a)}var l=0;for(o=0;o<i.length;o++)if(g=i[o]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var u=0;u<g.length;u++){var c=g[u];g.x1=Math.min(g.x1,c.positionX-c.width/2),g.x2=Math.max(g.x2,c.positionX+c.width/2),g.y1=Math.min(g.y1,c.positionY-c.height/2),g.y2=Math.max(g.y2,c.positionY+c.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,l+=g.w*g.h}i.sort((function(t,e){return e.w*e.h-t.w*t.h}));var h=0,d=0,f=0,p=0,v=Math.sqrt(l)*r.clientWidth/r.clientHeight;for(o=0;o<i.length;o++){var g;if(g=i[o]){for(u=0;u<g.length;u++)(c=g[u]).isLocked||(c.positionX+=h,c.positionY+=d);h+=g.w+e.componentSpacing,f+=g.w+e.componentSpacing,p=Math.max(p,g.h),f>v&&(d+=p+e.componentSpacing,h=0,f=0,p=0)}}}(0,i),r})).then((function(t){h.layoutNodes=t.layoutNodes,o.stop(),m()}));var m=function(){!0===t.animate||!1===t.animate?y({force:!0,next:function(){n.one("layoutstop",t.stop),n.emit({type:"layoutstop",layout:n})}}):t.eles.nodes().layoutPositions(n,t,(function(t){var e=h.layoutNodes[h.idToIndex[t.data("id")]];return{x:e.positionX,y:e.positionY}}))};return this},u.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},u.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var c=function(t,e,n){for(var r=n.eles.edges(),i=n.eles.nodes(),s={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:o.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var d=l[c],f=0;f<d.length;f++)u[d[f].id()]=c;for(c=0;c<s.nodeSize;c++){var p=(b=i[c]).layoutDimensions(n);(I={}).isLocked=b.locked(),I.id=b.data("id"),I.parentId=b.data("parent"),I.cmptId=u[b.id()],I.children=[],I.positionX=b.position("x"),I.positionY=b.position("y"),I.offsetX=0,I.offsetY=0,I.height=p.w,I.width=p.h,I.maxX=I.positionX+I.width/2,I.minX=I.positionX-I.width/2,I.maxY=I.positionY+I.height/2,I.minY=I.positionY-I.height/2,I.padLeft=parseFloat(b.style("padding")),I.padRight=parseFloat(b.style("padding")),I.padTop=parseFloat(b.style("padding")),I.padBottom=parseFloat(b.style("padding")),I.nodeRepulsion=a.fn(n.nodeRepulsion)?n.nodeRepulsion(b):n.nodeRepulsion,s.layoutNodes.push(I),s.idToIndex[I.id]=c}var v=[],g=0,y=-1,m=[];for(c=0;c<s.nodeSize;c++){var b,w=(b=s.layoutNodes[c]).parentId;null!=w?s.layoutNodes[s.idToIndex[w]].children.push(b.id):(v[++y]=b.id,m.push(b.id))}for(s.graphSet.push(m);g<=y;){var _=v[g++],x=s.idToIndex[_],E=s.layoutNodes[x].children;if(E.length>0)for(s.graphSet.push(E),c=0;c<E.length;c++)v[++y]=E[c]}for(c=0;c<s.graphSet.length;c++){var S=s.graphSet[c];for(f=0;f<S.length;f++){var k=s.idToIndex[S[f]];s.indexToGraph[k]=c}}for(c=0;c<s.edgeSize;c++){var C=r[c],O={};O.id=C.data("id"),O.sourceId=C.data("source"),O.targetId=C.data("target");var T=a.fn(n.idealEdgeLength)?n.idealEdgeLength(C):n.idealEdgeLength,P=a.fn(n.edgeElasticity)?n.edgeElasticity(C):n.edgeElasticity,N=s.idToIndex[O.sourceId],A=s.idToIndex[O.targetId];if(s.indexToGraph[N]!=s.indexToGraph[A]){for(var D=h(O.sourceId,O.targetId,s),M=s.graphSet[D],L=0,I=s.layoutNodes[N];-1===M.indexOf(I.id);)I=s.layoutNodes[s.idToIndex[I.parentId]],L++;for(I=s.layoutNodes[A];-1===M.indexOf(I.id);)I=s.layoutNodes[s.idToIndex[I.parentId]],L++;T*=L*n.nestingFactor}O.idealLength=T,O.elasticity=P,s.layoutEdges.push(O)}return s},h=function(t,e,n){var r=d(t,e,0,n);return 2>r.count?0:r.graph},d=function t(e,n,r,i){var o=i.graphSet[r];if(-1<o.indexOf(e)&&-1<o.indexOf(n))return{count:2,graph:r};for(var a=0,s=0;s<o.length;s++){var l=o[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(0!==c.length){var h=t(e,n,i.indexToGraph[i.idToIndex[c[0]]],i);if(0!==h.count){if(1!==h.count)return h;if(2==++a)break}}}return{count:a,graph:r}},f=function(t){if(r){console.debug("layoutNodes:");for(var e=0;e<t.nodeSize;e++){var n=t.layoutNodes[e],i="\nindex: "+e+"\nId: "+n.id+"\nChildren: "+n.children.toString()+"\nparentId: "+n.parentId+"\npositionX: "+n.positionX+"\npositionY: "+n.positionY+"\nOffsetX: "+n.offsetX+"\nOffsetY: "+n.offsetY+"\npadLeft: "+n.padLeft+"\npadRight: "+n.padRight+"\npadTop: "+n.padTop+"\npadBottom: "+n.padBottom;console.debug(i)}for(var e in console.debug("idToIndex"),t.idToIndex)console.debug("Id: "+e+"\nIndex: "+t.idToIndex[e]);console.debug("Graph Set");var o=t.graphSet;for(e=0;e<o.length;e++)console.debug("Set : "+e+": "+o[e].toString());for(i="IndexToGraph",e=0;e<t.indexToGraph.length;e++)i+="\nIndex : "+e+" Graph: "+t.indexToGraph[e];for(console.debug(i),i="Layout Edges",e=0;e<t.layoutEdges.length;e++){var a=t.layoutEdges[e];i+="\nEdge Index: "+e+" ID: "+a.id+" SouceID: "+a.sourceId+" TargetId: "+a.targetId+" Ideal Length: "+a.idealLength}console.debug(i),i="nodeSize: "+t.nodeSize,i+="\nedgeSize: "+t.edgeSize,i+="\ntemperature: "+t.temperature,console.debug(i)}},p=function(t,e){for(var n=t.clientWidth,r=t.clientHeight,i=0;i<t.nodeSize;i++){var o=t.layoutNodes[i];0!==o.children.length||o.isLocked||(o.positionX=Math.random()*n,o.positionY=Math.random()*r)}},v=function(t,e,n){var r=n.layout,i=n.eles.nodes(),o=t.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};n.boundingBox&&(i.forEach((function(e){var n=t.layoutNodes[t.idToIndex[e.data("id")]];a.x1=Math.min(a.x1,n.positionX),a.x2=Math.max(a.x2,n.positionX),a.y1=Math.min(a.y1,n.positionY),a.y2=Math.max(a.y2,n.positionY)})),a.w=a.x2-a.x1,a.h=a.y2-a.y1),i.positions((function(e,r){var i=t.layoutNodes[t.idToIndex[e.data("id")]];if(n.boundingBox){var s=(i.positionX-a.x1)/a.w,l=(i.positionY-a.y1)/a.h;return{x:o.x1+s*o.w,y:o.y1+l*o.h}}return{x:i.positionX,y:i.positionY}})),!0!==t.ready&&(t.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))};t.exports=u},function(t,e,n){var r=n(1),i=n(2),o={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function a(t){this.options=r.extend({},o,t)}a.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles.nodes().not(":parent");e.sort&&(r=r.sort(e.sort));var o=i.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===o.h||0===o.w)r.layoutPositions(this,e,(function(t){return{x:o.x1,y:o.y1}}));else{var a=r.size(),s=Math.sqrt(a*o.h/o.w),l=Math.round(s),u=Math.round(o.w/o.h*s),c=function(t){if(null==t)return Math.min(l,u);Math.min(l,u)==l?l=t:u=t},h=function(t){if(null==t)return Math.max(l,u);Math.max(l,u)==l?l=t:u=t},d=e.rows,f=null!=e.cols?e.cols:e.columns;if(null!=d&&null!=f)l=d,u=f;else if(null!=d&&null==f)l=d,u=Math.ceil(a/l);else if(null==d&&null!=f)u=f,l=Math.ceil(a/u);else if(u*l>a){var p=c(),v=h();(p-1)*v>=a?c(p-1):(v-1)*p>=a&&h(v-1)}else for(;u*l<a;){var g=c(),y=h();(y+1)*g>=a?h(y+1):c(g+1)}var m=o.w/u,b=o.h/l;if(e.condense&&(m=0,b=0),e.avoidOverlap)for(var w=0;w<r.length;w++){var _=r[w],x=_._private.position;null!=x.x&&null!=x.y||(x.x=0,x.y=0);var E=_.layoutDimensions(e),S=e.avoidOverlapPadding,k=E.w+S,C=E.h+S;m=Math.max(m,k),b=Math.max(b,C)}for(var O={},T=function(t,e){return!!O["c-"+t+"-"+e]},P=function(t,e){O["c-"+t+"-"+e]=!0},N=0,A=0,D=function(){++A>=u&&(A=0,N++)},M={},L=0;L<r.length;L++){var I=r[L],j=e.position(I);if(j&&(void 0!==j.row||void 0!==j.col)){var R={row:j.row,col:j.col};if(void 0===R.col)for(R.col=0;T(R.row,R.col);)R.col++;else if(void 0===R.row)for(R.row=0;T(R.row,R.col);)R.row++;M[I.id()]=R,P(R.row,R.col)}}r.layoutPositions(this,e,(function(t,e){var n=void 0,r=void 0;if(t.locked()||t.isParent())return!1;var i=M[t.id()];if(i)n=i.col*m+m/2+o.x1,r=i.row*b+b/2+o.y1;else{for(;T(N,A);)D();n=A*m+m/2+o.x1,r=N*b+b/2+o.y1,P(N,A),D()}return{x:n,y:r}}))}return this},t.exports=a},function(t,e,n){var r=n(1),i={ready:function(){},stop:function(){}};function o(t){this.options=r.extend({},i,t)}o.prototype.run=function(){var t=this.options,e=t.eles;return t.cy,this.emit("layoutstart"),e.nodes().positions((function(){return{x:0,y:0}})),this.one("layoutready",t.ready),this.emit("layoutready"),this.one("layoutstop",t.stop),this.emit("layoutstop"),this},o.prototype.stop=function(){return this},t.exports=o},function(t,e,n){var r=n(1),i=n(0),o={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function a(t){this.options=r.extend({},o,t)}a.prototype.run=function(){var t=this.options,e=t.eles.nodes(),n=i.fn(t.positions);return e.layoutPositions(this,t,(function(e,r){var i=function(e){if(null==t.positions)return null;if(n)return t.positions(e);var r=t.positions[e._private.data.id];return null==r?null:r}(e);return!e.locked()&&null!=i&&i})),this},t.exports=a},function(t,e,n){var r=n(1),i=n(2),o={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function a(t){this.options=r.extend({},o,t)}a.prototype.run=function(){var t=this.options,e=t.cy,n=t.eles.nodes().not(":parent"),r=i.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()});return n.layoutPositions(this,t,(function(t,e){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}})),this},t.exports=a},function(t,e,n){t.exports=[{name:"null",impl:n(106)},{name:"base",impl:n(107)},{name:"canvas",impl:n(123)}]},function(t,e,n){function r(t){this.options=t,this.notifications=0}var i=function(){};r.prototype={recalculateRenderedStyle:i,notify:function(){this.notifications++},init:i},t.exports=r},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=function(t){this.init(t)},s=a.prototype;s.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],s.init=function(t){var e=this;e.options=t,e.cy=t.cy;var n=e.container=t.cy.container();if(o){var r=o.document,a=r.head,s="__________cytoscape_container",l=null!=r.getElementById("__________cytoscape_stylesheet");if(n.className.indexOf(s)<0&&(n.className=(n.className||"")+" "+s),!l){var u=r.createElement("style");u.id="__________cytoscape_stylesheet",u.innerHTML="."+s+" { position: relative; }",a.insertBefore(u,a.children[0])}"static"===o.getComputedStyle(n).getPropertyValue("position")&&i.error("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.hideLabelsOnViewport=t.hideLabelsOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=t.pixelRatio,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},s.notify=function(t){var e,n=this;if(!this.destroyed){e=r.array(t.type)?t.type:[t.type];for(var i={},o=0;o<e.length;o++)i[e[o]]=!0;i.init?n.load():i.destroy?n.destroy():((i.add||i.remove||i.load||i.zorder)&&n.invalidateCachedZSortedEles(),i.viewport&&n.redrawHint("select",!0),(i.load||i.resize)&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw())}},s.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var n=t.bindings[e],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch(t){}},[n(108),n(109),n(119),n(120),n(121),n(122)].forEach((function(t){i.extend(s,t)})),t.exports=a},function(t,e,n){var r=n(2),i=n(0),o=n(1),a={arrowShapeWidth:.3,registerArrowShapes:function(){var t=this.arrowShapes={},e=this,n=function(t,e,n,r,i,o,a){var s=i.x-n/2-a,l=i.x+n/2+a,u=i.y-n/2-a,c=i.y+n/2+a;return s<=t&&t<=l&&u<=e&&e<=c},a=function(t,e,n,r,i){var o=t*Math.cos(r)-e*Math.sin(r),a=(t*Math.sin(r)+e*Math.cos(r))*n;return{x:o*n+i.x,y:a+i.y}},s=function(t,e,n,r){for(var i=[],o=0;o<t.length;o+=2){var s=t[o],l=t[o+1];i.push(a(s,l,e,n,r))}return i},l=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r.x,r.y)}return e},u=function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").pfValue*2},c=function(a,c){i.string(c)&&(c=t[c]),t[a]=o.extend({name:a,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(t,e,n,i,o,a){var u=l(s(this.points,n+2*a,i,o));return r.pointInsidePolygonPoints(t,e,u)},roughCollide:n,draw:function(t,n,r,i){var o=s(this.points,n,r,i);e.arrowShapeImpl("polygon")(t,o)},spacing:function(t){return 0},gap:u},c)};c("none",{collide:o.falsify,roughCollide:o.falsify,draw:o.noop,spacing:o.zeroify,gap:o.zeroify}),c("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),c("arrow","triangle"),c("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(t,n,r,i,o){var l=s(this.points,n,r,i),u=this.controlPoint,c=a(u[0],u[1],n,r,i);e.arrowShapeImpl(this.name)(t,l,c)},gap:function(t){return.8*u(t)}}),c("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,e,n,i,o,a,u){var c=l(s(this.points,n+2*u,i,o)),h=l(s(this.pointsTee,n+2*u,i,o));return r.pointInsidePolygonPoints(t,e,c)||r.pointInsidePolygonPoints(t,e,h)},draw:function(t,n,r,i,o){var a=s(this.points,n,r,i),l=s(this.pointsTee,n,r,i);e.arrowShapeImpl(this.name)(t,a,l)}}),c("triangle-cross",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(t,e){var n=this.baseCrossLinePts.slice(),r=e/t;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(t,e,n,i,o,a,u){var c=l(s(this.points,n+2*u,i,o)),h=l(s(this.crossLinePts(n,a),n+2*u,i,o));return r.pointInsidePolygonPoints(t,e,c)||r.pointInsidePolygonPoints(t,e,h)},draw:function(t,n,r,i,o){var a=s(this.points,n,r,i),l=s(this.crossLinePts(n,o),n,r,i);e.arrowShapeImpl(this.name)(t,a,l)}}),c("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(t){return.525*u(t)}}),c("circle",{radius:.15,collide:function(t,e,n,r,i,o,a){var s=i;return Math.pow(s.x-t,2)+Math.pow(s.y-e,2)<=Math.pow((n+2*a)*this.radius,2)},draw:function(t,n,r,i,o){e.arrowShapeImpl(this.name)(t,i.x,i.y,this.radius*n)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),c("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(t){return 1},gap:function(t){return 1}}),c("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),c("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}})}};t.exports=a},function(t,e,n){var r=n(1),i={};[n(110),n(111),n(112),n(113),n(114),n(115),n(116),n(117),n(118)].forEach((function(t){r.extend(i,t)})),t.exports=i},function(t,e,n){var r=n(3),i=n(2),o=n(1),a=(r=n(3),{projectIntoViewport:function(t,e){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],o=r[1],a=r[4],s=n.pan(),l=n.zoom();return[((t-i)/a-s.x)/l,((e-o)/a-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),n=r.getComputedStyle(t),i=function(t){return parseFloat(n.getPropertyValue(t))},o=i("padding-left"),a=i("padding-right"),s=i("padding-top"),l=i("padding-bottom"),u=i("border-left-width"),c=i("border-right-width"),h=i("border-top-width"),d=(i("border-bottom-width"),t.clientWidth),f=t.clientHeight,p=o+a,v=s+l,g=u+c,y=e.width/(d+g),m=d-p,b=f-v,w=(e.width,e.height,e.left+o+u),_=e.top+s+h;return this.containerBB=[w,_,m,b,y]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(t,e,n,r){return this.findNearestElements(t,e,n,r)[0]},findNearestElements:function(t,e,n,r){var a,s,l=this,u=this,c=u.getCachedZSortedEles(),h=[],d=u.cy.zoom(),f=u.cy.hasCompoundNodes(),p=(r?24:8)/d,v=(r?8:2)/d,g=(r?8:2)/d,y=1/0;function m(t,e){if(t.isNode()){if(s)return;s=t,h.push(t)}if(t.isEdge()&&(null==e||e<y))if(a){if(a.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value&&a.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value)for(var n=0;n<h.length;n++)if(h[n].isEdge()){h[n]=t,a=t,y=null!=e?e:y;break}}else h.push(t),a=t,y=null!=e?e:y}function b(n){var r=n.outerWidth()+2*v,i=n.outerHeight()+2*v,o=r/2,a=i/2,s=n.position();if(s.x-o<=t&&t<=s.x+o&&s.y-a<=e&&e<=s.y+a&&u.nodeShapes[l.getNodeShape(n)].checkPoint(t,e,0,r,i,s.x,s.y))return m(n,0),!0}function w(n){var r,o=n._private,a=o.rscratch,s=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,d=s/2+p,v=d*d,g=2*d,y=o.source,w=o.target;if("segments"===a.edgeType||"straight"===a.edgeType||"haystack"===a.edgeType){for(var _=a.allpts,x=0;x+3<_.length;x+=2)if(i.inLineVicinity(t,e,_[x],_[x+1],_[x+2],_[x+3],g)&&v>(r=i.sqdistToFiniteLine(t,e,_[x],_[x+1],_[x+2],_[x+3])))return m(n,r),!0}else if("bezier"===a.edgeType||"multibezier"===a.edgeType||"self"===a.edgeType||"compound"===a.edgeType)for(_=a.allpts,x=0;x+5<a.allpts.length;x+=4)if(i.inBezierVicinity(t,e,_[x],_[x+1],_[x+2],_[x+3],_[x+4],_[x+5],g)&&v>(r=i.sqdistToQuadraticBezier(t,e,_[x],_[x+1],_[x+2],_[x+3],_[x+4],_[x+5])))return m(n,r),!0;y=y||o.source,w=w||o.target;var E=l.getArrowWidth(s,c),S=[{name:"source",x:a.arrowStartX,y:a.arrowStartY,angle:a.srcArrowAngle},{name:"target",x:a.arrowEndX,y:a.arrowEndY,angle:a.tgtArrowAngle},{name:"mid-source",x:a.midX,y:a.midY,angle:a.midsrcArrowAngle},{name:"mid-target",x:a.midX,y:a.midY,angle:a.midtgtArrowAngle}];for(x=0;x<S.length;x++){var k=S[x],C=u.arrowShapes[n.pstyle(k.name+"-arrow-shape").value],O=n.pstyle("width").pfValue;if(C.roughCollide(t,e,E,k.angle,{x:k.x,y:k.y},O,p)&&C.collide(t,e,E,k.angle,{x:k.x,y:k.y},O,p))return m(n),!0}f&&h.length>0&&(b(y),b(w))}function _(t,e,n){return o.getPrefixedProperty(t,e,n)}function x(n,r){var o,a=n._private,s=g;o=r?r+"-":"";var l=n.pstyle(o+"label").value;if("yes"===n.pstyle("text-events").strValue&&l){var u=a.rstyle,c=n.pstyle("text-border-width").pfValue,h=n.pstyle("text-background-padding").pfValue,d=_(u,"labelWidth",r)+c+2*s+2*h,f=_(u,"labelHeight",r)+c+2*s+2*h,p=_(u,"labelX",r),v=_(u,"labelY",r),y=_(a.rscratch,"labelAngle",r),b=p-d/2,w=p+d/2,x=v-f/2,E=v+f/2;if(y){var S=Math.cos(y),k=Math.sin(y),C=function(t,e){return{x:(t-=p)*S-(e-=v)*k+p,y:t*k+e*S+v}},O=C(b,x),T=C(b,E),P=C(w,x),N=C(w,E),A=[O.x,O.y,P.x,P.y,N.x,N.y,T.x,T.y];if(i.pointInsidePolygonPoints(t,e,A))return m(n),!0}else{var D={w:d,h:f,x1:b,x2:w,y1:x,y2:E};if(i.inBoundingBox(D,t,e))return m(n),!0}}}n&&(c=c.interactive);for(var E=c.length-1;E>=0;E--){var S=c[E];S.isNode()?b(S)||x(S):w(S)||x(S)||x(S,"source")||x(S,"target")}return h},getAllInBox:function(t,e,n,r){var o=this.getCachedZSortedEles().interactive,a=[],s=Math.min(t,n),l=Math.max(t,n),u=Math.min(e,r),c=Math.max(e,r);t=s,n=l,e=u,r=c;for(var h=i.makeBoundingBox({x1:t,y1:e,x2:n,y2:r}),d=0;d<o.length;d++){var f=o[d];if(f.isNode()){var p=f,v=p.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});i.boundingBoxesIntersect(h,v)&&!i.boundingBoxInBoundingBox(v,h)&&a.push(p)}else{var g=f,y=g._private,m=y.rscratch;if(null!=m.startX&&null!=m.startY&&!i.inBoundingBox(h,m.startX,m.startY))continue;if(null!=m.endX&&null!=m.endY&&!i.inBoundingBox(h,m.endX,m.endY))continue;if("bezier"===m.edgeType||"multibezier"===m.edgeType||"self"===m.edgeType||"compound"===m.edgeType||"segments"===m.edgeType||"haystack"===m.edgeType){for(var b=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,w=!0,_=0;_<b.length;_++)if(!i.pointInBoundingBox(h,b[_])){w=!1;break}w&&a.push(g)}else"haystack"!==m.edgeType&&"straight"!==m.edgeType||a.push(g)}}return a}});t.exports=a},function(t,e,n){var r=n(2),i={calculateArrowAngles:function(t){var e,n,i,o,a,s,l=t._private.rscratch,u="haystack"===l.edgeType,c="bezier"===l.edgeType,h="multibezier"===l.edgeType,d="segments"===l.edgeType,f="compound"===l.edgeType,p="self"===l.edgeType;if(u?(i=l.haystackPts[0],o=l.haystackPts[1],a=l.haystackPts[2],s=l.haystackPts[3]):(i=l.arrowStartX,o=l.arrowStartY,a=l.arrowEndX,s=l.arrowEndY),g=l.midX,y=l.midY,d)e=i-l.segpts[0],n=o-l.segpts[1];else if(h||f||p||c){var v=l.allpts;e=i-r.qbezierAt(v[0],v[2],v[4],.1),n=o-r.qbezierAt(v[1],v[3],v[5],.1)}else e=i-g,n=o-y;l.srcArrowAngle=r.getAngleFromDisp(e,n);var g=l.midX,y=l.midY;if(u&&(g=(i+a)/2,y=(o+s)/2),e=a-i,n=s-o,d)if((v=l.allpts).length/2%2==0){var m=(b=v.length/2)-2;e=v[b]-v[m],n=v[b+1]-v[m+1]}else{m=(b=v.length/2-1)-2;var b,w=b+2;e=v[b]-v[m],n=v[b+1]-v[m+1]}else if(h||f||p){var _,x,E,S,v=l.allpts;if(l.ctrlpts.length/2%2==0){var k=2+(C=2+(O=v.length/2-1));_=r.qbezierAt(v[O],v[C],v[k],0),x=r.qbezierAt(v[O+1],v[C+1],v[k+1],0),E=r.qbezierAt(v[O],v[C],v[k],1e-4),S=r.qbezierAt(v[O+1],v[C+1],v[k+1],1e-4)}else{var C,O=(C=v.length/2-1)-2;k=C+2,_=r.qbezierAt(v[O],v[C],v[k],.4999),x=r.qbezierAt(v[O+1],v[C+1],v[k+1],.4999),E=r.qbezierAt(v[O],v[C],v[k],.5),S=r.qbezierAt(v[O+1],v[C+1],v[k+1],.5)}e=E-_,n=S-x}if(l.midtgtArrowAngle=r.getAngleFromDisp(e,n),l.midDispX=e,l.midDispY=n,e*=-1,n*=-1,d&&((v=l.allpts).length/2%2==0||(e=-(v[w=2+(b=v.length/2-1)]-v[b]),n=-(v[w+1]-v[b+1]))),l.midsrcArrowAngle=r.getAngleFromDisp(e,n),d)e=a-l.segpts[l.segpts.length-2],n=s-l.segpts[l.segpts.length-1];else if(h||f||p||c){var T=(v=l.allpts).length;e=a-r.qbezierAt(v[T-6],v[T-4],v[T-2],.9),n=s-r.qbezierAt(v[T-5],v[T-3],v[T-1],.9)}else e=a-g,n=s-y;l.tgtArrowAngle=r.getAngleFromDisp(e,n)}};i.getArrowWidth=i.getArrowHeight=function(t,e){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[t+", "+e];return r||(r=Math.max(Math.pow(13.37*t,.9),29)*e,n[t+", "+e]=r,r)},t.exports=i},function(t,e,n){var r=n(2),i=n(0),o={};function a(t){var e=[];if(null!=t){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e.push({x:r,y:i})}return e}}o.findEdgeControlPoints=function(t){if(t&&0!==t.length){for(var e,n,o,a,s,l=this,u=l.cy.hasCompoundNodes(),c={},h=[],d=[],f=0;f<t.length;f++){var p=(Ge=(He=t[f])._private).data,v="unbundled-bezier"===(M=He.pstyle("curve-style").value)||"segments"===M,g="unbundled-bezier"===M||"bezier"===M;if("none"!==He.pstyle("display").value)if("haystack"!==M){var y=p.source,m=p.target;e=y>m?m+"$-$"+y:y+"$-$"+m,v&&(e="unbundled$-$"+p.id);var b=c[e];null==b&&(b=c[e]=[],h.push(e)),b.push(He),v&&(b.hasUnbundled=!0),g&&(b.hasBezier=!0)}else d.push(He)}for(var w=0;w<h.length;w++){var _=c[e=h[w]];if(_.sort((function(t,e){return t.poolIndex()-e.poolIndex()})),Ke=_[0]._private.source,Qe=_[0]._private.target,!_.hasUnbundled&&Ke.id()>Qe.id()){var x=Ke;Ke=Qe,Qe=x}Je=Ke.position(),tn=Qe.position(),en=Ke.outerWidth(),rn=Ke.outerHeight(),nn=Qe.outerWidth(),on=Qe.outerHeight(),n=l.nodeShapes[this.getNodeShape(Ke)],o=l.nodeShapes[this.getNodeShape(Qe)],s=!1;var E={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0},S=Je.x,k=Je.y,C=en,O=rn,T=tn.x,P=tn.y,N=nn,A=on,D=_.length;for(f=0;f<_.length;f++){var M,L,I=($e=(He=_[f])._private.rscratch).lastEdgeIndex,j=f,R=$e.lastNumEdges,B=(v="unbundled-bezier"===(M=He.pstyle("curve-style").value)||"segments"===M,Ke.id()!==He.source().id()),F=He.pstyle("control-point-distances"),z=He.pstyle("loop-direction").pfValue,V=He.pstyle("loop-sweep").pfValue,q=He.pstyle("control-point-weights"),U=F&&q?Math.min(F.value.length,q.value.length):1,X=He.pstyle("control-point-step-size").pfValue,Y=F?F.pfValue[0]:void 0,H=q.value[0],G=He.pstyle("edge-distances").value,W=He.pstyle("source-distance-from-node").pfValue,$=He.pstyle("target-distance-from-node").pfValue,Z=He.pstyle("segment-weights"),K=He.pstyle("segment-distances"),Q=Math.min(Z.pfValue.length,K.pfValue.length),J=He.pstyle("source-endpoint").value,tt=He.pstyle("target-endpoint").value,et=He.pstyle("source-arrow-shape").value,nt=He.pstyle("target-arrow-shape").value,rt=He.pstyle("arrow-scale").value,it=He.pstyle("width").pfValue,ot=$e.lastSrcCtlPtX,at=$e.lastSrcCtlPtY,st=$e.lastSrcCtlPtW,lt=$e.lastSrcCtlPtH,ut=$e.lastTgtCtlPtX,ct=$e.lastTgtCtlPtY,ht=$e.lastTgtCtlPtW,dt=$e.lastTgtCtlPtH,ft=$e.lastCurveStyle,pt=M,vt=$e.lastCtrlptDists,gt=F?F.strValue:null,yt=$e.lastCtrlptWs,mt=q.strValue,bt=$e.lastSegmentWs,wt=Z.strValue,_t=$e.lastSegmentDs,xt=K.strValue,Et=$e.lastStepSize,St=X,kt=$e.lastLoopDir,Ct=z,Ot=$e.lastLoopSwp,Tt=V,Pt=$e.lastEdgeDistances,Nt=G,At=$e.lastSrcDistFNode,Dt=W,Mt=$e.lastTgtDistFNode,Lt=$,It=$e.lastSrcEndpt,jt=J,Rt=$e.lastTgtEndpt,Bt=tt,Ft=$e.lastSrcArr,zt=et,Vt=$e.lastTgtArr,qt=nt,Ut=$e.lastLineW,Xt=it,Yt=$e.lastArrScl,Ht=rt;if($e.badBezier=!!s,ot===S&&at===k&&st===C&&lt===O&&ut===T&&ct===P&&ht===N&&dt===A&&ft===pt&&vt===gt&&yt===mt&&bt===wt&&_t===xt&&Et===St&&kt===Ct&&Ot===Tt&&Pt===Nt&&At===Dt&&Mt===Lt&&It===jt&&Rt===Bt&&Ft===zt&&Vt===qt&&Ut===Xt&&Yt===Ht&&(I===j&&R===D||v)?L=!0:(L=!1,$e.lastSrcCtlPtX=S,$e.lastSrcCtlPtY=k,$e.lastSrcCtlPtW=C,$e.lastSrcCtlPtH=O,$e.lastTgtCtlPtX=T,$e.lastTgtCtlPtY=P,$e.lastTgtCtlPtW=N,$e.lastTgtCtlPtH=A,$e.lastEdgeIndex=j,$e.lastNumEdges=D,$e.lastCurveStyle=pt,$e.lastCtrlptDists=gt,$e.lastCtrlptWs=mt,$e.lastSegmentDs=xt,$e.lastSegmentWs=wt,$e.lastStepSize=St,$e.lastLoopDir=Ct,$e.lastLoopSwp=Tt,$e.lastEdgeDistances=Nt,$e.lastSrcDistFNode=Dt,$e.lastTgtDistFNode=Lt,$e.lastSrcEndpt=jt,$e.lastTgtEndpt=Bt,$e.lastSrcArr=zt,$e.lastTgtArr=qt,$e.lastLineW=Xt,$e.lastArrScl=Ht),!L){if(!_.calculatedIntersection&&Ke!==Qe&&(_.hasBezier||_.hasUnbundled)){_.calculatedIntersection=!0;var Gt=n.intersectLine(Je.x,Je.y,en,rn,tn.x,tn.y,0);_.srcIntn=Gt;var Wt=o.intersectLine(tn.x,tn.y,nn,on,Je.x,Je.y,0);_.tgtIntn=Wt;var $t={x1:Gt[0],x2:Wt[0],y1:Gt[1],y2:Wt[1]},Zt={x1:Je.x,x2:tn.x,y1:Je.y,y2:tn.y},Kt=Wt[1]-Gt[1],Qt=Wt[0]-Gt[0],Jt=Math.sqrt(Qt*Qt+Kt*Kt),te={x:Qt,y:Kt},ee={x:te.x/Jt,y:te.y/Jt};a={x:-ee.y,y:ee.x},o.checkPoint(Gt[0],Gt[1],0,nn,on,tn.x,tn.y)&&n.checkPoint(Wt[0],Wt[1],0,en,rn,Je.x,Je.y)&&(a={},s=!0)}if(B?($e.srcIntn=_.tgtIntn,$e.tgtIntn=_.srcIntn):($e.srcIntn=_.srcIntn,$e.tgtIntn=_.tgtIntn),Ke===Qe){$e.edgeType="self";var ne=f,re=X;v&&(ne=0,re=Y);var ie=z-Math.PI/2,oe=ie-V/2,ae=ie+V/2,se=String(z+"_"+V);ne=void 0===E[se]?E[se]=0:++E[se],$e.ctrlpts=[Je.x+1.4*Math.cos(oe)*re*(ne/3+1),Je.y+1.4*Math.sin(oe)*re*(ne/3+1),Je.x+1.4*Math.cos(ae)*re*(ne/3+1),Je.y+1.4*Math.sin(ae)*re*(ne/3+1)]}else if(u&&(Ke.isParent()||Ke.isChild()||Qe.isParent()||Qe.isChild())&&(Ke.parents().anySame(Qe)||Qe.parents().anySame(Ke))){$e.edgeType="compound",$e.badBezier=!1,ne=f,re=X,v&&(ne=0,re=Y);var le={x:Je.x-en/2,y:Je.y-rn/2},ue={x:tn.x-nn/2,y:tn.y-on/2},ce={x:Math.min(le.x,ue.x),y:Math.min(le.y,ue.y)},he=Math.max(.5,Math.log(.01*en)),de=Math.max(.5,Math.log(.01*nn));$e.ctrlpts=[ce.x,ce.y-(1+Math.pow(50,1.12)/100)*re*(ne/3+1)*he,ce.x-(1+Math.pow(50,1.12)/100)*re*(ne/3+1)*de,ce.y]}else if("segments"===M){$e.edgeType="segments",$e.segpts=[];for(var fe=0;fe<Q;fe++){var pe=Z.pfValue[fe],ve=K.pfValue[fe],ge=1-pe,ye=pe,me={x:(Se="node-position"===G?Zt:$t).x1*ge+Se.x2*ye,y:Se.y1*ge+Se.y2*ye};$e.segpts.push(me.x+a.x*ve,me.y+a.y*ve)}}else if(_.length%2!=1||f!==Math.floor(_.length/2)||v){var be=v;$e.edgeType=be?"multibezier":"bezier",$e.ctrlpts=[];for(var we=0;we<U;we++){var _e,xe=(.5-_.length/2+f)*X,Ee=r.signum(xe);be&&(Y=F?F.pfValue[we]:X,H=q.value[we]);var Se,ke=void 0!==(_e=v?Y:void 0!==Y?Ee*Y:void 0)?_e:xe;ge=1-H,ye=H,B&&(x=ge,ge=ye,ye=x),me={x:(Se="node-position"===G?Zt:$t).x1*ge+Se.x2*ye,y:Se.y1*ge+Se.y2*ye},$e.ctrlpts.push(me.x+a.x*ke,me.y+a.y*ke)}}else $e.edgeType="straight";this.findEndpoints(He);var Ce=!i.number($e.startX)||!i.number($e.startY),Oe=!i.number($e.arrowStartX)||!i.number($e.arrowStartY),Te=!i.number($e.endX)||!i.number($e.endY),Pe=!i.number($e.arrowEndX)||!i.number($e.arrowEndY),Ne=this.getArrowWidth(He.pstyle("width").pfValue,He.pstyle("arrow-scale").value)*this.arrowShapeWidth*3;if("bezier"===$e.edgeType){var Ae=r.dist({x:$e.ctrlpts[0],y:$e.ctrlpts[1]},{x:$e.startX,y:$e.startY}),De=Ae<Ne,Me=r.dist({x:$e.ctrlpts[0],y:$e.ctrlpts[1]},{x:$e.endX,y:$e.endY}),Le=Me<Ne,Ie=!1;if(Ce||Oe||De){Ie=!0;var je={x:$e.ctrlpts[0]-Je.x,y:$e.ctrlpts[1]-Je.y},Re=Math.sqrt(je.x*je.x+je.y*je.y),Be={x:je.x/Re,y:je.y/Re},Fe=Math.max(en,rn),ze={x:$e.ctrlpts[0]+2*Be.x*Fe,y:$e.ctrlpts[1]+2*Be.y*Fe},Ve=n.intersectLine(Je.x,Je.y,en,rn,ze.x,ze.y,0);De?($e.ctrlpts[0]=$e.ctrlpts[0]+Be.x*(Ne-Ae),$e.ctrlpts[1]=$e.ctrlpts[1]+Be.y*(Ne-Ae)):($e.ctrlpts[0]=Ve[0]+Be.x*Ne,$e.ctrlpts[1]=Ve[1]+Be.y*Ne)}if(Te||Pe||Le){Ie=!0,je={x:$e.ctrlpts[0]-tn.x,y:$e.ctrlpts[1]-tn.y},Re=Math.sqrt(je.x*je.x+je.y*je.y),Be={x:je.x/Re,y:je.y/Re},Fe=Math.max(en,rn),ze={x:$e.ctrlpts[0]+2*Be.x*Fe,y:$e.ctrlpts[1]+2*Be.y*Fe};var qe=o.intersectLine(tn.x,tn.y,nn,on,ze.x,ze.y,0);Le?($e.ctrlpts[0]=$e.ctrlpts[0]+Be.x*(Ne-Me),$e.ctrlpts[1]=$e.ctrlpts[1]+Be.y*(Ne-Me)):($e.ctrlpts[0]=qe[0]+Be.x*Ne,$e.ctrlpts[1]=qe[1]+Be.y*Ne)}Ie&&this.findEndpoints(He)}if("multibezier"===$e.edgeType||"bezier"===$e.edgeType||"self"===$e.edgeType||"compound"===$e.edgeType){for($e.allpts=[],$e.allpts.push($e.startX,$e.startY),we=0;we+1<$e.ctrlpts.length;we+=2)$e.allpts.push($e.ctrlpts[we],$e.ctrlpts[we+1]),we+3<$e.ctrlpts.length&&$e.allpts.push(($e.ctrlpts[we]+$e.ctrlpts[we+2])/2,($e.ctrlpts[we+1]+$e.ctrlpts[we+3])/2);var Ue;$e.allpts.push($e.endX,$e.endY),$e.ctrlpts.length/2%2==0?(Ue=$e.allpts.length/2-1,$e.midX=$e.allpts[Ue],$e.midY=$e.allpts[Ue+1]):(Ue=$e.allpts.length/2-3,$e.midX=r.qbezierAt($e.allpts[Ue],$e.allpts[Ue+2],$e.allpts[Ue+4],.5),$e.midY=r.qbezierAt($e.allpts[Ue+1],$e.allpts[Ue+3],$e.allpts[Ue+5],.5))}else if("straight"===$e.edgeType)$e.allpts=[$e.startX,$e.startY,$e.endX,$e.endY],$e.midX=($e.startX+$e.endX+$e.arrowStartX+$e.arrowEndX)/4,$e.midY=($e.startY+$e.endY+$e.arrowStartY+$e.arrowEndY)/4;else if("segments"===$e.edgeType)if($e.allpts=[],$e.allpts.push($e.startX,$e.startY),$e.allpts.push.apply($e.allpts,$e.segpts),$e.allpts.push($e.endX,$e.endY),$e.segpts.length%4==0){var Xe=$e.segpts.length/2,Ye=Xe-2;$e.midX=($e.segpts[Ye]+$e.segpts[Xe])/2,$e.midY=($e.segpts[Ye+1]+$e.segpts[Xe+1])/2}else Ye=$e.segpts.length/2-1,$e.midX=$e.segpts[Ye],$e.midY=$e.segpts[Ye+1];this.storeEdgeProjections(He),this.calculateArrowAngles(He)}this.recalculateEdgeLabelProjections(He),this.calculateLabelAngles(He)}}for(f=0;f<d.length;f++){var He,Ge,We=(Ge=(He=d[f])._private).rscratch,$e=We;if(!We.haystack){var Ze=2*Math.random()*Math.PI;We.source={x:Math.cos(Ze),y:Math.sin(Ze)},Ze=2*Math.random()*Math.PI,We.target={x:Math.cos(Ze),y:Math.sin(Ze)}}var Ke=Ge.source,Qe=Ge.target,Je=Ke.position(),tn=Qe.position(),en=Ke.width(),nn=Qe.width(),rn=Ke.height(),on=Qe.height(),an=(Fe=He.pstyle("haystack-radius").value)/2;$e.haystackPts=$e.allpts=[$e.source.x*en*an+Je.x,$e.source.y*rn*an+Je.y,$e.target.x*nn*an+tn.x,$e.target.y*on*an+tn.y],$e.midX=($e.allpts[0]+$e.allpts[2])/2,$e.midY=($e.allpts[1]+$e.allpts[3])/2,We.edgeType=We.lastCurveStyle="haystack",We.haystack=!0,this.storeEdgeProjections(He),this.calculateArrowAngles(He),this.recalculateEdgeLabelProjections(He),this.calculateLabelAngles(He)}}},o.getSegmentPoints=function(t){var e=t[0]._private.rscratch;if("segments"===e.edgeType)return a(e.segpts)},o.getControlPoints=function(t){var e=t[0]._private.rscratch,n=e.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return a(e.ctrlpts)},o.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return{x:e.midX,y:e.midY}},t.exports=o},function(t,e,n){var r=n(2),i=n(0),o={manualEndptToPx:function(t,e){var n=t.position(),r=t.outerWidth(),i=t.outerHeight();if(2===e.value.length){var o=[e.pfValue[0],e.pfValue[1]];return"%"===e.units[0]&&(o[0]=o[0]*r),"%"===e.units[1]&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}var a=e.pfValue[0];a=-Math.PI/2+a;var s=2*Math.max(r,i),l=[n.x+Math.cos(a)*s,n.y+Math.sin(a)*s];return this.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,r,i,l[0],l[1],0)},findEndpoints:function(t){var e=this,n=void 0,o=t.source()[0],a=t.target()[0],s=o.position(),l=a.position(),u=t.pstyle("target-arrow-shape").value,c=t.pstyle("source-arrow-shape").value,h=t.pstyle("target-distance-from-node").pfValue,d=t.pstyle("source-distance-from-node").pfValue,f=t._private.rscratch,p=f.edgeType,v="self"===p||"compound"===p,g="bezier"===p||"multibezier"===p||v,y="bezier"!==p,m="straight"===p||"segments"===p,b="segments"===p,w=g||y||m,_=t.pstyle("source-endpoint"),x=v?"outside-to-node":_.value,E=t.pstyle("target-endpoint"),S=v?"outside-to-node":E.value;f.srcManEndpt=_,f.tgtManEndpt=E;var k=void 0,C=void 0,O=void 0,T=void 0;if(g){var P=[f.ctrlpts[0],f.ctrlpts[1]];k=y?[f.ctrlpts[f.ctrlpts.length-2],f.ctrlpts[f.ctrlpts.length-1]]:P,C=P}else if(m){var N=b?f.segpts.slice(0,2):[l.x,l.y];k=b?f.segpts.slice(f.segpts.length-2):[s.x,s.y],C=N}"inside-to-node"===S?n=[l.x,l.y]:E.units?n=this.manualEndptToPx(a,E):"outside-to-line"===S?n=f.tgtIntn:("outside-to-node"===S?O=k:"outside-to-line"===S&&(O=[s.x,s.y]),n=e.nodeShapes[this.getNodeShape(a)].intersectLine(l.x,l.y,a.outerWidth(),a.outerHeight(),O[0],O[1],0));var A=r.shortenIntersection(n,k,e.arrowShapes[u].spacing(t)+h),D=r.shortenIntersection(n,k,e.arrowShapes[u].gap(t)+h);f.endX=D[0],f.endY=D[1],f.arrowEndX=A[0],f.arrowEndY=A[1],"inside-to-node"===x?n=[s.x,s.y]:_.units?n=this.manualEndptToPx(o,_):"outside-to-line"===x?n=f.srcIntn:("outside-to-node"===x?T=C:"outside-to-line"===x&&(T=[l.x,l.y]),n=e.nodeShapes[this.getNodeShape(o)].intersectLine(s.x,s.y,o.outerWidth(),o.outerHeight(),T[0],T[1],0));var M=r.shortenIntersection(n,C,e.arrowShapes[c].spacing(t)+d),L=r.shortenIntersection(n,C,e.arrowShapes[c].gap(t)+d);f.startX=L[0],f.startY=L[1],f.arrowStartX=M[0],f.arrowStartY=M[1],w&&(i.number(f.startX)&&i.number(f.startY)&&i.number(f.endX)&&i.number(f.endY)?f.badLine=!1:f.badLine=!0)},getSourceEndpoint:function(t){var e=t[0]._private.rscratch;switch(e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}},getTargetEndpoint:function(t){var e=t[0]._private.rscratch;switch(e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}}};t.exports=o},function(t,e,n){var r=n(2),i={};function o(t,e,n){for(var i=function(t,e,n,i){return r.qbezierAt(t,e,n,i)},o=e._private.rstyle.bezierPts,a=0;a<t.bezierProjPcts.length;a++){var s=t.bezierProjPcts[a];o.push({x:i(n[0],n[2],n[4],s),y:i(n[1],n[3],n[5],s)})}}i.storeEdgeProjections=function(t){var e=t._private,n=e.rscratch,r=n.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){e.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)o(this,t,n.allpts.slice(i,i+6))}else if("segments"===r){var a=e.rstyle.linePts=[];for(i=0;i+1<n.allpts.length;i+=2)a.push({x:n.allpts[i],y:n.allpts[i+1]})}else if("haystack"===r){var s=n.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},i.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)},t.exports=i},function(t,e,n){var r=n(2),i=n(0),o=n(1),a={recalculateNodeLabelProjection:function(t){var e=t.pstyle("label").strValue;if(!i.emptyString(e)){var n,r,o=t._private,a=t.width(),s=t.height(),l=t.padding(),u=t.position(),c=t.pstyle("text-halign").strValue,h=t.pstyle("text-valign").strValue,d=o.rscratch,f=o.rstyle;switch(c){case"left":n=u.x-a/2-l;break;case"right":n=u.x+a/2+l;break;default:n=u.x}switch(h){case"top":r=u.y-s/2-l;break;case"bottom":r=u.y+s/2+l;break;default:r=u.y}d.labelX=n,d.labelY=r,f.labelX=n,f.labelY=r,this.applyLabelDimensions(t)}}},s=function(t,e){var n=Math.atan(e/t);return 0===t&&n<0&&(n*=-1),n},l=function(t,e){var n=e.x-t.x,r=e.y-t.y;return s(n,r)};a.recalculateEdgeLabelProjections=function(t){var e,n=t._private,i=n.rscratch,a=this,u={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(u.mid||u.source||u.target){e={x:i.midX,y:i.midY};var c=function(t,e,r){o.setPrefixedProperty(n.rscratch,t,e,r),o.setPrefixedProperty(n.rstyle,t,e,r)};c("labelX",null,e.x),c("labelY",null,e.y);var h=s(i.midDispX,i.midDispY);c("labelAutoAngle",null,h);var d=function(o){var s,h="source"===o;if(u[o]){var d=t.pstyle(o+"-text-offset").pfValue;switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var f,p=function t(){if(t.cache)return t.cache;for(var e=[],o=0;o+5<i.allpts.length;o+=4){var s={x:i.allpts[o],y:i.allpts[o+1]},l={x:i.allpts[o+2],y:i.allpts[o+3]},u={x:i.allpts[o+4],y:i.allpts[o+5]};e.push({p0:s,p1:l,p2:u,startDist:0,length:0,segments:[]})}var c=n.rstyle.bezierPts,h=a.bezierProjPcts.length;function d(t,e,n,i,o){var a=r.dist(e,n),s=t.segments[t.segments.length-1],l={p0:e,p1:n,t0:i,t1:o,startDist:s?s.startDist+s.length:0,length:a};t.segments.push(l),t.length+=a}for(o=0;o<e.length;o++){var f=e[o],p=e[o-1];p&&(f.startDist=p.startDist+p.length),d(f,f.p0,c[o*h],0,a.bezierProjPcts[0]);for(var v=0;v<h-1;v++)d(f,c[o*h+v],c[o*h+v+1],a.bezierProjPcts[v],a.bezierProjPcts[v+1]);d(f,c[o*h+h-1],f.p2,a.bezierProjPcts[h-1],1)}return t.cache=e}(),v=0,g=0,y=0;y<p.length;y++){for(var m=p[h?y:p.length-1-y],b=0;b<m.segments.length;b++){var w=m.segments[h?b:m.segments.length-1-b],_=y===p.length-1&&b===m.segments.length-1;if(v=g,(g+=w.length)>=d||_){f={cp:m,segment:w};break}}if(f)break}m=f.cp;var x=(d-v)/(w=f.segment).length,E=w.t1-w.t0,S=h?w.t0+E*x:w.t1-E*x;S=r.bound(0,S,1),e=r.qbezierPtAt(m.p0,m.p1,m.p2,S),s=function(t,e,n,i){var o=r.bound(0,i-.001,1),a=r.bound(0,i+.001,1),s=r.qbezierPtAt(t,e,n,o),u=r.qbezierPtAt(t,e,n,a);return l(s,u)}(m.p0,m.p1,m.p2,S);break;case"straight":case"segments":case"haystack":var k,C,O,T,P=0,N=i.allpts.length;for(y=0;y+3<N&&(h?(O={x:i.allpts[y],y:i.allpts[y+1]},T={x:i.allpts[y+2],y:i.allpts[y+3]}):(O={x:i.allpts[N-2-y],y:i.allpts[N-1-y]},T={x:i.allpts[N-4-y],y:i.allpts[N-3-y]}),C=P,!((P+=k=r.dist(O,T))>=d));y+=2);S=(d-C)/k,S=r.bound(0,S,1),e=r.lineAt(O,T,S),s=l(O,T)}c("labelX",o,e.x),c("labelY",o,e.y),c("labelAutoAngle",o,s)}};d("source"),d("target"),this.applyLabelDimensions(t)}},a.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},a.applyPrefixedLabelDimensions=function(t,e){var n=t._private,r=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,r);o.setPrefixedProperty(n.rstyle,"labelWidth",e,i.width),o.setPrefixedProperty(n.rscratch,"labelWidth",e,i.width),o.setPrefixedProperty(n.rstyle,"labelHeight",e,i.height),o.setPrefixedProperty(n.rscratch,"labelHeight",e,i.height)},a.getLabelText=function(t,e){var n=t._private,r=e?e+"-":"",i=t.pstyle(r+"label").strValue,a=t.pstyle("text-transform").value,s=function(t,r){return r?(o.setPrefixedProperty(n.rscratch,t,e,r),r):o.getPrefixedProperty(n.rscratch,t,e)};if(!i)return"";"none"==a||("uppercase"==a?i=i.toUpperCase():"lowercase"==a&&(i=i.toLowerCase()));var l=t.pstyle("text-wrap").value;if("wrap"===l){var u=s("labelKey");if(u&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var c=i.split("\n"),h=t.pstyle("text-max-width").pfValue,d=[],f=0;f<c.length;f++){var p=c[f];if(this.calculateLabelDimensions(t,p,"line="+p).width>h){for(var v=p.split(/\s+/),g="",y=0;y<v.length;y++){var m=v[y],b=0===g.length?m:g+" "+m;this.calculateLabelDimensions(t,b,"testLine="+b).width<=h?g+=m+" ":(d.push(g),g=m+" ")}g.match(/^\s+$/)||d.push(g)}else d.push(p)}s("labelWrapCachedLines",d),i=s("labelWrapCachedText",d.join("\n")),s("labelWrapKey",u)}else if("ellipsis"===l){h=t.pstyle("text-max-width").pfValue;for(var w="",_=!1,x=0;x<i.length&&!(this.calculateLabelDimensions(t,w+i[x]+"…").width>h);x++)w+=i[x],x===i.length-1&&(_=!0);return _||(w+="…"),w}return i},a.calculateLabelDimensions=function(t,e,n){var r=t._private.labelStyleKey+"$@$"+e;n&&(r+="$@$"+n);var i=this.labelDimCache||(this.labelDimCache={});if(i[r])return i[r];var o=t.pstyle("font-style").strValue,a=1*t.pstyle("font-size").pfValue+"px",s=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,u=this.labelCalcDiv;u||(u=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(u));var c=u.style;return c.fontFamily=s,c.fontStyle=o,c.fontSize=a,c.fontWeight=l,c.position="absolute",c.left="-9999px",c.top="-9999px",c.zIndex="-1",c.visibility="hidden",c.pointerEvents="none",c.padding="0",c.lineHeight="1","wrap"===t.pstyle("text-wrap").value?c.whiteSpace="pre":c.whiteSpace="normal",u.textContent=e,i[r]={width:Math.ceil(u.clientWidth/1),height:Math.ceil(u.clientHeight/1)},i[r]},a.calculateLabelAngles=function(t){var e=t._private.rscratch,n=t.isEdge(),r=t.pstyle("text-rotation"),i=r.strValue;"none"===i?e.labelAngle=e.sourceLabelAngle=e.targetLabelAngle=0:n&&"autorotate"===i?(e.labelAngle=e.labelAutoAngle,e.sourceLabelAngle=e.sourceLabelAutoAngle,e.targetLabelAngle=e.targetLabelAutoAngle):e.labelAngle=e.sourceLabelAngle=e.targetLabelAngle="autorotate"===i?0:r.pfValue},t.exports=a},function(t,e,n){var r={getNodeShape:function(t){var e=t.pstyle("shape").value;if(t.isParent())return"rectangle"===e||"roundrectangle"===e||"cutrectangle"===e||"barrel"===e?e:"rectangle";if("polygon"===e){var n=t.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return e}};t.exports=r},function(t,e,n){var r={registerCalculationListeners:function(){var t=this.cy,e=t.collection(),n=this,r=function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.merge(t);for(var i=0;i<t.length;i++){var o=t[i],a=o._private,s=a.rstyle;r&&(s.clean=!1,a.bbCache=null);var l=s.dirtyEvents=s.dirtyEvents||{length:0};l[n.type]||(l[n.type]=!0,l.length++)}};n.binder(t).on("position.* style.* free.* bounds.*","node",(function(t){var e=t.target;r(e,t),r(e.connectedEdges(),t)})).on("add.*","node",(function(t){var e=t.target;r(e,t)})).on("background.*","node",(function(t){var e=t.target;r(e,t,!1)})).on("add.* style.*","edge",(function(t){var e=t.target;r(e,t),r(e.parallelEdges(),t)})).on("remove.*","edge",(function(t){for(var e=t.target.parallelEdges(),n=0;n<e.length;n++){var i=e[n];i.removed()||r(i,t)}})).on("dirty.*","node",(function(t){var e=t.target;r(e,t)})),n.beforeRender((function(r){if(r){var i=n.onUpdateEleCalcsFns;if(i)for(var o=0;o<i.length;o++)(0,i[o])(r,e);for(n.recalculateRenderedStyle(e,!1),o=0;o<e.length;o++)e[o]._private.rstyle.dirtyEvents=null;e=t.collection()}}),n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(t){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(t)},recalculateRenderedStyle:function(t,e){var n=[],r=[];if(!this.destroyed){void 0===e&&(e=!0);for(var i=0;i<t.length;i++){var o=(l=(s=t[i])._private).rstyle;e&&o.clean||s.removed()||"none"!==s.pstyle("display").value&&("nodes"===l.group?r.push(s):n.push(s),o.clean=!0)}for(i=0;i<r.length;i++){o=(l=(s=r[i])._private).rstyle;var a=s.position();this.recalculateNodeLabelProjection(s),o.nodeX=a.x,o.nodeY=a.y,o.nodeW=s.pstyle("width").pfValue,o.nodeH=s.pstyle("height").pfValue}for(this.recalculateEdgeProjections(n),i=0;i<n.length;i++){o=(l=(s=n[i])._private).rstyle;var s,l,u=l.rscratch;this.recalculateEdgeLabelProjections(s),o.srcX=u.arrowStartX,o.srcY=u.arrowStartY,o.tgtX=u.arrowEndX,o.tgtY=u.arrowEndY,o.midX=u.midX,o.midY=u.midY,o.labelAngle=u.labelAngle,o.sourceLabelAngle=u.sourceLabelAngle,o.targetLabelAngle=u.targetLabelAngle}}}};t.exports=r},function(t,e,n){var r=n(17),i={updateCachedGrabbedEles:function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],n=0;n<t.length;n++){var r=(i=t[n])._private.rscratch;i.grabbed()&&!i.isParent()?e.push(i):r.inDragLayer?t.drag.push(i):t.nondrag.push(i)}for(n=0;n<e.length;n++){var i=e[n];t.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(r),e.interactive=e.filter((function(t){return t.interactive()})),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e}};t.exports=i},function(t,e,n){var r={getCachedImage:function(t,e,n){var r=this.imageCache=this.imageCache||{},i=r[t];if(i)return i.image.complete||i.image.addEventListener("load",n),i.image;var o=(i=r[t]=r[t]||{}).image=new Image;return o.addEventListener("load",n),o.addEventListener("error",(function(){o.error=!0})),"data:"===t.substring(0,"data:".length).toLowerCase()||(o.crossOrigin=e),o.src=t,o}};t.exports=r},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=(n(16),{registerBinding:function(t,e,n,r){var i=Array.prototype.slice.apply(arguments,[1]),o=this.binder(t);return o.on.apply(o,i)},binder:function(t){var e=this,n=t===window||t===document||t===document.body||r.domElement(t);if(null==e.supportsPassiveEvents){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,o)}catch(t){}e.supportsPassiveEvents=i}var a=function(r,i,o){var a=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(a[2]={capture:null!=o&&o,passive:!1,once:!1}),e.bindings.push({target:t,args:a}),(t.addEventListener||t.on).apply(t,a),this};return{on:a,addEventListener:a,addListener:a,bind:a}},nodeIsDraggable:function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},nodeIsGrabbable:function(t){return this.nodeIsDraggable(t)&&t.interactive()}});a.load=function(){var t=this,e=function(e,n,r,o){null==e&&(e=t.cy);for(var a=0;a<n.length;a++){var s=n[a];e.emit(i.extend({originalEvent:r,type:s},o))}},n=function(t){return t.shiftKey||t.metaKey||t.ctrlKey},a=function(e,n){var r=!0;if(t.cy.hasCompoundNodes()&&e&&e.isEdge()){for(var i=0;n&&i<n.length;i++)if((e=n[i]).isNode()&&e.isParent()){r=!1;break}}else r=!0;return r},s=function(t){t[0]._private.rscratch.inDragLayer=!0},l=function(t){t[0]._private.rscratch.isGrabTarget=!0},u=function(e,n){var r=function(e){var n;if(e.addToList&&t.cy.hasCompoundNodes()){if(!e.addToList.hasId){e.addToList.hasId={};for(var r=0;r<e.addToList.length;r++){var i=e.addToList[r];e.addToList.hasId[i.id()]=!0}}n=e.addToList.hasId}return n||{}}(n);r[e.id()]||(n.addToList.push(e),r[e.id()]=!0,function(t){t[0]._private.grabbed=!0}(e))},c=function(e,n){n=n||{};var r=e.cy().hasCompoundNodes();n.inDragLayer&&(e.forEach(s),e.neighborhood().stdFilter((function(t){return!r||t.isEdge()})).forEach(s)),n.addToList&&e.forEach((function(t){u(t,n)})),function(t,e){if(t.cy().hasCompoundNodes()&&(null!=e.inDragLayer||null!=e.addToList)){var n=t.descendants();e.inDragLayer&&(n.forEach(s),n.connectedEdges().forEach(s)),e.addToList&&n.forEach((function(t){u(t,e)}))}}(e,n),f(e,{inDragLayer:n.inDragLayer}),t.updateCachedGrabbedEles()},h=c,d=function(e){e&&(e.hasId={},t.getCachedZSortedEles().forEach((function(t){!function(t){t[0]._private.grabbed=!1}(t),function(t){t[0]._private.rscratch.inDragLayer=!1}(t),function(t){t[0]._private.rscratch.isGrabTarget=!1}(t)})),t.updateCachedGrabbedEles())},f=function(t,e){if((null!=e.inDragLayer||null!=e.addToList)&&t.cy().hasCompoundNodes()){var n=t.ancestors().orphans();if(!n.same(t)){var r=n.descendants().spawnSelf().merge(n).unmerge(t).unmerge(t.descendants()),i=r.connectedEdges();e.inDragLayer&&(i.forEach(s),r.forEach(s)),e.addToList&&r.forEach((function(t){u(t,e)}))}}},p=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},v="undefined"!=typeof MutationObserver;v?(t.removeObserver=new MutationObserver((function(e){for(var n=0;n<e.length;n++){var r=e[n].removedNodes;if(r)for(var i=0;i<r.length;i++)if(r[i]===t.container){t.destroy();break}}})),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",(function(e){t.destroy()}));var g=i.debounce((function(){t.cy.resize()}),100);v&&(t.styleObserver=new MutationObserver(g),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",g);var y=function(){t.invalidateContainerClientCoordsCache()};!function(t,e){for(;null!=t;)e(t),t=t.parentNode}(t.container,(function(e){t.registerBinding(e,"transitionend",y),t.registerBinding(e,"animationend",y),t.registerBinding(e,"scroll",y)})),t.registerBinding(t.container,"contextmenu",(function(t){t.preventDefault()}));var m,b,w,_,x,E,S,k,C,O,T,P,N,A=function(e){for(var n=t.findContainerClientCoords(),r=n[0],i=n[1],o=n[2],a=n[3],s=e.touches?e.touches:[e],l=!1,u=0;u<s.length;u++){var c=s[u];if(r<=c.clientX&&c.clientX<=r+o&&i<=c.clientY&&c.clientY<=i+a){l=!0;break}}if(!l)return!1;for(var h=t.container,d=e.target.parentNode,f=!1;d;){if(d===h){f=!0;break}d=d.parentNode}return!!f};t.registerBinding(t.container,"mousedown",(function(n){if(A(n)){n.preventDefault(),p(),t.hoverData.capture=!0,t.hoverData.which=n.which;var r=t.cy,i=[n.clientX,n.clientY],o=t.projectIntoViewport(i[0],i[1]),a=t.selection,s=t.findNearestElements(o[0],o[1],!0,!1),u=s[0],d=t.dragData.possibleDragElements;if(t.hoverData.mdownPos=o,t.hoverData.mdownGPos=i,3==n.which){t.hoverData.cxtStarted=!0;var f={originalEvent:n,type:"cxttapstart",position:{x:o[0],y:o[1]}};u?(u.activate(),u.emit(f),t.hoverData.down=u):r.emit(f),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==n.which){if(u&&u.activate(),null!=u&&t.nodeIsGrabbable(u)){var v=function(t){return{originalEvent:n,type:t,position:{x:o[0],y:o[1]}}};if(l(u),u.selected()){d=t.dragData.possibleDragElements=[];var g=r.$((function(e){return e.isNode()&&e.selected()&&t.nodeIsGrabbable(e)}));c(g,{addToList:d}),u.emit(v("grabon")),g.forEach((function(t){t.emit(v("grab"))}))}else d=t.dragData.possibleDragElements=[],h(u,{addToList:d}),u.emit(v("grabon")).emit(v("grab"));t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=u,t.hoverData.downs=s,t.hoverData.downTime=(new Date).getTime(),e(u,["mousedown","tapstart","vmousedown"],n,{position:{x:o[0],y:o[1]}}),null==u?(a[4]=1,t.data.bgActivePosistion={x:o[0],y:o[1]},t.redrawHint("select",!0),t.redraw()):u.isEdge()&&(a[4]=1),t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout((function(){if(!t.hoverData.tapholdCancelled){var e=t.hoverData.down;e?e.emit({originalEvent:n,type:"taphold",position:{x:o[0],y:o[1]}}):r.emit({originalEvent:n,type:"taphold",position:{x:o[0],y:o[1]}})}}),t.tapholdDuration)}a[0]=a[2]=o[0],a[1]=a[3]=o[1]}}),!1),t.registerBinding(window,"mousemove",(function(i){if(t.hoverData.capture||A(i)){var s=!1,l=t.cy,u=l.zoom(),h=[i.clientX,i.clientY],f=t.projectIntoViewport(h[0],h[1]),p=t.hoverData.mdownPos,v=t.hoverData.mdownGPos,g=t.selection,y=null;t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.selecting||(y=t.findNearestElement(f[0],f[1],!0,!1));var m,b=t.hoverData.last,w=t.hoverData.down,_=[f[0]-g[2],f[1]-g[3]],x=t.dragData.possibleDragElements;if(v){var E=h[0]-v[0],S=E*E,k=h[1]-v[1],C=S+k*k;t.hoverData.isOverThresholdDrag=m=C>=t.desktopTapThreshold2}var O=n(i);m&&(t.hoverData.tapholdCancelled=!0),s=!0,e(y,["mousemove","vmousemove","tapdrag"],i,{position:{x:f[0],y:f[1]}});var T=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||l.emit("boxstart"),g[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(3===t.hoverData.which){if(m){var P={originalEvent:i,type:"cxtdrag",position:{x:f[0],y:f[1]}};w?w.emit(P):l.emit(P),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&y===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:i,type:"cxtdragout",position:{x:f[0],y:f[1]}}),t.hoverData.cxtOver=y,y&&y.emit({originalEvent:i,type:"cxtdragover",position:{x:f[0],y:f[1]}}))}}else if(t.hoverData.dragging){if(s=!0,l.panningEnabled()&&l.userPanningEnabled()){var N;if(t.hoverData.justStartedPan){var D=t.hoverData.mdownPos;N={x:(f[0]-D[0])*u,y:(f[1]-D[1])*u},t.hoverData.justStartedPan=!1}else N={x:_[0]*u,y:_[1]*u};l.panBy(N),t.hoverData.dragged=!0}f=t.projectIntoViewport(i.clientX,i.clientY)}else if(1!=g[4]||null!=w&&!w.isEdge()){if(w&&w.isEdge()&&w.active()&&w.unactivate(),w&&w.grabbed()||y==b||(b&&e(b,["mouseout","tapdragout"],i,{position:{x:f[0],y:f[1]}}),y&&e(y,["mouseover","tapdragover"],i,{position:{x:f[0],y:f[1]}}),t.hoverData.last=y),w)if(m){if(l.boxSelectionEnabled()&&O)w&&w.grabbed()&&(d(x),w.emit("free")),T();else if(w&&w.grabbed()&&t.nodeIsDraggable(w)){var M=!t.dragData.didDrag;M&&t.redrawHint("eles",!0),t.dragData.didDrag=!0;var L=[];t.hoverData.draggingEles||c(l.collection(x),{inDragLayer:!0});for(var I=0;I<x.length;I++){var j=x[I];if(t.nodeIsDraggable(j)&&j.grabbed()){var R=j.position();if(L.push(j),r.number(_[0])&&r.number(_[1])&&(R.x+=_[0],R.y+=_[1],M)){var B=t.hoverData.dragDelta;B&&r.number(B[0])&&r.number(B[1])&&(R.x+=B[0],R.y+=B[1])}}}t.hoverData.draggingEles=!0;var F=l.collection(L);F.dirtyCompoundBoundsCache(),F.emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else!function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];0===e.length?(e.push(_[0]),e.push(_[1])):(e[0]+=_[0],e[1]+=_[1])}();s=!0}else m&&(t.hoverData.dragging||!l.boxSelectionEnabled()||!O&&l.panningEnabled()&&l.userPanningEnabled()?!t.hoverData.selecting&&l.panningEnabled()&&l.userPanningEnabled()&&a(w,t.hoverData.downs)&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,g[4]=0,t.data.bgActivePosistion=o.array2point(p),t.redrawHint("select",!0),t.redraw()):T(),w&&w.isEdge()&&w.active()&&w.unactivate());return g[2]=f[0],g[3]=f[1],s?(i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault(),!1):void 0}}),!1),t.registerBinding(window,"mouseup",(function(r){if(t.hoverData.capture){t.hoverData.capture=!1;var i=t.cy,o=t.projectIntoViewport(r.clientX,r.clientY),a=t.selection,s=t.findNearestElement(o[0],o[1],!0,!1),l=t.dragData.possibleDragElements,u=t.hoverData.down,c=n(r);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,u&&u.unactivate(),3===t.hoverData.which){var h={originalEvent:r,type:"cxttapend",position:{x:o[0],y:o[1]}};if(u?u.emit(h):i.emit(h),!t.hoverData.cxtDragged){var f={originalEvent:r,type:"cxttap",position:{x:o[0],y:o[1]}};u?u.emit(f):i.emit(f)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(1===t.hoverData.which){if(null!=u||t.dragData.didDrag||t.hoverData.selecting||t.hoverData.dragged||n(r)||(i.$((function(t){return t.selected()})).unselect(),l.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=l=[]),e(s,["mouseup","tapend","vmouseup"],r,{position:{x:o[0],y:o[1]}}),t.dragData.didDrag||t.hoverData.dragged||t.hoverData.selecting||t.hoverData.isOverThresholdDrag||e(u,["click","tap","vclick"],r,{position:{x:o[0],y:o[1]}}),s!=u||t.dragData.didDrag||t.hoverData.selecting||null!=s&&s._private.selectable&&(t.hoverData.dragging||("additive"===i.selectionType()||c?s.selected()?s.unselect():s.select():c||(i.$(":selected").unmerge(s).unselect(),s.select())),t.redrawHint("eles",!0)),t.hoverData.selecting){var p=i.collection(t.getAllInBox(a[0],a[1],a[2],a[3]));t.redrawHint("select",!0),p.length>0&&t.redrawHint("eles",!0),i.emit("boxend");var v=function(t){return t.selectable()&&!t.selected()};"additive"===i.selectionType()?p.emit("box").stdFilter(v).select().emit("boxselect"):(c||i.$(":selected").unmerge(p).unselect(),p.emit("box").stdFilter(v).select().emit("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!a[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var g=u&&u.grabbed();d(l),g&&u.emit("free")}}a[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}}),!1),t.registerBinding(t.container,"wheel",(function(e){if(!t.scrollingPage){var n,r=t.cy,i=t.projectIntoViewport(e.clientX,e.clientY),o=[i[0]*r.zoom()+r.pan().x,i[1]*r.zoom()+r.pan().y];t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||0!==t.selection[4]?e.preventDefault():r.panningEnabled()&&r.userPanningEnabled()&&r.zoomingEnabled()&&r.userZoomingEnabled()&&(e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout((function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()}),150),n=null!=e.deltaY?e.deltaY/-250:null!=e.wheelDeltaY?e.wheelDeltaY/1e3:e.wheelDelta/1e3,n*=t.wheelSensitivity,1===e.deltaMode&&(n*=33),r.zoom({level:r.zoom()*Math.pow(10,n),renderedPosition:{x:o[0],y:o[1]}}))}}),!0),t.registerBinding(window,"scroll",(function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout((function(){t.scrollingPage=!1}),250)}),!0),t.registerBinding(t.container,"mouseout",(function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseout",position:{x:n[0],y:n[1]}})}),!1),t.registerBinding(t.container,"mouseover",(function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseover",position:{x:n[0],y:n[1]}})}),!1);var D,M,L,I,j=function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))},R=function(t,e,n,r){return(n-t)*(n-t)+(r-e)*(r-e)};if(t.registerBinding(t.container,"touchstart",D=function(n){if(A(n)){p(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var r=t.cy,i=t.touchData.now,o=t.touchData.earlier;if(n.touches[0]){var a=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);i[0]=a[0],i[1]=a[1]}if(n.touches[1]&&(a=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY),i[2]=a[0],i[3]=a[1]),n.touches[2]&&(a=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY),i[4]=a[0],i[5]=a[1]),n.touches[1]){d(t.dragData.touchDragEles);var s=t.findContainerClientCoords();C=s[0],O=s[1],T=s[2],P=s[3],m=n.touches[0].clientX-C,b=n.touches[0].clientY-O,w=n.touches[1].clientX-C,_=n.touches[1].clientY-O,N=0<=m&&m<=T&&0<=w&&w<=T&&0<=b&&b<=P&&0<=_&&_<=P;var u=r.pan(),f=r.zoom();if(x=j(m,b,w,_),E=R(m,b,w,_),k=[((S=[(m+w)/2,(b+_)/2])[0]-u.x)/f,(S[1]-u.y)/f],E<4e4&&!n.touches[2]){var v=t.findNearestElement(i[0],i[1],!0,!0),g=t.findNearestElement(i[2],i[3],!0,!0);return v&&v.isNode()?(v.activate().emit({originalEvent:n,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start=v):g&&g.isNode()?(g.activate().emit({originalEvent:n,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start=g):r.emit({originalEvent:n,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(n.touches[2]);else if(n.touches[1]);else if(n.touches[0]){var y=t.findNearestElements(i[0],i[1],!0,!0),D=y[0];if(null!=D&&(D.activate(),t.touchData.start=D,t.touchData.starts=y,t.nodeIsGrabbable(D))){var M=t.dragData.touchDragEles=[],L=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),D.selected()?(L=r.$((function(e){return e.selected()&&t.nodeIsGrabbable(e)})),c(L,{addToList:M})):h(D,{addToList:M}),l(D);var I=function(t){return{originalEvent:n,type:t,position:{x:i[0],y:i[1]}}};D.emit(I("grabon")),L?L.forEach((function(t){t.emit(I("grab"))})):D.emit(I("grab"))}e(D,["touchstart","tapstart","vmousedown"],n,{position:{x:i[0],y:i[1]}}),null==D&&(t.data.bgActivePosistion={x:a[0],y:a[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout((function(){!1!==t.touchData.singleTouchMoved||t.pinching||t.touchData.selecting||(e(t.touchData.start,["taphold"],n,{position:{x:i[0],y:i[1]}}),t.touchData.start||r.$(":selected").unselect())}),t.tapholdDuration)}if(n.touches.length>=1){for(var B=t.touchData.startPosition=[],F=0;F<i.length;F++)B[F]=o[F]=i[F];var z=n.touches[0];t.touchData.startGPosition=[z.clientX,z.clientY]}}},!1),t.registerBinding(window,"touchmove",M=function(n){var i=t.touchData.capture;if(i||A(n)){var s=t.selection,l=t.cy,u=t.touchData.now,h=t.touchData.earlier,f=l.zoom();if(n.touches[0]){var p=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);u[0]=p[0],u[1]=p[1]}n.touches[1]&&(p=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY),u[2]=p[0],u[3]=p[1]),n.touches[2]&&(p=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY),u[4]=p[0],u[5]=p[1]);var v,g=t.touchData.startGPosition;if(i&&n.touches[0]&&g){for(var y=[],S=0;S<u.length;S++)y[S]=u[S]-h[S];var T=n.touches[0].clientX-g[0],P=T*T,D=n.touches[0].clientY-g[1];v=P+D*D>=t.touchTapThreshold2}if(i&&t.touchData.cxt){n.preventDefault();var M=n.touches[0].clientX-C,L=n.touches[0].clientY-O,I=n.touches[1].clientX-C,B=n.touches[1].clientY-O,F=R(M,L,I,B);if(F/E>=2.25||F>=22500){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var z={originalEvent:n,type:"cxttapend",position:{x:u[0],y:u[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(z),t.touchData.start=null):l.emit(z)}}if(i&&t.touchData.cxt){z={originalEvent:n,type:"cxtdrag",position:{x:u[0],y:u[1]}},t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(z):l.emit(z),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var V=t.findNearestElement(u[0],u[1],!0,!0);t.touchData.cxtOver&&V===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:n,type:"cxtdragout",position:{x:u[0],y:u[1]}}),t.touchData.cxtOver=V,V&&V.emit({originalEvent:n,type:"cxtdragover",position:{x:u[0],y:u[1]}}))}else if(i&&n.touches[2]&&l.boxSelectionEnabled())n.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||l.emit("boxstart"),t.touchData.selecting=!0,t.redrawHint("select",!0),s&&0!==s.length&&void 0!==s[0]?(s[2]=(u[0]+u[2]+u[4])/3,s[3]=(u[1]+u[3]+u[5])/3):(s[0]=(u[0]+u[2]+u[4])/3,s[1]=(u[1]+u[3]+u[5])/3,s[2]=(u[0]+u[2]+u[4])/3+1,s[3]=(u[1]+u[3]+u[5])/3+1),s[4]=1,t.touchData.selecting=!0,t.redraw();else if(i&&n.touches[1]&&l.zoomingEnabled()&&l.panningEnabled()&&l.userZoomingEnabled()&&l.userPanningEnabled()){if(n.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),tt=t.dragData.touchDragEles){t.redrawHint("drag",!0);for(var q=0;q<tt.length;q++){var U=tt[q]._private;U.grabbed=!1,U.rscratch.inDragLayer=!1}}M=n.touches[0].clientX-C,L=n.touches[0].clientY-O,I=n.touches[1].clientX-C,B=n.touches[1].clientY-O;var X=j(M,L,I,B),Y=X/x;if(N){var H=(M-m+(I-w))/2,G=(L-b+(B-_))/2,W=l.zoom(),$=W*Y,Z=l.pan(),K=k[0]*W+Z.x,Q=k[1]*W+Z.y,J={x:-$/W*(K-Z.x-H)+K,y:-$/W*(Q-Z.y-G)+Q};if(t.touchData.start&&t.touchData.start.active()){var tt=t.dragData.touchDragEles;d(tt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),t.touchData.start.unactivate().emit("free")}l.viewport({zoom:$,pan:J,cancelOnFailedZoom:!0}),x=X,m=M,b=L,w=I,_=B,t.pinching=!0}n.touches[0]&&(p=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY),u[0]=p[0],u[1]=p[1]),n.touches[1]&&(p=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY),u[2]=p[0],u[3]=p[1]),n.touches[2]&&(p=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY),u[4]=p[0],u[5]=p[1])}else if(n.touches[0]){var et=t.touchData.start,nt=t.touchData.last;if(t.hoverData.draggingEles||t.swipePanning||(V=t.findNearestElement(u[0],u[1],!0,!0)),i&&null!=et&&n.preventDefault(),i&&null!=et&&t.nodeIsDraggable(et))if(v){tt=t.dragData.touchDragEles;var rt=!t.dragData.didDrag;rt&&c(l.collection(tt),{inDragLayer:!0});for(var it=0;it<tt.length;it++){var ot=tt[it];if(t.nodeIsDraggable(ot)&&ot.grabbed()){t.dragData.didDrag=!0;var at=ot.position();r.number(y[0])&&r.number(y[1])&&(at.x+=y[0],at.y+=y[1]),rt&&(t.redrawHint("eles",!0),(lt=t.touchData.dragDelta)&&r.number(lt[0])&&r.number(lt[1])&&(at.x+=lt[0],at.y+=lt[1]))}}var st=l.collection(tt);st.dirtyCompoundBoundsCache(),st.emit("position drag"),t.hoverData.draggingEles=!0,t.redrawHint("drag",!0),t.touchData.startPosition[0]==h[0]&&t.touchData.startPosition[1]==h[1]&&t.redrawHint("eles",!0),t.redraw()}else{var lt;0===(lt=t.touchData.dragDelta=t.touchData.dragDelta||[]).length?(lt.push(y[0]),lt.push(y[1])):(lt[0]+=y[0],lt[1]+=y[1])}if(e(et||V,["touchmove","tapdrag","vmousemove"],n,{position:{x:u[0],y:u[1]}}),et&&et.grabbed()||V==nt||(nt&&nt.emit({originalEvent:n,type:"tapdragout",position:{x:u[0],y:u[1]}}),V&&V.emit({originalEvent:n,type:"tapdragover",position:{x:u[0],y:u[1]}})),t.touchData.last=V,i)for(q=0;q<u.length;q++)u[q]&&t.touchData.startPosition[q]&&v&&(t.touchData.singleTouchMoved=!0);i&&(null==et||et.isEdge())&&l.panningEnabled()&&l.userPanningEnabled()&&(a(et,t.touchData.starts)&&(n.preventDefault(),t.swipePanning?l.panBy({x:y[0]*f,y:y[1]*f}):v&&(t.swipePanning=!0,l.panBy({x:T*f,y:D*f}),et&&(et.unactivate(),t.data.bgActivePosistion||(t.data.bgActivePosistion=o.array2point(t.touchData.startPosition)),t.redrawHint("select",!0),t.touchData.start=null))),p=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY),u[0]=p[0],u[1]=p[1])}for(S=0;S<u.length;S++)h[S]=u[S];i&&n.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&null!=t.data.bgActivePosistion&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1),t.registerBinding(window,"touchcancel",L=function(e){var n=t.touchData.start;t.touchData.capture=!1,n&&n.unactivate()}),t.registerBinding(window,"touchend",I=function(n){var r=t.touchData.start;if(t.touchData.capture){0===n.touches.length&&(t.touchData.capture=!1),n.preventDefault();var i=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var o,a=t.cy,s=a.zoom(),l=t.touchData.now,u=t.touchData.earlier;if(n.touches[0]){var c=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=c[0],l[1]=c[1]}if(n.touches[1]&&(c=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY),l[2]=c[0],l[3]=c[1]),n.touches[2]&&(c=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY),l[4]=c[0],l[5]=c[1]),r&&r.unactivate(),t.touchData.cxt){if(o={originalEvent:n,type:"cxttapend",position:{x:l[0],y:l[1]}},r?r.emit(o):a.emit(o),!t.touchData.cxtDragged){var h={originalEvent:n,type:"cxttap",position:{x:l[0],y:l[1]}};r?r.emit(h):a.emit(h)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!n.touches[2]&&a.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var f=a.collection(t.getAllInBox(i[0],i[1],i[2],i[3]));i[0]=void 0,i[1]=void 0,i[2]=void 0,i[3]=void 0,i[4]=0,t.redrawHint("select",!0),a.emit("boxend"),f.emit("box").stdFilter((function(t){return t.selectable()&&!t.selected()})).select().emit("boxselect"),f.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(null!=r&&r.unactivate(),n.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var p=t.dragData.touchDragEles;if(null!=r){var v=r._private.grabbed;d(p),t.redrawHint("drag",!0),t.redrawHint("eles",!0),v&&r.emit("free"),e(r,["touchend","tapend","vmouseup","tapdragout"],n,{position:{x:l[0],y:l[1]}}),r.unactivate(),t.touchData.start=null}else{var g=t.findNearestElement(l[0],l[1],!0,!0);e(g,["touchend","tapend","vmouseup","tapdragout"],n,{position:{x:l[0],y:l[1]}})}var y=t.touchData.startPosition[0]-l[0],m=y*y,b=t.touchData.startPosition[1]-l[1],w=(m+b*b)*s*s;null!=r&&!t.dragData.didDrag&&r._private.selectable&&w<t.touchTapThreshold2&&!t.pinching&&("single"===a.selectionType()?(a.$(":selected").unmerge(r).unselect(),r.select()):r.selected()?r.unselect():r.select(),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved||e(r,["tap","vclick"],n,{position:{x:l[0],y:l[1]}}),t.touchData.singleTouchMoved=!0}for(var _=0;_<l.length;_++)u[_]=l[_];t.dragData.didDrag=!1,0===n.touches.length&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null),n.touches.length<2&&(t.pinching=!1,t.redrawHint("eles",!0),t.redraw())}},!1),"undefined"==typeof TouchEvent){var B=[],F=function(t){return{clientX:t.clientX,clientY:t.clientY,force:1,identifier:t.pointerId,pageX:t.pageX,pageY:t.pageY,radiusX:t.width/2,radiusY:t.height/2,screenX:t.screenX,screenY:t.screenY,target:t.target}},z=function(t){B.push(function(t){return{event:t,touch:F(t)}}(t))},V=function(t){for(var e=0;e<B.length;e++)if(B[e].event.pointerId===t.pointerId)return void B.splice(e,1)},q=function(t){t.touches=B.map((function(t){return t.touch}))},U=function(t){return"mouse"===t.pointerType||4===t.pointerType};t.registerBinding(t.container,"pointerdown",(function(t){U(t)||(t.preventDefault(),z(t),q(t),D(t))})),t.registerBinding(t.container,"pointerup",(function(t){U(t)||(V(t),q(t),I(t))})),t.registerBinding(t.container,"pointercancel",(function(t){U(t)||(V(t),q(t),L())})),t.registerBinding(t.container,"pointermove",(function(t){U(t)||(t.preventDefault(),function(t){var e=B.filter((function(e){return e.event.pointerId===t.pointerId}))[0];e.event=t,e.touch=F(t)}(t),q(t),M(t))}))}},t.exports=a},function(t,e,n){var r=n(2),i={generatePolygon:function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl("polygon",t,e,n,r,i,this.points)},intersectLine:function(t,e,n,i,o,a,s){return r.polygonIntersectLine(o,a,this.points,t,e,n/2,i/2,s)},checkPoint:function(t,e,n,i,o,a,s){return r.pointInsidePolygon(t,e,this.points,a,s,i,o,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,i,o,a,s){return r.intersectLineEllipse(o,a,t,e,n/2+s,i/2+s)},checkPoint:function(t,e,n,i,o,a,s){return r.checkInEllipse(t,e,i,o,a,s,n)}}},generateRoundRectangle:function(){return this.nodeShapes.roundrectangle={renderer:this,name:"roundrectangle",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,i,o,a,s){return r.roundRectangleIntersectLine(o,a,t,e,n,i,s)},checkPoint:function(t,e,n,i,o,a,s){var l=r.getRoundRectangleRadius(i,o),u=2*l;return!!(r.pointInsidePolygon(t,e,this.points,a,s,i,o-u,[0,-1],n)||r.pointInsidePolygon(t,e,this.points,a,s,i-u,o,[0,-1],n)||r.checkInEllipse(t,e,u,u,a-i/2+l,s-o/2+l,n)||r.checkInEllipse(t,e,u,u,a+i/2-l,s-o/2+l,n)||r.checkInEllipse(t,e,u,u,a+i/2-l,s+o/2-l,n)||r.checkInEllipse(t,e,u,u,a-i/2+l,s+o/2-l,n))}}},generateCutRectangle:function(){return this.nodeShapes.cutrectangle={renderer:this,name:"cutrectangle",cornerLength:r.getCutRectangleCornerLength(),points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},generateCutTrianglePts:function(t,e,n,r){var i=this.cornerLength,o=e/2,a=t/2,s=n-a,l=n+a,u=r-o,c=r+o;return{topLeft:[s,u+i,s+i,u,s+i,u+i],topRight:[l-i,u,l,u+i,l-i,u+i],bottomRight:[l,c-i,l-i,c,l-i,c-i],bottomLeft:[s+i,c,s,c-i,s+i,c-i]}},intersectLine:function(t,e,n,i,o,a,s){var l=this.generateCutTrianglePts(n+2*s,i+2*s,t,e),u=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return r.polygonIntersectLine(o,a,u,t,e)},checkPoint:function(t,e,n,i,o,a,s){if(r.pointInsidePolygon(t,e,this.points,a,s,i,o-2*this.cornerLength,[0,-1],n))return!0;if(r.pointInsidePolygon(t,e,this.points,a,s,i-2*this.cornerLength,o,[0,-1],n))return!0;var l=this.generateCutTrianglePts(i,o,a,s);return r.pointInsidePolygonPoints(t,e,l.topLeft)||r.pointInsidePolygonPoints(t,e,l.topRight)||r.pointInsidePolygonPoints(t,e,l.bottomRight)||r.pointInsidePolygonPoints(t,e,l.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,i,o,a,s){var l=this.generateBarrelBezierPts(n+2*s,i+2*s,t,e),u=function(t){var e=r.qbezierPtAt({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.15),n=r.qbezierPtAt({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.5),i=r.qbezierPtAt({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.85);return[t[0],t[1],e.x,e.y,n.x,n.y,i.x,i.y,t[4],t[5]]},c=[].concat(u(l.topLeft),u(l.topRight),u(l.bottomRight),u(l.bottomLeft));return r.polygonIntersectLine(o,a,c,t,e)},generateBarrelBezierPts:function(t,e,n,i){var o=e/2,a=t/2,s=n-a,l=n+a,u=i-o,c=i+o,h=r.getBarrelCurveConstants(t,e),d=h.heightOffset,f=h.widthOffset,p=h.ctrlPtOffsetPct*t,v={topLeft:[s,u+d,s+p,u,s+f,u],topRight:[l-f,u,l-p,u,l,u+d],bottomRight:[l,c-d,l-p,c,l-f,c],bottomLeft:[s+f,c,s+p,c,s,c-d]};return v.topLeft.isTop=!0,v.topRight.isTop=!0,v.bottomLeft.isBottom=!0,v.bottomRight.isBottom=!0,v},checkPoint:function(t,e,n,i,o,a,s){var l=r.getBarrelCurveConstants(i,o),u=l.heightOffset,c=l.widthOffset;if(r.pointInsidePolygon(t,e,this.points,a,s,i,o-2*u,[0,-1],n))return!0;if(r.pointInsidePolygon(t,e,this.points,a,s,i-2*c,o,[0,-1],n))return!0;for(var h=this.generateBarrelBezierPts(i,o,a,s),d=function(t,e,n){var i=n[4],o=n[2],a=n[0],s=n[5],l=n[1],u=Math.min(i,a),c=Math.max(i,a),h=Math.min(s,l),d=Math.max(s,l);if(u<=t&&t<=c&&h<=e&&e<=d){var f=r.bezierPtsToQuadCoeff(i,o,a),p=r.solveQuadratic(f[0],f[1],f[2],t).filter((function(t){return 0<=t&&t<=1}));if(p.length>0)return p[0]}return null},f=Object.keys(h),p=0;p<f.length;p++){var v=h[f[p]],g=d(t,e,v);if(null!=g){var y=v[5],m=v[3],b=v[1],w=r.qbezierAt(y,m,b,g);if(v.isTop&&w<=e)return!0;if(v.isBottom&&e<=w)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottomroundrectangle",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,i,o,a,s){var l=t-(n/2+s),u=e-(i/2+s),c=u,h=t+(n/2+s),d=r.finiteLinesIntersect(o,a,t,e,l,u,h,c,!1);return d.length>0?d:r.roundRectangleIntersectLine(o,a,t,e,n,i,s)},checkPoint:function(t,e,n,i,o,a,s){var l=r.getRoundRectangleRadius(i,o),u=2*l;if(r.pointInsidePolygon(t,e,this.points,a,s,i,o-u,[0,-1],n))return!0;if(r.pointInsidePolygon(t,e,this.points,a,s,i-u,o,[0,-1],n))return!0;var c=i/2+2*n,h=o/2+2*n,d=[a-c,s-h,a-c,s,a+c,s,a+c,s-h];return!!r.pointInsidePolygonPoints(t,e,d)||!!r.checkInEllipse(t,e,u,u,a+i/2-l,s+o/2-l,n)||!!r.checkInEllipse(t,e,u,u,a-i/2+l,s+o/2-l,n)}}},registerNodeShapes:function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",r.generateUnitNgonPointsFitToSquare(3,0)),this.generatePolygon("rectangle",r.generateUnitNgonPointsFitToSquare(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",r.generateUnitNgonPointsFitToSquare(5,0)),this.generatePolygon("hexagon",r.generateUnitNgonPointsFitToSquare(6,0)),this.generatePolygon("heptagon",r.generateUnitNgonPointsFitToSquare(7,0)),this.generatePolygon("octagon",r.generateUnitNgonPointsFitToSquare(8,0));var n=new Array(20),i=r.generateUnitNgonPoints(5,0),o=r.generateUnitNgonPoints(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<o.length/2;s++)o[2*s]*=a,o[2*s+1]*=a;for(s=0;s<5;s++)n[4*s]=i[2*s],n[4*s+1]=i[2*s+1],n[4*s+2]=o[2*s],n[4*s+3]=o[2*s+1];n=r.fitPolygonToSquare(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("concavehexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),t.makePolygon=function(t){var n,r="polygon-"+t.join("$");return(n=this[r])?n:e.generatePolygon(r,t)}}};t.exports=i},function(t,e,n){var r=n(1),i={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(t){t=t||r.staticEmptyObject();var e=this;void 0===e.averageRedrawTime&&(e.averageRedrawTime=0),void 0===e.lastRedrawTime&&(e.lastRedrawTime=0),void 0===e.lastDrawTime&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},beforeRender:function(t,e){if(!this.destroyed){e=e||0;var n=this.beforeRenderCallbacks;n.push({fn:t,priority:e}),n.sort((function(t,e){return e.priority-t.priority}))}}},o=function(t,e,n){for(var r=t.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(e,n)};i.startRenderLoop=function(){var t=this;t.renderLoopStarted||(t.renderLoopStarted=!0,r.requestAnimationFrame((function e(n){if(!t.destroyed){if(t.requestedFrame&&!t.skipFrame){o(t,!0,n);var i=r.performanceNow();t.render(t.renderOptions);var a=t.lastDrawTime=r.performanceNow();void 0===t.averageRedrawTime&&(t.averageRedrawTime=a-i),void 0===t.redrawCount&&(t.redrawCount=0),t.redrawCount++,void 0===t.redrawTotalTime&&(t.redrawTotalTime=0);var s=a-i;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else o(t,!1,n);t.skipFrame=!1,r.requestAnimationFrame(e)}})))},t.exports=i},function(t,e,n){var r=n(1),i=n(0),o=n(124),a=n(125),s=u,l=u.prototype;function u(t){var e=this;e.data={canvases:new Array(l.CANVAS_LAYERS),contexts:new Array(l.CANVAS_LAYERS),canvasNeedsRedraw:new Array(l.CANVAS_LAYERS),bufferCanvases:new Array(l.BUFFER_COUNT),bufferContexts:new Array(l.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color: rgba(0,0,0,0);";e.data.canvasContainer=document.createElement("div");var r=e.data.canvasContainer.style;e.data.canvasContainer.setAttribute("style",n),r.position="relative",r.zIndex="0",r.overflow="hidden";var s=t.cy.container();s.appendChild(e.data.canvasContainer),(s.getAttribute("style")||"").indexOf(n)<0&&s.setAttribute("style",(s.getAttribute("style")||"")+n);for(var u=0;u<l.CANVAS_LAYERS;u++){var c=e.data.canvases[u]=document.createElement("canvas");e.data.contexts[u]=c.getContext("2d"),c.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(i.ms()?" -ms-touch-action: none; touch-action: none; ":"")),c.style.position="absolute",c.setAttribute("data-id","layer"+u),c.style.zIndex=String(l.CANVAS_LAYERS-u),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[u]=!1}for(e.data.topCanvas=e.data.canvases[0],e.data.canvases[l.NODE].setAttribute("data-id","layer"+l.NODE+"-node"),e.data.canvases[l.SELECT_BOX].setAttribute("data-id","layer"+l.SELECT_BOX+"-selectbox"),e.data.canvases[l.DRAG].setAttribute("data-id","layer"+l.DRAG+"-drag"),u=0;u<l.BUFFER_COUNT;u++)e.data.bufferCanvases[u]=document.createElement("canvas"),e.data.bufferContexts[u]=e.data.bufferCanvases[u].getContext("2d"),e.data.bufferCanvases[u].style.position="absolute",e.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),e.data.bufferCanvases[u].style.zIndex=String(-u-1),e.data.bufferCanvases[u].style.visibility="hidden";e.pathsEnabled=!0,e.data.eleTxrCache=new o(e),e.data.lyrTxrCache=new a(e,e.data.eleTxrCache),e.onUpdateEleCalcs((function(t,n){for(var r=0;r<n.length;r++){var i=n[r],o=i._private.rstyle,a=o.dirtyEvents;if(i.isNode()&&a&&1===a.length&&a.position);else if(e.data.eleTxrCache.invalidateElement(i),i.isParent()&&a.style){var s=o.prevParentOpacity,l=i.pstyle("opacity").pfValue;if(o.prevParentOpacity=l,s!==l)for(var u=i.descendants(),c=0;c<u.length;c++)e.data.eleTxrCache.invalidateElement(u[c])}}n.length>0&&e.data.lyrTxrCache.invalidateElements(n)}))}l.CANVAS_LAYERS=3,l.SELECT_BOX=0,l.DRAG=1,l.NODE=2,l.BUFFER_COUNT=3,l.TEXTURE_BUFFER=0,l.MOTIONBLUR_BUFFER_NODE=1,l.MOTIONBLUR_BUFFER_DRAG=2,l.redrawHint=function(t,e){var n=this;switch(t){case"eles":n.data.canvasNeedsRedraw[l.NODE]=e;break;case"drag":n.data.canvasNeedsRedraw[l.DRAG]=e;break;case"select":n.data.canvasNeedsRedraw[l.SELECT_BOX]=e}};var c="undefined"!=typeof Path2D;l.path2dEnabled=function(t){if(void 0===t)return this.pathsEnabled;this.pathsEnabled=!!t},l.usePaths=function(){return c&&this.pathsEnabled},[n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(135)].forEach((function(t){r.extend(l,t)})),t.exports=s},function(t,e,n){var r=n(2),i=n(1),o=n(9),a=n(19),s={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},l=function(t){this.renderer=t,this.onDequeues=[],this.setupDequeueing()},u=l.prototype;u.reasons=s,u.getTextureQueue=function(t){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[t]=this.eleImgCaches[t]||[]},u.getRetiredTextureQueue=function(t){var e=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return e[t]=e[t]||[]},u.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new o((function(t,e){return e.reqs-t.reqs}))},u.getElementIdToQueue=function(){return this.eleIdToCacheQueue=this.eleIdToCacheQueue||{}},u.getElement=function(t,e,n,i,o){var a=this,l=this.renderer,u=t._private.rscratch,c=l.cy.zoom();if(0===e.w||0===e.h||!t.visible())return null;if(null==i&&(i=Math.ceil(r.log2(c*n))),i<-4)i=-4;else if(c>=3.99||i>2)return null;var h,d=Math.pow(2,i),f=e.h*d,p=e.w*d,v=u.imgCaches=u.imgCaches||{},g=v[i];if(g)return g;if(h=f<=25?25:f<=50?50:50*Math.ceil(f/50),f>1024||p>1024||t.isEdge()||t.isParent())return null;var y=a.getTextureQueue(h),m=y[y.length-2],b=function(){return a.recycleTexture(h,p)||a.addTexture(h,p)};m||(m=y[y.length-1]),m||(m=b()),m.width-m.usedWidth<p&&(m=b());for(var w,_=l.eleTextBiggerThanMin(t,d),x=function(t){return t&&t.scaledLabelShown===_},E=o&&o===s.dequeue,S=o&&o===s.highQuality,k=o&&o===s.downscale,C=i+1;C<=2;C++)if(N=v[C]){w=N;break}var O=w&&w.level===i+1?w:null,T=function(){m.context.drawImage(O.texture.canvas,O.x,0,O.width,O.height,m.usedWidth,0,p,f)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,p,h),x(O))T();else if(x(w)){if(!S)return a.queueElement(t,w.level-1),w;for(C=w.level;C>i;C--)O=a.getElement(t,e,n,C,s.downscale);T()}else{var P;if(!E&&!S&&!k)for(C=i-1;C>=-4;C--){var N;if(N=v[C]){P=N;break}}if(x(P))return a.queueElement(t,i),P;m.context.translate(m.usedWidth,0),m.context.scale(d,d),l.drawElement(m.context,t,e,_),m.context.scale(1/d,1/d),m.context.translate(-m.usedWidth,0)}return g=v[i]={ele:t,x:m.usedWidth,texture:m,level:i,scale:d,width:p,height:f,scaledLabelShown:_},m.usedWidth+=Math.ceil(p+8),m.eleCaches.push(g),a.checkTextureFullness(m),g},u.invalidateElement=function(t){var e=t._private.rscratch.imgCaches;if(e)for(var n=-4;n<=2;n++){var r=e[n];if(r){var o=r.texture;o.invalidatedWidth+=r.width,e[n]=null,i.removeFromArray(o.eleCaches,r),this.removeFromQueue(t),this.checkTextureUtility(o)}}},u.checkTextureUtility=function(t){t.invalidatedWidth>=.5*t.width&&this.retireTexture(t)},u.checkTextureFullness=function(t){var e=this.getTextureQueue(t.height);t.usedWidth/t.width>.8&&t.fullnessChecks>=10?i.removeFromArray(e,t):t.fullnessChecks++},u.retireTexture=function(t){var e=t.height,n=this.getTextureQueue(e);i.removeFromArray(n,t),t.retired=!0;for(var r=t.eleCaches,o=0;o<r.length;o++){var a=r[o],s=a.ele,l=a.level,u=s._private.rscratch.imgCaches;u&&(u[l]=null)}i.clearArray(r),this.getRetiredTextureQueue(e).push(t)},u.addTexture=function(t,e){var n={};return this.getTextureQueue(t).push(n),n.eleCaches=[],n.height=t,n.width=Math.max(1024,e),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=document.createElement("canvas"),n.canvas.width=n.width,n.canvas.height=n.height,n.context=n.canvas.getContext("2d"),n},u.recycleTexture=function(t,e){for(var n=this.getTextureQueue(t),r=this.getRetiredTextureQueue(t),o=0;o<r.length;o++){var a=r[o];if(a.width>=e)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,i.clearArray(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),i.removeFromArray(r,a),n.push(a),a}},u.queueElement=function(t,e){var n=this.getElementQueue(),r=this.getElementIdToQueue(),i=t.id(),o=r[i];if(o)o.level=Math.max(o.level,e),o.reqs++,n.updateItem(o);else{var a={ele:t,level:e,reqs:1};n.push(a),r[i]=a}},u.dequeue=function(t){for(var e=this.getElementQueue(),n=this.getElementIdToQueue(),r=[],i=0;i<1&&e.size()>0;i++){var o=e.pop(),a=o.ele;if(null==a._private.rscratch.imgCaches[o.level]){n[a.id()]=null,r.push(o);var l=a.boundingBox();this.getElement(a,l,t,o.level,s.dequeue)}}return r},u.removeFromQueue=function(t){var e=this.getElementQueue(),n=this.getElementIdToQueue(),r=n[t.id()];null!=r&&(r.reqs=i.MAX_INT,e.updateItem(r),e.pop(),n[t.id()]=null)},u.onDequeue=function(t){this.onDequeues.push(t)},u.offDequeue=function(t){i.removeFromArray(this.onDequeues,t)},u.setupDequeueing=a.setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e,n){return t.dequeue(e,n)},onDeqd:function(t,e){for(var n=0;n<t.onDequeues.length;n++)(0,t.onDequeues[n])(e)},shouldRedraw:function(t,e,n,i){for(var o=0;o<e.length;o++){var a=e[o].ele.boundingBox();if(r.boundingBoxesIntersect(a,i))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}}),t.exports=l},function(t,e,n){var r=n(1),i=n(2),o=n(9),a=n(0),s=n(19),l=function(t,e){var n=this,i=n.renderer=t;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=r.performanceNow()-500,n.skipping=!1,i.beforeRender((function(t,e){e-n.lastInvalidationTime<=250?n.skipping=!0:n.skipping=!1})),n.layersQueue=new o((function(t,e){return e.reqs-t.reqs})),n.eleTxrCache=e,n.setupEleCacheInvalidation(),n.setupDequeueing()},u=l.prototype,c=0,h=Math.pow(2,53)-1;function d(t,e){null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)}u.makeLayer=function(t,e){var n=Math.pow(2,e),r=Math.ceil(t.w*n),i=Math.ceil(t.h*n),o=document.createElement("canvas");o.width=r,o.height=i;var a={id:c=++c%h,bb:t,level:e,width:r,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,l=-a.bb.x1,u=-a.bb.y1;return s.scale(n,n),s.translate(l,u),a},u.getLayers=function(t,e,n){var o=this,a=o.renderer.cy.zoom(),s=o.firstGet;if(o.firstGet=!1,null==n)if((n=Math.ceil(i.log2(a*e)))<-4)n=-4;else if(a>=3.99||n>2)return null;o.validateLayersElesOrdering(n,t);var l,u,c=o.layersByLevel,h=Math.pow(2,n),d=c[n]=c[n]||[];if(o.levelIsComplete(n,t))return d;!function(){var e=function(e){if(o.validateLayersElesOrdering(e,t),o.levelIsComplete(e,t))return u=c[e],!0},i=function(t){if(!u)for(var r=n+t;-4<=r&&r<=2&&!e(r);r+=t);};i(1),i(-1);for(var a=d.length-1;a>=0;a--){var s=d[a];s.invalid&&r.removeFromArray(d,s)}}();var f=function(e){var r=(e=e||{}).after;if(function(){if(!l){l=i.makeBoundingBox();for(var e=0;e<t.length;e++)i.updateBoundingBox(l,t[e].boundingBox())}}(),l.w*h*(l.h*h)>16e6)return null;var a=o.makeLayer(l,n);if(null!=r){var s=d.indexOf(r)+1;d.splice(s,0,a)}else(void 0===e.insert||e.insert)&&d.unshift(a);return a};if(o.skipping&&!s)return null;for(var p=null,v=t.length/1,g=!s,y=0;y<t.length;y++){var m=t[y],b=m._private.rscratch,w=b.imgLayerCaches=b.imgLayerCaches||{},_=w[n];if(_)p=_;else{if((!p||p.eles.length>=v||!i.boundingBoxInBoundingBox(p.bb,m.boundingBox()))&&!(p=f({insert:!0,after:p})))return null;u||g?o.queueLayer(p,m):o.drawEleInLayer(p,m,n,e),p.eles.push(m),w[n]=p}}return u||(g?null:d)},u.getEleLevelForLayerLevel=function(t,e){return t},u.drawEleInLayer=function(t,e,n,r){var i=this.renderer,o=t.context,a=e.boundingBox();if(0!==a.w&&0!==a.h&&e.visible()){var s=this.eleTxrCache,l=s.reasons.highQuality;n=this.getEleLevelForLayerLevel(n,r);var u=s.getElement(e,a,null,n,l);u?(d(o,!1),o.drawImage(u.texture.canvas,u.x,0,u.width,u.height,a.x1,a.y1,a.w,a.h),d(o,!0)):i.drawElement(o,e)}},u.levelIsComplete=function(t,e){var n=this.layersByLevel[t];if(!n||0===n.length)return!1;for(var r=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0)return!1;if(o.invalid)return!1;r+=o.eles.length}return r===e.length},u.validateLayersElesOrdering=function(t,e){var n=this.layersByLevel[t];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],o=-1,a=0;a<e.length;a++)if(i.eles[0]===e[a]){o=a;break}if(o<0)this.invalidateLayer(i);else{var s=o;for(a=0;a<i.eles.length;a++)if(i.eles[a]!==e[s+a]){this.invalidateLayer(i);break}}}},u.updateElementsInLayers=function(t,e){for(var n=a.element(t[0]),r=0;r<t.length;r++)for(var i=n?null:t[r],o=n?t[r]:t[r].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},u=-4;u<=2;u++){var c=l[u];c&&(i&&this.getEleLevelForLayerLevel(c.level)!==i.level||e(c,o,i))}},u.haveLayers=function(){for(var t=!1,e=-4;e<=2;e++){var n=this.layersByLevel[e];if(n&&n.length>0){t=!0;break}}return t},u.invalidateElements=function(t){var e=this;e.lastInvalidationTime=r.performanceNow(),0!==t.length&&e.haveLayers()&&e.updateElementsInLayers(t,(function(t,n,r){e.invalidateLayer(t)}))},u.invalidateLayer=function(t){if(this.lastInvalidationTime=r.performanceNow(),!t.invalid){var e=t.level,n=t.eles,i=this.layersByLevel[e];r.removeFromArray(i,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var o=0;o<n.length;o++){var a=n[o]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}},u.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,(function(t,n,r){var i=t.replacement;if(i||((i=t.replacement=e.makeLayer(t.bb,t.level)).replaces=t,i.eles=t.eles),!i.reqs)for(var o=0;o<i.eles.length;o++)e.queueLayer(i,i.eles[o])}))},u.setupEleCacheInvalidation=function(){var t=this,e=[],n=r.debounce((function(){t.refineElementTextures(e),e=[]}),50);t.eleTxrCache.onDequeue((function(t){for(var r=0;r<t.length;r++)e.push(t[r]);n()}))},u.queueLayer=function(t,e){var n=this.layersQueue,r=t.elesQueue,i=r.hasId=r.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;r.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}},u.dequeue=function(t){for(var e=this.layersQueue,n=[],r=0;r<1&&0!==e.size();){var i=e.peek();if(i.replacement)e.pop();else if(i.replaces&&i!==i.replaces.replacement)e.pop();else if(i.invalid)e.pop();else{var o=i.elesQueue.shift();o&&(this.drawEleInLayer(i,o,i.level,t),r++),0===n.length&&n.push(!0),0===i.elesQueue.length&&(e.pop(),i.reqs=0,i.replaces&&this.applyLayerReplacement(i),this.requestRedraw())}}return n},u.applyLayerReplacement=function(t){var e=this.layersByLevel[t.level],n=t.replaces,r=e.indexOf(n);if(!(r<0||n.invalid)){e[r]=t;for(var i=0;i<t.eles.length;i++){var o=t.eles[i]._private,a=o.imgLayerCaches=o.imgLayerCaches||{};a&&(a[t.level]=t)}this.requestRedraw()}},u.requestRedraw=r.debounce((function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()}),100),u.setupDequeueing=s.setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e){return t.dequeue(e)},onDeqd:r.noop,shouldRedraw:r.trueify,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}}),t.exports=l},function(t,e,n){var r,i={arrowShapeImpl:function(t){return(r||(r={polygon:function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.lineTo(r.x,r.y)}},"triangle-backcurve":function(t,e,n){for(var r,i=0;i<e.length;i++){var o=e[i];0===i&&(r=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(n.x,n.y,r.x,r.y)},"triangle-tee":function(t,e,n){t.beginPath&&t.beginPath();for(var r=e,i=0;i<r.length;i++){var o=r[i];t.lineTo(o.x,o.y)}t.closePath&&t.closePath(),t.beginPath&&t.beginPath();var a=n,s=n[0];for(t.moveTo(s.x,s.y),i=0;i<a.length;i++)o=a[i],t.lineTo(o.x,o.y);t.closePath&&t.closePath()},"triangle-cross":function(t,e,n){t.beginPath&&t.beginPath();for(var r=e,i=0;i<r.length;i++){var o=r[i];t.lineTo(o.x,o.y)}t.closePath&&t.closePath(),t.beginPath&&t.beginPath();var a=n,s=n[0];for(t.moveTo(s.x,s.y),i=0;i<a.length;i++)o=a[i],t.lineTo(o.x,o.y);t.closePath&&t.closePath()},circle:function(t,e,n,r){t.arc(e,n,r,0,2*Math.PI,!1)}}))[t]}};t.exports=i},function(t,e,n){var r=n(2),i={drawElement:function(t,e,n,r){e.isNode()?this.drawNode(t,e,n,r):this.drawEdge(t,e,n,r)},drawCachedElement:function(t,e,n,i){var o=e.boundingBox();if(0!==o.w&&0!==o.h&&(!i||r.boundingBoxesIntersect(o,i))){var a=this.data.eleTxrCache.getElement(e,o,n);null!=a?t.drawImage(a.texture.canvas,a.x,0,a.width,a.height,o.x1,o.y1,o.w,o.h):this.drawElement(t,e)}},drawElements:function(t,e){for(var n=0;n<e.length;n++){var r=e[n];this.drawElement(t,r)}},drawCachedElements:function(t,e,n,r){for(var i=0;i<e.length;i++){var o=e[i];this.drawCachedElement(t,o,n,r)}},drawCachedNodes:function(t,e,n,r){for(var i=0;i<e.length;i++){var o=e[i];o.isNode()&&this.drawCachedElement(t,o,n,r)}},drawLayeredElements:function(t,e,n,r){var i=this.data.lyrTxrCache.getLayers(e,n);if(i)for(var o=0;o<i.length;o++){var a=i[o],s=a.bb;0!==s.w&&0!==s.h&&t.drawImage(a.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(t,e,n,r)},drawDebugPoints:function(t,e){for(var n=function(e,n,r){t.fillStyle=r,t.fillRect(e-1,n-1,3,3)},r=0;r<e.length;r++){var i=e[r],o=i._private.rscratch;if(i.isNode()){var a=i.position();n(a.x,a.y,"magenta")}else{for(var s=o.allpts,l=0;l+1<s.length;l+=2)n(s[l],s[l+1],"cyan");n(o.midX,o.midY,"yellow")}}}};t.exports=i},function(t,e,n){var r={drawEdge:function(t,e,n,r){var i=this,o=e._private.rscratch,a=i.usePaths();if(e.visible()&&!o.badLine&&null!=o.allpts&&!isNaN(o.allpts[0])){var s=void 0;n&&(s=n,t.translate(-s.x1,-s.y1));var l=2*e.pstyle("overlay-padding").pfValue,u=e.pstyle("overlay-opacity").value,c=e.pstyle("overlay-color").value,h=e.pstyle("line-color").value,d=e.pstyle("opacity").value,f=e.pstyle("line-style").value,p=e.pstyle("width").pfValue,v=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;t.lineWidth=p,t.lineCap="butt",i.strokeStyle(t,h[0],h[1],h[2],n),i.drawEdgePath(e,t,o.allpts,f)},g=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;i.drawArrowheads(t,e,n)};if(t.lineJoin="round","yes"===e.pstyle("ghost").value){var y=e.pstyle("ghost-offset-x").pfValue,m=e.pstyle("ghost-offset-y").pfValue,b=e.pstyle("ghost-opacity").value,w=d*b;t.translate(y,m),v(w),g(w),t.translate(-y,-m)}v(),g(),function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;t.lineWidth=l,"self"!==o.edgeType||a?t.lineCap="round":t.lineCap="butt",i.strokeStyle(t,c[0],c[1],c[2],n),i.drawEdgePath(e,t,o.allpts,"solid")}(),i.drawElementText(t,e,r),n&&t.translate(s.x1,s.y1)}},drawEdgePath:function(t,e,n,r){var i=t._private.rscratch,o=e,a=void 0,s=!1,l=this.usePaths();if(l){var u=n.join("$");i.pathCacheKey&&i.pathCacheKey===u?(a=e=i.pathCache,s=!0):(a=e=new Path2D,i.pathCacheKey=u,i.pathCache=a)}if(o.setLineDash)switch(r){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash([6,3]);break;case"solid":o.setLineDash([])}if(!s&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var c=2;c+3<n.length;c+=4)e.quadraticCurveTo(n[c],n[c+1],n[c+2],n[c+3]);break;case"straight":case"segments":case"haystack":for(var h=2;h+1<n.length;h+=2)e.lineTo(n[h],n[h+1])}e=o,l?e.stroke(a):e.stroke(),e.setLineDash&&e.setLineDash([])},drawArrowheads:function(t,e,n){var r=e._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(t,e,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(t,e,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(t,e,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(t,e,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},drawArrowhead:function(t,e,n,r,i,o,a){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(o)||null==o)){var s=e.pstyle(n+"-arrow-shape").value;if("none"!==s){var l="hollow"===e.pstyle(n+"-arrow-fill").value?"both":"filled",u=e.pstyle(n+"-arrow-fill").value,c=e.pstyle("width").pfValue,h=e.pstyle("opacity").value;void 0===a&&(a=h);var d=t.globalCompositeOperation;1===a&&"hollow"!==u||(t.globalCompositeOperation="destination-out",this.fillStyle(t,255,255,255,1),this.strokeStyle(t,255,255,255,1),this.drawArrowShape(e,n,t,l,c,s,r,i,o),t.globalCompositeOperation=d);var f=e.pstyle(n+"-arrow-color").value;this.fillStyle(t,f[0],f[1],f[2],a),this.strokeStyle(t,f[0],f[1],f[2],a),this.drawArrowShape(e,n,t,u,c,s,r,i,o)}}},drawArrowShape:function(t,e,n,r,i,o,a,s,l){var u=this.usePaths(),c=t._private.rscratch,h=!1,d=void 0,f=n,p={x:a,y:s},v=t.pstyle("arrow-scale").value,g=this.getArrowWidth(i,v),y=this.arrowShapes[o];if(u){var m=g+"$"+o+"$"+l+"$"+a+"$"+s;c.arrowPathCacheKey=c.arrowPathCacheKey||{},c.arrowPathCache=c.arrowPathCache||{},c.arrowPathCacheKey[e]===m?(d=n=c.arrowPathCache[e],h=!0):(d=n=new Path2D,c.arrowPathCacheKey[e]=m,c.arrowPathCache[e]=d)}n.beginPath&&n.beginPath(),h||y.draw(n,g,l,p,i),!y.leavePathOpen&&n.closePath&&n.closePath(),n=f,"filled"!==r&&"both"!==r||(u?n.fill(d):n.fill()),"hollow"!==r&&"both"!==r||(n.lineWidth=y.matchEdgeWidth?i:1,n.lineJoin="miter",u?n.stroke(d):n.stroke())}};t.exports=r},function(t,e,n){var r={safeDrawImage:function(t,e,n,r,i,o,a,s,l,u){i<=0||o<=0||l<=0||u<=0||t.drawImage(e,n,r,i,o,a,s,l,u)},drawInscribedImage:function(t,e,n,r,i){var o=this,a=n.position(),s=a.x,l=a.y,u=n.cy().style(),c=u.getIndexedStyle.bind(u),h=c(n,"background-fit","value",r),d=c(n,"background-repeat","value",r),f=n.width(),p=n.height(),v=2*n.padding(),g=f+("inner"===c(n,"background-width-relative-to","value",r)?0:v),y=p+("inner"===c(n,"background-height-relative-to","value",r)?0:v),m=n._private.rscratch,b="node"===n.pstyle("background-clip").value,w=c(n,"background-image-opacity","value",r)*i,_=e.width||e.cachedW,x=e.height||e.cachedH;null!=_&&null!=x||(document.body.appendChild(e),_=e.cachedW=e.width||e.offsetWidth,x=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var E=_,S=x;if("auto"!==c(n,"background-width","value",r)&&(E="%"===c(n,"background-width","units",r)?c(n,"background-width","pfValue",r)*g:c(n,"background-width","pfValue",r)),"auto"!==c(n,"background-height","value",r)&&(S="%"===c(n,"background-height","units",r)?c(n,"background-height","pfValue",r)*y:c(n,"background-height","pfValue",r)),0!==E&&0!==S){if("contain"===h)E*=k=Math.min(g/E,y/S),S*=k;else if("cover"===h){var k;E*=k=Math.max(g/E,y/S),S*=k}var C=s-g/2;"%"===c(n,"background-position-x","units",r)?C+=(g-E)*c(n,"background-position-x","pfValue",r):C+=c(n,"background-position-x","pfValue",r);var O=l-y/2;"%"===c(n,"background-position-y","units",r)?O+=(y-S)*c(n,"background-position-y","pfValue",r):O+=c(n,"background-position-y","pfValue",r),m.pathCache&&(C-=s,O-=l,s=0,l=0);var T=t.globalAlpha;if(t.globalAlpha=w,"no-repeat"===d)b&&(t.save(),m.pathCache?t.clip(m.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(t,s,l,g,y),t.clip())),o.safeDrawImage(t,e,0,0,_,x,C,O,E,S),b&&t.restore();else{var P=t.createPattern(e,d);t.fillStyle=P,o.nodeShapes[o.getNodeShape(n)].draw(t,s,l,g,y),t.translate(C,O),t.fill(),t.translate(-C,-O)}t.globalAlpha=T}}};t.exports=r},function(t,e,n){var r=n(1),i=n(2),o={eleTextBiggerThanMin:function(t,e){if(!e){var n=t.cy().zoom(),r=this.getPixelRatio(),o=Math.ceil(i.log2(n*r));e=Math.pow(2,o)}return!(t.pstyle("font-size").pfValue*e<t.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(t,e,n){var r=this;if(void 0===n){if(!r.eleTextBiggerThanMin(e))return}else if(!n)return;if(e.isNode()){if(!(o=e.pstyle("label"))||!o.value)return;var i=e.pstyle("text-halign").strValue;switch(e.pstyle("text-valign").strValue,i){case"left":t.textAlign="right";break;case"right":t.textAlign="left";break;default:t.textAlign="center"}t.textBaseline="bottom"}else{var o=e.pstyle("label"),a=e.pstyle("source-label"),s=e.pstyle("target-label");if(!(o&&o.value||a&&a.value||s&&s.value))return;t.textAlign="center",t.textBaseline="bottom"}r.drawText(t,e),e.isEdge()&&(r.drawText(t,e,"source"),r.drawText(t,e,"target"))}};o.drawNodeText=o.drawEdgeText=o.drawElementText,o.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((e=this.fontCaches[n]).context===t)return e;return e={context:t},this.fontCaches.push(e),e},o.setupTextStyle=function(t,e){var n=e.effectiveOpacity(),r=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,a=e.pstyle("font-weight").strValue,s=e.pstyle("text-opacity").value*e.pstyle("opacity").value*n,l=e.pstyle("text-outline-opacity").value*s,u=e.pstyle("color").value,c=e.pstyle("text-outline-color").value,h=e._private.fontKey,d=this.getFontCache(t);d.key!==h&&(t.font=r+" "+a+" "+i+" "+o,d.key=h),t.lineJoin="round",this.fillStyle(t,u[0],u[1],u[2],s),this.strokeStyle(t,c[0],c[1],c[2],l)},o.drawText=function(t,e,n){var i=e._private.rscratch,o=e.effectiveOpacity();if(0!==o&&0!==e.pstyle("text-opacity").value){var a,s,l,u,c,h,d=r.getPrefixedProperty(i,"labelX",n),f=r.getPrefixedProperty(i,"labelY",n),p=this.getLabelText(e,n);if(null!=p&&""!==p&&!isNaN(d)&&!isNaN(f)){this.setupTextStyle(t,e);var v=n?n+"-":"",g=r.getPrefixedProperty(i,"labelWidth",n),y=r.getPrefixedProperty(i,"labelHeight",n),m=r.getPrefixedProperty(i,"labelAngle",n),b=e.pstyle(v+"text-margin-x").pfValue,w=e.pstyle(v+"text-margin-y").pfValue,_=e.isEdge(),x=(e.isNode(),e.pstyle("text-halign").value),E=e.pstyle("text-valign").value;_&&(x="center",E="center"),d+=b,f+=w;var S,k=e.pstyle(v+"text-rotation");if(0!==(S="autorotate"===k.strValue?_?m:0:"none"===k.strValue?0:k.pfValue)){var C=d,O=f;t.translate(C,O),t.rotate(S),d=0,f=0}switch(E){case"top":break;case"center":f+=y/2;break;case"bottom":f+=y}var T=e.pstyle("text-background-opacity").value,P=e.pstyle("text-border-opacity").value,N=e.pstyle("text-border-width").pfValue,A=e.pstyle("text-background-padding").pfValue;if(T>0||N>0&&P>0){var D=d-A;switch(x){case"left":D-=g;break;case"center":D-=g/2}var M=f-y-A,L=g+2*A,I=y+2*A;if(T>0){var j=t.fillStyle,R=e.pstyle("text-background-color").value;t.fillStyle="rgba("+R[0]+","+R[1]+","+R[2]+","+T*o+")","roundrectangle"==e.pstyle("text-background-shape").strValue?(s=D,l=M,u=L,c=I,h=(h=2)||5,(a=t).beginPath(),a.moveTo(s+h,l),a.lineTo(s+u-h,l),a.quadraticCurveTo(s+u,l,s+u,l+h),a.lineTo(s+u,l+c-h),a.quadraticCurveTo(s+u,l+c,s+u-h,l+c),a.lineTo(s+h,l+c),a.quadraticCurveTo(s,l+c,s,l+c-h),a.lineTo(s,l+h),a.quadraticCurveTo(s,l,s+h,l),a.closePath(),a.fill()):t.fillRect(D,M,L,I),t.fillStyle=j}if(N>0&&P>0){var B=t.strokeStyle,F=t.lineWidth,z=e.pstyle("text-border-color").value,V=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+z[0]+","+z[1]+","+z[2]+","+P*o+")",t.lineWidth=N,t.setLineDash)switch(V){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=N/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(t.strokeRect(D,M,L,I),"double"===V){var q=N/2;t.strokeRect(D+q,M+q,L-2*q,I-2*q)}t.setLineDash&&t.setLineDash([]),t.lineWidth=F,t.strokeStyle=B}}var U=2*e.pstyle("text-outline-width").pfValue;if(U>0&&(t.lineWidth=U),"wrap"===e.pstyle("text-wrap").value){var X=r.getPrefixedProperty(i,"labelWrapCachedLines",n),Y=y/X.length;switch(E){case"top":f-=(X.length-1)*Y;break;case"center":case"bottom":f-=(X.length-1)*Y}for(var H=0;H<X.length;H++)U>0&&t.strokeText(X[H],d,f),t.fillText(X[H],d,f),f+=Y}else U>0&&t.strokeText(p,d,f),t.fillText(p,d,f);0!==S&&(t.rotate(-S),t.translate(-C,-O))}}},t.exports=o},function(t,e,n){var r=n(0),i={drawNode:function(t,e,n,i){var o,a,s=this,l=e._private,u=l.rscratch,c=e.position();if(r.number(c.x)&&r.number(c.y)&&e.visible()){var h=e.effectiveOpacity(),d=s.usePaths(),f=void 0,p=!1,v=e.padding();o=e.width()+2*v,a=e.height()+2*v;var g=void 0;n&&(g=n,t.translate(-g.x1,-g.y1));for(var y=e.pstyle("background-image").value,m=new Array(y.length),b=new Array(y.length),w=0,_=0;_<y.length;_++){var x=y[_];if(m[_]=null!=x&&"none"!==x){var E=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",_);w++,b[_]=s.getCachedImage(x,E,(function(){e.emitAndNotify("background")}))}}var S=e.pstyle("background-blacken").value,k=e.pstyle("border-width").pfValue,C=e.pstyle("background-color").value,O=e.pstyle("background-opacity").value*h,T=e.pstyle("border-color").value,P=e.pstyle("border-style").value,N=e.pstyle("border-opacity").value*h;t.lineJoin="miter";var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;s.fillStyle(t,C[0],C[1],C[2],e)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;s.strokeStyle(t,T[0],T[1],T[2],e)},M=e.pstyle("shape").strValue,L=e.pstyle("shape-polygon-points").pfValue;if(d){var I=M+"$"+o+"$"+a+("polygon"===M?"$"+L.join("$"):"");t.translate(c.x,c.y),u.pathCacheKey===I?(f=u.pathCache,p=!0):(f=new Path2D,u.pathCacheKey=I,u.pathCache=f)}var j,R,B,F=function(){if(!p){var n=c;d&&(n={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(f||t,n.x,n.y,o,a)}d?t.fill(f):t.fill()},z=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,r=l.backgrounding,i=0,o=0;o<b.length;o++)m[o]&&b[o].complete&&!b[o].error&&(i++,s.drawInscribedImage(t,b[o],e,o,n));l.backgrounding=!(i===w),r!==l.backgrounding&&e.updateStyle(!1)},V=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;s.hasPie(e)&&(s.drawPie(t,e,r),n&&(d||s.nodeShapes[s.getNodeShape(e)].draw(t,c.x,c.y,o,a)))},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=(S>0?S:-S)*e,r=S>0?0:255;0!==S&&(s.fillStyle(t,r,r,r,n),d?t.fill(f):t.fill())},U=function(){if(k>0){if(t.lineWidth=k,t.lineCap="butt",t.setLineDash)switch(P){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}if(d?t.stroke(f):t.stroke(),"double"===P){t.lineWidth=k/3;var e=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",d?t.stroke(f):t.stroke(),t.globalCompositeOperation=e}t.setLineDash&&t.setLineDash([])}};if("yes"===e.pstyle("ghost").value){var X=e.pstyle("ghost-offset-x").pfValue,Y=e.pstyle("ghost-offset-y").pfValue,H=e.pstyle("ghost-opacity").value,G=H*h;t.translate(X,Y),A(H*O),F(),z(G),V(0!==S||0!==k),q(G),D(H*N),U(),t.translate(-X,-Y)}A(),F(),z(),V(0!==S||0!==k),q(),D(),U(),d&&t.translate(-c.x,-c.y),s.drawElementText(t,e,i),j=e.pstyle("overlay-padding").pfValue,R=e.pstyle("overlay-opacity").value,B=e.pstyle("overlay-color").value,R>0&&(s.fillStyle(t,B[0],B[1],B[2],R),s.nodeShapes.roundrectangle.draw(t,c.x,c.y,o+2*j,a+2*j),t.fill()),n&&t.translate(g.x1,g.y1)}},hasPie:function(t){return(t=t[0])._private.hasPie},drawPie:function(t,e,n,r){e=e[0],r=r||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),a=r.x,s=r.y,l=e.width(),u=e.height(),c=Math.min(l,u)/2,h=0;this.usePaths()&&(a=0,s=0),"%"===o.units?c*=o.pfValue:void 0!==o.pfValue&&(c=o.pfValue/2);for(var d=1;d<=i.pieBackgroundN;d++){var f=e.pstyle("pie-"+d+"-background-size").value,p=e.pstyle("pie-"+d+"-background-color").value,v=e.pstyle("pie-"+d+"-background-opacity").value*n,g=f/100;g+h>1&&(g=1-h);var y=1.5*Math.PI+2*Math.PI*h,m=y+2*Math.PI*g;0===f||h>=1||h+g>1||(t.beginPath(),t.moveTo(a,s),t.arc(a,s,c,y,m),t.closePath(),this.fillStyle(t,p[0],p[1],p[2],v),t.fill(),h+=g)}}};t.exports=i},function(t,e,n){var r={},i=n(1);r.getPixelRatio=function(){var t=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},r.paintCache=function(t){for(var e,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if((e=n[i]).context===t){r=!1;break}return r&&(e={context:t},n.push(e)),e},r.fillStyle=function(t,e,n,r,i){t.fillStyle="rgba("+e+","+n+","+r+","+i+")"},r.strokeStyle=function(t,e,n,r,i){t.strokeStyle="rgba("+e+","+n+","+r+","+i+")"},r.matchCanvasSize=function(t){var e=this,n=e.data,r=e.findContainerClientCoords(),i=r[2],o=r[3],a=e.getPixelRatio(),s=e.motionBlurPxRatio;t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]&&t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG]||(a=s);var l,u=i*a,c=o*a;if(u!==e.canvasWidth||c!==e.canvasHeight){e.fontCaches=null;var h=n.canvasContainer;h.style.width=i+"px",h.style.height=o+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)(l=n.canvases[d]).width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px";for(d=0;d<e.BUFFER_COUNT;d++)(l=n.bufferCanvases[d]).width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px";e.textureMult=1,a<=1&&(l=n.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,l.width=u*e.textureMult,l.height=c*e.textureMult),e.canvasWidth=u,e.canvasHeight=c}},r.renderTo=function(t,e,n,r){this.render({forcedContext:t,forcedZoom:e,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},r.render=function(t){var e=(t=t||i.staticEmptyObject()).forcedContext,n=t.drawAllLayers,r=t.drawOnlyNodeLayer,o=t.forcedZoom,a=t.forcedPan,s=this,l=void 0===t.forcedPxRatio?this.getPixelRatio():t.forcedPxRatio,u=s.cy,c=s.data,h=c.canvasNeedsRedraw,d=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),f=void 0!==t.motionBlur?t.motionBlur:s.motionBlur,p=s.motionBlurPxRatio,v=u.hasCompoundNodes(),g=s.hoverData.draggingEles,y=!(!s.hoverData.selecting&&!s.touchData.selecting),m=f=f&&!e&&s.motionBlurEnabled&&!y;e||(s.prevPxRatio!==l&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=l),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),f&&(null==s.mbFrames&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(m=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!d&&(h[s.NODE]=!0,h[s.SELECT_BOX]=!0);var b=u.style()._private.coreStyle,w=u.zoom(),_=void 0!==o?o:w,x=u.pan(),E={x:x.x,y:x.y},S={zoom:w,pan:{x:x.x,y:x.y}},k=s.prevViewport;void 0===k||S.zoom!==k.zoom||S.pan.x!==k.pan.x||S.pan.y!==k.pan.y||g&&!v||(s.motionBlurPxRatio=1),a&&(E=a),_*=l,E.x*=l,E.y*=l;var C=s.getCachedZSortedEles();function O(t,e,n,r,i){var o=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",s.fillStyle(t,255,255,255,s.motionBlurTransparency),t.fillRect(e,n,r,i),t.globalCompositeOperation=o}function T(t,r){var i,l,u,h;s.clearingMotionBlur||t!==c.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]&&t!==c.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]?(i=E,l=_,u=s.canvasWidth,h=s.canvasHeight):(i={x:x.x*p,y:x.y*p},l=w*p,u=s.canvasWidth*p,h=s.canvasHeight*p),t.setTransform(1,0,0,1,0,0),"motionBlur"===r?O(t,0,0,u,h):e||void 0!==r&&!r||t.clearRect(0,0,u,h),n||(t.translate(i.x,i.y),t.scale(l,l)),a&&t.translate(a.x,a.y),o&&t.scale(o,o)}if(d||(s.textureDrawLastFrame=!1),d){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=u.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var P=s.data.bufferContexts[s.TEXTURE_BUFFER];P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:P,drawOnlyNodeLayer:!0,forcedPxRatio:l*s.textureMult}),(S=s.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:s.canvasWidth,height:s.canvasHeight}).mpan={x:(0-S.pan.x)/S.zoom,y:(0-S.pan.y)/S.zoom}}h[s.DRAG]=!1,h[s.NODE]=!1;var N=c.contexts[s.NODE],A=s.textureCache.texture;S=s.textureCache.viewport,s.textureCache.bb,N.setTransform(1,0,0,1,0,0),f?O(N,0,0,S.width,S.height):N.clearRect(0,0,S.width,S.height);var D=b["outside-texture-bg-color"].value,M=b["outside-texture-bg-opacity"].value;s.fillStyle(N,D[0],D[1],D[2],M),N.fillRect(0,0,S.width,S.height),w=u.zoom(),T(N,!1),N.clearRect(S.mpan.x,S.mpan.y,S.width/S.zoom/l,S.height/S.zoom/l),N.drawImage(A,S.mpan.x,S.mpan.y,S.width/S.zoom/l,S.height/S.zoom/l)}else s.textureOnViewport&&!e&&(s.textureCache=null);var L=u.extent(),I=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles,j=s.hideEdgesOnViewport&&I,R=[];if(R[s.NODE]=!h[s.NODE]&&f&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,R[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),R[s.DRAG]=!h[s.DRAG]&&f&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,R[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),h[s.NODE]||n||r||R[s.NODE]){var B=f&&!R[s.NODE]&&1!==p;T(N=e||(B?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:c.contexts[s.NODE]),f&&!B?"motionBlur":void 0),j?s.drawCachedNodes(N,C.nondrag,l,L):s.drawLayeredElements(N,C.nondrag,l,L),s.debug&&s.drawDebugPoints(N,C.nondrag),n||f||(h[s.NODE]=!1)}if(!r&&(h[s.DRAG]||n||R[s.DRAG])&&(B=f&&!R[s.DRAG]&&1!==p,T(N=e||(B?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:c.contexts[s.DRAG]),f&&!B?"motionBlur":void 0),j?s.drawCachedNodes(N,C.drag,l,L):s.drawCachedElements(N,C.drag,l,L),s.debug&&s.drawDebugPoints(N,C.drag),n||f||(h[s.DRAG]=!1)),s.showFps||!r&&h[s.SELECT_BOX]&&!n){if(T(N=e||c.contexts[s.SELECT_BOX]),1==s.selection[4]&&(s.hoverData.selecting||s.touchData.selecting)){w=s.cy.zoom();var F=b["selection-box-border-width"].value/w;N.lineWidth=F,N.fillStyle="rgba("+b["selection-box-color"].value[0]+","+b["selection-box-color"].value[1]+","+b["selection-box-color"].value[2]+","+b["selection-box-opacity"].value+")",N.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),F>0&&(N.strokeStyle="rgba("+b["selection-box-border-color"].value[0]+","+b["selection-box-border-color"].value[1]+","+b["selection-box-border-color"].value[2]+","+b["selection-box-opacity"].value+")",N.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(c.bgActivePosistion&&!s.hoverData.selecting){w=s.cy.zoom();var z=c.bgActivePosistion;N.fillStyle="rgba("+b["active-bg-color"].value[0]+","+b["active-bg-color"].value[1]+","+b["active-bg-color"].value[2]+","+b["active-bg-opacity"].value+")",N.beginPath(),N.arc(z.x,z.y,b["active-bg-size"].pfValue/w,0,2*Math.PI),N.fill()}var V=s.lastRedrawTime;if(s.showFps&&V){V=Math.round(V);var q=Math.round(1e3/V);N.setTransform(1,0,0,1,0,0),N.fillStyle="rgba(255, 0, 0, 0.75)",N.strokeStyle="rgba(255, 0, 0, 0.75)",N.lineWidth=1,N.fillText("1 frame = "+V+" ms = "+q+" fps",0,20),N.strokeRect(0,30,250,20),N.fillRect(0,30,250*Math.min(q/60,1),20)}n||(h[s.SELECT_BOX]=!1)}if(f&&1!==p){var U=c.contexts[s.NODE],X=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],Y=c.contexts[s.DRAG],H=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],G=function(t,e,n){t.setTransform(1,0,0,1,0,0),n||!m?t.clearRect(0,0,s.canvasWidth,s.canvasHeight):O(t,0,0,s.canvasWidth,s.canvasHeight);var r=p;t.drawImage(e,0,0,s.canvasWidth*r,s.canvasHeight*r,0,0,s.canvasWidth,s.canvasHeight)};(h[s.NODE]||R[s.NODE])&&(G(U,X,R[s.NODE]),h[s.NODE]=!1),(h[s.DRAG]||R[s.DRAG])&&(G(Y,H,R[s.DRAG]),h[s.DRAG]=!1)}s.prevViewport=S,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),f&&(s.motionBlurTimeout=setTimeout((function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!d,s.mbFrames=0,h[s.NODE]=!0,h[s.DRAG]=!0,s.redraw()}),100)),e||u.emit("render")},t.exports=r},function(t,e,n){for(var r=n(2),i={drawPolygonPath:function(t,e,n,r,i,o){var a=r/2,s=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+a*o[0],n+s*o[1]);for(var l=1;l<o.length/2;l++)t.lineTo(e+a*o[2*l],n+s*o[2*l+1]);t.closePath()},drawRoundRectanglePath:function(t,e,n,i,o){var a=i/2,s=o/2,l=r.getRoundRectangleRadius(i,o);t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.arcTo(e+a,n-s,e+a,n,l),t.arcTo(e+a,n+s,e,n+s,l),t.arcTo(e-a,n+s,e-a,n,l),t.arcTo(e-a,n-s,e,n-s,l),t.lineTo(e,n-s),t.closePath()},drawBottomRoundRectanglePath:function(t,e,n,i,o){var a=i/2,s=o/2,l=r.getRoundRectangleRadius(i,o);t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.lineTo(e+a,n-s),t.lineTo(e+a,n),t.arcTo(e+a,n+s,e,n+s,l),t.arcTo(e-a,n+s,e-a,n,l),t.lineTo(e-a,n-s),t.lineTo(e,n-s),t.closePath()},drawCutRectanglePath:function(t,e,n,i,o){var a=i/2,s=o/2,l=r.getCutRectangleCornerLength();t.beginPath&&t.beginPath(),t.moveTo(e-a+l,n-s),t.lineTo(e+a-l,n-s),t.lineTo(e+a,n-s+l),t.lineTo(e+a,n+s-l),t.lineTo(e+a-l,n+s),t.lineTo(e-a+l,n+s),t.lineTo(e-a,n+s-l),t.lineTo(e-a,n-s+l),t.closePath()},drawBarrelPath:function(t,e,n,i,o){var a=i/2,s=o/2,l=e-a,u=e+a,c=n-s,h=n+s,d=r.getBarrelCurveConstants(i,o),f=d.widthOffset,p=d.heightOffset,v=d.ctrlPtOffsetPct*f;t.beginPath&&t.beginPath(),t.moveTo(l,c+p),t.lineTo(l,h-p),t.quadraticCurveTo(l+v,h,l+f,h),t.lineTo(u-f,h),t.quadraticCurveTo(u-v,h,u,h-p),t.lineTo(u,c+p),t.quadraticCurveTo(u-v,c,u-f,c),t.lineTo(l+f,c),t.quadraticCurveTo(l+v,c,l,c+p),t.closePath()}},o=Math.sin(0),a=Math.cos(0),s={},l={},u=Math.PI/40,c=0*Math.PI;c<2*Math.PI;c+=u)s[c]=Math.sin(c),l[c]=Math.cos(c);i.drawEllipsePath=function(t,e,n,r,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,n,r/2,i/2,0,0,2*Math.PI);else for(var c,h,d=r/2,f=i/2,p=0*Math.PI;p<2*Math.PI;p+=u)c=e-d*s[p]*o+d*l[p]*a,h=n+f*l[p]*o+f*s[p]*a,0===p?t.moveTo(c,h):t.lineTo(c,h);t.closePath()},t.exports=i},function(t,e,n){var r=n(0),i={};function o(t){var e=t.indexOf(",");return t.substr(e+1)}function a(t,e,n){var r=e.toDataURL(n,t.quality);switch(t.output){case"blob":return function(t,e){for(var n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([r],{type:e})}(o(r),n);case"base64":return o(r);case"base64uri":default:return r}}i.createBuffer=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d")]},i.bufferCanvasImage=function(t){var e=this.cy,n=e.mutableElements().boundingBox(),i=this.findContainerClientCoords(),o=t.full?Math.ceil(n.w):i[2],a=t.full?Math.ceil(n.h):i[3],s=r.number(t.maxWidth)||r.number(t.maxHeight),l=this.getPixelRatio(),u=1;if(void 0!==t.scale)o*=t.scale,a*=t.scale,u=t.scale;else if(s){var c=1/0,h=1/0;r.number(t.maxWidth)&&(c=u*t.maxWidth/o),r.number(t.maxHeight)&&(h=u*t.maxHeight/a),o*=u=Math.min(c,h),a*=u}s||(o*=l,a*=l,u*=l);var d=document.createElement("canvas");d.width=o,d.height=a,d.style.width=o+"px",d.style.height=a+"px";var f=d.getContext("2d");if(o>0&&a>0){f.clearRect(0,0,o,a),f.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(t.full)f.translate(-n.x1*u,-n.y1*u),f.scale(u,u),this.drawElements(f,p),f.scale(1/u,1/u),f.translate(n.x1*u,n.y1*u);else{var v=e.pan(),g={x:v.x*u,y:v.y*u};u*=e.zoom(),f.translate(g.x,g.y),f.scale(u,u),this.drawElements(f,p),f.scale(1/u,1/u),f.translate(-g.x,-g.y)}t.bg&&(f.globalCompositeOperation="destination-over",f.fillStyle=t.bg,f.rect(0,0,o,a),f.fill())}return d},i.png=function(t){return a(t,this.bufferCanvasImage(t),"image/png")},i.jpg=function(t){return a(t,this.bufferCanvasImage(t),"image/jpeg")},t.exports=i},function(t,e,n){var r={nodeShapeImpl:function(t,e,n,r,i,o,a){switch(t){case"ellipse":return this.drawEllipsePath(e,n,r,i,o);case"polygon":return this.drawPolygonPath(e,n,r,i,o,a);case"roundrectangle":return this.drawRoundRectanglePath(e,n,r,i,o);case"cutrectangle":return this.drawCutRectanglePath(e,n,r,i,o);case"bottomroundrectangle":return this.drawBottomRoundRectanglePath(e,n,r,i,o);case"barrel":return this.drawBarrelPath(e,n,r,i,o)}}};t.exports=r},function(t,e,n){var r=n(0),i=n(1),o=n(18),a=function t(){if(!(this instanceof t))return new t;this.length=0},s=a.prototype;s.instanceString=function(){return"stylesheet"},s.selector=function(t){return this[this.length++]={selector:t,properties:[]},this},s.css=function(t,e){var n=this.length-1;if(r.string(t))this[n].properties.push({name:t,value:e});else if(r.plainObject(t))for(var a=t,s=0;s<o.properties.length;s++){var l=o.properties[s],u=a[l.name];if(void 0===u&&(u=a[i.dash2camel(l.name)]),void 0!==u){var c=l.name,h=u;this[n].properties.push({name:c,value:h})}}return this},s.style=s.css,s.generateStyle=function(t){var e=new o(t);return this.appendToStyle(e)},s.appendToStyle=function(t){for(var e=0;e<this.length;e++){var n=this[e],r=n.selector,i=n.properties;t.selector(r);for(var o=0;o<i.length;o++){var a=i[o];t.css(a.name,a.value)}}return t},t.exports=a},function(t,e,n){t.exports="3.2.22"}])},t.exports=n(Mv,Lv)})));function jv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Rv=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.version=n,this.iriSet=r,this.diagrams=i}var e,n,r;return e=t,(n=[{key:"addIri",value:function(t){this.iriSet.add(t)}},{key:"addDiagram",value:function(t){this.diagrams.push(t)}},{key:"getDiagram",value:function(t){return this.diagrams[t]}},{key:"getElem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!0,r=!1,i=void 0;try{for(var o,a=this.diagrams[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=s.cy.$id(t);if(l&&l.length>0)return e?l.json():l}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!1}},{key:"getElemByDiagramAndId",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.getDiagram(e);if(r){var i=r.cy.$('[id_xml = "'.concat(t,'"]'));if(i)return n?i.json():i}return!1}},{key:"getEntities",value:function(){var t=Iv().collection();return this.diagrams.forEach((function(e){t=t.union(e.cy.nodes(".predicate"))})),(t=t.sort((function(t,e){return t.data("label").localeCompare(e.data("label"))}))).jsons()}}])&&jv(e.prototype,n),r&&jv(e,r),t}();function Bv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Fv=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prefixes=e,this.value=n,this.standard=r}var e,n,r;return e=t,(n=[{key:"getFullIri",value:function(){return this.prefixes[0]+":"+this.value}},{key:"isStandard",value:function(){return this.standard}}])&&Bv(e.prototype,n),r&&Bv(e,r),t}();function zv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Vv=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.id=n,this.cy=Iv(),r&&this.addElems(r)}var e,n,r;return e=t,(n=[{key:"addElems",value:function(t){this.cy.add(t)}},{key:"getElems",value:function(){return this.nodes.union(this.edges)}},{key:"nodes",get:function(){return this.cy.nodes().jsons()}},{key:"edges",get:function(){return this.cy.edges().jsons()}},{key:"elems",get:function(){return this.nodes.union(this.edges)}}])&&zv(e.prototype,n),r&&zv(e,r),t}();function qv(t){return null==t||null==t.firstChild?null:(1!==(t=t.firstChild).nodeType&&(t=Uv(t)),t)}function Uv(t){if(null==t||null==t.nextSibling)return null;for(t=t.nextSibling;1!==t.nodeType;){if(null==t.nextSibling)return null;t=t.nextSibling}return t}function Xv(t,e,n){var r=[];r.x=n.x-e.x,r.y=n.y-e.y;var i=[];i.x=t.x-e.x,i.y=t.y-e.y;var o,a=[];if(0==i.x)a.x=0,a.y=r.y;else if(0==i.y)a.x=r.x,a.y=0,o=0;else{o=i.y/i.x;var s=r.y+r.x/o;a.x=s*o/(Math.pow(o,2)+1),a.y=a.x*o}var l=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2)),u=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))/l;i.x>0&&a.x<0&&(u=-u),i.x<0&&a.x>0&&(u=-u);var c=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2));return i.x<0&&r.y>o*r.x&&(c=-c),i.x>0&&r.y<o*r.x&&(c=-c),0==i.x&&i.y>0&&r.x>0&&(c=-c),0==i.x&&i.y<0&&r.x<0&&(c=-c),[c,u]}function Yv(t,e,n){var r=[];if(r.x=t.x-e.position("x"),r.y=t.y-e.position("y"),0==r.x&&0==r.y)return r;var i=[];if(i.x=n.x-e.position("x"),i.y=n.y-e.position("y"),r.x==i.x){if(i.y>0)return r.y=e.data("height")/2,r;if(i.y<0)return r.y=-e.data("height")/2,r}else if(r.y==i.y){if(i.x>0)return r.x=e.data("width")/2,r;if(i.x<0)return r.x=-e.data("width")/2,r}return r}function Hv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gv(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Wv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $v=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"parseGraphol",value:function(t){var e,n,r=new DOMParser,i=t instanceof XMLDocument?t:r.parseFromString(t,"text/xml"),o=i.getElementsByTagName("ontology")[0],a=o.getElementsByTagName("name")[0].textContent,s="";s=o.getElementsByTagName("version")[0]?o.getElementsByTagName("version")[0].textContent:"Undefined";var l=new Rv(a,s);if(0===i.getElementsByTagName("IRI_prefixes_nodes_dict").length){var u=i.getElementsByTagName("iri")[0].textContent;l.addIri(new Fv([""],u))}else{var c=i.getElementsByTagName("iri");for(e=0;e<c.length;e++){var h=c[e],d=h.getAttribute("iri_value"),f=!1,p=[];for(Gv(h.getElementsByTagName("prefix")).forEach((function(t){p.push(t.getAttribute("prefix_value"))})),0==p.length&&p.push(""),n=0;n<h.getElementsByTagName("property").length;n++)switch(h.getElementsByTagName("property")[n].getAttribute("property_value")){case"Standard_IRI":f=!0}l.addIri(new Fv(p,d,f))}}var v=i.getElementsByTagName("predicate"),g=i.getElementsByTagName("diagram");for(e=0;e<g.length;e++){var y=g[e].getAttribute("name"),m=new Vv(y,e);l.addDiagram(m);var b=[],w=g[e].getElementsByTagName("node"),_=g[e].getElementsByTagName("edge"),x=0;for(n=0;n<w.length;n++)b.push(this.NodeXmlToJson(w[n],l,v,e)),"property-assertion"===b[x].data.type||"facet"===b[x].data.type||b[x].data.functional&&b[x].data.inverseFunctional?(this.addFakeNodes(b),x+=b.length-x):x++;for(m.addElems(b),b=[],n=0;n<_.length;n++)b.push(this.EdgeXmlToJson(_[n],l,e));m.addElems(b)}if(0==e)throw"The selected .graphol file has no defined diagram";return this.getIdentityForNeutralNodes(l),l}},{key:"NodeXmlToJson",value:function(t,e,n,r){var i,o={data:{id_xml:t.getAttribute("id"),diagram_id:r,id:t.getAttribute("id")+"_"+r,fillColor:t.getAttribute("color"),type:t.getAttribute("type")},position:{},classes:t.getAttribute("type")};switch(o.data.type){case"concept":case"domain-restriction":o.data.shape="rectangle",o.data.identity="concept";break;case"range-restriction":o.data.shape="rectangle",o.data.identity="neutral";break;case"role":o.data.shape="diamond",o.data.identity="role";break;case"attribute":o.data.shape="ellipse",o.data.identity="attribute";break;case"union":case"disjoint-union":case"complement":case"intersection":case"enumeration":o.data.shape="hexagon",o.data.identity="neutral";break;case"role-inverse":case"role-chain":o.data.shape="hexagon",o.data.identity="role","role-chain"===o.data.type&&""!==t.getAttribute("inputs")&&(o.data.inputs=t.getAttribute("inputs").split(","));break;case"datatype-restriction":o.data.shape="hexagon",o.data.identity="value_domain";break;case"value-domain":o.data.shape="roundrectangle",o.data.identity="value_domain";break;case"property-assertion":o.data.shape="roundrectangle",o.data.identity="neutral",o.data.inputs=t.getAttribute("inputs").split(",");break;case"individual":o.data.shape="octagon",o.data.identity="individual";break;case"facet":o.data.shape="polygon",o.data.shape_points="-0.9 -1 1 -1 0.9 1 -1 1",o.data.fillColor="#ffffff",o.data.identity="facet";break;default:console.error("tipo di nodo sconosciuto")}var a=qv(t);if(o.data.width=parseInt(a.getAttribute("width")),o.data.width<0&&(o.data.width=-o.data.width),o.data.height=parseInt(a.getAttribute("height")),o.data.height<0&&(o.data.height=-o.data.height),"facet"===o.data.type&&(o.data.height=40),o.position.x=parseInt(a.getAttribute("x")),o.position.y=parseInt(a.getAttribute("y")),null!=(a=Uv(a))&&(o.data.label=a.textContent,o.data.labelXpos=parseInt(a.getAttribute("x"))-o.position.x+1,o.data.labelYpos=parseInt(a.getAttribute("y"))-o.position.y+(o.data.height+2)/2+parseInt(a.getAttribute("height"))/4,i=o.data.label.replace(/\n/g,"")),function(t){switch(t.getAttribute("type")){case"concept":case"attribute":case"role":case"individual":return!0}return!1}(t)){var s,l,u,c,h,d;if(o.classes+=" predicate",l=null!=t.getAttribute("remaining_characters")?t.getAttribute("remaining_characters").replace(/\n/g,""):i,u=i.length-l.length,c=i.substring(0,u),e.iriSet.forEach((function(t){t.prefixes.forEach((function(e){c!=e+":"&&c!=e||(s=t.value)}))})),!s)throw'Err: the iri prefix "'.concat(c,'" is not associated to any iri');for(-1!=c.search(/"[\w]+"\^\^[\w]+:/)?(l=i,s="",c=c.slice(c.lastIndexOf("^")+1,c.lastIndexOf(":")+1)):"/"!==s.slice(-1)&&"#"!==s.slice(-1)&&(s+="/"),o.data.remaining_chars=l,o.data.prefix_iri=c,o.data.iri=s+l,h=0;h<n.length;h++)if(i===(d=n[h]).getAttribute("name")&&o.data.type===d.getAttribute("type")){o.data.description=d.getElementsByTagName("description")[0].textContent,o.data.description=o.data.description.replace(/font-size:0pt/g,"");var f=o.data.description.indexOf("<p"),p=o.data.description.indexOf("</body");o.data.description=o.data.description.slice(f,p),"attribute"!==o.data.type&&"role"!==o.data.type||(o.data.functional=parseInt(d.getElementsByTagName("functional")[0].textContent)),"role"===o.data.type&&(o.data.inverseFunctional=parseInt(d.getElementsByTagName("inverseFunctional")[0].textContent),o.data.asymmetric=parseInt(d.getElementsByTagName("asymmetric")[0].textContent),o.data.irreflexive=parseInt(d.getElementsByTagName("irreflexive")[0].textContent),o.data.reflexive=parseInt(d.getElementsByTagName("reflexive")[0].textContent),o.data.symmetric=parseInt(d.getElementsByTagName("symmetric")[0].textContent),o.data.transitive=parseInt(d.getElementsByTagName("transitive")[0].textContent));break}}else o.data.prefix_iri="",o.data.remaining_chars=i,"value-domain"!==o.data.type&&"facet"!==o.data.type||(o.data.prefix_iri=i.split(":")[0]+":",o.data.remaining_chars=i.split(":")[1]);return o}},{key:"EdgeXmlToJson",value:function(t,e,n){var r,i={data:{target:t.getAttribute("target")+"_"+n,source:t.getAttribute("source")+"_"+n,id:t.getAttribute("id")+"_"+n,id_xml:t.getAttribute("id"),diagram_id:n,type:t.getAttribute("type"),breakpoints:[]}};"membership"==i.data.type&&(i.data.edge_label="instance Of");var o=e.getDiagram(n).cy.$id(i.data.source),a=e.getDiagram(n).cy.$id(i.data.target);if("role-chain"===a.data("type")||"property-assertion"===a.data("type"))for(r=0;r<a.data("inputs").length;r++)if(a.data("inputs")[r]===i.data.id_xml){i.data.target_label=r+1;break}var s,l=qv(t),u=[],c=[],h=[],d=0;for(s=0;s<t.childNodes.length;s++)if(1==t.childNodes[s].nodeType){if(u[d]={x:parseInt(l.getAttribute("x")),y:parseInt(l.getAttribute("y"))},null==Uv(l))break;if(l=Uv(l),d>0){var f=Xv(a.position(),o.position(),u[d]);h.push(f[0]),c.push(f[1])}d++}d>1&&(i.data.breakpoints=u.slice(1,d),i.data.segment_distances=h,i.data.segment_weights=c);var p=[];p.x=u[0].x,p.y=u[0].y,0==(p=Yv(p,o,u[1])).x&&0==p.y||(i.data.source_endpoint=[],i.data.source_endpoint.push(p.x),i.data.source_endpoint.push(p.y));var v=[];return v.x=u[u.length-1].x,v.y=u[u.length-1].y,0==(v=Yv(v,a,u[u.length-2])).x&&0==v.y||(i.data.target_endpoint=[],i.data.target_endpoint.push(v.x),i.data.target_endpoint.push(v.y)),i}},{key:"addFakeNodes",value:function(t){var e=t[t.length-1];if("facet"===e.data.type){e.data.label=e.data.label.replace("^^","\n\n"),e.data.labelYpos=e.data.height;var n={selectable:!1,data:{height:e.data.height,width:e.data.width,fillColor:"#ddd",shape:"polygon",shape_points:"-0.9 -1 1 -1 0.95 0 -0.95 0",diagram_id:e.data.diagram_id,parent_node_id:e.data.id,type:e.data.type},position:{x:e.position.x,y:e.position.y}},r={selectable:!1,data:{height:e.data.height,width:e.data.width,fillColor:"#fff",shape:"polygon",shape_points:"-0.95 0 0.95 0 0.9 1 -1 1",diagram_id:e.data.diagram_id,parent_node_id:e.data.id,type:e.data.type},position:{x:e.position.x,y:e.position.y}};return t[t.length-1]=n,t.push(r),void t.push(e)}if(1===e.data.functional&&1===e.data.inverseFunctional){var i={selectable:!1,data:{height:e.data.height,width:e.data.width,fillColor:"#000",shape:"polygon",shape_points:"0 -1 1 0 0 1",diagram_id:e.data.diagram_id,type:e.data.type},position:{x:e.position.x,y:e.position.y},classes:"fake-triangle fake-triangle-right"},o={selectable:!1,data:{height:e.data.height,width:e.data.width+2,fillColor:"#fcfcfc",shape:"polygon",shape_points:"0 -1 -1 0 0 1",diagram_id:e.data.diagram_id,type:e.data.type},position:{x:e.position.x,y:e.position.y},classes:"fake-triangle"};e.data.labelXpos,e.data.labelYpos,e.data.height-=8,e.data.width-=10,null!=e.data.label&&(e.data.labelYpos-=4),t[t.length-1]=o,t.push(i),t.push(e)}if("property-assertion"===e.data.type){var a={selectable:!1,classes:"no_overlay",data:{height:e.data.height,width:e.data.height,shape:"ellipse",diagram_id:e.data.diagram_id,fillColor:"#fff",parent_node_id:e.data.id,type:e.data.type},position:{x:e.position.x-(e.data.width-e.data.height)/2,y:e.position.y}},s={selectable:!1,classes:"no_overlay",data:{height:e.data.height,width:e.data.height,shape:"ellipse",diagram_id:e.data.diagram_id,fillColor:"#fff",parent_node_id:e.data.id,type:e.data.type},position:{x:e.position.x+(e.data.width-e.data.height)/2,y:e.position.y}},l={data:{selectable:!1,height:e.data.height,width:e.data.width-e.data.height,shape:"rectangle",diagram_id:e.data.diagram_id,fillColor:"#fff",parent_node_id:e.data.id,type:e.data.type},position:e.position},u={data:Hv({type:"property-assertion",height:e.data.height-1,width:e.data.width-e.data.height,shape:"rectangle",diagram_id:e.data.diagram_id,fillColor:"#fff",parent_node_id:e.data.id},"type",e.data.type),position:e.position,classes:"property-assertion no_border"};e.classes+=" hidden",t[t.length-1]=e,t.push(l),t.push(a),t.push(s),t.push(u)}}},{key:"getIdentityForNeutralNodes",value:function(t){t.diagrams.forEach((function(t){t.cy.nodes('[identity = "neutral"]').forEach((function(t){t.data("identity",function t(e){var n=e.incomers('[type = "input"]').sources(),r=n.data("identity");if("neutral"===r)return t(n);switch(e.data("type")){case"range-restriction":return"role"===r?"concept":"attribute"===r?"value_domain":r;case"enumeration":return"individual"===r?"concept":r;default:return r}}(t))}))}))}}])&&Wv(e.prototype,n),r&&Wv(e,r),t}(),Zv=new WeakMap,Kv=function(t){return"function"==typeof t&&Zv.has(t)},Qv=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,Jv=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e!==n;){var r=e.nextSibling;t.removeChild(e),e=r}},tg={},eg={};
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
var ng="{{lit-".concat(String(Math.random()).slice(2),"}}"),rg="\x3c!--".concat(ng,"--\x3e"),ig=new RegExp("".concat(ng,"|").concat(rg)),og=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parts=[],this.element=n;for(var r=[],i=[],o=document.createTreeWalker(n.content,133,null,!1),a=0,s=-1,l=0,u=e.strings,c=e.values.length;l<c;){var h=o.nextNode();if(null!==h){if(s++,1===h.nodeType){if(h.hasAttributes()){for(var d=h.attributes,f=d.length,p=0,v=0;v<f;v++)ag(d[v].name,"$lit$")&&p++;for(;p-- >0;){var g=u[l],y=ug.exec(g)[2],m=y.toLowerCase()+"$lit$",b=h.getAttribute(m);h.removeAttribute(m);var w=b.split(ig);this.parts.push({type:"attribute",index:s,name:y,strings:w}),l+=w.length-1}}"TEMPLATE"===h.tagName&&(i.push(h),o.currentNode=h.content)}else if(3===h.nodeType){var _=h.data;if(_.indexOf(ng)>=0){for(var x=h.parentNode,E=_.split(ig),S=E.length-1,k=0;k<S;k++){var C=void 0,O=E[k];if(""===O)C=lg();else{var T=ug.exec(O);null!==T&&ag(T[2],"$lit$")&&(O=O.slice(0,T.index)+T[1]+T[2].slice(0,-"$lit$".length)+T[3]),C=document.createTextNode(O)}x.insertBefore(C,h),this.parts.push({type:"node",index:++s})}""===E[S]?(x.insertBefore(lg(),h),r.push(h)):h.data=E[S],l+=S}}else if(8===h.nodeType)if(h.data===ng){var P=h.parentNode;null!==h.previousSibling&&s!==a||(s++,P.insertBefore(lg(),h)),a=s,this.parts.push({type:"node",index:s}),null===h.nextSibling?h.data="":(r.push(h),s--),l++}else for(var N=-1;-1!==(N=h.data.indexOf(ng,N+1));)this.parts.push({type:"node",index:-1}),l++}else o.currentNode=i.pop()}for(var A=0,D=r;A<D.length;A++){var M=D[A];M.parentNode.removeChild(M)}},ag=function(t,e){var n=t.length-e.length;return n>=0&&t.slice(n)===e},sg=function(t){return-1!==t.index},lg=function(){return document.createComment("")},ug=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function cg(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function hg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var dg=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.__parts=[],this.template=e,this.processor=n,this.options=r}var e,n,r;return e=t,(n=[{key:"update",value:function(t){var e=0,n=!0,r=!1,i=void 0;try{for(var o,a=this.__parts[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;void 0!==s&&s.setValue(t[e]),e++}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}var l=!0,u=!1,c=void 0;try{for(var h,d=this.__parts[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var f=h.value;void 0!==f&&f.commit()}}catch(t){u=!0,c=t}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}}},{key:"_clone",value:function(){for(var t,e=Qv?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,i=document.createTreeWalker(e,133,null,!1),o=0,a=0,s=i.nextNode();o<r.length;)if(t=r[o],sg(t)){for(;a<t.index;)a++,"TEMPLATE"===s.nodeName&&(n.push(s),i.currentNode=s.content),null===(s=i.nextNode())&&(i.currentNode=n.pop(),s=i.nextNode());if("node"===t.type){var l=this.processor.handleTextExpression(this.options);l.insertAfterNode(s.previousSibling),this.__parts.push(l)}else{var u;(u=this.__parts).push.apply(u,cg(this.processor.handleAttributeExpressions(s,t.name,t.strings,this.options)))}o++}else this.__parts.push(void 0),o++;return Qv&&(document.adoptNode(e),customElements.upgrade(e)),e}}])&&hg(e.prototype,n),r&&hg(e,r),t}();function fg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pg=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.strings=e,this.values=n,this.type=r,this.processor=i}var e,n,r;return e=t,(n=[{key:"getHTML",value:function(){for(var t=this.strings.length-1,e="",n=!1,r=0;r<t;r++){var i=this.strings[r],o=i.lastIndexOf("\x3c!--");n=(o>-1||n)&&-1===i.indexOf("--\x3e",o+1);var a=ug.exec(i);e+=null===a?i+(n?ng:rg):i.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+ng}return e+=this.strings[t]}},{key:"getTemplateElement",value:function(){var t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}])&&fg(e.prototype,n),r&&fg(e,r),t}();function vg(t,e){return!e||"object"!==Eg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gg(t,e,n){return(gg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yg(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function yg(t){return(yg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mg(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bg(t,e)}function bg(t,e){return(bg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xg(t,e,n){return e&&_g(t.prototype,e),n&&_g(t,n),t}function Eg(t){return(Eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Sg=function(t){return null===t||!("object"===Eg(t)||"function"==typeof t)},kg=function(t){return Array.isArray(t)||!(!t||!t[Symbol.iterator])},Cg=function(){function t(e,n,r){wg(this,t),this.dirty=!0,this.element=e,this.name=n,this.strings=r,this.parts=[];for(var i=0;i<r.length-1;i++)this.parts[i]=this._createPart()}return xg(t,[{key:"_createPart",value:function(){return new Og(this)}},{key:"_getValue",value:function(){for(var t=this.strings,e=t.length-1,n="",r=0;r<e;r++){n+=t[r];var i=this.parts[r];if(void 0!==i){var o=i.value;if(Sg(o)||!kg(o))n+="string"==typeof o?o:String(o);else{var a=!0,s=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;n+="string"==typeof h?h:String(h)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}}}return n+=t[e]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),t}(),Og=function(){function t(e){wg(this,t),this.value=void 0,this.committer=e}return xg(t,[{key:"setValue",value:function(t){t===tg||Sg(t)&&t===this.value||(this.value=t,Kv(t)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;Kv(this.value);){var t=this.value;this.value=tg,t(this)}this.value!==tg&&this.committer.commit()}}]),t}(),Tg=function(){function t(e){wg(this,t),this.value=void 0,this.__pendingValue=void 0,this.options=e}return xg(t,[{key:"appendInto",value:function(t){this.startNode=t.appendChild(lg()),this.endNode=t.appendChild(lg())}},{key:"insertAfterNode",value:function(t){this.startNode=t,this.endNode=t.nextSibling}},{key:"appendIntoPart",value:function(t){t.__insert(this.startNode=lg()),t.__insert(this.endNode=lg())}},{key:"insertAfterPart",value:function(t){t.__insert(this.startNode=lg()),this.endNode=t.endNode,t.endNode=this.startNode}},{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;Kv(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=tg,t(this)}var e=this.__pendingValue;e!==tg&&(Sg(e)?e!==this.value&&this.__commitText(e):e instanceof pg?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):kg(e)?this.__commitIterable(e):e===eg?(this.value=eg,this.clear()):this.__commitText(e))}},{key:"__insert",value:function(t){this.endNode.parentNode.insertBefore(t,this.endNode)}},{key:"__commitNode",value:function(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}},{key:"__commitText",value:function(t){var e=this.startNode.nextSibling;t=null==t?"":t,e===this.endNode.previousSibling&&3===e.nodeType?e.data=t:this.__commitNode(document.createTextNode("string"==typeof t?t:String(t))),this.value=t}},{key:"__commitTemplateResult",value:function(t){var e=this.options.templateFactory(t);if(this.value instanceof dg&&this.value.template===e)this.value.update(t.values);else{var n=new dg(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}},{key:"__commitIterable",value:function(e){Array.isArray(this.value)||(this.value=[],this.clear());var n,r=this.value,i=0,o=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;void 0===(n=r[i])&&(n=new t(this.options),r.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(r[i-1])),n.setValue(c),n.commit(),i++}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}i<r.length&&(r.length=i,this.clear(n&&n.endNode))}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;Jv(this.startNode.parentNode,t.nextSibling,this.endNode)}}]),t}(),Pg=function(){function t(e,n,r){if(wg(this,t),this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=n,this.strings=r}return xg(t,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;Kv(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=tg,t(this)}if(this.__pendingValue!==tg){var e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=tg}}}]),t}(),Ng=function(t){function e(t,n,r){var i;return wg(this,e),(i=vg(this,yg(e).call(this,t,n,r))).single=2===r.length&&""===r[0]&&""===r[1],i}return mg(e,t),xg(e,[{key:"_createPart",value:function(){return new Ag(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:gg(yg(e.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),e}(Cg),Ag=function(t){function e(){return wg(this,e),vg(this,yg(e).apply(this,arguments))}return mg(e,t),e}(Og),Dg=!1;try{var Mg={get capture(){return Dg=!0,!1}};window.addEventListener("test",Mg,Mg),window.removeEventListener("test",Mg,Mg)}catch(t){}var Lg=function(){function t(e,n,r){var i=this;wg(this,t),this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=function(t){return i.handleEvent(t)}}return xg(t,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;Kv(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=tg,t(this)}if(this.__pendingValue!==tg){var e=this.__pendingValue,n=this.value,r=null==e||null!=n&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),i=null!=e&&(null==n||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=Ig(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=tg}}},{key:"handleEvent",value:function(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}]),t}(),Ig=function(t){return t&&(Dg?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)};function jg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Rg=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"handleAttributeExpressions",value:function(t,e,n,r){var i=e[0];return"."===i?new Ng(t,e.slice(1),n).parts:"@"===i?[new Lg(t,e.slice(1),r.eventContext)]:"?"===i?[new Pg(t,e.slice(1),n)]:new Cg(t,e,n).parts}},{key:"handleTextExpression",value:function(t){return new Tg(t)}}])&&jg(e.prototype,n),r&&jg(e,r),t}());function Bg(t){var e=Fg.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},Fg.set(t.type,e));var n=e.stringsArray.get(t.strings);if(void 0!==n)return n;var r=t.strings.join(ng);return void 0===(n=e.keyString.get(r))&&(n=new og(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}var Fg=new Map,zg=new WeakMap;
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");var Vg=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new pg(t,n,"html",Rg)},qg=133;function Ug(t,e){for(var n=t.element.content,r=t.parts,i=document.createTreeWalker(n,qg,null,!1),o=Yg(r),a=r[o],s=-1,l=0,u=[],c=null;i.nextNode();){s++;var h=i.currentNode;for(h.previousSibling===c&&(c=null),e.has(h)&&(u.push(h),null===c&&(c=h)),null!==c&&l++;void 0!==a&&a.index===s;)a.index=null!==c?-1:a.index-l,a=r[o=Yg(r,o)]}u.forEach((function(t){return t.parentNode.removeChild(t)}))}var Xg=function(t){for(var e=11===t.nodeType?0:1,n=document.createTreeWalker(t,qg,null,!1);n.nextNode();)e++;return e},Yg=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e+1;n<t.length;n++){var r=t[n];if(sg(r))return n}return-1};var Hg=function(t,e){return"".concat(t,"--").concat(e)},Gg=!0;void 0===window.ShadyCSS?Gg=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Gg=!1);var Wg=function(t){return function(e){var n=Hg(e.type,t),r=Fg.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},Fg.set(n,r));var i=r.stringsArray.get(e.strings);if(void 0!==i)return i;var o=e.strings.join(ng);if(void 0===(i=r.keyString.get(o))){var a=e.getTemplateElement();Gg&&window.ShadyCSS.prepareTemplateDom(a,t),i=new og(e,a),r.keyString.set(o,i)}return r.stringsArray.set(e.strings,i),i}},$g=["html","svg"],Zg=new Set,Kg=function(t,e,n){Zg.add(n);var r=t.querySelectorAll("style"),i=r.length;if(0!==i){for(var o=document.createElement("style"),a=0;a<i;a++){var s=r[a];s.parentNode.removeChild(s),o.textContent+=s.textContent}!function(t){$g.forEach((function(e){var n=Fg.get(Hg(e,t));void 0!==n&&n.keyString.forEach((function(t){var e=t.element.content,n=new Set;Array.from(e.querySelectorAll("style")).forEach((function(t){n.add(t)})),Ug(t,n)}))}))}(n);var l=e.element.content;!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.element.content,i=t.parts;if(null!=n)for(var o=document.createTreeWalker(r,qg,null,!1),a=Yg(i),s=0,l=-1;o.nextNode();){for(l++,o.currentNode===n&&(s=Xg(e),n.parentNode.insertBefore(e,n));-1!==a&&i[a].index===l;){if(s>0){for(;-1!==a;)i[a].index+=s,a=Yg(i,a);return}a=Yg(i,a)}}else r.appendChild(e)}(e,o,l.firstChild),window.ShadyCSS.prepareTemplateStyles(e.element,n);var u=l.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==u)t.insertBefore(u.cloneNode(!0),t.firstChild);else{l.insertBefore(o,l.firstChild);var c=new Set;c.add(o),Ug(e,c)}}else window.ShadyCSS.prepareTemplateStyles(e.element,n)};function Qg(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Jg(t){return(Jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ty(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function ey(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ny(t,e){return!e||"object"!==Jg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ry(t){var e="function"==typeof Map?new Map:void 0;return(ry=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return iy(t,arguments,ay(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),oy(r,t)})(t)}function iy(t,e,n){return(iy=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&oy(i,n.prototype),i}).apply(null,arguments)}function oy(t,e){return(oy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ay(t){return(ay=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */window.JSCompiler_renameProperty=function(t,e){return t};var sy={toAttribute:function(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute:function(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},ly=function(t,e){return e!==t&&(e==e||t==t)},uy={attribute:!0,type:String,converter:sy,reflect:!1,hasChanged:ly},cy=Promise.resolve(!0),hy=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=ny(this,ay(e).call(this)))._updateState=0,t._instanceProperties=void 0,t._updatePromise=cy,t._hasConnectedResolver=void 0,t._changedProperties=new Map,t._reflectingProperties=void 0,t.initialize(),t}var n,r,i,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oy(t,e)}(e,t),n=e,r=[{key:"initialize",value:function(){this._saveInstanceProperties(),this._requestUpdate()}},{key:"_saveInstanceProperties",value:function(){var t=this;this.constructor._classProperties.forEach((function(e,n){if(t.hasOwnProperty(n)){var r=t[n];delete t[n],t._instanceProperties||(t._instanceProperties=new Map),t._instanceProperties.set(n,r)}}))}},{key:"_applyInstanceProperties",value:function(){var t=this;this._instanceProperties.forEach((function(e,n){return t[n]=e})),this._instanceProperties=void 0}},{key:"connectedCallback",value:function(){this._updateState=32|this._updateState,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,n){e!==n&&this._attributeToProperty(t,n)}},{key:"_propertyToAttribute",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uy,r=this.constructor,i=r._attributeNameForProperty(t,n);if(void 0!==i){var o=r._propertyValueToAttribute(e,n);if(void 0===o)return;this._updateState=8|this._updateState,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._updateState=-9&this._updateState}}},{key:"_attributeToProperty",value:function(t,e){if(!(8&this._updateState)){var n=this.constructor,r=n._attributeToPropertyMap.get(t);if(void 0!==r){var i=n._classProperties.get(r)||uy;this._updateState=16|this._updateState,this[r]=n._propertyValueFromAttribute(e,i),this._updateState=-17&this._updateState}}}},{key:"_requestUpdate",value:function(t,e){var n=!0;if(void 0!==t){var r=this.constructor,i=r._classProperties.get(t)||uy;r._valueHasChanged(this[t],e,i.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==i.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,i))):n=!1}!this._hasRequestedUpdate&&n&&this._enqueueUpdate()}},{key:"requestUpdate",value:function(t,e){return this._requestUpdate(t,e),this.updateComplete}},{key:"_enqueueUpdate",value:(o=regeneratorRuntime.mark((function t(){var e,n,r,i,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._updateState=4|this._updateState,r=this._updatePromise,this._updatePromise=new Promise((function(t,r){e=t,n=r})),t.prev=3,t.next=6,r;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(3);case 10:if(this._hasConnected){t.next=13;break}return t.next=13,new Promise((function(t){return o._hasConnectedResolver=t}));case 13:if(t.prev=13,null==(i=this.performUpdate())){t.next=18;break}return t.next=18,i;case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(13),n(t.t1);case 23:e(!this._hasRequestedUpdate);case 24:case"end":return t.stop()}}),t,this,[[3,8],[13,20]])})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){ty(i,n,r,a,s,"next",t)}function s(t){ty(i,n,r,a,s,"throw",t)}a(void 0)}))},function(){return a.apply(this,arguments)})},{key:"performUpdate",value:function(){this._instanceProperties&&this._applyInstanceProperties();var t=!1,e=this._changedProperties;try{(t=this.shouldUpdate(e))&&this.update(e)}catch(e){throw t=!1,e}finally{this._markUpdated()}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}},{key:"_markUpdated",value:function(){this._changedProperties=new Map,this._updateState=-5&this._updateState}},{key:"shouldUpdate",value:function(t){return!0}},{key:"update",value:function(t){var e=this;void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((function(t,n){return e._propertyToAttribute(n,e[n],t)})),this._reflectingProperties=void 0)}},{key:"updated",value:function(t){}},{key:"firstUpdated",value:function(t){}},{key:"_hasConnected",get:function(){return 32&this._updateState}},{key:"_hasRequestedUpdate",get:function(){return 4&this._updateState}},{key:"hasUpdated",get:function(){return 1&this._updateState}},{key:"updateComplete",get:function(){return this._updatePromise}}],i=[{key:"_ensureClassProperties",value:function(){var t=this;if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;var e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((function(e,n){return t._classProperties.set(n,e)}))}}},{key:"createProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uy;if(this._ensureClassProperties(),this._classProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){var n="symbol"===Jg(t)?Symbol():"__".concat(t);Object.defineProperty(this.prototype,t,{get:function(){return this[n]},set:function(e){var r=this[t];this[n]=e,this._requestUpdate(t,r)},configurable:!0,enumerable:!0})}}},{key:"finalize",value:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("finalized",this))||!this.finalized){var t=Object.getPrototypeOf(this);if("function"==typeof t.finalize&&t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var e=this.properties,n=[].concat(Qg(Object.getOwnPropertyNames(e)),Qg("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[])),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;this.createProperty(l,e[l])}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}}}},{key:"_attributeNameForProperty",value:function(t,e){var n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}},{key:"_valueHasChanged",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ly;return n(t,e)}},{key:"_propertyValueFromAttribute",value:function(t,e){var n=e.type,r=e.converter||sy,i="function"==typeof r?r:r.fromAttribute;return i?i(t,n):t}},{key:"_propertyValueToAttribute",value:function(t,e){if(void 0!==e.reflect){var n=e.type,r=e.converter;return(r&&r.toAttribute||sy.toAttribute)(t,n)}}},{key:"observedAttributes",get:function(){var t=this;this.finalize();var e=[];return this._classProperties.forEach((function(n,r){var i=t._attributeNameForProperty(r,n);void 0!==i&&(t._attributeToPropertyMap.set(i,r),e.push(i))})),e}}],r&&ey(n.prototype,r),i&&ey(n,i),e}(ry(HTMLElement));hy.finalized=!0;function dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}
/**
	@license
	Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
	This code may only be used under the BSD style license found at
	http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
	http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
	found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
	part of the polymer project is also subject to an additional IP rights grant
	found at http://polymer.github.io/PATENTS.txt
	*/
var fy="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,py=Symbol(),vy=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n!==py)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}var e,n,r;return e=t,(n=[{key:"toString",value:function(){return this.cssText}},{key:"styleSheet",get:function(){return void 0===this._styleSheet&&(fy?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}}])&&dy(e.prototype,n),r&&dy(e,r),t}(),gy=function(t){if(t instanceof vy)return t.cssText;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(t,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))},yy=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n.reduce((function(e,n,r){return e+gy(n)+t[r+1]}),t[0]);return new vy(i,py)};function my(t){return(my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function by(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wy(t,e){return!e||"object"!==my(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _y(t,e,n){return(_y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xy(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function xy(t){return(xy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ey(t,e){return(Ey=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(window.litElementVersions||(window.litElementVersions=[])).push("2.0.1");var Sy=function(t){return t.flat?t.flat(1/0):function t(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0,i=e.length;r<i;r++){var o=e[r];Array.isArray(o)?t(o,n):n.push(o)}return n}(t)},ky=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),wy(this,xy(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ey(t,e)}(e,t),n=e,i=[{key:"finalize",value:function(){_y(xy(e),"finalize",this).call(this),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}},{key:"_getUniqueStyles",value:function(){var t=this.styles,e=[];return Array.isArray(t)?Sy(t).reduceRight((function(t,e){return t.add(e),t}),new Set).forEach((function(t){return e.unshift(t)})):t&&e.push(t),e}}],(r=[{key:"initialize",value:function(){_y(xy(e.prototype),"initialize",this).call(this),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}},{key:"createRenderRoot",value:function(){return this.attachShadow({mode:"open"})}},{key:"adoptStyles",value:function(){var t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?fy?this.renderRoot.adoptedStyleSheets=t.map((function(t){return t.styleSheet})):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map((function(t){return t.cssText})),this.localName))}},{key:"connectedCallback",value:function(){_y(xy(e.prototype),"connectedCallback",this).call(this),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}},{key:"update",value:function(t){var n=this;_y(xy(e.prototype),"update",this).call(this,t);var r=this.render();r instanceof pg&&this.constructor.render(r,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((function(t){var e=document.createElement("style");e.textContent=t.cssText,n.renderRoot.appendChild(e)})))}},{key:"render",value:function(){}}])&&by(n.prototype,r),i&&by(n,i),e}(hy);function Cy(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}([':host{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}']);return Cy=function(){return t},t}ky.finalized=!0,ky.render=function(t,e,n){var r=n.scopeName,i=zg.has(e),o=Gg&&11===e.nodeType&&!!e.host&&t instanceof pg,a=o&&!Zg.has(r),s=a?document.createDocumentFragment():e;if(function(t,e,n){var r=zg.get(e);void 0===r&&(Jv(e,e.firstChild),zg.set(e,r=new Tg(Object.assign({templateFactory:Bg},n))),r.appendInto(e)),r.setValue(t),r.commit()}(t,s,Object.assign({templateFactory:Wg(r)},n)),a){var l=zg.get(s);zg.delete(s),l.value instanceof dg&&Kg(s,l.value.template,r),Jv(e,e.firstChild),e.appendChild(s),zg.set(e,l)}!i&&o&&window.ShadyCSS.styleElement(e.host)};var Oy=yy(Cy()),Ty=document.createElement("link");
/**
	@license
	Copyright 2018 Google Inc. All Rights Reserved.

	Licensed under the Apache License, Version 2.0 (the "License");
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at

	    http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software
	distributed under the License is distributed on an "AS IS" BASIS,
	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	See the License for the specific language governing permissions and
	limitations under the License.
	*/function Py(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["<slot></slot>"]);return Py=function(){return t},t}function Ny(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ay(t,e){return!e||"object"!==Ly(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dy(t){return(Dy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function My(t,e){return(My=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ly(t){return(Ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Ty.rel="stylesheet",Ty.href="https://fonts.googleapis.com/icon?family=Material+Icons",document.head.appendChild(Ty);var Iy,jy=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ly(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ry=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ay(this,Dy(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&My(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return Vg(Py())}}])&&Ny(n.prototype,r),i&&Ny(n,i),e}(ky);function By(){var t=Im(["#9875b7"]);return By=function(){return t},t}function Fy(){var t=Im(["#666"]);return Fy=function(){return t},t}function zy(){var t=Im(["#B08D00"]);return zy=function(){return t},t}function Vy(){var t=Im(["#666"]);return Vy=function(){return t},t}function qy(){var t=Im(["#4B7900"]);return qy=function(){return t},t}function Uy(){var t=Im(["#666"]);return Uy=function(){return t},t}function Xy(){var t=Im(["#065A85"]);return Xy=function(){return t},t}function Yy(){var t=Im(["#666"]);return Yy=function(){return t},t}function Hy(){var t=Im(["#fcfcfc"]);return Hy=function(){return t},t}function Gy(){var t=Im(["#fcfcfc"]);return Gy=function(){return t},t}function Wy(){var t=Im(["#000"]);return Wy=function(){return t},t}function $y(){var t=Im(["#333"]);return $y=function(){return t},t}function Zy(){var t=Im(["#fff"]);return Zy=function(){return t},t}function Ky(){var t=Im(["#333"]);return Ky=function(){return t},t}function Qy(){var t=Im(["#fff"]);return Qy=function(){return t},t}function Jy(){var t=Im(["#cc3b3b"]);return Jy=function(){return t},t}function tm(){var t=Im(["rgba(255, 255, 255, 0.5)"]);return tm=function(){return t},t}function em(){var t=Im(["#fff"]);return em=function(){return t},t}function nm(){var t=Im(["#0099e6"]);return nm=function(){return t},t}function rm(){var t=Im(["#333"]);return rm=function(){return t},t}function im(){var t=Im(["#99ddff"]);return im=function(){return t},t}function om(){var t=Im(["#fff"]);return om=function(){return t},t}function am(){var t=Im(["#1a1a1a"]);return am=function(){return t},t}function sm(){var t=Im(["#fff"]);return sm=function(){return t},t}function lm(){var t=Im(["#333"]);return lm=function(){return t},t}function um(){var t=Im(["#9875b7"]);return um=function(){return t},t}function cm(){var t=Im(["#d3b3ef"]);return cm=function(){return t},t}function hm(){var t=Im(["#B08D00"]);return hm=function(){return t},t}function dm(){var t=Im(["#F9F3A6"]);return dm=function(){return t},t}function fm(){var t=Im(["#4B7900"]);return fm=function(){return t},t}function pm(){var t=Im(["#C7DAAD"]);return pm=function(){return t},t}function vm(){var t=Im(["#065A85"]);return vm=function(){return t},t}function gm(){var t=Im(["#AACDE1"]);return gm=function(){return t},t}function ym(){var t=Im(["#fcfcfc"]);return ym=function(){return t},t}function mm(){var t=Im(["#000"]);return mm=function(){return t},t}function bm(){var t=Im(["#000"]);return bm=function(){return t},t}function wm(){var t=Im(["#000"]);return wm=function(){return t},t}function _m(){var t=Im(["#fcfcfc"]);return _m=function(){return t},t}function xm(){var t=Im(["#000"]);return xm=function(){return t},t}function Em(){var t=Im(["#fafafa"]);return Em=function(){return t},t}function Sm(){var t=Im(["#fff"]);return Sm=function(){return t},t}function km(){var t=Im(["#cc3b3b"]);return km=function(){return t},t}function Cm(){var t=Im(["rgba(0,0,0,0.2)"]);return Cm=function(){return t},t}function Om(){var t=Im(["#fff"]);return Om=function(){return t},t}function Tm(){var t=Im(["#2c6187"]);return Tm=function(){return t},t}function Pm(){var t=Im(["#fff"]);return Pm=function(){return t},t}function Nm(){var t=Im(["rgb(81,149,199)"]);return Nm=function(){return t},t}function Am(){var t=Im(["#888"]);return Am=function(){return t},t}function Dm(){var t=Im(["#e6e6e6"]);return Dm=function(){return t},t}function Mm(){var t=Im(["#666"]);return Mm=function(){return t},t}function Lm(){var t=Im(["#fff"]);return Lm=function(){return t},t}function Im(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}Ry.styles=Oy,Ry=jy([(Iy="mwc-icon",function(t){return"function"==typeof t?function(t,e){return window.customElements.define(t,e),e}(Iy,t):function(t,e){return{kind:e.kind,elements:e.elements,finisher:function(e){window.customElements.define(t,e)}}}(Iy,t)})],Ry);var jm={primary:yy(Lm()),on_primary:yy(Mm()),primary_dark:yy(Dm()),on_primary_dark:yy(Am()),secondary:yy(Nm()),on_secondary:yy(Pm()),secondary_dark:yy(Tm()),on_secondary_dark:yy(Om()),shadows:yy(Cm()),error:yy(km()),on_error:yy(Sm()),background:yy(Em()),edge:yy(xm()),node_bg:yy(_m()),node_bg_contrast:yy(wm()),node_border:yy(bm()),label_color:yy(mm()),label_color_contrast:yy(ym()),role:yy(gm()),role_dark:yy(vm()),attribute:yy(pm()),attribute_dark:yy(fm()),concept:yy(dm()),concept_dark:yy(hm()),individual:yy(cm()),individual_dark:yy(um())};yy(lm()),yy(sm()),yy(am()),yy(om()),yy(im()),yy(rm()),yy(nm()),yy(em()),yy(tm()),yy(Jy()),yy(Qy()),yy(Ky()),yy(Zy()),yy($y()),yy(Wy()),yy(Gy()),yy(Hy()),yy(Yy()),yy(Xy()),yy(Uy()),yy(qy()),yy(Vy()),yy(zy()),yy(Fy()),yy(By());function Rm(t){return(Rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bm(){var t=zm([""]);return Bm=function(){return t},t}function Fm(){var t=zm(['\n      :host, .gscape-panel{\n        font-family : "Open Sans","Helvetica Neue",Helvetica,sans-serif;\n        display: block;\n        position: absolute;\n        color: var(--theme-gscape-on-primary, ',");\n        background-color:var(--theme-gscape-primary, ",");\n        box-shadow: 0 2px 4px 0 var(--theme-gscape-shadows, ",");\n        border-radius: 8px;\n        transition: opacity 0.2s;\n        scrollbar-width: thin;\n      }\n\n      :host(:hover){\n        box-shadow: 0 4px 8px 0 var(--theme-gscape-shadows, ",");\n      }\n\n      .hide {\n        display:none;\n      }\n\n      .widget-body {\n        width: 100%;\n        margin-top:35px;\n        max-height:450px;\n        border-top:solid 1px var(--theme-gscape-shadows, ",');\n        border-bottom-left-radius: inherit;\n        border-bottom-right-radius: inherit;\n        overflow:auto;\n        scrollbar-width: inherit;\n      }\n\n      .gscape-panel {\n        position: absolute;\n        bottom: 40px;\n        width: auto;\n        padding:10px;\n        overflow: unset;\n        border: none;\n      }\n\n      .gscape-panel::after {\n        content: "";\n        position: absolute;\n        top: 100%;\n        left: 16px;\n        margin-left: -8px;\n        border-width: 8px;\n        border-style: solid;\n        border-color: #ddd transparent transparent transparent;\n      }\n\n      .gscape-panel-title{\n        font-weight: bold;\n        text-align: center;\n        margin-bottom: 10px;\n      }\n\n      .details_table{\n        padding: 12px 6px 0 6px;\n        border-spacing: 0;\n      }\n\n      .details_table th {\n        color: var(--theme-gscape-secondary, ',");\n        border-right: solid 1px var(--theme-gscape-shadows, ",");\n        font-weight: bold;\n        text-align:left;\n      }\n      \n      .details_table th, td {\n        padding:5px 8px;\n        white-space: nowrap;\n      }\n\n      /* width */\n      ::-webkit-scrollbar {\n        width: 5px;\n        height: 5px;\n      }\n\n      /* Track */\n      ::-webkit-scrollbar-track {\n        background: #f0f0f0; \n      }\n      \n      /* Handle */\n      ::-webkit-scrollbar-thumb {\n        background: #cdcdcd; \n      }\n\n      /* Handle on hover */\n      ::-webkit-scrollbar-thumb:hover {\n        background: #888; \n      }\n      \n    "]);return Fm=function(){return t},t}function zm(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Vm(t,e){return!e||"object"!==Rm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qm(t){return(qm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Um(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xm(t,e,n){return e&&Um(t.prototype,e),n&&Um(t,n),t}function Ym(t,e){return(Ym=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Hm=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Vm(this,qm(e).call(this))).draggable=t,r.collapsible=n,n&&(r.collapsed=!0),r.onselectstart=function(){},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ym(t,e)}(e,t),Xm(e,null,[{key:"properties",get:function(){return this.collapsible,{}}},{key:"styles",get:function(){var t=jm;return[[yy(Fm(),t.on_primary,t.primary,t.shadows,t.shadows,t.shadows,t.secondary,t.shadows)],t]}}]),Xm(e,[{key:"render",value:function(){return Vg(Bm())}},{key:"toggleBody",value:function(){if(this.collapsible){if(this.header){var t=this.header.collapsed;this.header.collapsed=!t}this.body&&this.body.classList.toggle("hide")}}},{key:"collapseBody",value:function(){this.collapsible&&(this.header&&(this.header.collapsed=!0),this.body&&this.body.classList.add("hide"))}},{key:"showBody",value:function(){this.collapsible&&(this.header&&(this.header.collapsed=!1),this.body&&this.body.classList.remove("hide"))}},{key:"firstUpdated",value:function(){this.header=this.shadowRoot.querySelector("gscape-head"),this.body=this.shadowRoot.querySelector(".widget-body"),this.collapsible&&this.addEventListener("toggle-widget-body",this.toggleBody),this.draggable&&this.makeDraggable()}},{key:"makeDraggable",value:function(){var t=0,e=0,n=0,r=0,i=this,o=this.shadowRoot.querySelector(".drag-handler");function a(o){o=o||window.event,t=n-o.clientX,e=r-o.clientY,n=o.clientX,r=o.clientY,i.style.top=i.offsetTop-e+"px",i.style.left=i.offsetLeft-t+"px"}function s(){document.onmouseup=null,document.onmousemove=null}o?o.onmousedown=function(t){t=t||window.event,n=t.clientX,r=t.clientY,document.onmouseup=s,document.onmousemove=a}:console.log("No .drag-handler elem for a ".concat(this.constructor.name," draggable instance"))}},{key:"show",value:function(){this.style.display="initial"}},{key:"hide",value:function(){this.style.display="none"}},{key:"blur",value:function(){this.collapseBody()}}]),e}(ky);function Gm(t){return(Gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wm(){var t=Qm(["\n      .head-btn {\n        position:absolute;\n        color:var(--theme-gscape-on-primary, ",");\n        right:0;\n        padding:6px 2px;\n        cursor:pointer;\n      }\n\n      .head-btn:hover{\n        color:var(--theme-gscape-secondary, ",");\n      }\n\n      .head-title {\n        padding: 10px 40px 10px 10px ;\n        box-sizing: border-box;\n        float:left;\n        font-weight:bold;\n        cursor:grab;\n        width: var(--title-width, '');\n        text-align: var(--title-text-align, '')\n      }\n    "]);return Wm=function(){return t},t}function $m(){var t=Qm(["arrow_drop_up"]);return $m=function(){return t},t}function Zm(){var t=Qm(["arrow_drop_down"]);return Zm=function(){return t},t}function Km(){var t=Qm(['\n      <div class="head-title"> ',' </div>\n      <slot></slot>\n      <mwc-icon class="head-btn" @click="','">\n        ',"\n      </mwc-icon> \n    "]);return Km=function(){return t},t}function Qm(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Jm(t,e){return!e||"object"!==Gm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tb(t,e,n){return(tb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=eb(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function eb(t){return(eb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rb(t,e,n){return e&&nb(t.prototype,e),n&&nb(t,n),t}function ib(t,e){return(ib=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ob=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Jm(this,eb(e).call(this,!1,!1))).title="header",t.collapsed=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ib(t,e)}(e,t),rb(e,null,[{key:"properties",get:function(){return{collapsed:Boolean,title:String}}}]),rb(e,[{key:"render",value:function(){return Vg(Km(),this.title,this.toggleBody,this.collapsed?Vg(Zm()):Vg($m()))}},{key:"toggleBody",value:function(){var t=new CustomEvent("toggle-widget-body",{bubbles:!0,composed:!0});this.dispatchEvent(t)}}],[{key:"styles",get:function(){var t=tb(eb(e),"styles",this)[1];return yy(Wm(),t.on_primary,t.secondary)}}]),e}(Hm);function ab(t){return(ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sb(){var t=cb(['\n        <div \n          @click="','" \n          name="','" \n          diagram-id="','" \n          class="diagram-item ','"\n        >\n          ',"\n        </div>\n        "]);return sb=function(){return t},t}function lb(){var t=cb(['\n      <gscape-head title="','"\n        collapsed="true" class="drag-handler"></gscape-head> \n\n      <div class="widget-body hide">\n        ',"\n      </div>\n    "]);return lb=function(){return t},t}function ub(){var t=cb(["\n        :host {\n          top: 10px;\n          left: 10px;\n        }\n\n        .diagram-item {\n          cursor:pointer;\n          padding:5px 10px;\n        }\n\n        .diagram-item:hover {\n          color: var(--theme-gscape-on-secondary, ",");\n          background-color:var(--theme-gscape-secondary, ",");\n        }\n\n        .diagram-item:last-of-type {\n          border-radius: inherit;\n        }\n\n        .selected {\n          background-color: var(--theme-gscape-primary-dark, ",");\n          color: var(--theme-gscape-on-primary-dark, ",");\n          font-weight: bold;\n        }\n      "]);return ub=function(){return t},t}function cb(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function hb(t,e){return!e||"object"!==ab(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function db(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fb(t,e,n){return e&&db(t.prototype,e),n&&db(t,n),t}function pb(t,e){return(pb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vb(t,e,n){return(vb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gb(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function gb(t){return(gb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-head",ob);var yb=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=hb(this,gb(e).call(this,!0,!0))).diagrams=t,n.actual_diagram_id=null,n.default_title="Select a Diagram",n._onDiagramChange=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pb(t,e)}(e,t),fb(e,null,[{key:"properties",get:function(){return[vb(gb(e),"properties",this),{actual_diagram_id:String}]}},{key:"styles",get:function(){var t=vb(gb(e),"styles",this),n=t[1];return[t[0],yy(ub(),n.on_secondary,n.secondary,n.primary_dark,n.on_primary_dark)]}}]),fb(e,[{key:"render",value:function(){var t=this;return Vg(lb(),this.default_title,this.diagrams.map((function(e,n){return Vg(sb(),t.changeDiagram,e.name,n,n==t.actual_diagram_id?"selected":"",e.name)})))}},{key:"changeDiagram",value:function(t){this.shadowRoot.querySelector(".selected")&&this.shadowRoot.querySelector(".selected").classList.remove("selected"),t.target.classList.add("selected");var e=t.target.getAttribute("diagram-id");this.toggleBody(),this.actual_diagram_id=e,this._onDiagramChange(e)}},{key:"firstUpdated",value:function(){vb(gb(e.prototype),"firstUpdated",this).call(this)}},{key:"onDiagramChange",set:function(t){this._onDiagramChange=t}},{key:"actual_diagram_id",set:function(t){this._actual_diagram_id=t,null!=t&&(this.shadowRoot.querySelector("gscape-head").title=this.diagrams[t].name)},get:function(){return this._actual_diagram_id}},{key:"actual_diagram",get:function(){return this._actual_diagram}}]),e}(Hm);function mb(t){return(mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bb(){var t=Sb(['\n                <div class="sub-row" \n                  diagram_id="','" \n                  node_id="','"\n                  @click="','"\n                >\n                  - '," - ","\n                </div>\n              "]);return bb=function(){return t},t}function wb(){var t=Sb(['\n          <div>\n            <div \n              id="','" \n              class="row" \n              type="','"\n              label = "',"\"\n            >\n              <span><mwc-icon @click='","'>keyboard_arrow_right</mwc-icon></span>\n              <span>",'</span>\n              <div class="row-label" @click=\'',"'>",'</div>\n            </div>\n\n            <div class="sub-rows-wrapper hide">\n            ',"\n            </div>\n          </div>\n        "]);return wb=function(){return t},t}function _b(){var t=Sb(['\n      <gscape-head title="Explorer" collapsed="true" class="drag-handler">\n        <input \n          type="text" \n          autocomplete="off"\n          @keyup="','"\n          placeholder="Search Entities"\n        />\n      </gscape-head>\n\n      <div class="widget-body hide">\n      ',"\n      </div>\n    "]);return _b=function(){return t},t}function xb(){var t=Sb(['\n        <div class="type-img type-img-','">',"<div>\n      "]);return xb=function(){return t},t}function Eb(){var t=Sb(["\n        :host {\n          left:50%;\n          top:10px;\n          min-width:340px;\n          max-width:450px;\n          transform: translate(-50%, 0);\n        }\n\n        .widget-body {\n          overflow:auto;\n        }\n\n        .row{\n          line-height: 0;\n          display: flex;\n          align-items: center;\n          padding:4px 0;\n        }\n\n        .row:hover, .sub-row:hover {\n          background-color: var(--theme-gscape-secondary, ",");\n          color: var(--theme-gscape-on-secondary, ",");\n        }\n\n        .row-label{\n          padding-left:5px;\n          cursor:pointer;\n          width:100%;\n          white-space: nowrap;\n        }\n\n        mwc-icon:hover{\n          color: var(--theme-gscape-primary, ",");\n          cursor:pointer;\n        }\n\n        .type-img{\n          width: 20px;\n          height: 20px;\n          text-align: center;\n          line-height: 20px;\n        }\n\n        .type-img-A{\n          background-color: var(--theme-graph-attribute, ",");\n          color: var(--theme-graph-attribute-dark, ",");\n          border: solid 1px var(--theme-graph-attribute-dark, ",");\n        }\n\n        .type-img-R{\n          background-color: var(--theme-graph-role, ",");\n          color: var(--theme-graph-role-dark, ",");\n          border: solid 1px var(--theme-graph-role-dark, ","); \n        }\n        \n        .type-img-C{\n          background-color: var(--theme-graph-concept, ",");\n          color: var(--theme-graph-concept-dark, ",");\n          border: solid 1px var(--theme-graph-concept-dark, ","); \n        }\n\n        .type-img-I{\n          background-color: var(--theme-graph-individual, ",");\n          color: var(--theme-graph-individual-dark, ",");\n          border: solid 1px var(--theme-graph-individual-dark, ","); \n        }\n\n        .sub-row{\n          background-color: var(--theme-gscape-primary-dark, ",");\n          padding: 4px 0 4px 34px;\n          cursor: pointer;\n        }\n\n        .sub-rows-wrapper{\n          padding: 2px 0;\n        }\n\n        .add-shadow{\n          box-shadow: 0 2px 2px 0 var(--theme-gscape-shadows, ",");\n        }\n\n        gscape-head input {\n          position:absolute;\n          left: 30%;\n          width: 50%;\n          line-height:21px;\n          box-sizing: border-box;\n          background-color: var(--theme-gscape-primary, ",");\n          padding: 2px 5px;\n          border:none;\n          border-bottom: 1px solid var(--theme-gscape-shadows, ",");\n          float: left;\n          margin: 8px 0px;\n          transition: all .35s ease-in-out;\n          color:inherit;\n        }\n\n        gscape-head input:focus {\n          border-color: var(--theme-gscape-secondary, ",");\n          left:0;\n          margin: 8px 10px;\n          width:80%;\n        }\n      "]);return Eb=function(){return t},t}function Sb(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function kb(t,e){return!e||"object"!==mb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ob(t,e,n){return e&&Cb(t.prototype,e),n&&Cb(t,n),t}function Tb(t,e){return(Tb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pb(t,e,n){return(Pb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nb(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Nb(t){return(Nb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-diagram-selector",yb);var Ab=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=kb(this,Nb(e).call(this,!0,!0))).diagrams=n,r.predicates=t,r._onEntitySelect=null,r._onNodeSelect=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tb(t,e)}(e,t),Ob(e,null,[{key:"properties",get:function(){return[Pb(Nb(e),"properties",this),{predicates:Object}]}},{key:"styles",get:function(){var t=Pb(Nb(e),"styles",this),n=t[1];return[t[0],yy(Eb(),n.secondary,n.on_secondary,n.primary,n.attribute,n.attribute_dark,n.attribute_dark,n.role,n.role_dark,n.role_dark,n.concept,n.concept_dark,n.concept_dark,n.individual,n.individual_dark,n.individual_dark,n.primary_dark,n.shadows,n.primary,n.shadows,n.secondary)]}}]),Ob(e,[{key:"render",value:function(){var t=this;return Vg(_b(),this.search,Object.keys(this.predicates).map((function(e){var n,r,i=t.predicates[e];return Vg(wb(),i.subrows[0].id,i.type,i.label,t.toggleSubRows,(n=i.type,r=n.charAt(0).toUpperCase(),Vg(xb(),r,r)),t.handleEntitySelection,i.label,i.subrows.map((function(e){return Vg(bb(),e.diagram.id,e.id,t.handleNodeSelection,e.diagram.name,e.id_xml)})))})))}},{key:"toggleSubRows",value:function(t){var e=t.target.parentNode.parentNode.parentNode;e.querySelector(".sub-rows-wrapper").classList.toggle("hide"),t.target.innerHTML="keyboard_arrow_right"==t.target.innerHTML?"keyboard_arrow_down":"keyboard_arrow_right",e.querySelector(".row").classList.toggle("add-shadow")}},{key:"search",value:function(t){27==t.keyCode&&t.target.blur();var e=t.target.value.toLowerCase();""===e?this.collapseBody():this.showBody(),this.shadowRoot.querySelectorAll(".row").forEach((function(t){e.split(" ").forEach((function(e){t.getAttribute("label").toLowerCase().indexOf(e)>-1||t.getAttribute("type").toLowerCase().indexOf(e)>-1?t.style.display="":t.style.display="none"}))})),t.target.focus()}},{key:"handleEntitySelection",value:function(t){var e=t.target.parentNode.getAttribute("id");this._onEntitySelect(e,!0)}},{key:"handleNodeSelection",value:function(t){this.toggleBody();var e=t.target.getAttribute("node_id");this._onNodeSelect(e)}},{key:"blur",value:function(){Pb(Nb(e.prototype),"blur",this).call(this),this.shadowRoot.querySelector("input").blur()}},{key:"onEntitySelect",set:function(t){this._onEntitySelect=t}},{key:"onNodeNavigation",set:function(t){this._onNodeSelect=t}},{key:"predicates",get:function(){return this._predicates},set:function(t){var e=function(t){return{id:t.id,id_xml:t.id_xml,diagram:{id:t.diagram_id,name:this.diagrams[t.diagram_id].name}}}.bind(this),n=[];t.forEach((function(t){var r=t.label.replace(/\r?\n|\r/g,""),i=r.concat(t.type);i in n||(n[i]={type:t.type,label:r,subrows:[]}),n[i].subrows.push(e(t))})),this._predicates=n}}]),e}(Hm);function Db(t){return(Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mb(){var t=Ub([""]);return Mb=function(){return t},t}function Lb(){var t=Ub([""]);return Lb=function(){return t},t}function Ib(){var t=Ub(['\n                <div>\n                  <div class="descr-header"> Description </div>\n                  <div class="descr-text">\n                  </div>\n                </div>\n              ']);return Ib=function(){return t},t}function jb(){var t=Ub([""]);return jb=function(){return t},t}function Rb(){var t=Ub(['<span class="chip">&#10003; ',"</span>"]);return Rb=function(){return t},t}function Bb(){var t=Ub([""]);return Bb=function(){return t},t}function Fb(){var t=Ub(["\n              <tr>\n                <th>IRI</th>\n                <td>","</td>\n              </tr>\n              "]);return Fb=function(){return t},t}function zb(){var t=Ub(['\n            <table class="details_table">\n              <tr>\n                <th>Name</th>\n                <td>',"</td>\n              </tr>\n              <tr>\n                <th>Type</th>\n                <td>","</td>\n              </tr>\n              ",' \n            </table>\n\n            <div class="chips-wrapper">\n              ',"\n            </div>\n\n            ","\n          "]);return zb=function(){return t},t}function Vb(){var t=Ub(['\n      <gscape-head title="Entity Details" class="drag-handler"></gscape-head>\n      <div class="widget-body">\n        ',"\n      </div>\n    "]);return Vb=function(){return t},t}function qb(){var t=Ub(["\n        :host {\n          top:10px;\n          right:62px;\n          width:400px;\n        }\n\n        .widget-body div:last-of-type {\n          margin-bottom: 12px;\n        }\n\n        .chips-wrapper {\n          padding: 12px 6px 0 6px;\n          border-spacing: 0;\n        }\n\n        .descr-header {\n          text-align: center;\n          padding: 12px;\n          font-weight: bold;\n          border-bottom: solid 1px var(--theme-gscape-shadows, ",");\n          color: var(--theme-gscape-secondary, ",");\n          width: 85%;\n          margin: auto;\n        }\n\n        .descr-text{\n          padding:10px;\n        }\n\n        gscape-head {\n          --title-text-align: center;\n          --title-width: 100%;\n        }\n\n        .chip {\n          display: inline-block;\n          margin: 4px;\n          padding: 3px 8px;\n          border-radius: 32px;\n          border: 1px solid var(--theme-gscape-secondary, ",");\n          color: var(--theme-gscape-secondary, ",");\n          font-size: 13px;\n        }\n      "]);return qb=function(){return t},t}function Ub(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Xb(t,e){return!e||"object"!==Db(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hb(t,e,n){return e&&Yb(t.prototype,e),n&&Yb(t,n),t}function Gb(t,e){return(Gb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wb(t,e,n){return(Wb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$b(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function $b(t){return($b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-explorer",Ab);var Zb=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Xb(this,$b(e).call(this,!0,!0)))._entity=null,t.properties={functional:"Functional",inverseFunctional:"Inverse Functional",symmetric:"Symmetric",asymmetric:"Asymmetric",reflexive:"Reflexive",irreflexive:"Irreflexive",transitive:"Transitive"},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gb(t,e)}(e,t),Hb(e,null,[{key:"properties",get:function(){return[Wb($b(e),"properties",this),{_entity:{type:Object}}]}},{key:"styles",get:function(){var t=Wb($b(e),"styles",this),n=t[1];return[t[0],yy(qb(),n.shadows,n.secondary,n.secondary,n.secondary)]}}]),Hb(e,[{key:"render",value:function(){var t=this;return Vg(Vb(),this.entity?Vg(zb(),this.entity.label.replace(/\r?\n|\r/g,""),this.entity.type,"individual"!=this.entity.type?Vg(Fb(),this.entity.iri):Vg(Bb()),Object.keys(this.properties).map((function(e){return t.entity[e]?Vg(Rb(),t.properties[e]):Vg(jb())})),this.entity.description?Vg(Ib()):Vg(Lb())):Vg(Mb()))}},{key:"updated",value:function(){this.entity&&this.entity.description&&this.renderDescription(this.entity.description)}},{key:"renderDescription",value:function(t){this.shadowRoot.querySelector(".descr-text").innerHTML=t.replace(/(href=.)\/predicate\//g,"$1/documentation/predicate/")}},{key:"firstUpdated",value:function(){Wb($b(e.prototype),"firstUpdated",this).call(this),this.hide()}},{key:"blur",value:function(){this.hide()}},{key:"entity",set:function(t){var e=this.entity;switch(this._entity=t,this._entity.type){case"concept":this._entity.type="Class";break;case"role":this._entity.type="Object Property";break;case"attribute":this._entity.type="Data Property"}this.requestUpdate("entity",e)},get:function(){return this._entity}}]),e}(Hm);function Kb(t){return(Kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qb(){var t=tw(['\n      <div \n        class="btn" \n        ?active = "','"\n        @click="','" \n        title="','">\n        \n        <mwc-icon>',"</mwc-icon>\n      </div>\n    "]);return Qb=function(){return t},t}function Jb(){var t=tw(["\n        .btn {\n          padding:4px;\n          line-height:0;\n          cursor: pointer;\n        }\n\n        .btn:hover {\n          color: var(--theme-gscape-secondary, ",");\n        }\n\n        .btn[active] {\n          color: var(--theme-gscape-secondary, ",");\n        }\n      "]);return Jb=function(){return t},t}function tw(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ew(t,e){return!e||"object"!==Kb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rw(t,e,n){return e&&nw(t.prototype,e),n&&nw(t,n),t}function iw(t,e){return(iw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ow(t,e,n){return(ow="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=aw(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function aw(t){return(aw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-entity-details",Zb);var sw=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ew(this,aw(e).call(this,i,!1))).icon=t,r.alternate_icon=n||t,r.onClick=null,r.highlight=!1,r.active=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iw(t,e)}(e,t),rw(e,null,[{key:"properties",get:function(){return[ow(aw(e),"properties",this),{icon:{type:String},active:{type:Boolean}}]}},{key:"styles",get:function(){var t=ow(aw(e),"styles",this),n=t[1];return[t[0],yy(Jb(),n.secondary,n.secondary)]}}]),rw(e,[{key:"render",value:function(){return Vg(Qb(),this.active,this.clickHandler,this.icon,this.icon)}},{key:"clickHandler",value:function(){this.highlight&&(this.active=!this.active),this.toggleIcon(),this._onClick()}},{key:"toggleIcon",value:function(){var t=this._icon;this.icon=this._alternate_icon,this.alternate_icon=t}},{key:"firstUpdated",value:function(){ow(aw(e.prototype),"firstUpdated",this).call(this),this.shadowRoot.querySelector("mwc-icon").onselectstart=function(){return!1}}},{key:"icon",set:function(t){var e=this._icon;this._icon=t,this.requestUpdate("icon",e)},get:function(){return this._icon}},{key:"alternate_icon",set:function(t){var e=this._alternate_icon;this._alternate_icon=t,this.requestUpdate("alternative_icon",e)}},{key:"onClick",set:function(t){this._onClick=t}}]),e}(Hm);function lw(t){return(lw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uw(){var t=hw(['\n    <div class="toggle-container">\n      <label class="toggle-wrap">\n        <input id="','" type="checkbox" \n          ?checked="','"\n          ?disabled="','"\n          @click="','"\n        />\n        <span class="toggle"></span>\n      </label>\n      <span class="toggle-label">',"</span>\n    </div>\n    "]);return uw=function(){return t},t}function cw(){var t=hw(['\n        :host {\n          display: flex;\n        }\n        \n        .toggle-container {\n          white-space: nowrap;\n          padding: 6px;\n          display: flex;\n          align-items: center;\n        }\n\n        .toggle-wrap {\n          width: 33px;\n          height: 19px;\n          display: inline-block;\n          position: relative;\n        }\n\n        .toggle {\n          position: absolute;\n          cursor: pointer;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: #ccc;\n          transition: checked 0.2s;\n          border-radius: 19px;\n        }\n\n        .toggle::before {\n          position: absolute;\n          content: "";\n          height: 11px;\n          width: 11px;\n          left: 4px;\n          bottom: 4px;\n          background-color: var(--theme-gscape-primary, ',");\n          transition: .1s;\n          border-radius: 20px;\n        }\n\n        .toggle-wrap input {\n          display:none;\n        }\n\n        .toggle-wrap input:checked + .toggle {\n          background-color: var(--theme-gscape-secondary, ",");\n        }\n\n        .toggle-wrap input:checked + .toggle::before {\n          -webkit-transform: translateX(14px);\n          -ms-transform: translateX(14px);\n          transform: translateX(14px);      \n        }\n\n        .toggle-wrap input:disabled + .toggle {\n          opacity:0.25;\n        }\n\n        .toggle-label {\n          margin-left: 15px;\n        }\n      "]);return cw=function(){return t},t}function hw(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function dw(t,e){return!e||"object"!==lw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pw(t,e,n){return e&&fw(t.prototype,e),n&&fw(t,n),t}function vw(t,e){return(vw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gw(t,e,n){return(gw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yw(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function yw(t){return(yw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-button",sw);var mw=function(t){function e(t,n,r,i,o){var a,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=dw(this,yw(e).call(this,!1,!1))).key=t||"",a.inverse=s,a.state=n||!1,a.disabled=r||!1,a.onToggle=o||{},a.label=i||"",a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vw(t,e)}(e,t),pw(e,null,[{key:"properties",get:function(){return{state:Boolean,disabled:Boolean,label:String,key:String,checked:Boolean}}},{key:"styles",get:function(){var t=gw(yw(e),"styles",this)[1];return yy(cw(),t.primary,t.secondary)}}]),pw(e,[{key:"render",value:function(){return Vg(uw(),this.key,this.checked,this.disabled,this.clickHandler,this.label)}},{key:"clickHandler",value:function(t){this.onToggle(t)}},{key:"updated",value:function(t){this.shadowRoot.querySelector("#".concat(this.key)).checked=this.checked}},{key:"state",set:function(t){this._state=t;this.checked;this.checked=this.inverse?!t:t},get:function(){return this._state}}]),e}(Hm);function bw(t){return(bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ww(){var t=Ew(["\n              ","\n            "]);return ww=function(){return t},t}function _w(){var t=Ew(["\n      ",'\n      \n      <div class="widget-body hide gscape-panel">\n        <div class="gscape-panel-title">Filters</div>\n\n        <div class="filters-wrapper">\n          ',"\n        </div>\n      </div>\n    "]);return _w=function(){return t},t}function xw(){var t=Ew(["\n        :host {\n          bottom:10px;\n          left:10px;\n        }\n\n        gscape-button{\n          position: static;\n        }\n\n        gscape-toggle[first]{\n          justify-content: center;\n          border-bottom: 1px solid #ccc;\n          margin-bottom: 10px;\n          padding: 10px;\n        }\n      "]);return xw=function(){return t},t}function Ew(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Sw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cw(t,e,n){return e&&kw(t.prototype,e),n&&kw(t,n),t}function Ow(t,e){return(Ow=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tw(t,e,n){return(Tw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pw(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Pw(t){return(Pw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-toggle",mw);var Nw=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==bw(e)&&"function"!=typeof e?Sw(t):e}(this,Pw(e).call(this,!1,!0))).filters=t,n.btn=new sw("filter_list"),n.btn.onClick=n.toggleBody.bind(Sw(n)),n.onFilterOn=null,n.onFilterOff=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ow(t,e)}(e,t),Cw(e,null,[{key:"properties",get:function(){return{filters:{type:Object,hasChanged:function(t,e){return!e||(Object.keys(t).map((function(n){if(t[n].active!=e[n].active||t[n].disabled!=e[n].disabled)return!0})),!1)}}}}},{key:"styles",get:function(){var t=Tw(Pw(e),"styles",this);t[1];return[t[0],yy(xw())]}}]),Cw(e,[{key:"render",value:function(){var t=this;return Vg(_w(),this.btn,Object.keys(this.filters).map((function(e){var n=t.filters[e],r={};return"all"==e?(r=new mw(e,n.active,n.disabled,n.label,t.toggleFilter.bind(t))).setAttribute("first","true"):r=new mw(e,n.active,n.disabled,n.label,t.toggleFilter.bind(t),!0),Vg(ww(),r)})))}},{key:"toggleFilter",value:function(t){var e=this,n=t.target;this.filters[n.id].active=!this.filters[n.id].active,"attributes"==n.id&&(this.filters.value_domain.disabled=this.filters.attributes.active),"all"==n.id?Object.keys(this.filters).map((function(t){"all"==t||e.filters[t].disbaled||(e.filters[t].active=e.filters.all.active,"value_domain"==t&&(e.filters[t].disabled=e.filters.all.active),e.filters[t].active?e.onFilterOn(e.filters[t]):e.onFilterOff(e.filters[t]))})):(!this.filters[n.id].active&&this.filters.all.active&&(this.filters.all.active=!1),this.filters[n.id].active?this.onFilterOn(this.filters[n.id]):this.onFilterOff(this.filters[n.id])),this.updateTogglesState()}},{key:"updateTogglesState",value:function(){var t=this,e=this.shadowRoot.querySelectorAll("gscape-toggle"),n=!1;e.forEach((function(e){e.state=t.filters[e.key].active,e.disabled=t.filters[e.key].disabled,e.state&&(n=!0)})),this.btn.active=n,this.btn.requestUpdate()}}]),e}(Hm);function Aw(t){return(Aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dw(){var t=jw(["\n                <tr>\n                  <th>","</th>\n                  <td>","</td>\n                </tr> \n              "]);return Dw=function(){return t},t}function Mw(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Lw(){var t=jw(["\n      ",'\n\n      <div class="widget-body hide gscape-panel">\n        <div class="gscape-panel-title">Ontology Info</div>\n\n        <table class="details_table">\n          <tr>\n            <th>Name</th>\n            <td>',"</td>\n          </tr>\n          <tr>\n            <th>Version</th>\n            <td>",'</td>\n          </tr>\n        </table>\n\n        \n        <table class="iri-dict details_table">\n          <tr><th colspan="2" class="table-header">IRI Prefixes Dictionary</th></tr>\n\n          ',"\n        </table> \n      </div>\n    "]);return Lw=function(){return t},t}function Iw(){var t=jw(["\n        :host {\n          bottom:10px;\n          left:52px;\n        }\n\n        gscape-button {\n          position: static;\n        }\n\n        .iri-dict th.table-header{\n          text-align: center;          \n          padding: 12px;\n          font-weight: bold;\n          border-right: 0;\n          color: var(--theme-gscape-on-primary, ",");    \n        }\n\n        .iri-dict th {\n          color: var(--theme-gscape-on-primary, ",");\n          border-right: solid 1px var(--theme-gscape-shadows, ",");\n          text-align: left;\n          font-weight: normal;\n        }\n      "]);return Iw=function(){return t},t}function jw(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Rw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fw(t,e,n){return e&&Bw(t.prototype,e),n&&Bw(t,n),t}function zw(t,e){return(zw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vw(t,e,n){return(Vw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qw(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function qw(t){return(qw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-filters",Nw);var Uw=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==Aw(e)&&"function"!=typeof e?Rw(t):e}(this,qw(e).call(this,!1,!0))).ontology=t,n.btn=new sw("info_outline"),n.btn.onClick=n.toggleBody.bind(Rw(n)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zw(t,e)}(e,t),Fw(e,null,[{key:"styles",get:function(){var t=Vw(qw(e),"styles",this),n=t[1];return[t[0],yy(Iw(),n.on_primary,n.on_primary,n.shadows)]}}]),Fw(e,[{key:"render",value:function(){return Vg(Lw(),this.btn,this.ontology.name,this.ontology.version,Mw(this.ontology.iriSet).map((function(t){if(!t.isStandard())return Vg(Dw(),t.prefixes[0],t.value)})))}}]),e}(Hm);function Xw(t){return(Xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yw(){var t=Gw(['\n      <div class="widget-body" hide>\n        <div class="owl-text"></div>\n      </div>\n      <gscape-head title="Owl Translation"></gscape-head>\n    ']);return Yw=function(){return t},t}function Hw(){var t=Gw(["\n        :host {\n          left:50%;\n          bottom:10px;\n          transform: translate(-50%, 0);\n        }\n\n        gscape-head {\n          --title-text-align: center;\n          --title-width: 100%;\n        }\n\n        .widget-body {\n          margin:0;\n          border-top: none;\n          border-bottom: 1px solid var(--theme-gscape-shadows, ",');\n          border-bottom-left-radius:0;\n          border-bottom-right-radius:0;\n        }\n\n        .owl-text {\n          padding: 15px 10px;\n          font-family: "Lucida Console", Monaco, monospace;\n          overflow: auto;\n          white-space: nowrap;\n          line-height: 1.5;\n        }\n\n        .owl_concept{\n          color:#859900;\n        }\n        \n        .owl_role{\n          color:#268bd2;\n        }\n        \n        .owl_attribute{\n          color:#b58900;\n        }\n        \n        .owl_value-domain{\n          color: #2aa198;\n        }\n        \n        .owl_individual{\n          color: #6c71c4;\n        }\n        \n        .owl_value {\n          color: #d33682;\n        }\n        \n        .axiom_predicate_prefix{\n          color:#cb4b16;\n        }\n        \n        .owl_error {\n          color: var(--theme-gscape-error, ',");\n        }\n        \n        .axiom_predefinite_obj {\n          color: #00c0a0;\n        }\n        \n      "]);return Hw=function(){return t},t}function Gw(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ww(t,e){return!e||"object"!==Xw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zw(t,e,n){return e&&$w(t.prototype,e),n&&$w(t,n),t}function Kw(t,e){return(Kw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qw(t,e,n){return(Qw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jw(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Jw(t){return(Jw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-ontology-info",Uw);var t_=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Ww(this,Jw(e).call(this,!1,!0)))._owl_text="",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kw(t,e)}(e,t),Zw(e,null,[{key:"properties",get:function(){return{_owl_text:String}}},{key:"styles",get:function(){var t=Qw(Jw(e),"styles",this)[1];return[Qw(Jw(e),"styles",this)[0],yy(Hw(),t.shadows,t.error)]}}]),Zw(e,[{key:"render",value:function(){return Vg(Yw())}},{key:"updated",value:function(){this.shadowRoot.querySelector(".owl-text").innerHTML=this.owl_text,this.shadowRoot.querySelector(".owl-text").classList.remove("hide")}},{key:"blur",value:function(){this.hide()}},{key:"firstUpdated",value:function(){Qw(Jw(e.prototype),"firstUpdated",this).call(this),this.hide(),this.header.collapsed=!0}},{key:"owl_text",set:function(t){this._owl_text=t},get:function(){return this._owl_text}}]),e}(Hm);function e_(t){return(e_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n_(){var t=i_(["\n      ",'\n      <div id="hr"></div>\n      ',"\n    "]);return n_=function(){return t},t}function r_(){var t=i_(["\n        :host {\n          position: absolute;\n          bottom:52px;\n          right:10px;\n        }\n\n        gscape-button{\n          position: static;\n          box-shadow: initial;\n        }\n\n        #hr {\n          height:1px;\n          width:90%;\n          margin: 2px auto 0 auto;\n          background-color: var(--theme-gscape-shadows, ",")\n        }\n\n      "]);return r_=function(){return t},t}function i_(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function o_(t,e){return!e||"object"!==e_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s_(t,e,n){return e&&a_(t.prototype,e),n&&a_(t,n),t}function l_(t,e){return(l_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u_(t,e,n){return(u_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c_(t){return(c_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}customElements.define("gscape-owl-translator",t_);var h_=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=o_(this,c_(e).call(this,!1,!0))).btn_plus=new sw("add"),t.btn_minus=new sw("remove"),t._onZoomIn=null,t._onZoomOut=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l_(t,e)}(e,t),s_(e,null,[{key:"styles",get:function(){var t=u_(c_(e),"styles",this),n=t[1];return[t[0],yy(r_(),n.shadows)]}}]),s_(e,[{key:"render",value:function(){return Vg(n_(),this.btn_plus,this.btn_minus)}},{key:"onZoomIn",set:function(t){this._onZoomIn=t,this.btn_plus.onClick=this._onZoomIn}},{key:"onZoomOut",set:function(t){this._onZoomOut=t,this.btn_minus.onClick=this._onZoomOut}}]),e}(Hm);function d_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}customElements.define("gscape-zoom-tools",h_);var f_=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actual_diagram=null;var r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="absolute",n&&n.insertBefore(r,n.firstChild),this.cy=Iv({container:r,autoungrabify:!0,wheelSensitivity:.4,maxZoom:2.5,minZoom:.02,layout:{name:"preset"}}),this.cy.on("select","node",(function(t){e.onNodeSelection(t.target.data("id_xml"),t.target.data("diagram_id"))})),this.cy.on("select","edge",(function(t){e.onEdgeSelection(t.target.data("id_xml"),t.target.data("diagram_id"))})),this.cy.on("tap",(function(t){t.target===e.cy&&e.onBackgroundClick()})),this.cy.on("mouseover","*",(function(t){e.cy.container().style.cursor="pointer"})),this.cy.on("mouseout","*",(function(t){e.cy.container().style.cursor="inherit"}))}var e,n,r;return e=t,(n=[{key:"mount",value:function(t){this.cy.container().style.display="block"}},{key:"unmount",value:function(){this.cy.container().style.display="none"}},{key:"centerOnNode",value:function(t,e){var n=this.cy.getElementById(t);n&&(this.centerOnPosition(n.position("x"),n.position("y"),e),this.cy.$(":selected").unselect(),n.select())}},{key:"centerOnPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cy.zoom();this.cy.reset();var r=this.cy.width()/2,i=this.cy.height()/2;t-=r,e-=i,this.cy.pan({x:-t,y:-e}),this.cy.zoom({level:n,renderedPosition:{x:r,y:i}})}},{key:"centerOnRenderedPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cy.zoom();this.cy.viewport({zoom:n,pan:{x:t,y:e}})}},{key:"resetView",value:function(){this.cy.fit()}},{key:"drawDiagram",value:function(t){this.cy.remove("*"),this.cy.add(t.nodes),this.cy.add(t.edges),this.cy.fit(),this.actual_diagram=t.id}},{key:"zoomIn",value:function(){this.cy.zoom({level:this.cy.zoom()+.08,renderedPosition:{x:this.cy.width()/2,y:this.cy.height()/2}})}},{key:"zoomOut",value:function(){this.cy.zoom({level:this.cy.zoom()-.08,renderedPosition:{x:this.cy.width()/2,y:this.cy.height()/2}})}},{key:"filter",value:function(t,e){var n=this,r=e||this.cy,i="".concat(t.selector,", .").concat(t.class);r.$(i).forEach((function(e){n.filterElem(e,t.class,r)}))}},{key:"filterElem",value:function(t,e,n){var r=this,i=n||this.cy;function o(t){var e=t.outgoers("edge").size()+t.incomers('edge[type != "input"]').size();return t.outgoers().forEach((function(t){t.target().hasClass("filtered")&&e--})),t.incomers('[type != "input"]').forEach((function(t){t.source().hasClass("filtered")&&e--})),e}t.addClass("filtered "+e),i.nodes('[parent_node_id = "'.concat(t.id(),'"]')).addClass("filtered "+e),t.outgoers("edge").forEach((function(t){var n=o(t.target());!t.target().hasClass("filtered")&&(n<=0||"input"===t.data("type"))&&r.filterElem(t.target(),e)})),t.incomers("edge").forEach((function(t){var n=o(t.source());t.source().hasClass("filtered")||0!==n||r.filterElem(t.source(),e)}))}},{key:"unfilter",value:function(t,e){var n="".concat(t.selector,", .").concat(t.class),r=e||this.cy;r.$(n).removeClass("filtered"),r.$(n).removeClass(t.class)}},{key:"setTheme",value:function(t){this.cy.style(function(t){return[{selector:"node",style:{height:"data(height)",width:"data(width)","background-color":t.node_bg,shape:"data(shape)","border-width":1,"border-color":t.node_border,"border-style":"solid","font-size":12,color:t.label_color}},{selector:"[label]",style:{label:"data(label)","text-margin-x":"data(labelXpos)","text-margin-y":"data(labelYpos)","text-wrap":"wrap"}},{selector:"edge",style:{width:2,"line-color":t.edge,"target-arrow-color":t.edge,"source-arrow-color":t.edge,"curve-style":"bezier","arrow-scale":1.3}},{selector:'edge[type = "inclusion"], [type = "membership"], edge.inclusion',style:{"line-style":"solid","target-arrow-shape":"triangle","target-arrow-fill":"filled"}},{selector:"edge.hierarchy",style:{width:6,"target-arrow-fill":"hollow"}},{selector:"edge.disjoint",style:{"target-arrow-fill":"filled"}},{selector:'edge[type = "input"]',style:{"line-style":"dashed","target-arrow-shape":"diamond","target-arrow-fill":"hollow"}},{selector:'edge[type = "easy_input"]',style:{"line-style":"solid"}},{selector:'edge[type = "equivalence"]',style:{"line-style":"solid","source-arrow-shape":"triangle","source-arrow-fill":"filled","target-arrow-shape":"triangle","target-arrow-fill":"filled"}},{selector:"[segment_distances]",style:{"curve-style":"segments","segment-distances":"data(segment_distances)","segment-weights":"data(segment_weights)","edge-distances":"node-position"}},{selector:"[source_endpoint]",style:{"source-endpoint":"data(source_endpoint)"}},{selector:"[target_endpoint]",style:{"target-endpoint":"data(target_endpoint)"}},{selector:"[?functional][!inverseFunctional]",style:{"border-width":5,"border-color":t.node_border,"border-style":"double"}},{selector:"[?inverseFunctional][!functional]",style:{"border-width":4,"border-color":t.node_border,"border-style":"solid"}},{selector:"[edge_label]",style:{label:"data(edge_label)","font-size":10,"text-rotation":"autorotate","text-margin-y":-10}},{selector:"[target_label]",style:{"target-label":"data(target_label)"}},{selector:"[source_label]",style:{"source-label":"data(source_label)"}},{selector:"[source_label],[target_label]",style:{"font-size":15,"target-text-offset":20}},{selector:"[edge_label],[source_label],[target_label],[text_background]",style:{"text-background-color":t.background,"text-background-opacity":1,"text-background-shape":"roundrectangle","text-background-padding":2}},{selector:"[shape_points]",style:{"shape-polygon-points":"data(shape_points)"}},{selector:".filtered",style:{display:"none"}},{selector:".facet",style:{"background-opacity":0}},{selector:".hidden",style:{visibility:"hidden"}},{selector:".no_border",style:{"border-width":0}},{selector:".no_overlay",style:{"overlay-opacity":0,"overlay-padding":0}},{selector:".concept",style:{"background-color":t.concept,"border-color":t.concept_dark}},{selector:".role, .fake-triangle",style:{"background-color":t.role,"border-color":t.role_dark}},{selector:".attribute",style:{"background-color":t.attribute,"border-color":t.attribute_dark,"text-background-color":t.background,"text-background-opacity":1}},{selector:"edge.range",style:{"source-arrow-shape":"square","source-arrow-fill":"filled","target-arrow-shape":"none"}},{selector:"edge.domain",style:{"target-arrow-shape":"square","target-arrow-fill":"hollow","source-arrow-shape":"none"}},{selector:"edge.attribute",style:{"line-color":t.attribute_dark,"source-arrow-shape":"none","target-arrow-shape":"none"}},{selector:"edge.role",style:{"line-color":t.role_dark,"source-arrow-color":t.role_dark,"target-arrow-color":t.role_dark}},{selector:".individual",style:{"background-color":t.individual,"border-color":t.individual_dark}},{selector:'[type = "range-restriction"], [type = "disjoint-union"]',style:{"background-color":t.node_bg_contrast}},{selector:".fake-triangle-right",style:{"background-color":t.role_dark}},{selector:":selected",style:{"overlay-color":t.secondary,"overlay-opacity":.2,"z-index":"100"}}]}(t))}},{key:"getActualPosition",value:function(){return{x:this.cy.pan().x,y:this.cy.pan().y,zoom:this.cy.zoom()}}}])&&d_(e.prototype,n),r&&d_(e,r),t}(),p_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){this.source=t,this.target=e,this.type=n};e.PowerEdge=n;var r=function(){function t(t,e,n,r){var a=this;if(this.linkAccessor=n,this.modules=new Array(t),this.roots=[],r)this.initModulesFromGroup(r);else{this.roots.push(new o);for(var s=0;s<t;++s)this.roots[0].add(this.modules[s]=new i(s))}this.R=e.length,e.forEach((function(t){var e=a.modules[n.getSourceIndex(t)],r=a.modules[n.getTargetIndex(t)],i=n.getType(t);e.outgoing.add(i,r),r.incoming.add(i,e)}))}return t.prototype.initModulesFromGroup=function(t){var e=new o;this.roots.push(e);for(var n=0;n<t.leaves.length;++n){var r=t.leaves[n],s=new i(r.id);this.modules[r.id]=s,e.add(s)}if(t.groups)for(var l=0;l<t.groups.length;++l){var u=t.groups[l],c={};for(var h in u)"leaves"!==h&&"groups"!==h&&u.hasOwnProperty(h)&&(c[h]=u[h]);e.add(new i(-1-l,new a,new a,this.initModulesFromGroup(u),c))}return e},t.prototype.merge=function(t,e,n){void 0===n&&(n=0);var r=t.incoming.intersection(e.incoming),a=t.outgoing.intersection(e.outgoing),s=new o;s.add(t),s.add(e);var l=new i(this.modules.length,a,r,s);this.modules.push(l);var u=function(n,r,i){n.forAll((function(n,o){n.forAll((function(n){var a=n[r];a.add(o,l),a.remove(o,t),a.remove(o,e),t[i].remove(o,n),e[i].remove(o,n)}))}))};return u(a,"incoming","outgoing"),u(r,"outgoing","incoming"),this.R-=r.count()+a.count(),this.roots[n].remove(t),this.roots[n].remove(e),this.roots[n].add(l),l},t.prototype.rootMerges=function(t){void 0===t&&(t=0);for(var e=this.roots[t].modules(),n=e.length,r=new Array(n*(n-1)),i=0,o=0,a=n-1;o<a;++o)for(var s=o+1;s<n;++s){var l=e[o],u=e[s];r[i]={id:i,nEdges:this.nEdges(l,u),a:l,b:u},i++}return r},t.prototype.greedyMerge=function(){for(var t=0;t<this.roots.length;++t)if(!(this.roots[t].modules().length<2)){var e=this.rootMerges(t).sort((function(t,e){return t.nEdges==e.nEdges?t.id-e.id:t.nEdges-e.nEdges}))[0];if(!(e.nEdges>=this.R))return this.merge(e.a,e.b,t),!0}},t.prototype.nEdges=function(t,e){var n=t.incoming.intersection(e.incoming),r=t.outgoing.intersection(e.outgoing);return this.R-n.count()-r.count()},t.prototype.getGroupHierarchy=function(t){var e=this,r=[];return function t(e,n,r){e.forAll((function(e){if(e.isLeaf())n.leaves||(n.leaves=[]),n.leaves.push(e.id);else{var i=n;if(e.gid=r.length,!e.isIsland()||e.isPredefined()){if(i={id:e.gid},e.isPredefined())for(var o in e.definition)i[o]=e.definition[o];n.groups||(n.groups=[]),n.groups.push(e.gid),r.push(i)}t(e.children,i,r)}}))}(this.roots[0],{},r),this.allEdges().forEach((function(i){var o=e.modules[i.source],a=e.modules[i.target];t.push(new n(void 0===o.gid?i.source:r[o.gid],void 0===a.gid?i.target:r[a.gid],i.type))})),r},t.prototype.allEdges=function(){var e=[];return t.getEdges(this.roots[0],e),e},t.getEdges=function(e,n){e.forAll((function(e){e.getEdges(n),t.getEdges(e.children,n)}))},t}();e.Configuration=r;var i=function(){function t(t,e,n,r,i){void 0===e&&(e=new a),void 0===n&&(n=new a),void 0===r&&(r=new o),this.id=t,this.outgoing=e,this.incoming=n,this.children=r,this.definition=i}return t.prototype.getEdges=function(t){var e=this;this.outgoing.forAll((function(r,i){r.forAll((function(r){t.push(new n(e.id,r.id,i))}))}))},t.prototype.isLeaf=function(){return 0===this.children.count()},t.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},t.prototype.isPredefined=function(){return void 0!==this.definition},t}();e.Module=i;var o=function(){function t(){this.table={}}return t.prototype.count=function(){return Object.keys(this.table).length},t.prototype.intersection=function(e){var n=new t;return n.table=function(t,e){var n={};for(var r in t)r in e&&(n[r]=t[r]);return n}(this.table,e.table),n},t.prototype.intersectionCount=function(t){return this.intersection(t).count()},t.prototype.contains=function(t){return t in this.table},t.prototype.add=function(t){this.table[t.id]=t},t.prototype.remove=function(t){delete this.table[t.id]},t.prototype.forAll=function(t){for(var e in this.table)t(this.table[e])},t.prototype.modules=function(){var t=[];return this.forAll((function(e){e.isPredefined()||t.push(e)})),t},t}();e.ModuleSet=o;var a=function(){function t(){this.sets={},this.n=0}return t.prototype.count=function(){return this.n},t.prototype.contains=function(t){var e=!1;return this.forAllModules((function(n){e||n.id!=t||(e=!0)})),e},t.prototype.add=function(t,e){(t in this.sets?this.sets[t]:this.sets[t]=new o).add(e),++this.n},t.prototype.remove=function(t,e){var n=this.sets[t];n.remove(e),0===n.count()&&delete this.sets[t],--this.n},t.prototype.forAll=function(t){for(var e in this.sets)t(this.sets[e],Number(e))},t.prototype.forAllModules=function(t){this.forAll((function(e,n){return e.forAll(t)}))},t.prototype.intersection=function(e){var n=new t;return this.forAll((function(t,r){if(r in e.sets){var i=t.intersection(e.sets[r]),o=i.count();o>0&&(n.sets[r]=i,n.n+=o)}})),n},t}();e.LinkSets=a,e.getGroups=function(t,e,n,i){for(var o=t.length,a=new r(o,e,n,i);a.greedyMerge(););var s=[],l=a.getGroupHierarchy(s);return s.forEach((function(e){var n=function(n){var r=e[n];"number"==typeof r&&(e[n]=t[r])};n("source"),n("target")})),{groups:l,powerEdges:s}}}));e(p_);p_.PowerEdge,p_.Configuration,p_.Module,p_.ModuleSet,p_.LinkSets,p_.getGroups;var v_=n((function(t,e){function n(t,e){var n={};for(var r in t)n[r]={};for(var r in e)n[r]={};return Object.keys(n).length}function r(t,e){var n=0;for(var r in t)void 0!==e[r]&&++n;return n}function i(t,e,n,r){var i=function(t,e){var n={},r=function(t,e){void 0===n[t]&&(n[t]={}),n[t][e]={}};return t.forEach((function(t){var n=e.getSourceIndex(t),i=e.getTargetIndex(t);r(n,i),r(i,n)})),n}(t,r);t.forEach((function(t){var o=i[r.getSourceIndex(t)],a=i[r.getTargetIndex(t)];r.setLength(t,1+e*n(o,a))}))}function o(t,e,n){var r=[],i=0,o=[],a=[];function s(t){t.index=t.lowlink=i++,o.push(t),t.onStack=!0;for(var e=0,n=t.out;e<n.length;e++){var r=n[e];void 0===r.index?(s(r),t.lowlink=Math.min(t.lowlink,r.lowlink)):r.onStack&&(t.lowlink=Math.min(t.lowlink,r.index))}if(t.lowlink===t.index){for(var l=[];o.length&&((r=o.pop()).onStack=!1,l.push(r),r!==t););a.push(l.map((function(t){return t.id})))}}for(var l=0;l<t;l++)r.push({id:l,out:[]});for(var u=0,c=e;u<c.length;u++){var h=c[u],d=r[n.getSourceIndex(h)],f=r[n.getTargetIndex(h)];d.out.push(f)}for(var p=0,v=r;p<v.length;p++){var g=v[p];void 0===g.index&&s(g)}return a}Object.defineProperty(e,"__esModule",{value:!0}),e.symmetricDiffLinkLengths=function(t,e,o){void 0===o&&(o=1),i(t,o,(function(t,e){return Math.sqrt(n(t,e)-r(t,e))}),e)},e.jaccardLinkLengths=function(t,e,o){void 0===o&&(o=1),i(t,o,(function(t,e){return Math.min(Object.keys(t).length,Object.keys(e).length)<1.1?0:r(t,e)/n(t,e)}),e)},e.generateDirectedEdgeConstraints=function(t,e,n,r){var i=o(t,e,r),a={};i.forEach((function(t,e){return t.forEach((function(t){return a[t]=e}))}));var s=[];return e.forEach((function(t){var e=r.getSourceIndex(t),i=r.getTargetIndex(t);a[e]!==a[i]&&s.push({axis:n,left:e,right:i,gap:r.getMinSeparation(t)})})),s},e.stronglyConnectedComponents=o}));e(v_);v_.symmetricDiffLinkLengths,v_.jaccardLinkLengths,v_.generateDirectedEdgeConstraints,v_.stronglyConnectedComponents;var g_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.locks={}}return t.prototype.add=function(t,e){this.locks[t]=e},t.prototype.clear=function(){this.locks={}},t.prototype.isEmpty=function(){for(var t in this.locks)return!1;return!0},t.prototype.apply=function(t){for(var e in this.locks)t(Number(e),this.locks[e])},t}();e.Locks=n;var r=function(){function t(t,e,r){void 0===r&&(r=null),this.D=e,this.G=r,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new i,this.project=null,this.x=t,this.k=t.length;var o=this.n=t[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new n,this.minD=Number.MAX_VALUE;for(var a,s=o;s--;)for(a=o;--a>s;){var l=e[s][a];l>0&&l<this.minD&&(this.minD=l)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),s=this.k;s--;){for(this.g[s]=new Array(o),this.H[s]=new Array(o),a=o;a--;)this.H[s][a]=new Array(o);this.Hd[s]=new Array(o),this.a[s]=new Array(o),this.b[s]=new Array(o),this.c[s]=new Array(o),this.d[s]=new Array(o),this.e[s]=new Array(o),this.ia[s]=new Array(o),this.ib[s]=new Array(o),this.xtmp[s]=new Array(o)}}return t.createSquareMatrix=function(t,e){for(var n=new Array(t),r=0;r<t;++r){n[r]=new Array(t);for(var i=0;i<t;++i)n[r][i]=e(r,i)}return n},t.prototype.offsetDir=function(){for(var t=this,e=new Array(this.k),n=0,r=0;r<this.k;++r){var i=e[r]=this.random.getNextBetween(.01,1)-.5;n+=i*i}return n=Math.sqrt(n),e.map((function(e){return e*(t.minD/n)}))},t.prototype.computeDerivatives=function(t){var e=this,n=this.n;if(!(n<1)){for(var r,i=new Array(this.k),o=new Array(this.k),a=new Array(this.k),s=0,l=0;l<n;++l){for(r=0;r<this.k;++r)a[r]=this.g[r][l]=0;for(var u=0;u<n;++u)if(l!==u){for(var c=n;c--;){var h=0;for(r=0;r<this.k;++r){var d=i[r]=t[r][l]-t[r][u];h+=o[r]=d*d}if(h>1e-9)break;var f=this.offsetDir();for(r=0;r<this.k;++r)t[r][u]+=f[r]}var p=Math.sqrt(h),v=this.D[l][u],g=null!=this.G?this.G[l][u]:1;if(g>1&&p>v||!isFinite(v))for(r=0;r<this.k;++r)this.H[r][l][u]=0;else{g>1&&(g=1);var y=v*v,m=2*g*(p-v)/(y*p),b=p*p*p,w=2*-g/(y*b);for(isFinite(m)||console.log(m),r=0;r<this.k;++r)this.g[r][l]+=i[r]*m,a[r]-=this.H[r][l][u]=w*(b+v*(o[r]-h)+p*h)}}for(r=0;r<this.k;++r)s=Math.max(s,this.H[r][l][l]=a[r])}var _=this.snapGridSize/2,x=this.snapGridSize,E=this.snapStrength/(_*_),S=this.numGridSnapNodes;for(l=0;l<S;++l)for(r=0;r<this.k;++r){var k=this.x[r][l],C=k/x,O=C%1,T=C-O;-_<(d=Math.abs(O)<=.5?k-T*x:k>0?k-(T+1)*x:k-(T-1)*x)&&d<=_&&(this.scaleSnapByMaxH?(this.g[r][l]+=s*E*d,this.H[r][l][l]+=s*E):(this.g[r][l]+=E*d,this.H[r][l][l]+=E))}this.locks.isEmpty()||this.locks.apply((function(n,i){for(r=0;r<e.k;++r)e.H[r][n][n]+=s,e.g[r][n]-=s*(i[r]-t[r][n])}))}},t.dotProd=function(t,e){for(var n=0,r=t.length;r--;)n+=t[r]*e[r];return n},t.rightMultiply=function(e,n,r){for(var i=e.length;i--;)r[i]=t.dotProd(e[i],n)},t.prototype.computeStepSize=function(e){for(var n=0,r=0,i=0;i<this.k;++i)n+=t.dotProd(this.g[i],e[i]),t.rightMultiply(this.H[i],e[i],this.Hd[i]),r+=t.dotProd(e[i],this.Hd[i]);return 0!==r&&isFinite(r)?1*n/r:0},t.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var t=this.computeStepSize(this.g),e=0;e<this.k;++e)this.takeDescentStep(this.x[e],this.g[e],t);return this.computeStress()},t.copy=function(t,e){for(var n=t.length,r=e[0].length,i=0;i<n;++i)for(var o=0;o<r;++o)e[i][o]=t[i][o]},t.prototype.stepAndProject=function(e,n,r,i){t.copy(e,n),this.takeDescentStep(n[0],r[0],i),this.project&&this.project[0](e[0],e[1],n[0]),this.takeDescentStep(n[1],r[1],i),this.project&&this.project[1](n[0],e[1],n[1]);for(var o=2;o<this.k;o++)this.takeDescentStep(n[o],r[o],i)},t.mApply=function(t,e,n){for(var r=t;r-- >0;)for(var i=e;i-- >0;)n(r,i)},t.prototype.matrixApply=function(e){t.mApply(this.k,this.n,e)},t.prototype.computeNextPosition=function(t,e){var n=this;this.computeDerivatives(t);var r=this.computeStepSize(this.g);if(this.stepAndProject(t,e,this.g,r),this.project){this.matrixApply((function(r,i){return n.e[r][i]=t[r][i]-e[r][i]}));var i=this.computeStepSize(this.e);i=Math.max(.2,Math.min(i,1)),this.stepAndProject(t,e,this.e,i)}},t.prototype.run=function(t){for(var e=Number.MAX_VALUE,n=!1;!n&&t-- >0;){var r=this.rungeKutta();n=Math.abs(e/r-1)<this.threshold,e=r}return e},t.prototype.rungeKutta=function(){var e=this;this.computeNextPosition(this.x,this.a),t.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),t.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var n=0;return this.matrixApply((function(t,r){var i=(e.a[t][r]+2*e.b[t][r]+2*e.c[t][r]+e.d[t][r])/6,o=e.x[t][r]-i;n+=o*o,e.x[t][r]=i})),n},t.mid=function(e,n,r){t.mApply(e.length,e[0].length,(function(t,i){return r[t][i]=e[t][i]+(n[t][i]-e[t][i])/2}))},t.prototype.takeDescentStep=function(t,e,n){for(var r=0;r<this.n;++r)t[r]=t[r]-n*e[r]},t.prototype.computeStress=function(){for(var t=0,e=0,n=this.n-1;e<n;++e)for(var r=e+1,i=this.n;r<i;++r){for(var o=0,a=0;a<this.k;++a){var s=this.x[a][e]-this.x[a][r];o+=s*s}o=Math.sqrt(o);var l=this.D[e][r];if(isFinite(l)){var u=l-o;t+=u*u/(l*l)}}return t},t.zeroDistance=1e-10,t}();e.Descent=r;var i=function(){function t(t){void 0===t&&(t=1),this.seed=t,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return t.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},t.prototype.getNextBetween=function(t,e){return t+this.getNext()*(e-t)},t}();e.PseudoRandom=i}));e(g_);g_.Locks,g_.Descent,g_.PseudoRandom;var y_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.scale=t,this.AB=0,this.AD=0,this.A2=0}return t.prototype.addVariable=function(t){var e=this.scale/t.scale,n=t.offset/t.scale,r=t.weight;this.AB+=r*e*n,this.AD+=r*e*t.desiredPosition,this.A2+=r*e*e},t.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},t}();e.PositionStats=n;var r=function(){function t(t,e,n,r){void 0===r&&(r=!1),this.left=t,this.right=e,this.gap=n,this.equality=r,this.active=!1,this.unsatisfiable=!1,this.left=t,this.right=e,this.gap=n,this.equality=r}return t.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},t}();e.Constraint=r;var i=function(){function t(t,e,n){void 0===e&&(e=1),void 0===n&&(n=1),this.desiredPosition=t,this.weight=e,this.scale=n,this.offset=0}return t.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},t.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},t.prototype.visitNeighbours=function(t,e){var n=function(n,r){return n.active&&t!==r&&e(n,r)};this.cOut.forEach((function(t){return n(t,t.right)})),this.cIn.forEach((function(t){return n(t,t.left)}))},t}();e.Variable=i;var o=function(){function t(t){this.vars=[],t.offset=0,this.ps=new n(t.scale),this.addVariable(t)}return t.prototype.addVariable=function(t){t.block=this,this.vars.push(t),this.ps.addVariable(t),this.posn=this.ps.getPosn()},t.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var t=0,e=this.vars.length;t<e;++t)this.ps.addVariable(this.vars[t]);this.posn=this.ps.getPosn()},t.prototype.compute_lm=function(t,e,n){var r=this,i=t.dfdv();return t.visitNeighbours(e,(function(e,o){var a=r.compute_lm(o,t,n);o===e.right?(i+=a*e.left.scale,e.lm=a):(i+=a*e.right.scale,e.lm=-a),n(e)})),i/t.scale},t.prototype.populateSplitBlock=function(t,e){var n=this;t.visitNeighbours(e,(function(e,r){r.offset=t.offset+(r===e.right?e.gap:-e.gap),n.addVariable(r),n.populateSplitBlock(r,t)}))},t.prototype.traverse=function(t,e,n,r){var i=this;void 0===n&&(n=this.vars[0]),void 0===r&&(r=null),n.visitNeighbours(r,(function(r,o){e.push(t(r)),i.traverse(t,e,o,n)}))},t.prototype.findMinLM=function(){var t=null;return this.compute_lm(this.vars[0],null,(function(e){!e.equality&&(null===t||e.lm<t.lm)&&(t=e)})),t},t.prototype.findMinLMBetween=function(t,e){this.compute_lm(t,null,(function(){}));var n=null;return this.findPath(t,null,e,(function(t,e){!t.equality&&t.right===e&&(null===n||t.lm<n.lm)&&(n=t)})),n},t.prototype.findPath=function(t,e,n,r){var i=this,o=!1;return t.visitNeighbours(e,(function(e,a){o||a!==n&&!i.findPath(a,t,n,r)||(o=!0,r(e,a))})),o},t.prototype.isActiveDirectedPathBetween=function(t,e){if(t===e)return!0;for(var n=t.cOut.length;n--;){var r=t.cOut[n];if(r.active&&this.isActiveDirectedPathBetween(r.right,e))return!0}return!1},t.split=function(e){return e.active=!1,[t.createSplitBlock(e.left),t.createSplitBlock(e.right)]},t.createSplitBlock=function(e){var n=new t(e);return n.populateSplitBlock(e,null),n},t.prototype.splitBetween=function(e,n){var r=this.findMinLMBetween(e,n);if(null!==r){var i=t.split(r);return{constraint:r,lb:i[0],rb:i[1]}}return null},t.prototype.mergeAcross=function(t,e,n){e.active=!0;for(var r=0,i=t.vars.length;r<i;++r){var o=t.vars[r];o.offset+=n,this.addVariable(o)}this.posn=this.ps.getPosn()},t.prototype.cost=function(){for(var t=0,e=this.vars.length;e--;){var n=this.vars[e],r=n.position()-n.desiredPosition;t+=r*r*n.weight}return t},t}();e.Block=o;var a=function(){function t(t){this.vs=t;var e=t.length;for(this.list=new Array(e);e--;){var n=new o(t[e]);this.list[e]=n,n.blockInd=e}}return t.prototype.cost=function(){for(var t=0,e=this.list.length;e--;)t+=this.list[e].cost();return t},t.prototype.insert=function(t){t.blockInd=this.list.length,this.list.push(t)},t.prototype.remove=function(t){var e=this.list.length-1,n=this.list[e];this.list.length=e,t!==n&&(this.list[t.blockInd]=n,n.blockInd=t.blockInd)},t.prototype.merge=function(t){var e=t.left.block,n=t.right.block,r=t.right.offset-t.left.offset-t.gap;e.vars.length<n.vars.length?(n.mergeAcross(e,t,r),this.remove(e)):(e.mergeAcross(n,t,-r),this.remove(n))},t.prototype.forEach=function(t){this.list.forEach(t)},t.prototype.updateBlockPositions=function(){this.list.forEach((function(t){return t.updateWeightedPosition()}))},t.prototype.split=function(t){var e=this;this.updateBlockPositions(),this.list.forEach((function(n){var r=n.findMinLM();null!==r&&r.lm<s.LAGRANGIAN_TOLERANCE&&(n=r.left.block,o.split(r).forEach((function(t){return e.insert(t)})),e.remove(n),t.push(r))}))},t}();e.Blocks=a;var s=function(){function t(t,e){this.vs=t,this.cs=e,this.vs=t,t.forEach((function(t){t.cIn=[],t.cOut=[]})),this.cs=e,e.forEach((function(t){t.left.cOut.push(t),t.right.cIn.push(t)})),this.inactive=e.map((function(t){return t.active=!1,t})),this.bs=null}return t.prototype.cost=function(){return this.bs.cost()},t.prototype.setStartingPositions=function(t){this.inactive=this.cs.map((function(t){return t.active=!1,t})),this.bs=new a(this.vs),this.bs.forEach((function(e,n){return e.posn=t[n]}))},t.prototype.setDesiredPositions=function(t){this.vs.forEach((function(e,n){return e.desiredPosition=t[n]}))},t.prototype.mostViolated=function(){for(var e=Number.MAX_VALUE,n=null,r=this.inactive,i=r.length,o=i,a=0;a<i;++a){var s=r[a];if(!s.unsatisfiable){var l=s.slack();if((s.equality||l<e)&&(e=l,n=s,o=a,s.equality))break}}return o!==i&&(e<t.ZERO_UPPERBOUND&&!n.active||n.equality)&&(r[o]=r[i-1],r.length=i-1),n},t.prototype.satisfy=function(){null==this.bs&&(this.bs=new a(this.vs)),this.bs.split(this.inactive);for(var e=null;(e=this.mostViolated())&&(e.equality||e.slack()<t.ZERO_UPPERBOUND&&!e.active);){var n=e.left.block;if(n!==e.right.block)this.bs.merge(e);else{if(n.isActiveDirectedPathBetween(e.right,e.left)){e.unsatisfiable=!0;continue}var r=n.splitBetween(e.left,e.right);if(null===r){e.unsatisfiable=!0;continue}this.bs.insert(r.lb),this.bs.insert(r.rb),this.bs.remove(n),this.inactive.push(r.constraint),e.slack()>=0?this.inactive.push(e):this.bs.merge(e)}}},t.prototype.solve=function(){this.satisfy();for(var t=Number.MAX_VALUE,e=this.bs.cost();Math.abs(t-e)>1e-4;)this.satisfy(),t=e,e=this.bs.cost();return e},t.LAGRANGIAN_TOLERANCE=-1e-4,t.ZERO_UPPERBOUND=-1e-10,t}();e.Solver=s,e.removeOverlapInOneDimension=function(t,e,n){for(var o=t.map((function(t){return new i(t.desiredCenter)})),a=[],l=t.length,u=0;u<l-1;u++){var c=t[u],h=t[u+1];a.push(new r(o[u],o[u+1],(c.size+h.size)/2))}var d=o[0],f=o[l-1],p=t[0].size/2,v=t[l-1].size/2,g=null,y=null;return e&&(g=new i(e,1e3*d.weight),o.push(g),a.push(new r(g,d,p))),n&&(y=new i(n,1e3*f.weight),o.push(y),a.push(new r(f,y,v))),new s(o,a).solve(),{newCenters:o.slice(0,t.length).map((function(t){return t.position()})),lowerBound:g?g.position():d.position()-p,upperBound:y?y.position():f.position()+v}}}));e(y_);y_.PositionStats,y_.Constraint,y_.Variable,y_.Block,y_.Blocks,y_.Solver,y_.removeOverlapInOneDimension;var m_=n((function(e,n){var r,i=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.findIter=function(t){for(var e=this._root,n=this.iterator();null!==e;){var r=this._comparator(t,e.data);if(0===r)return n._cursor=e,n;n._ancestors.push(e),e=e.get_child(r>0)}return null}}return t.prototype.clear=function(){this._root=null,this.size=0},t.prototype.find=function(t){for(var e=this._root;null!==e;){var n=this._comparator(t,e.data);if(0===n)return e.data;e=e.get_child(n>0)}return null},t.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},t.prototype.upperBound=function(t){var e=this._comparator;return this._bound(t,(function(t,n){return e(n,t)}))},t.prototype.min=function(){var t=this._root;if(null===t)return null;for(;null!==t.left;)t=t.left;return t.data},t.prototype.max=function(){var t=this._root;if(null===t)return null;for(;null!==t.right;)t=t.right;return t.data},t.prototype.iterator=function(){return new a(this)},t.prototype.each=function(t){for(var e,n=this.iterator();null!==(e=n.next());)t(e)},t.prototype.reach=function(t){for(var e,n=this.iterator();null!==(e=n.prev());)t(e)},t.prototype._bound=function(t,e){for(var n=this._root,r=this.iterator();null!==n;){var i=this._comparator(t,n.data);if(0===i)return r._cursor=n,r;r._ancestors.push(n),n=n.get_child(i>0)}for(var o=r._ancestors.length-1;o>=0;--o)if(e(t,(n=r._ancestors[o]).data)>0)return r._cursor=n,r._ancestors.length=o,r;return r._ancestors.length=0,r},t}();n.TreeBase=o;var a=function(){function t(t){this._tree=t,this._ancestors=[],this._cursor=null}return t.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},t.prototype.next=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._minNode(t)}else{var e;if(null===this._cursor.right)do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===e);else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},t.prototype.prev=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._maxNode(t)}else{var e;if(null===this._cursor.left)do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===e);else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},t.prototype._minNode=function(t){for(;null!==t.left;)this._ancestors.push(t),t=t.left;this._cursor=t},t.prototype._maxNode=function(t){for(;null!==t.right;)this._ancestors.push(t),t=t.right;this._cursor=t},t}();n.Iterator=a;var s=function(){function t(t){this.data=t,this.left=null,this.right=null,this.red=!0}return t.prototype.get_child=function(t){return t?this.right:this.left},t.prototype.set_child=function(t,e){t?this.right=e:this.left=e},t}(),l=function(t){function e(e){var n=t.call(this)||this;return n._root=null,n._comparator=e,n.size=0,n}return i(e,t),e.prototype.insert=function(t){var n=!1;if(null===this._root)this._root=new s(t),n=!0,this.size++;else{var r=new s(void 0),i=!1,o=!1,a=null,l=r,u=null,c=this._root;for(l.right=this._root;;){if(null===c?(c=new s(t),u.set_child(i,c),n=!0,this.size++):e.is_red(c.left)&&e.is_red(c.right)&&(c.red=!0,c.left.red=!1,c.right.red=!1),e.is_red(c)&&e.is_red(u)){var h=l.right===a;c===u.get_child(o)?l.set_child(h,e.single_rotate(a,!o)):l.set_child(h,e.double_rotate(a,!o))}var d=this._comparator(c.data,t);if(0===d)break;o=i,i=d<0,null!==a&&(l=a),a=u,u=c,c=c.get_child(i)}this._root=r.right}return this._root.red=!1,n},e.prototype.remove=function(t){if(null===this._root)return!1;var n=new s(void 0),r=n;r.right=this._root;for(var i=null,o=null,a=null,l=!0;null!==r.get_child(l);){var u=l;o=i,i=r,r=r.get_child(l);var c=this._comparator(t,r.data);if(l=c>0,0===c&&(a=r),!e.is_red(r)&&!e.is_red(r.get_child(l)))if(e.is_red(r.get_child(!l))){var h=e.single_rotate(r,l);i.set_child(u,h),i=h}else if(!e.is_red(r.get_child(!l))){var d=i.get_child(!u);if(null!==d)if(e.is_red(d.get_child(!u))||e.is_red(d.get_child(u))){var f=o.right===i;e.is_red(d.get_child(u))?o.set_child(f,e.double_rotate(i,u)):e.is_red(d.get_child(!u))&&o.set_child(f,e.single_rotate(i,u));var p=o.get_child(f);p.red=!0,r.red=!0,p.left.red=!1,p.right.red=!1}else i.red=!1,d.red=!0,r.red=!0}}return null!==a&&(a.data=r.data,i.set_child(i.right===r,r.get_child(null===r.left)),this.size--),this._root=n.right,null!==this._root&&(this._root.red=!1),null!==a},e.is_red=function(t){return null!==t&&t.red},e.single_rotate=function(t,e){var n=t.get_child(!e);return t.set_child(!e,n.get_child(e)),n.set_child(e,t),t.red=!0,n.red=!1,n},e.double_rotate=function(t,n){return t.set_child(!n,e.single_rotate(t.get_child(!n),!n)),e.single_rotate(t,n)},e}(o);n.RBTree=l}));e(m_);m_.TreeBase,m_.Iterator,m_.RBTree;var b_=n((function(e,n){var r,i=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function o(t){return t.bounds=void 0!==t.leaves?t.leaves.reduce((function(t,e){return e.bounds.union(t)}),a.empty()):a.empty(),void 0!==t.groups&&(t.bounds=t.groups.reduce((function(t,e){return o(e).union(t)}),t.bounds)),t.bounds=t.bounds.inflate(t.padding),t.bounds}Object.defineProperty(n,"__esModule",{value:!0}),n.computeGroupBounds=o;var a=function(){function t(t,e,n,r){this.x=t,this.X=e,this.y=n,this.Y=r}return t.empty=function(){return new t(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},t.prototype.cx=function(){return(this.x+this.X)/2},t.prototype.cy=function(){return(this.y+this.Y)/2},t.prototype.overlapX=function(t){var e=this.cx(),n=t.cx();return e<=n&&t.x<this.X?this.X-t.x:n<=e&&this.x<t.X?t.X-this.x:0},t.prototype.overlapY=function(t){var e=this.cy(),n=t.cy();return e<=n&&t.y<this.Y?this.Y-t.y:n<=e&&this.y<t.Y?t.Y-this.y:0},t.prototype.setXCentre=function(t){var e=t-this.cx();this.x+=e,this.X+=e},t.prototype.setYCentre=function(t){var e=t-this.cy();this.y+=e,this.Y+=e},t.prototype.width=function(){return this.X-this.x},t.prototype.height=function(){return this.Y-this.y},t.prototype.union=function(e){return new t(Math.min(this.x,e.x),Math.max(this.X,e.X),Math.min(this.y,e.y),Math.max(this.Y,e.Y))},t.prototype.lineIntersections=function(e,n,r,i){for(var o=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],a=[],s=0;s<4;++s){var l=t.lineIntersection(e,n,r,i,o[s][0],o[s][1],o[s][2],o[s][3]);null!==l&&a.push({x:l.x,y:l.y})}return a},t.prototype.rayIntersection=function(t,e){var n=this.lineIntersections(this.cx(),this.cy(),t,e);return n.length>0?n[0]:null},t.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},t.lineIntersection=function(t,e,n,r,i,o,a,s){var l=n-t,u=a-i,c=r-e,h=s-o,d=h*l-u*c;if(0==d)return null;var f=t-i,p=e-o,v=(u*p-h*f)/d,g=(l*p-c*f)/d;return v>=0&&v<=1&&g>=0&&g<=1?{x:t+v*l,y:e+v*c}:null},t.prototype.inflate=function(e){return new t(this.x-e,this.X+e,this.y-e,this.Y+e)},t}();n.Rectangle=a,n.makeEdgeBetween=function(t,e,n){var r=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},i=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},o=i.x-r.x,a=i.y-r.y,s=Math.sqrt(o*o+a*a),l=s-n;return{sourceIntersection:r,targetIntersection:i,arrowStart:{x:r.x+l*o/s,y:r.y+l*a/s}}},n.makeEdgeTo=function(t,e,n){var r=e.rayIntersection(t.x,t.y);r||(r={x:e.cx(),y:e.cy()});var i=r.x-t.x,o=r.y-t.y,a=Math.sqrt(i*i+o*o);return{x:r.x-n*i/a,y:r.y-n*o/a}};var s=function(t,e,n){this.v=t,this.r=e,this.pos=n,this.prev=c(),this.next=c()},l=function(t,e,n){this.isOpen=t,this.v=e,this.pos=n};function u(t,e){return t.pos>e.pos?1:t.pos<e.pos?-1:t.isOpen?-1:e.isOpen?1:0}function c(){return new m_.RBTree((function(t,e){return t.pos-e.pos}))}var h={getCentre:function(t){return t.cx()},getOpen:function(t){return t.y},getClose:function(t){return t.Y},getSize:function(t){return t.width()},makeRect:function(t,e,n,r){return new a(n-r/2,n+r/2,t,e)},findNeighbours:function(t,e){var n=function(n,r){for(var i,o=e.findIter(t);null!==(i=o[n]());){var a=i.r.overlapX(t.r);if((a<=0||a<=i.r.overlapY(t.r))&&(t[n].insert(i),i[r].insert(t)),a<=0)break}};n("next","prev"),n("prev","next")}},d={getCentre:function(t){return t.cy()},getOpen:function(t){return t.x},getClose:function(t){return t.X},getSize:function(t){return t.height()},makeRect:function(t,e,n,r){return new a(t,e,n-r/2,n+r/2)},findNeighbours:function(t,e){var n=function(n,r){var i=e.findIter(t)[n]();null!==i&&i.r.overlapX(t.r)>0&&(t[n].insert(i),i[r].insert(t))};n("next","prev"),n("prev","next")}};function f(t,e,n,r){void 0===r&&(r=!1);var i=t.padding,o=void 0!==t.groups?t.groups.length:0,a=void 0!==t.leaves?t.leaves.length:0,s=o?t.groups.reduce((function(t,r){return t.concat(f(r,e,n,!0))}),[]):[],l=(r?2:0)+a+o,u=new Array(l),c=new Array(l),h=0,d=function(t,e){c[h]=t,u[h++]=e};if(r){var v=t.bounds,g=e.getCentre(v),y=e.getSize(v)/2,m=e.getOpen(v),b=e.getClose(v),w=g-y+i/2,_=g+y-i/2;t.minVar.desiredPosition=w,d(e.makeRect(m,b,w,i),t.minVar),t.maxVar.desiredPosition=_,d(e.makeRect(m,b,_,i),t.maxVar)}a&&t.leaves.forEach((function(t){return d(t.bounds,t.variable)})),o&&t.groups.forEach((function(t){var n=t.bounds;d(e.makeRect(e.getOpen(n),e.getClose(n),e.getCentre(n),e.getSize(n)),t.minVar)}));var x=p(c,u,e,n);return o&&(u.forEach((function(t){t.cOut=[],t.cIn=[]})),x.forEach((function(t){t.left.cOut.push(t),t.right.cIn.push(t)})),t.groups.forEach((function(t){var n=(t.padding-e.getSize(t.bounds))/2;t.minVar.cIn.forEach((function(t){return t.gap+=n})),t.minVar.cOut.forEach((function(e){e.left=t.maxVar,e.gap+=n}))}))),s.concat(x)}function p(t,e,n,r){var i,o=t.length,a=2*o;console.assert(e.length>=o);var h=new Array(a);for(i=0;i<o;++i){var d=t[i],f=new s(e[i],d,n.getCentre(d));h[i]=new l(!0,f,n.getOpen(d)),h[i+o]=new l(!1,f,n.getClose(d))}h.sort(u);var p=new Array,v=c();for(i=0;i<a;++i){var g=h[i];f=g.v;if(g.isOpen)v.insert(f),n.findNeighbours(f,v);else{v.remove(f);var y=function(t,e){var i=(n.getSize(t.r)+n.getSize(e.r))/2+r;p.push(new y_.Constraint(t.v,e.v,i))},m=function(t,e,n){for(var r,i=f[t].iterator();null!==(r=i[t]());)n(r,f),r[e].remove(f)};m("prev","next",(function(t,e){return y(t,e)})),m("next","prev",(function(t,e){return y(e,t)}))}}return console.assert(0===v.size),p}function v(t,e){return p(t,e,h,1e-6)}function g(t,e){return p(t,e,d,1e-6)}function y(t){return f(t,h,1e-6)}function m(t){return f(t,d,1e-6)}n.generateXConstraints=v,n.generateYConstraints=g,n.generateXGroupConstraints=y,n.generateYGroupConstraints=m,n.removeOverlaps=function(t){var e=t.map((function(t){return new y_.Variable(t.cx())})),n=v(t,e),r=new y_.Solver(e,n);r.solve(),e.forEach((function(e,n){return t[n].setXCentre(e.position())})),e=t.map((function(t){return new y_.Variable(t.cy())})),n=g(t,e),(r=new y_.Solver(e,n)).solve(),e.forEach((function(e,n){return t[n].setYCentre(e.position())}))};var b=function(t){function e(e,n){var r=t.call(this,0,n)||this;return r.index=e,r}return i(e,t),e}(y_.Variable);n.IndexedVariable=b;var w=function(){function t(t,e,n,r,i){var s=this;if(void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=!1),this.nodes=t,this.groups=e,this.rootGroup=n,this.avoidOverlaps=i,this.variables=t.map((function(t,e){return t.variable=new b(e,1)})),r&&this.createConstraints(r),i&&n&&void 0!==n.groups){t.forEach((function(t){if(t.width&&t.height){var e=t.width/2,n=t.height/2;t.bounds=new a(t.x-e,t.x+e,t.y-n,t.y+n)}else t.bounds=new a(t.x,t.x,t.y,t.y)})),o(n);var l=t.length;e.forEach((function(t){s.variables[l]=t.minVar=new b(l++,void 0!==t.stiffness?t.stiffness:.01),s.variables[l]=t.maxVar=new b(l++,void 0!==t.stiffness?t.stiffness:.01)}))}}return t.prototype.createSeparation=function(t){return new y_.Constraint(this.nodes[t.left].variable,this.nodes[t.right].variable,t.gap,void 0!==t.equality&&t.equality)},t.prototype.makeFeasible=function(t){var e=this;if(this.avoidOverlaps){var n="x",r="width";"x"===t.axis&&(n="y",r="height");var i=t.offsets.map((function(t){return e.nodes[t.node]})).sort((function(t,e){return t[n]-e[n]})),o=null;i.forEach((function(t){if(o){var e=o[n]+o[r];e>t[n]&&(t[n]=e)}o=t}))}},t.prototype.createAlignment=function(t){var e=this,n=this.nodes[t.offsets[0].node].variable;this.makeFeasible(t);var r="x"===t.axis?this.xConstraints:this.yConstraints;t.offsets.slice(1).forEach((function(t){var i=e.nodes[t.node].variable;r.push(new y_.Constraint(n,i,t.offset,!0))}))},t.prototype.createConstraints=function(t){var e=this,n=function(t){return void 0===t.type||"separation"===t.type};this.xConstraints=t.filter((function(t){return"x"===t.axis&&n(t)})).map((function(t){return e.createSeparation(t)})),this.yConstraints=t.filter((function(t){return"y"===t.axis&&n(t)})).map((function(t){return e.createSeparation(t)})),t.filter((function(t){return"alignment"===t.type})).forEach((function(t){return e.createAlignment(t)}))},t.prototype.setupVariablesAndBounds=function(t,e,n,r){this.nodes.forEach((function(i,o){i.fixed?(i.variable.weight=i.fixedWeight?i.fixedWeight:1e3,n[o]=r(i)):i.variable.weight=1;var s=(i.width||0)/2,l=(i.height||0)/2,u=t[o],c=e[o];i.bounds=new a(u-s,u+s,c-l,c+l)}))},t.prototype.xProject=function(t,e,n){(this.rootGroup||this.avoidOverlaps||this.xConstraints)&&this.project(t,e,t,n,(function(t){return t.px}),this.xConstraints,y,(function(t){return t.bounds.setXCentre(n[t.variable.index]=t.variable.position())}),(function(t){var e=n[t.minVar.index]=t.minVar.position(),r=n[t.maxVar.index]=t.maxVar.position(),i=t.padding/2;t.bounds.x=e-i,t.bounds.X=r+i}))},t.prototype.yProject=function(t,e,n){(this.rootGroup||this.yConstraints)&&this.project(t,e,e,n,(function(t){return t.py}),this.yConstraints,m,(function(t){return t.bounds.setYCentre(n[t.variable.index]=t.variable.position())}),(function(t){var e=n[t.minVar.index]=t.minVar.position(),r=n[t.maxVar.index]=t.maxVar.position(),i=t.padding/2;t.bounds.y=e-i,t.bounds.Y=r+i}))},t.prototype.projectFunctions=function(){var t=this;return[function(e,n,r){return t.xProject(e,n,r)},function(e,n,r){return t.yProject(e,n,r)}]},t.prototype.project=function(t,e,n,r,i,a,s,l,u){this.setupVariablesAndBounds(t,e,r,i),this.rootGroup&&this.avoidOverlaps&&(o(this.rootGroup),a=a.concat(s(this.rootGroup))),this.solve(this.variables,a,n,r),this.nodes.forEach(l),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(u),o(this.rootGroup))},t.prototype.solve=function(t,e,n,r){var i=new y_.Solver(t,e);i.setStartingPositions(n),i.setDesiredPositions(r),i.solve()},t}();n.Projection=w}));e(b_);b_.computeGroupBounds,b_.Rectangle,b_.makeEdgeBetween,b_.makeEdgeTo,b_.generateXConstraints,b_.generateYConstraints,b_.generateXGroupConstraints,b_.generateYGroupConstraints,b_.removeOverlaps,b_.IndexedVariable,b_.Projection;var w_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.elem=t,this.subheaps=[]}return t.prototype.toString=function(t){for(var e="",n=!1,r=0;r<this.subheaps.length;++r){var i=this.subheaps[r];i.elem?(n&&(e+=","),e+=i.toString(t),n=!0):n=!1}return""!==e&&(e="("+e+")"),(this.elem?t(this.elem):"")+e},t.prototype.forEach=function(t){this.empty()||(t(this.elem,this),this.subheaps.forEach((function(e){return e.forEach(t)})))},t.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce((function(t,e){return t+e.count()}),0)},t.prototype.min=function(){return this.elem},t.prototype.empty=function(){return null==this.elem},t.prototype.contains=function(t){if(this===t)return!0;for(var e=0;e<this.subheaps.length;e++)if(this.subheaps[e].contains(t))return!0;return!1},t.prototype.isHeap=function(t){var e=this;return this.subheaps.every((function(n){return t(e.elem,n.elem)&&n.isHeap(t)}))},t.prototype.insert=function(e,n){return this.merge(new t(e),n)},t.prototype.merge=function(t,e){return this.empty()?t:t.empty()?this:e(this.elem,t.elem)?(this.subheaps.push(t),this):(t.subheaps.push(this),t)},t.prototype.removeMin=function(t){return this.empty()?null:this.mergePairs(t)},t.prototype.mergePairs=function(e){if(0==this.subheaps.length)return new t(null);if(1==this.subheaps.length)return this.subheaps[0];var n=this.subheaps.pop().merge(this.subheaps.pop(),e),r=this.mergePairs(e);return n.merge(r,e)},t.prototype.decreaseKey=function(e,n,r,i){var o=e.removeMin(i);e.elem=o.elem,e.subheaps=o.subheaps,null!==r&&null!==o.elem&&r(e.elem,e);var a=new t(n);return null!==r&&r(n,a),this.merge(a,i)},t}();e.PairingHeap=n;var r=function(){function t(t){this.lessThan=t}return t.prototype.top=function(){return this.empty()?null:this.root.elem},t.prototype.push=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i,o=0;i=e[o];++o)t=new n(i),this.root=this.empty()?t:this.root.merge(t,this.lessThan);return t},t.prototype.empty=function(){return!this.root||!this.root.elem},t.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},t.prototype.forEach=function(t){this.root.forEach(t)},t.prototype.pop=function(){if(this.empty())return null;var t=this.root.min();return this.root=this.root.removeMin(this.lessThan),t},t.prototype.reduceKey=function(t,e,n){void 0===n&&(n=null),this.root=this.root.decreaseKey(t,e,n,this.lessThan)},t.prototype.toString=function(t){return this.root.toString(t)},t.prototype.count=function(){return this.root.count()},t}();e.PriorityQueue=r}));e(w_);w_.PairingHeap,w_.PriorityQueue;var __=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){this.id=t,this.distance=e},r=function(t){this.id=t,this.neighbours=[]},i=function(t,e,n){this.node=t,this.prev=e,this.d=n},o=function(){function t(t,e,i,o,a){this.n=t,this.es=e,this.neighbours=new Array(this.n);for(var s=this.n;s--;)this.neighbours[s]=new r(s);for(s=this.es.length;s--;){var l=this.es[s],u=i(l),c=o(l),h=a(l);this.neighbours[u].neighbours.push(new n(c,h)),this.neighbours[c].neighbours.push(new n(u,h))}}return t.prototype.DistanceMatrix=function(){for(var t=new Array(this.n),e=0;e<this.n;++e)t[e]=this.dijkstraNeighbours(e);return t},t.prototype.DistancesFromNode=function(t){return this.dijkstraNeighbours(t)},t.prototype.PathFromNodeToNode=function(t,e){return this.dijkstraNeighbours(t,e)},t.prototype.PathFromNodeToNodeWithPrevCost=function(t,e,n){var r=new w_.PriorityQueue((function(t,e){return t.d<=e.d})),o=this.neighbours[t],a=new i(o,null,0),s={};for(r.push(a);!r.empty()&&(o=(a=r.pop()).node).id!==e;)for(var l=o.neighbours.length;l--;){var u=o.neighbours[l],c=this.neighbours[u.id];if(!a.prev||c.id!==a.prev.node.id){var h=c.id+","+o.id;if(!(h in s&&s[h]<=a.d)){var d=a.prev?n(a.prev.node.id,o.id,c.id):0,f=a.d+u.distance+d;s[h]=f,r.push(new i(c,a,f))}}}for(var p=[];a.prev;)a=a.prev,p.push(a.node.id);return p},t.prototype.dijkstraNeighbours=function(t,e){void 0===e&&(e=-1);for(var n=new w_.PriorityQueue((function(t,e){return t.d<=e.d})),r=this.neighbours.length,i=new Array(r);r--;){var o=this.neighbours[r];o.d=r===t?0:Number.POSITIVE_INFINITY,o.q=n.push(o)}for(;!n.empty();){var a=n.pop();if(i[a.id]=a.d,a.id===e){for(var s=[],l=a;void 0!==l.prev;)s.push(l.prev.id),l=l.prev;return s}for(r=a.neighbours.length;r--;){var u=a.neighbours[r],c=(l=this.neighbours[u.id],a.d+u.distance);a.d!==Number.MAX_VALUE&&l.d>c&&(l.d=c,l.prev=a,n.reduceKey(l.q,l,(function(t,e){return t.q=e})))}}return i},t}();e.Calculator=o}));e(__);__.Calculator;var x_=n((function(e,n){var r,i=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(){};n.Point=o;var a=function(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r};n.LineSegment=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o);function l(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)}function u(t,e,n){return l(t,e,n)>0}function c(t,e,n){return l(t,e,n)<0}function h(t,e){var n,r,i,o,a=e.length-1;if(c(t,e[1],e[0])&&!u(t,e[a-1],e[0]))return 0;for(n=0,r=a;;){if(r-n==1)return u(t,e[n],e[r])?n:r;if((o=c(t,e[(i=Math.floor((n+r)/2))+1],e[i]))&&!u(t,e[i-1],e[i]))return i;u(t,e[n+1],e[n])?o?r=i:u(t,e[n],e[i])?r=i:n=i:o&&c(t,e[n],e[i])?r=i:n=i}}function d(t,e){var n,r,i,o,a=e.length-1;if(u(t,e[a-1],e[0])&&!c(t,e[1],e[0]))return 0;for(n=0,r=a;;){if(r-n==1)return c(t,e[n],e[r])?n:r;if(o=c(t,e[(i=Math.floor((n+r)/2))+1],e[i]),u(t,e[i-1],e[i])&&!o)return i;c(t,e[n+1],e[n])?o?c(t,e[n],e[i])?r=i:n=i:r=i:o?n=i:u(t,e[n],e[i])?r=i:n=i}}function f(t,e,n,r,i,o){var a,s;s=r(t[a=n(e[0],t)],e);for(var l=!1;!l;){for(l=!0;a===t.length-1&&(a=0),!i(e[s],t[a],t[a+1]);)++a;for(;0===s&&(s=e.length-1),!o(t[a],e[s],e[s-1]);)--s,l=!1}return{t1:a,t2:s}}function p(t,e){return f(t,e,h,d,u,c)}n.PolyPoint=s,n.isLeft=l,n.ConvexHull=function(t){var e,n=t.slice(0).sort((function(t,e){return t.x!==e.x?e.x-t.x:e.y-t.y})),r=t.length,i=n[0].x;for(e=1;e<r&&n[e].x===i;++e);var o=e-1,a=[];if(a.push(n[0]),o===r-1)n[o].y!==n[0].y&&a.push(n[o]);else{var s,u=r-1,c=n[r-1].x;for(e=r-2;e>=0&&n[e].x===c;e--);for(s=e+1,e=o;++e<=s;)if(!(l(n[0],n[s],n[e])>=0&&e<s)){for(;a.length>1&&!(l(a[a.length-2],a[a.length-1],n[e])>0);)a.length-=1;0!=e&&a.push(n[e])}u!=s&&a.push(n[u]);var h=a.length;for(e=s;--e>=o;)if(!(l(n[u],n[o],n[e])>=0&&e>o)){for(;a.length>h&&!(l(a[a.length-2],a[a.length-1],n[e])>0);)a.length-=1;0!=e&&a.push(n[e])}}return a},n.clockwiseRadialSweep=function(t,e,n){e.slice(0).sort((function(e,n){return Math.atan2(e.y-t.y,e.x-t.x)-Math.atan2(n.y-t.y,n.x-t.x)})).forEach(n)},n.tangent_PolyPolyC=f,n.LRtangent_PolyPolyC=function(t,e){var n=p(e,t);return{t1:n.t2,t2:n.t1}},n.RLtangent_PolyPolyC=p,n.LLtangent_PolyPolyC=function(t,e){return f(t,e,d,d,c,c)},n.RRtangent_PolyPolyC=function(t,e){return f(t,e,h,h,u,u)};var v=function(t,e){this.t1=t,this.t2=e};n.BiTangent=v;var g=function(){};n.BiTangents=g;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o);n.TVGPoint=y;var m=function(t,e,n,r){this.id=t,this.polyid=e,this.polyvertid=n,this.p=r,r.vv=this};n.VisibilityVertex=m;var b=function(){function t(t,e){this.source=t,this.target=e}return t.prototype.length=function(){var t=this.source.p.x-this.target.p.x,e=this.source.p.y-this.target.p.y;return Math.sqrt(t*t+e*e)},t}();n.VisibilityEdge=b;var w=function(){function t(t,e){if(this.P=t,this.V=[],this.E=[],e)this.V=e.V.slice(0),this.E=e.E.slice(0);else{for(var n=t.length,r=0;r<n;r++){for(var i=t[r],o=0;o<i.length;++o){var a=i[o],s=new m(this.V.length,r,o,a);this.V.push(s),o>0&&this.E.push(new b(i[o-1].vv,s))}i.length>1&&this.E.push(new b(i[0].vv,i[i.length-1].vv))}for(r=0;r<n-1;r++){var l=t[r];for(o=r+1;o<n;o++){var u=t[o],c=x(l,u);for(var h in c){var d=c[h],f=l[d.t1],p=u[d.t2];this.addEdgeIfVisible(f,p,r,o)}}}}}return t.prototype.addEdgeIfVisible=function(t,e,n,r){this.intersectsPolys(new a(t.x,t.y,e.x,e.y),n,r)||this.E.push(new b(t.vv,e.vv))},t.prototype.addPoint=function(t,e){var n,r,i,o=this.P.length;this.V.push(new m(this.V.length,o,0,t));for(var a=0;a<o;++a)if(a!==e){var s=this.P[a],l=(n=t,i=void 0,(i=(r=s).slice(0)).push(r[0]),{rtan:h(n,i),ltan:d(n,i)});this.addEdgeIfVisible(t,s[l.ltan],e,a),this.addEdgeIfVisible(t,s[l.rtan],e,a)}return t.vv},t.prototype.intersectsPolys=function(t,e,n){for(var r=0,i=this.P.length;r<i;++r)if(r!=e&&r!=n&&_(t,this.P[r]).length>0)return!0;return!1},t}();function _(t,e){for(var n=[],r=1,i=e.length;r<i;++r){var o=b_.Rectangle.lineIntersection(t.x1,t.y1,t.x2,t.y2,e[r-1].x,e[r-1].y,e[r].x,e[r].y);o&&n.push(o)}return n}function x(t,e){for(var n=t.length-1,r=e.length-1,i=new g,o=0;o<n;++o)for(var a=0;a<r;++a){var s=t[0==o?n-1:o-1],u=t[o],c=t[o+1],h=e[0==a?r-1:a-1],d=e[a],f=e[a+1],p=l(s,u,d),y=l(u,h,d),m=l(u,d,f),b=l(h,d,u),w=l(d,s,u),_=l(d,u,c);p>=0&&y>=0&&m<0&&b>=0&&w>=0&&_<0?i.ll=new v(o,a):p<=0&&y<=0&&m>0&&b<=0&&w<=0&&_>0?i.rr=new v(o,a):p<=0&&y>0&&m<=0&&b>=0&&w<0&&_>=0?i.rl=new v(o,a):p>=0&&y<0&&m>=0&&b<=0&&w>0&&_<=0&&(i.lr=new v(o,a))}return i}function E(t,e){return!t.every((function(t){return!function(t,e){for(var n=1,r=e.length;n<r;++n)if(c(e[n-1],e[n],t))return!1;return!0}(t,e)}))}n.TangentVisibilityGraph=w,n.tangents=x,n.polysOverlap=function(t,e){if(E(t,e))return!0;if(E(e,t))return!0;for(var n=1,r=t.length;n<r;++n){var i=t[n],o=t[n-1];if(_(new a(o.x,o.y,i.x,i.y),e).length>0)return!0}return!1}}));e(x_);x_.Point,x_.LineSegment,x_.PolyPoint,x_.isLeft,x_.ConvexHull,x_.clockwiseRadialSweep,x_.tangent_PolyPolyC,x_.LRtangent_PolyPolyC,x_.RLtangent_PolyPolyC,x_.LLtangent_PolyPolyC,x_.RRtangent_PolyPolyC,x_.BiTangent,x_.BiTangents,x_.TVGPoint,x_.VisibilityVertex,x_.VisibilityEdge,x_.TangentVisibilityGraph,x_.tangents,x_.polysOverlap;var E_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};e.applyPacking=function(t,e,r,i,o,a){void 0===o&&(o=1),void 0===a&&(a=!0);var s=0,l=0,u=e,c=r,h=(o=void 0!==o?o:1,i=void 0!==i?i:0,0),d=0,f=0,p=0,v=[];function g(t,e){v=[],h=0,d=0,p=l;for(var n=0;n<t.length;n++){y(t[n],e)}return Math.abs(h/d-o)}function y(t,e){for(var r=void 0,i=0;i<v.length;i++)if(v[i].space_left>=t.height&&v[i].x+v[i].width+t.width+n.PADDING-e<=n.FLOAT_EPSILON){r=v[i];break}v.push(t),void 0!==r?(t.x=r.x+r.width+n.PADDING,t.y=r.bottom,t.space_left=t.height,t.bottom=t.y,r.space_left-=t.height+n.PADDING,r.bottom+=t.height+n.PADDING):(t.y=p,p+=t.height+n.PADDING,t.x=s,t.bottom=t.y,t.space_left=t.height),t.y+t.height-d>-n.FLOAT_EPSILON&&(d=t.y+t.height-l),t.x+t.width-h>-n.FLOAT_EPSILON&&(h=t.x+t.width-s)}0!=t.length&&(function(t){t.forEach((function(t){var e,n,r,o,a;e=t,n=Number.MAX_VALUE,r=Number.MAX_VALUE,o=0,a=0,e.array.forEach((function(t){var e=void 0!==t.width?t.width:i,s=void 0!==t.height?t.height:i;e/=2,s/=2,o=Math.max(t.x+e,o),n=Math.min(t.x-e,n),a=Math.max(t.y+s,a),r=Math.min(t.y-s,r)})),e.width=o-n,e.height=a-r}))}(t),function(t,e){var r=Number.POSITIVE_INFINITY,i=0;t.sort((function(t,e){return e.height-t.height})),f=t.reduce((function(t,e){return t.width<e.width?t.width:e.width}));var o=p=f,a=v=function(t){var e=0;return t.forEach((function(t){return e+=t.width+n.PADDING})),e}(t),s=0,l=Number.MAX_VALUE,u=Number.MAX_VALUE,c=-1,h=Number.MAX_VALUE,d=Number.MAX_VALUE;for(;h>f||d>n.FLOAT_EPSILON;){if(1!=c){var p=a-(a-o)/n.GOLDEN_SECTION;l=g(t,p)}if(0!=c){var v=o+(a-o)/n.GOLDEN_SECTION;u=g(t,v)}if(h=Math.abs(p-v),d=Math.abs(l-u),l<r&&(r=l,i=p),u<r&&(r=u,i=v),l>u?(o=p,p=v,l=u,c=1):(a=v,v=p,u=l,c=0),s++>100)break}g(t,i)}(t),a&&function(t){t.forEach((function(t){var e={x:0,y:0};t.array.forEach((function(t){e.x+=t.x,e.y+=t.y})),e.x/=t.array.length,e.y/=t.array.length;var n=e.x-t.width/2,r=e.y-t.height/2,i=t.x-n+u/2-h/2,o=t.y-r+c/2-d/2;t.array.forEach((function(t){t.x+=i,t.y+=o}))}))}(t))},e.separateGraphs=function(t,e){for(var n={},r={},i=[],o=0,a=0;a<e.length;a++){var s=e[a],l=s.source,u=s.target;r[l.index]?r[l.index].push(u):r[l.index]=[u],r[u.index]?r[u.index].push(l):r[u.index]=[l]}for(a=0;a<t.length;a++){var c=t[a];n[c.index]||h(c,!0)}function h(t,e){if(void 0===n[t.index]){e&&(o++,i.push({array:[]})),n[t.index]=o,i[o-1].array.push(t);var a=r[t.index];if(a)for(var s=0;s<a.length;s++)h(a[s],!1)}}return i}}));e(E_);E_.applyPacking,E_.separateGraphs;var S_=n((function(t,e){var n;function r(t){return void 0!==t.leaves||void 0!==t.groups}Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.start=0]="start",t[t.tick=1]="tick",t[t.end=2]="end"}(n=e.EventType||(e.EventType={}));var i=function(){function t(){var e=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:t.getSourceIndex,getTargetIndex:t.getTargetIndex,setLength:t.setLinkLength,getType:function(t){return"function"==typeof e._linkType?e._linkType(t):0}}}return t.prototype.on=function(t,e){return this.event||(this.event={}),"string"==typeof t?this.event[n[t]]=e:this.event[t]=e,this},t.prototype.trigger=function(t){this.event&&void 0!==this.event[t.type]&&this.event[t.type](t)},t.prototype.kick=function(){for(;!this.tick(););},t.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:n.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var t,e,r=this._nodes.length;this._links.length;for(this._descent.locks.clear(),e=0;e<r;++e)if((t=this._nodes[e]).fixed){void 0!==t.px&&void 0!==t.py||(t.px=t.x,t.py=t.y);var i=[t.px,t.py];this._descent.locks.add(e,i)}var o=this._descent.rungeKutta();return 0===o?this._alpha=0:void 0!==this._lastStress&&(this._alpha=o),this._lastStress=o,this.updateNodePositions(),this.trigger({type:n.tick,alpha:this._alpha,stress:this._lastStress}),!1},t.prototype.updateNodePositions=function(){for(var t,e=this._descent.x[0],n=this._descent.x[1],r=this._nodes.length;r--;)(t=this._nodes[r]).x=e[r],t.y=n[r]},t.prototype.nodes=function(t){if(!t){if(0===this._nodes.length&&this._links.length>0){var e=0;this._links.forEach((function(t){e=Math.max(e,t.source,t.target)})),this._nodes=new Array(++e);for(var n=0;n<e;++n)this._nodes[n]={}}return this._nodes}return this._nodes=t,this},t.prototype.groups=function(t){var e=this;return t?(this._groups=t,this._rootGroup={},this._groups.forEach((function(t){void 0===t.padding&&(t.padding=1),void 0!==t.leaves&&t.leaves.forEach((function(n,r){"number"==typeof n&&((t.leaves[r]=e._nodes[n]).parent=t)})),void 0!==t.groups&&t.groups.forEach((function(n,r){"number"==typeof n&&((t.groups[r]=e._groups[n]).parent=t)}))})),this._rootGroup.leaves=this._nodes.filter((function(t){return void 0===t.parent})),this._rootGroup.groups=this._groups.filter((function(t){return void 0===t.parent})),this):this._groups},t.prototype.powerGraphGroups=function(t){var e=p_.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(e.groups),t(e),this},t.prototype.avoidOverlaps=function(t){return arguments.length?(this._avoidOverlaps=t,this):this._avoidOverlaps},t.prototype.handleDisconnected=function(t){return arguments.length?(this._handleDisconnected=t,this):this._handleDisconnected},t.prototype.flowLayout=function(t,e){return arguments.length||(t="y"),this._directedLinkConstraints={axis:t,getMinSeparation:"number"==typeof e?function(){return e}:e},this},t.prototype.links=function(t){return arguments.length?(this._links=t,this):this._links},t.prototype.constraints=function(t){return arguments.length?(this._constraints=t,this):this._constraints},t.prototype.distanceMatrix=function(t){return arguments.length?(this._distanceMatrix=t,this):this._distanceMatrix},t.prototype.size=function(t){return t?(this._canvasSize=t,this):this._canvasSize},t.prototype.defaultNodeSize=function(t){return t?(this._defaultNodeSize=t,this):this._defaultNodeSize},t.prototype.groupCompactness=function(t){return t?(this._groupCompactness=t,this):this._groupCompactness},t.prototype.linkDistance=function(t){return t?(this._linkDistance="function"==typeof t?t:+t,this._linkLengthCalculator=null,this):this._linkDistance},t.prototype.linkType=function(t){return this._linkType=t,this},t.prototype.convergenceThreshold=function(t){return t?(this._threshold="function"==typeof t?t:+t,this):this._threshold},t.prototype.alpha=function(t){return arguments.length?(t=+t,this._alpha?this._alpha=t>0?t:0:t>0&&(this._running||(this._running=!0,this.trigger({type:n.start,alpha:this._alpha=t}),this.kick())),this):this._alpha},t.prototype.getLinkLength=function(t){return"function"==typeof this._linkDistance?+this._linkDistance(t):this._linkDistance},t.setLinkLength=function(t,e){t.length=e},t.prototype.getLinkType=function(t){return"function"==typeof this._linkType?this._linkType(t):0},t.prototype.symmetricDiffLinkLengths=function(t,e){var n=this;return void 0===e&&(e=1),this.linkDistance((function(e){return t*e.length})),this._linkLengthCalculator=function(){return v_.symmetricDiffLinkLengths(n._links,n.linkAccessor,e)},this},t.prototype.jaccardLinkLengths=function(t,e){var n=this;return void 0===e&&(e=1),this.linkDistance((function(e){return t*e.length})),this._linkLengthCalculator=function(){return v_.jaccardLinkLengths(n._links,n.linkAccessor,e)},this},t.prototype.start=function(e,n,r,i,o,a){var s=this;void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=!0),void 0===a&&(a=!0);var l,u=this.nodes().length,c=u+2*this._groups.length,h=(this._links.length,this._canvasSize[0]),d=this._canvasSize[1],f=new Array(c),p=new Array(c),v=null,g=this._avoidOverlaps;this._nodes.forEach((function(t,e){t.index=e,void 0===t.x&&(t.x=h/2,t.y=d/2),f[e]=t.x,p[e]=t.y})),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?l=this._distanceMatrix:(l=new __.Calculator(c,this._links,t.getSourceIndex,t.getTargetIndex,(function(t){return s.getLinkLength(t)})).DistanceMatrix(),v=g_.Descent.createSquareMatrix(c,(function(){return 2})),this._links.forEach((function(t){"number"==typeof t.source&&(t.source=s._nodes[t.source]),"number"==typeof t.target&&(t.target=s._nodes[t.target])})),this._links.forEach((function(e){var n=t.getSourceIndex(e),r=t.getTargetIndex(e);v[n][r]=v[r][n]=e.weight||1})));var y=g_.Descent.createSquareMatrix(c,(function(t,e){return l[t][e]}));if(this._rootGroup&&void 0!==this._rootGroup.groups){var m=u;this._groups.forEach((function(t){!function(t,e,n,r){v[t][e]=v[e][t]=n,y[t][e]=y[e][t]=r}(m,m+1,s._groupCompactness,.1),f[m]=0,p[m++]=0,f[m]=0,p[m++]=0}))}else this._rootGroup={leaves:this._nodes,groups:[]};var b=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,b=b.concat(v_.generateDirectedEdgeConstraints(u,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new g_.Descent([f,p],y),this._descent.locks.clear();for(m=0;m<u;++m){var w=this._nodes[m];if(w.fixed){w.px=w.x,w.py=w.y;var _=[w.x,w.y];this._descent.locks.add(m,_)}}if(this._descent.threshold=this._threshold,this.initialLayout(e,f,p),b.length>0&&(this._descent.project=new b_.Projection(this._nodes,this._groups,this._rootGroup,b).projectFunctions()),this._descent.run(n),this.separateOverlappingComponents(h,d,a),this.avoidOverlaps(g),g&&(this._nodes.forEach((function(t,e){t.x=f[e],t.y=p[e]})),this._descent.project=new b_.Projection(this._nodes,this._groups,this._rootGroup,b,!0).projectFunctions(),this._nodes.forEach((function(t,e){f[e]=t.x,p[e]=t.y}))),this._descent.G=v,this._descent.run(r),i){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=u,this._descent.scaleSnapByMaxH=u!=c;var x=g_.Descent.createSquareMatrix(c,(function(t,e){return t>=u||e>=u?v[t][e]:0}));this._descent.G=x,this._descent.run(i)}return this.updateNodePositions(),this.separateOverlappingComponents(h,d,a),o?this.resume():this},t.prototype.initialLayout=function(e,n,r){if(this._groups.length>0&&e>0){var i=this._nodes.length,o=this._links.map((function(t){return{source:t.source.index,target:t.target.index}})),a=this._nodes.map((function(t){return{index:t.index}}));this._groups.forEach((function(t,e){a.push({index:t.index=i+e})})),this._groups.forEach((function(t,e){void 0!==t.leaves&&t.leaves.forEach((function(e){return o.push({source:t.index,target:e.index})})),void 0!==t.groups&&t.groups.forEach((function(e){return o.push({source:t.index,target:e.index})}))})),(new t).size(this.size()).nodes(a).links(o).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(e,0,0,0,!1),this._nodes.forEach((function(t){n[t.index]=a[t.index].x,r[t.index]=a[t.index].y}))}else this._descent.run(e)},t.prototype.separateOverlappingComponents=function(t,e,n){var r=this;if(void 0===n&&(n=!0),!this._distanceMatrix&&this._handleDisconnected){var i=this._descent.x[0],o=this._descent.x[1];this._nodes.forEach((function(t,e){t.x=i[e],t.y=o[e]}));var a=E_.separateGraphs(this._nodes,this._links);E_.applyPacking(a,t,e,this._defaultNodeSize,1,n),this._nodes.forEach((function(t,e){r._descent.x[0][e]=t.x,r._descent.x[1][e]=t.y,t.bounds&&(t.bounds.setXCentre(t.x),t.bounds.setYCentre(t.y))}))}},t.prototype.resume=function(){return this.alpha(.1)},t.prototype.stop=function(){return this.alpha(0)},t.prototype.prepareEdgeRouting=function(t){void 0===t&&(t=0),this._visibilityGraph=new x_.TangentVisibilityGraph(this._nodes.map((function(e){return e.bounds.inflate(-t).vertices()})))},t.prototype.routeEdge=function(t,e,n){void 0===e&&(e=5);var r=[],i=new x_.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),o={x:t.source.x,y:t.source.y},a={x:t.target.x,y:t.target.y},s=i.addPoint(o,t.source.index),l=i.addPoint(a,t.target.index);i.addEdgeIfVisible(o,a,t.source.index,t.target.index),void 0!==n&&n(i);var u=new __.Calculator(i.V.length,i.E,(function(t){return t.source.id}),(function(t){return t.target.id}),(function(t){return t.length()})).PathFromNodeToNode(s.id,l.id);if(1===u.length||u.length===i.V.length){var c=b_.makeEdgeBetween(t.source.innerBounds,t.target.innerBounds,e);r=[c.sourceIntersection,c.arrowStart]}else{for(var h=u.length-2,d=i.V[u[h]].p,f=i.V[u[0]].p,p=(r=[t.source.innerBounds.rayIntersection(d.x,d.y)],h);p>=0;--p)r.push(i.V[u[p]].p);r.push(b_.makeEdgeTo(f,t.target.innerBounds,e))}return r},t.getSourceIndex=function(t){return"number"==typeof t.source?t.source:t.source.index},t.getTargetIndex=function(t){return"number"==typeof t.target?t.target:t.target.index},t.linkId=function(e){return t.getSourceIndex(e)+"-"+t.getTargetIndex(e)},t.dragStart=function(e){r(e)?t.storeOffset(e,t.dragOrigin(e)):(t.stopNode(e),e.fixed|=2)},t.stopNode=function(t){t.px=t.x,t.py=t.y},t.storeOffset=function(e,n){void 0!==e.leaves&&e.leaves.forEach((function(e){e.fixed|=2,t.stopNode(e),e._dragGroupOffsetX=e.x-n.x,e._dragGroupOffsetY=e.y-n.y})),void 0!==e.groups&&e.groups.forEach((function(e){return t.storeOffset(e,n)}))},t.dragOrigin=function(t){return r(t)?{x:t.bounds.cx(),y:t.bounds.cy()}:t},t.drag=function(e,n){r(e)?(void 0!==e.leaves&&e.leaves.forEach((function(t){e.bounds.setXCentre(n.x),e.bounds.setYCentre(n.y),t.px=t._dragGroupOffsetX+n.x,t.py=t._dragGroupOffsetY+n.y})),void 0!==e.groups&&e.groups.forEach((function(e){return t.drag(e,n)}))):(e.px=n.x,e.py=n.y)},t.dragEnd=function(e){r(e)?(void 0!==e.leaves&&e.leaves.forEach((function(e){t.dragEnd(e),delete e._dragGroupOffsetX,delete e._dragGroupOffsetY})),void 0!==e.groups&&e.groups.forEach(t.dragEnd)):e.fixed&=-7},t.mouseOver=function(t){t.fixed|=4,t.px=t.x,t.py=t.y},t.mouseOut=function(t){t.fixed&=-5},t}();e.Layout=i}));e(S_);S_.EventType,S_.Layout;var k_=n((function(e,n){var r,i=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this)||this,r=e;return r.trigger&&(n.trigger=r.trigger),r.kick&&(n.kick=r.kick),r.drag&&(n.drag=r.drag),r.on&&(n.on=r.on),n.dragstart=n.dragStart=S_.Layout.dragStart,n.dragend=n.dragEnd=S_.Layout.dragEnd,n}return i(e,t),e.prototype.trigger=function(t){},e.prototype.kick=function(){},e.prototype.drag=function(){},e.prototype.on=function(t,e){return this},e}(S_.Layout);n.LayoutAdaptor=o,n.adaptor=function(t){return new o(t)}}));e(k_);k_.LayoutAdaptor,k_.adaptor;var C_=n((function(e,n){var r,i=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this;e.event=d3.dispatch(S_.EventType[S_.EventType.start],S_.EventType[S_.EventType.tick],S_.EventType[S_.EventType.end]);var n=e;return e.drag=function(){if(!t)var t=d3.behavior.drag().origin(S_.Layout.dragOrigin).on("dragstart.d3adaptor",S_.Layout.dragStart).on("drag.d3adaptor",(function(t){S_.Layout.drag(t,d3.event),n.resume()})).on("dragend.d3adaptor",S_.Layout.dragEnd);if(!arguments.length)return t;this.call(t)},e}return i(e,t),e.prototype.trigger=function(t){var e={type:S_.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event[e.type](e)},e.prototype.kick=function(){var e=this;d3.timer((function(){return t.prototype.tick.call(e)}))},e.prototype.on=function(t,e){return"string"==typeof t?this.event.on(t,e):this.event.on(S_.EventType[t],e),this},e}(S_.Layout);n.D3StyleLayoutAdaptor=o,n.d3adaptor=function(){return new o}}));e(C_);C_.D3StyleLayoutAdaptor,C_.d3adaptor;var O_=n((function(e,n){var r,i=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this)||this;n.d3Context=e,n.event=e.dispatch(S_.EventType[S_.EventType.start],S_.EventType[S_.EventType.tick],S_.EventType[S_.EventType.end]);var r=n;return n.drag=function(){if(!t)var t=e.drag().subject(S_.Layout.dragOrigin).on("start.d3adaptor",S_.Layout.dragStart).on("drag.d3adaptor",(function(t){S_.Layout.drag(t,e.event),r.resume()})).on("end.d3adaptor",S_.Layout.dragEnd);if(!arguments.length)return t;arguments[0].call(t)},n}return i(e,t),e.prototype.trigger=function(t){var e={type:S_.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event.call(e.type,e)},e.prototype.kick=function(){var e=this,n=this.d3Context.timer((function(){return t.prototype.tick.call(e)&&n.stop()}))},e.prototype.on=function(t,e){return"string"==typeof t?this.event.on(t,e):this.event.on(S_.EventType[t],e),this},e}(S_.Layout);n.D3StyleLayoutAdaptor=o}));e(O_);O_.D3StyleLayoutAdaptor;var T_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.d3adaptor=function(t){return!t||function(t){return t.version&&null!==t.version.match(/^3\./)}(t)?new C_.D3StyleLayoutAdaptor:new O_.D3StyleLayoutAdaptor(t)}}));e(T_);T_.d3adaptor;var P_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){this.id=t,this.rect=e,this.children=n,this.leaf=void 0===n||0===n.length};e.NodeWrapper=n;var r=function(t,e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),this.id=t,this.x=e,this.y=n,this.node=r,this.line=i};e.Vert=r;var i=function(){function t(e,n){this.s=e,this.t=n;var r=t.findMatch(e,n),i=n.slice(0).reverse(),o=t.findMatch(e,i);r.length>=o.length?(this.length=r.length,this.si=r.si,this.ti=r.ti,this.reversed=!1):(this.length=o.length,this.si=o.si,this.ti=n.length-o.ti-o.length,this.reversed=!0)}return t.findMatch=function(t,e){for(var n=t.length,r=e.length,i={length:0,si:-1,ti:-1},o=new Array(n),a=0;a<n;a++){o[a]=new Array(r);for(var s=0;s<r;s++)if(t[a]===e[s]){var l=o[a][s]=0===a||0===s?1:o[a-1][s-1]+1;l>i.length&&(i.length=l,i.si=a-l+1,i.ti=s-l+1)}else o[a][s]=0}return i},t.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},t}();e.LongestCommonSubsequence=i;var o=function(){function t(t,e,i){var o=this;void 0===i&&(i=12),this.originalnodes=t,this.groupPadding=i,this.leaves=null,this.nodes=t.map((function(t,r){return new n(r,e.getBounds(t),e.getChildren(t))})),this.leaves=this.nodes.filter((function(t){return t.leaf})),this.groups=this.nodes.filter((function(t){return!t.leaf})),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach((function(t){return t.children.forEach((function(e){return o.nodes[e].parent=t}))})),this.root={children:[]},this.nodes.forEach((function(t){void 0===t.parent&&(t.parent=o.root,o.root.children.push(t.id)),t.ports=[]})),this.backToFront=this.nodes.slice(0),this.backToFront.sort((function(t,e){return o.getDepth(t)-o.getDepth(e)})),this.backToFront.slice(0).reverse().filter((function(t){return!t.leaf})).forEach((function(t){var e=b_.Rectangle.empty();t.children.forEach((function(t){return e=e.union(o.nodes[t].rect)})),t.rect=e.inflate(o.groupPadding)}));var a=this.midPoints(this.cols.map((function(t){return t.pos}))),s=this.midPoints(this.rows.map((function(t){return t.pos}))),l=a[0],u=a[a.length-1],c=s[0],h=s[s.length-1],d=this.rows.map((function(t){return{x1:l,x2:u,y1:t.pos,y2:t.pos}})).concat(s.map((function(t){return{x1:l,x2:u,y1:t,y2:t}}))),f=this.cols.map((function(t){return{x1:t.pos,x2:t.pos,y1:c,y2:h}})).concat(a.map((function(t){return{x1:t,x2:t,y1:c,y2:h}}))),p=d.concat(f);p.forEach((function(t){return t.verts=[]})),this.verts=[],this.edges=[],d.forEach((function(t){return f.forEach((function(e){var n=new r(o.verts.length,e.x1,t.y1);t.verts.push(n),e.verts.push(n),o.verts.push(n);for(var i=o.backToFront.length;i-- >0;){var a=o.backToFront[i],s=a.rect,l=Math.abs(n.x-s.cx()),u=Math.abs(n.y-s.cy());if(l<s.width()/2&&u<s.height()/2){n.node=a;break}}}))})),p.forEach((function(t,e){o.nodes.forEach((function(e,n){e.rect.lineIntersections(t.x1,t.y1,t.x2,t.y2).forEach((function(n,i){var a=new r(o.verts.length,n.x,n.y,e,t);o.verts.push(a),t.verts.push(a),e.ports.push(a)}))}));var n=Math.abs(t.y1-t.y2)<.1,i=function(t,e){return n?e.x-t.x:e.y-t.y};t.verts.sort(i);for(var a=1;a<t.verts.length;a++){var s=t.verts[a-1],l=t.verts[a];s.node&&s.node===l.node&&s.node.leaf||o.edges.push({source:s.id,target:l.id,length:Math.abs(i(s,l))})}}))}return t.prototype.avg=function(t){return t.reduce((function(t,e){return t+e}))/t.length},t.prototype.getGridLines=function(t){for(var e=[],n=this.leaves.slice(0,this.leaves.length);n.length>0;){var r=n.filter((function(e){return e.rect["overlap"+t.toUpperCase()](n[0].rect)})),i={nodes:r,pos:this.avg(r.map((function(e){return e.rect["c"+t]()})))};e.push(i),i.nodes.forEach((function(t){return n.splice(n.indexOf(t),1)}))}return e.sort((function(t,e){return t.pos-e.pos})),e},t.prototype.getDepth=function(t){for(var e=0;t.parent!==this.root;)e++,t=t.parent;return e},t.prototype.midPoints=function(t){for(var e=t[1]-t[0],n=[t[0]-e/2],r=1;r<t.length;r++)n.push((t[r]+t[r-1])/2);return n.push(t[t.length-1]+e/2),n},t.prototype.findLineage=function(t){var e=[t];do{t=t.parent,e.push(t)}while(t!==this.root);return e.reverse()},t.prototype.findAncestorPathBetween=function(t,e){for(var n=this.findLineage(t),r=this.findLineage(e),i=0;n[i]===r[i];)i++;return{commonAncestor:n[i-1],lineages:n.slice(i).concat(r.slice(i))}},t.prototype.siblingObstacles=function(t,e){var n=this,r=this.findAncestorPathBetween(t,e),i={};r.lineages.forEach((function(t){return i[t.id]={}}));var o=r.commonAncestor.children.filter((function(t){return!(t in i)}));return r.lineages.filter((function(t){return t.parent!==r.commonAncestor})).forEach((function(t){return o=o.concat(t.parent.children.filter((function(e){return e!==t.id})))})),o.map((function(t){return n.nodes[t]}))},t.getSegmentSets=function(t,e,n){for(var r=[],i=0;i<t.length;i++)for(var o=t[i],a=0;a<o.length;a++){(h=o[a]).edgeid=i,h.i=a;var s=h[1][e]-h[0][e];Math.abs(s)<.1&&r.push(h)}r.sort((function(t,n){return t[0][e]-n[0][e]}));for(var l=[],u=null,c=0;c<r.length;c++){var h=r[c];(!u||Math.abs(h[0][e]-u.pos)>.1)&&(u={pos:h[0][e],segments:[]},l.push(u)),u.segments.push(h)}return l},t.nudgeSegs=function(t,e,n,r,i,o){var a=r.length;if(!(a<=1)){for(var s=r.map((function(e){return new y_.Variable(e[0][t])})),l=[],u=0;u<a;u++)for(var c=0;c<a;c++)if(u!==c){var h=r[u],d=r[c],f=h.edgeid,p=d.edgeid,v=-1,g=-1;"x"==t?i(f,p)&&(h[0][e]<h[1][e]?(v=c,g=u):(v=u,g=c)):i(f,p)&&(h[0][e]<h[1][e]?(v=u,g=c):(v=c,g=u)),v>=0&&l.push(new y_.Constraint(s[v],s[g],o))}new y_.Solver(s,l).solve(),s.forEach((function(e,i){var o=r[i],a=e.position();o[0][t]=o[1][t]=a;var s=n[o.edgeid];o.i>0&&(s[o.i-1][1][t]=a),o.i<s.length-1&&(s[o.i+1][0][t]=a)}))}},t.nudgeSegments=function(e,n,r,i,o){for(var a=t.getSegmentSets(e,n,r),s=0;s<a.length;s++){for(var l=a[s],u=[],c=0;c<l.segments.length;c++){var h=l.segments[c];u.push({type:0,s:h,pos:Math.min(h[0][r],h[1][r])}),u.push({type:1,s:h,pos:Math.max(h[0][r],h[1][r])})}u.sort((function(t,e){return t.pos-e.pos+t.type-e.type}));var d=[],f=0;u.forEach((function(a){0===a.type?(d.push(a.s),f++):f--,0==f&&(t.nudgeSegs(n,r,e,d,i,o),d=[])}))}},t.prototype.routeEdges=function(e,n,r,i){var o=this,a=e.map((function(t){return o.route(r(t),i(t))})),s=t.orderEdges(a),l=a.map((function(e){return t.makeSegments(e)}));return t.nudgeSegments(l,"x","y",s,n),t.nudgeSegments(l,"y","x",s,n),t.unreverseEdges(l,a),l},t.unreverseEdges=function(t,e){t.forEach((function(t,n){e[n].reversed&&(t.reverse(),t.forEach((function(t){t.reverse()})))}))},t.angleBetween2Lines=function(t,e){var n=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),r=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x),i=n-r;return(i>Math.PI||i<-Math.PI)&&(i=r-n),i},t.isLeft=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)<=0},t.getOrder=function(t){for(var e={},n=0;n<t.length;n++){var r=t[n];void 0===e[r.l]&&(e[r.l]={}),e[r.l][r.r]=!0}return function(t,n){return void 0!==e[t]&&e[t][n]}},t.orderEdges=function(e){for(var n=[],r=0;r<e.length-1;r++)for(var o=r+1;o<e.length;o++){var a,s,l,u=e[r],c=e[o],h=new i(u,c);0!==h.length&&(h.reversed&&(c.reverse(),c.reversed=!0,h=new i(u,c)),(h.si<=0||h.ti<=0)&&(h.si+h.length>=u.length||h.ti+h.length>=c.length)?n.push({l:r,r:o}):(h.si+h.length>=u.length||h.ti+h.length>=c.length?(a=u[h.si+1],l=u[h.si-1],s=c[h.ti-1]):(a=u[h.si+h.length-2],s=u[h.si+h.length],l=c[h.ti+h.length]),t.isLeft(a,s,l)?n.push({l:o,r:r}):n.push({l:r,r:o})))}return t.getOrder(n)},t.makeSegments=function(t){function e(t){return{x:t.x,y:t.y}}for(var n=function(t,e,n){return Math.abs((e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x))<.001},r=[],i=e(t[0]),o=1;o<t.length;o++){var a=e(t[o]),s=o<t.length-1?t[o+1]:null;s&&n(i,a,s)||(r.push([i,a]),i=a)}return r},t.prototype.route=function(t,e){var n=this,r=this.nodes[t],i=this.nodes[e];this.obstacles=this.siblingObstacles(r,i);var o={};this.obstacles.forEach((function(t){return o[t.id]=t})),this.passableEdges=this.edges.filter((function(t){var e=n.verts[t.source],r=n.verts[t.target];return!(e.node&&e.node.id in o||r.node&&r.node.id in o)}));for(var a=1;a<r.ports.length;a++){var s=r.ports[0].id,l=r.ports[a].id;this.passableEdges.push({source:s,target:l,length:0})}for(a=1;a<i.ports.length;a++){s=i.ports[0].id,l=i.ports[a].id;this.passableEdges.push({source:s,target:l,length:0})}var u=new __.Calculator(this.verts.length,this.passableEdges,(function(t){return t.source}),(function(t){return t.target}),(function(t){return t.length})).PathFromNodeToNodeWithPrevCost(r.ports[0].id,i.ports[0].id,(function(t,e,o){var a=n.verts[t],s=n.verts[e],l=n.verts[o],u=Math.abs(l.x-a.x),c=Math.abs(l.y-a.y);return a.node===r&&a.node===s.node||s.node===i&&s.node===l.node?0:u>1&&c>1?1e3:0})).reverse().map((function(t){return n.verts[t]}));return u.push(this.nodes[i.id].ports[0]),u.filter((function(t,e){return!(e<u.length-1&&u[e+1].node===r&&t.node===r||e>0&&t.node===i&&u[e-1].node===i)}))},t.getRoutePath=function(e,n,r,i){var o={routepath:"M "+e[0][0].x+" "+e[0][0].y+" ",arrowpath:""};if(e.length>1)for(var a=0;a<e.length;a++){var s=(w=e[a])[1].x,l=w[1].y,u=s-w[0].x,c=l-w[0].y;if(a<e.length-1){Math.abs(u)>0?s-=u/Math.abs(u)*n:l-=c/Math.abs(c)*n,o.routepath+="L "+s+" "+l+" ";var h=e[a+1],d=h[0].x,f=h[0].y;u=h[1].x-d,c=h[1].y-f;var p,v,g=t.angleBetween2Lines(w,h)<0?1:0;Math.abs(u)>0?(p=d+u/Math.abs(u)*n,v=f):(p=d,v=f+c/Math.abs(c)*n);var y=Math.abs(p-s),m=Math.abs(v-l);o.routepath+="A "+y+" "+m+" 0 0 "+g+" "+p+" "+v+" "}else{var b=[s,l];Math.abs(u)>0?(_=[s-=u/Math.abs(u)*i,l+r],x=[s,l-r]):(_=[s+r,l-=c/Math.abs(c)*i],x=[s-r,l]),o.routepath+="L "+s+" "+l+" ",i>0&&(o.arrowpath="M "+b[0]+" "+b[1]+" L "+_[0]+" "+_[1]+" L "+x[0]+" "+x[1])}}else{var w,_,x;s=(w=e[0])[1].x,l=w[1].y,u=s-w[0].x,c=l-w[0].y,b=[s,l];Math.abs(u)>0?(_=[s-=u/Math.abs(u)*i,l+r],x=[s,l-r]):(_=[s+r,l-=c/Math.abs(c)*i],x=[s-r,l]),o.routepath+="L "+s+" "+l+" ",i>0&&(o.arrowpath="M "+b[0]+" "+b[1]+" L "+_[0]+" "+_[1]+" L "+x[0]+" "+x[1])}return o},t}();e.GridRouter=o}));e(P_);P_.NodeWrapper,P_.Vert,P_.LongestCommonSubsequence,P_.GridRouter;var N_=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.source=t,this.target=e}return t.prototype.actualLength=function(t){var e=this;return Math.sqrt(t.reduce((function(t,n){var r=n[e.target]-n[e.source];return t+r*r}),0))},t}();e.Link3D=n;var r=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.z=n};e.Node3D=r;var i=function(){function t(e,n,r){var i=this;void 0===r&&(r=1),this.nodes=e,this.links=n,this.idealLinkLength=r,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(t.k);for(var o=0;o<t.k;++o)this.result[o]=new Array(e.length);e.forEach((function(e,n){for(var r=0,o=t.dims;r<o.length;r++){var a=o[r];void 0===e[a]&&(e[a]=Math.random())}i.result[0][n]=e.x,i.result[1][n]=e.y,i.result[2][n]=e.z}))}return t.prototype.linkLength=function(t){return t.actualLength(this.result)},t.prototype.start=function(t){var e=this;void 0===t&&(t=100);var n=this.nodes.length,r=new o;this.useJaccardLinkLengths&&v_.jaccardLinkLengths(this.links,r,1.5),this.links.forEach((function(t){return t.length*=e.idealLinkLength}));var i=new __.Calculator(n,this.links,(function(t){return t.source}),(function(t){return t.target}),(function(t){return t.length})).DistanceMatrix(),a=g_.Descent.createSquareMatrix(n,(function(t,e){return i[t][e]})),s=g_.Descent.createSquareMatrix(n,(function(){return 2}));this.links.forEach((function(t){var e=t.source,n=t.target;return s[e][n]=s[n][e]=1})),this.descent=new g_.Descent(this.result,a),this.descent.threshold=.001,this.descent.G=s,this.constraints&&(this.descent.project=new b_.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var l=0;l<this.nodes.length;l++){var u=this.nodes[l];u.fixed&&this.descent.locks.add(l,[u.x,u.y,u.z])}return this.descent.run(t),this},t.prototype.tick=function(){this.descent.locks.clear();for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];e.fixed&&this.descent.locks.add(t,[e.x,e.y,e.z])}return this.descent.rungeKutta()},t.dims=["x","y","z"],t.k=t.dims.length,t}();e.Layout3D=i;var o=function(){function t(){}return t.prototype.getSourceIndex=function(t){return t.source},t.prototype.getTargetIndex=function(t){return t.target},t.prototype.getLength=function(t){return t.length},t.prototype.setLength=function(t,e){t.length=e},t}()}));e(N_);N_.Link3D,N_.Node3D,N_.Layout3D;var A_=n((function(t,e){function n(t,e,n,r){t.forEach((function(t){t.routerNode={name:t.name,bounds:t.bounds.inflate(-n)}})),e.forEach((function(e){e.routerNode={bounds:e.bounds.inflate(-r),children:(void 0!==e.groups?e.groups.map((function(e){return t.length+e.id})):[]).concat(void 0!==e.leaves?e.leaves.map((function(t){return t.index})):[])}}));var i=t.concat(e).map((function(t,e){return t.routerNode.id=e,t.routerNode}));return new P_.GridRouter(i,{getChildren:function(t){return t.children},getBounds:function(t){return t.bounds}},n-r)}Object.defineProperty(e,"__esModule",{value:!0}),e.gridify=function(t,e,r,i){return t.cola.start(0,0,0,10,!1),n(t.cola.nodes(),t.cola.groups(),r,i).routeEdges(t.powerGraph.powerEdges,e,(function(t){return t.source.routerNode.id}),(function(t){return t.target.routerNode.id}))},e.powerGraphGridLayout=function(t,e,n){var r;t.nodes.forEach((function(t,e){return t.index=e})),(new S_.Layout).avoidOverlaps(!1).nodes(t.nodes).links(t.links).powerGraphGroups((function(t){(r=t).groups.forEach((function(t){return t.padding=n}))}));var i=t.nodes.length,o=[],a=t.nodes.slice(0);return a.forEach((function(t,e){return t.index=e})),r.groups.forEach((function(t){var e=t.index=t.id+i;a.push(t),void 0!==t.leaves&&t.leaves.forEach((function(t){return o.push({source:e,target:t.index})})),void 0!==t.groups&&t.groups.forEach((function(t){return o.push({source:e,target:t.id+i})}))})),r.powerEdges.forEach((function(t){o.push({source:t.source.index,target:t.target.index})})),(new S_.Layout).size(e).nodes(a).links(o).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new S_.Layout).convergenceThreshold(.001).size(e).avoidOverlaps(!0).nodes(t.nodes).links(t.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups((function(t){(r=t).groups.forEach((function(t){t.padding=n}))})).start(50,0,100,0,!1),powerGraph:r}}}));e(A_);A_.gridify,A_.powerGraphGridLayout;var D_=n((function(t,e){function n(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),n(k_),n(T_),n(g_),n(x_),n(P_),n(E_),n(S_),n(N_),n(v_),n(p_),n(w_),n(m_),n(b_),n(__),n(y_),n(A_)}));e(D_);var M_=e(n((function(t,e){var n;n=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(1),o=n(2),a=n(5)||("undefined"!=typeof window?window.cola:null),s=n(4),l=function(t){return(void 0===t?"undefined":r(t))===r(0)},u=function(){},c=function(t,e){var n;return null!=(n=t)&&(void 0===n?"undefined":r(n))===r((function(){}))?t.apply(e,[e]):t};function h(t){this.options=i({},o,t)}h.prototype.run=function(){var t=this,e=this.options;t.manuallyStopped=!1;var n=e.cy,i=e.eles,o=i.nodes(),h=i.edges(),d=!1,f=o.filter((function(t){return t.isParent()})),p=o.subtract(f),v=e.boundingBox||{x1:0,y1:0,w:n.width(),h:n.height()};void 0===v.x2&&(v.x2=v.x1+v.w),void 0===v.w&&(v.w=v.x2-v.x1),void 0===v.y2&&(v.y2=v.y1+v.h),void 0===v.h&&(v.h=v.y2-v.y1);var g=function(){for(var t=0;t<o.length;t++){var r=o[t],i=r.layoutDimensions(e),a=r.scratch("cola");if(!a.updatedDims){var s=c(e.nodeSpacing,r);a.width=i.w+2*s,a.height=i.h+2*s}}o.positions((function(t){var e=t.scratch().cola,n=void 0;return!t.grabbed()&&p.contains(t)&&(n={x:v.x1+e.x,y:v.y1+e.y},l(n.x)&&l(n.y)||(n=void 0)),n})),o.updateCompoundBounds(),d||(m(),d=!0),e.fit&&n.fit(e.padding)},y=function(){e.ungrabifyWhileSimulating&&_.grabify(),n.off("destroy",x),o.off("grab free position",E),o.off("lock unlock",S),t.one("layoutstop",e.stop),t.trigger({type:"layoutstop",layout:t})},m=function(){t.one("layoutready",e.ready),t.trigger({type:"layoutready",layout:t})},b=e.refresh;b=e.refresh<0?1:Math.max(1,b);var w=t.adaptor=a.adaptor({trigger:function(t){var n=a.EventType?a.EventType.tick:null,r=a.EventType?a.EventType.end:null;switch(t.type){case"tick":case n:e.animate&&g();break;case"end":case r:g(),e.infinite||y()}},kick:function(){var n=!0,r=function(){if(t.manuallyStopped)return y(),!0;var r=w.tick();return e.infinite||n||w.convergenceThreshold(e.convergenceThreshold),n=!1,r&&e.infinite&&w.resume(),r};if(e.animate)s((function t(){(function(){for(var t=void 0,e=0;e<b&&!t;e++)t=t||r();return t})()||s(t)}));else for(;!r(););},on:u,drag:u});t.adaptor=w;var _=o.filter(":grabbable");e.ungrabifyWhileSimulating&&_.ungrabify();var x=void 0;n.one("destroy",x=function(){t.stop()});var E=void 0;o.on("grab free position",E=function(t){var e=this.scratch().cola,n=this.position();if(t.cyTarget===this||t.target===this)switch(t.type){case"grab":w.dragstart(e);break;case"free":w.dragend(e);break;case"position":e.px===n.x-v.x1&&e.py===n.y-v.y1||(e.px=n.x-v.x1,e.py=n.y-v.y1)}});var S=void 0;o.on("lock unlock",S=function(){var t=this.scratch().cola;t.fixed=this.locked(),this.locked()?w.dragstart(t):w.dragend(t)}),w.nodes(p.map((function(t,n){var r=c(e.nodeSpacing,t),i=t.position(),o=t.layoutDimensions(e);return t.scratch().cola={x:e.randomize||void 0===i.x?Math.round(Math.random()*v.w):i.x,y:e.randomize||void 0===i.y?Math.round(Math.random()*v.h):i.y,width:o.w+2*r,height:o.h+2*r,index:n,fixed:t.locked()}})));var k=[];if(e.alignment){var C=[],O=[];p.forEach((function(t){var n=c(e.alignment,t),r=t.scratch().cola.index;n&&(null!=n.x&&C.push({node:r,offset:n.x}),null!=n.y&&O.push({node:r,offset:n.y}))})),C.length>0&&k.push({type:"alignment",axis:"x",offsets:C}),O.length>0&&k.push({type:"alignment",axis:"y",offsets:O})}e.gapInequalities&&e.gapInequalities.forEach((function(t){var e=t.left.scratch().cola.index,n=t.right.scratch().cola.index;k.push({axis:t.axis,left:e,right:n,gap:t.gap,equality:t.equality})})),k.length>0&&w.constraints(k),w.groups(f.map((function(t,n){var r=c(e.nodeSpacing,t),i=function(e){return parseFloat(t.style("padding-"+e))},o=i("left")+r,a=i("right")+r,s=i("top")+r,l=i("bottom")+r;return t.scratch().cola={index:n,padding:Math.max(o,a,s,l),leaves:t.children().intersection(p).map((function(t){return t[0].scratch().cola.index})),fixed:t.locked()},t})).map((function(t){return t.scratch().cola.groups=t.children().intersection(f).map((function(t){return t.scratch().cola.index})),t.scratch().cola})));var T,P=void 0,N=void 0;if(null!=e.edgeLength?(P=e.edgeLength,N="linkDistance"):null!=e.edgeSymDiffLength?(P=e.edgeSymDiffLength,N="symmetricDiffLinkLengths"):null!=e.edgeJaccardLength?(P=e.edgeJaccardLength,N="jaccardLinkLengths"):(P=100,N="linkDistance"),w.links(h.stdFilter((function(t){return p.contains(t.source())&&p.contains(t.target())})).map((function(t){var e=t.scratch().cola={source:t.source()[0].scratch().cola.index,target:t.target()[0].scratch().cola.index};return null!=P&&(e.calcLength=c(P,t)),e}))),w.size([v.w,v.h]),null!=P&&w[N]((function(t){return t.calcLength})),e.flow){var A=void 0;(void 0===(T=e.flow)?"undefined":r(T))===r("")?A={axis:e.flow,minSeparation:50}:l(e.flow)?A={axis:"y",minSeparation:e.flow}:function(t){return null!=t&&(void 0===t?"undefined":r(t))===r({})}(e.flow)?((A=e.flow).axis=A.axis||"y",A.minSeparation=null!=A.minSeparation?A.minSeparation:50):A={axis:"y",minSeparation:50},w.flowLayout(A.axis,A.minSeparation)}return t.trigger({type:"layoutstart",layout:t}),w.avoidOverlaps(e.avoidOverlap).handleDisconnected(e.handleDisconnected).start(e.unconstrIter,e.userConstIter,e.allConstIter),e.infinite||setTimeout((function(){t.manuallyStopped||w.stop()}),e.maxSimulationTime),this},h.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},t.exports=h},function(t,e,n){t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.filter((function(t){return null!=t})).forEach((function(e){Object.keys(e).forEach((function(n){return t[n]=e[n]}))})),t}},function(t,e,n){var r={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(t){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};t.exports=r},function(t,e,n){var r=n(0),i=function(t){t&&t("layout","cola",r)};"undefined"!=typeof cytoscape&&i(cytoscape),t.exports=i},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=void 0;i="undefined"!==("undefined"==typeof window?"undefined":r(window))?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)}:function(t){t()},t.exports=i},function(e,n){e.exports=t}])},t.exports=n(D_)})));function L_(t){return(L_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j_(t,e){return!e||"object"!==L_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R_(t,e,n){return(R_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function B_(t){return(B_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F_(t,e){return(F_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z_=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=j_(this,B_(e).call(this,t)),Iv.use(M_),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F_(t,e)}(e,t),n=e,(r=[{key:"drawDiagram",value:function(t){R_(B_(e.prototype),"drawDiagram",this).call(this,t),this.cy.autoungrabify(!1),this.cy.nodes().lock(),this.cy.nodes(".repositioned").unlock(),this.cy.$(".repositioned").closedNeighborhood().closedNeighborhood().layout({name:"cola",randomize:!1,fit:!1,refresh:3,maxSimulationTime:8e3,convergenceThreshold:1e-7}).run()}}])&&I_(n.prototype,r),i&&I_(n,i),e}(f_);function V_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var q_=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.graph_container=document.createElement("div"),this.graph_container.style.width="100%",this.graph_container.style.height="100%",this.graph_container.style.position="absolute",this.container.appendChild(this.graph_container),this.onEdgeSelection={},this.onNodeSelection={},this.renderers={default:new f_(this.graph_container),lite:new z_(this.graph_container)},this.setRenderer(this.renderers.default),this.container.requestFullscreen=this.container.requestFullscreen||this.container.mozRequestFullscreen||this.container.mozRequestFullScreen||this.container.webkitRequestFullscreen||this.container.msRequestFullscreen,document.cancelFullscreen=document.exitFullscreen||document.cancelFullscreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen,this.graph_container.style.background=jm.background,this.setTheme(jm)}var e,n,r;return e=t,(n=[{key:"createUi",value:function(t,e,n,r){var i=this;this.filters=r.filters.filter_list,this.widgets=new Set,this.diagram_selector=new yb(e),this.diagram_selector.onDiagramChange=this.onDiagramChange,this.container.appendChild(this.diagram_selector),this.widgets.add(this.diagram_selector),this.explorer=new Ab(n,e),this.explorer.onEntitySelect=this.onEntitySelection,this.explorer.onNodeNavigation=this.onNodeNavigation,!r.explorer.enabled&&this.explorer.hide(),this.container.appendChild(this.explorer),this.widgets.add(this.explorer),this.entity_details=new Zb,!r.details.enabled&&this.entity_details.hide(),this.container.appendChild(this.entity_details),this.widgets.add(this.entity_details);var o=new sw("fullscreen","fullscreen_exit");o.style.top="10px",o.style.right="10px",o.onClick=this.toggleFullscreen.bind(this),this.container.appendChild(o),this.widgets.add(o);var a=new sw("filter_center_focus");a.style.bottom="10px",a.style.right="10px",a.onClick=this.resetView.bind(this),this.container.appendChild(a),this.widgets.add(a),this.filters_widget=new Nw(this.filters),this.filters_widget.onFilterOn=this.filter.bind(this),this.filters_widget.onFilterOff=this.unfilter.bind(this),this.filters_widget.btn.onClick=function(){i.blurAll(i.filters_widget),i.filters_widget.toggleBody()},!r.filters.enabled&&this.filters_widget.hide(),this.container.appendChild(this.filters_widget),this.widgets.add(this.filters_widget),this.ontology_info=new Uw(t),this.ontology_info.btn.onClick=function(){i.blurAll(i.ontology_info),i.ontology_info.toggleBody()},this.container.appendChild(this.ontology_info),this.widgets.add(this.ontology_info),this.owl_translator=new t_,!r.owl_translator.enabled&&this.owl_translator.hide(),this.container.appendChild(this.owl_translator),this.widgets.add(this.owl_translator);var s=new h_;s.onZoomIn=this.zoomIn.bind(this),s.onZoomOut=this.zoomOut.bind(this),this.container.appendChild(s),this.widgets.add(s),this.btn_lite_mode=new sw("flash_on","flash_off"),this.btn_lite_mode.onClick=this.toggleLiteMode.bind(this),this.btn_lite_mode.highlight=!0,this.btn_lite_mode.style.bottom="10px",this.btn_lite_mode.style.left="94px",!r.lite_mode.enabled&&this.btn_lite_mode.hide(),this.container.appendChild(this.btn_lite_mode),this.widgets.add(this.btn_lite_mode),this.registerEvents(this.renderers.default),this.registerEvents(this.renderers.lite)}},{key:"registerEvents",value:function(t){t.onEdgeSelection=this.onEdgeSelection,t.onNodeSelection=this.onNodeSelection,t.onBackgroundClick=this.blurAll.bind(this)}},{key:"drawDiagram",value:function(t){this.diagram_selector.actual_diagram_id=t.id,this.renderer.drawDiagram(t),this.applyActiveFilters()}},{key:"applyActiveFilters",value:function(){var t=this;Object.keys(this.filters).map((function(e){t.filters[e].active&&t.filter(t.filters[e])}))}},{key:"filter",value:function(t){this.renderer.filter(t),this.btn_lite_mode.active&&(this.filters.value_domain.disabled=!0)}},{key:"unfilter",value:function(t){this.renderer.unfilter(t),this.applyActiveFilters(),this.btn_lite_mode.active&&(this.filters.value_domain.disabled=!0)}},{key:"zoomIn",value:function(){this.renderer.zoomIn()}},{key:"zoomOut",value:function(){this.renderer.zoomOut()}},{key:"resetView",value:function(){this.renderer.resetView()}},{key:"centerOnNode",value:function(t,e){this.renderer.centerOnNode(t.id,e)}},{key:"showDetails",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.entity_details.entity=t,this.entity_details.show(),e&&this.renderer.cy.$(":selected").unselect()}},{key:"hideDetails",value:function(){this.entity_details.hide()}},{key:"showOwlTranslation",value:function(t){this.btn_lite_mode.active||(this.owl_translator.owl_text=t,this.owl_translator.show())}},{key:"hideOwlTranslation",value:function(){this.owl_translator.hide()}},{key:"toggleFullscreen",value:function(){var t=this.container;this.isFullscreen()?document.cancelFullscreen():t.requestFullscreen()}},{key:"isFullscreen",value:function(){return document.fullScreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}},{key:"blurAll",value:function(t){this.widgets.forEach((function(e){Object.is(e,t)||e.blur()}))}},{key:"setRenderer",value:function(t){this.renderer&&this.renderer.unmount(),t.mount(this.graph_container),this.renderer=t}},{key:"toggleLiteMode",value:function(){var t=this,e=this.renderer.getActualPosition();this.renderer instanceof z_?(this.setRenderer(this.renderers.default),Object.keys(this.filters).map((function(e){"all"!=e&&"attributes"!=e&&"individuals"!=e&&(t.filters[e].disabled=!1,"value_domain"==e&&t.filters.attributes.active&&(t.filters.value_domain.disabled=!0))})),this.onDefaultModeActive(e)):(this.setRenderer(this.renderers.lite),Object.keys(this.filters).map((function(e){"all"!=e&&"attributes"!=e&&"individuals"!=e&&(t.filters[e].disabled=!0)})),this.onLiteModeActive(e)),this.filters_widget.requestUpdate(),this.blurAll()}},{key:"setViewPort",value:function(t){this.renderer.centerOnRenderedPosition(t.x,t.y,t.zoom)}},{key:"updateEntitiesList",value:function(t){this.explorer.predicates=t,this.explorer.requestUpdate()}},{key:"setTheme",value:function(t){var e=this,n=window.getComputedStyle(this.container),r={};Object.keys(t).map((function(e){var i="--theme-gscape-"+e.replace(/_/g,"-");n.getPropertyValue(i)?r[e]=n.getPropertyValue(i):r[e]=t[e].cssText})),Object.keys(this.renderers).map((function(t){e.renderers[t].setTheme(r)}))}},{key:"actual_diagram_id",get:function(){return this.diagram_selector.actual_diagram_id}}])&&V_(e.prototype,n),r&&V_(e,r),t}();function U_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var X_=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"edgeToOwlString",value:function(t){var e=t.source(),n=t.target(),r='<span class="owl_error">Malformed Axiom</span>',i='<span class="owl_error">Missing Operand</span>';switch(t.data("type")){case"inclusion":return"concept"==e.data("identity")&&"concept"==n.data("identity")?"domain-restriction"==e.data("type")&&"self"!=e.data("label")&&"self"!=n.data("label")?function(t,e){var n=e.source().incomers('[type = "input"]').sources();return n.size()>1?a(t,e):"role"==n.data("type")?"ObjectPropertyDomain("+t.nodeToOwlString(n)+" "+t.nodeToOwlString(e.target())+")":"attribute"==n.data("type")?"DataPropertyDomain("+t.nodeToOwlString(n)+" "+t.nodeToOwlString(e.target())+")":void 0}(this,t):"range-restriction"==e.data("type")&&"self"!=e.data("label")&&"self"!=n.data("label")?l(this,t):"complement"==n.data("type")||"complement"==e.data("type")?function(t,e){var n="DisjointClasses(";return e.forEach((function(e){"complement"==e.data("type")&&(e=e.incomers('[type = "input"]').source()),n+=t.nodeToOwlString(e)+" "})),n=n.slice(0,n.length-1),n+=")"}(this,t.connectedNodes()):a(this,t):"role"==e.data("identity")&&"role"==n.data("identity")?"complement"==n.data("type")?u(this,t):s(this,t):"value_domain"==e.data("identity")&&"value_domain"==n.data("identity")?l(this,t):"attribute"==e.data("identity")&&"attribute"==n.data("identity")?"complement"==n.data("type")?u(this,t):s(this,t):r;case"equivalence":return"concept"==e.data("identity")&&"concept"==n.data("identity")?function(t,e){return"EquivalentClasses("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}(this,t):"role"==e.data("identity")&&"role"==n.data("identity")?"role-inverse"==e.data("type")||"role-inverse"==n.data("type")?function(t,e){var n,r;return"role-inverse"==e.source().data("type")?(r=e.target(),n=e.source().incomers('[type = "input"]').sources().first()):(r=e.source(),n=e.target().incomers('[type = "input"]').sources().first()),n.length?"InverseObjectProperties("+t.nodeToOwlString(r)+" "+t.nodeToOwlString(n)+")":i}(this,t):o(this,t):"attribute"==e.data("identity")&&"attribute"==n.data("identity")?o(this,t):r;case"membership":return"concept"==n.data("identity")?function(t,e){return"ClassAssertion("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}(this,t):function(t,e){var n,r="Object";return"attribute"==e.target().data("identity")&&(r="Data"),n=r+"PropertyAssertion("+t.nodeToOwlString(e.target())+" ","property-assertion"==e.source().data("type")?(e.source().data("inputs").forEach((function(e){input=t.cy.$('edge[id_xml = "'+e+'"]').source(),n+=t.nodeToOwlString(input)+" "})),n=n.slice(0,n.length-1)):n+=t.nodeToOwlString(e.source()),n+")"}(this,t)}function o(t,e){return"Equivalent"+("role"==e.source().data("idenity")?"Object":"Data")+"Properties("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}function a(t,e){return"SubClassOf("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}function s(t,e){var n;if("role"==e.target().data("identity"))n="Object";else{if("attribute"!=e.target().data("type"))return null;n="Data"}return"Sub"+n+"PropertyOf("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}function l(t,e){var n=e.source().incomers('[type = "input"]').sources();return n.size()>1?a(t,e):"role"==n.data("type")?"ObjectPropertyRange("+t.nodeToOwlString(n)+" "+t.nodeToOwlString(e.target())+")":"attribute"==n.data("type")?"DataPropertyRange("+t.nodeToOwlString(n)+" "+t.nodeToOwlString(e.target())+")":void 0}function u(t,e){var n,r;if("role"==e.target().data("identity"))n="Object";else{if("attribute"!=e.target().data("identity"))return null;n="Data"}return r="Disjoint"+n+"Properties(",e.connectedNodes().forEach((function(e){"complement"==e.data("type")&&(e=e.incomers('[type = "input"]').source()),r+=t.nodeToOwlString(e)+" "})),(r=r.slice(0,r.length-1))+")"}}},{key:"nodeToOwlString",value:function(t,e){var n='<span class="axiom_predicate_prefix">owl:</span><span class="axiom_predefinite_obj">Thing</span>',r='<span class="axiom_predicate_prefix">rdfs:</span><span class="axiom_predefinite_obj">Literal</span>',i='<span class="owl_error">Missing Operand</span>',o=e||null;if(o&&(t.hasClass("predicate")||"value-domain"==t.data("type"))){var a,s='<span class="axiom_predicate_prefix">'+t.data("prefix_iri")+'</span><span class="owl_'+t.data("type")+'">'+t.data("remaining_chars")+"</span>";switch(t.data("type")){case"concept":return"Declaration("+(a="Class")+"("+s+"))";case"role":var l="Declaration("+(a="ObjectProperty")+"("+s+"))";return t.data("functional")&&(l+="<br/>Functional"+a+"("+s+")"),t.data("inverseFunctional")&&(l+="<br/>InverseFunctional"+a+"("+s+")"),t.data("asymmetric")&&(l+="<br />Asymmetric"+a+"("+s+")"),t.data("irreflexive")&&(l+="<br/>Irreflexive"+a+"("+s+")"),t.data("reflexive")&&(l+="<br/>Reflexive"+a+"("+s+")"),t.data("symmetric")&&(l+="<br/>Symmetric"+a+"("+s+")"),t.data("transitive")&&(l+="<br/>Transitive"+a+"("+s+")"),l;case"attribute":return l="Declaration("+(a="DataProperty")+"("+s+"))",t.data("functional")&&(l+="<br/>Functional"+a+"("+s+"))"),l;case"individual":if(-1!=t.data("remaining_chars").search(/"[\w]+"\^\^[\w]+:/)){var u=t.data("remaining_chars").split("^^")[0],c=t.data("remaining_chars").split(":")[1];s='<span class="owl_value">'+u+'</span>^^<span class="axiom_predicate_prefix">'+t.data("prefix_iri")+'</span><span class="owl_value-domain">'+c+"</span>"}return"Declaration("+(a="NamedIndividual")+"("+s+"))";case"value-domain":return"Declaration("+(a="Datatype")+"("+s+"))"}}switch(t.data("type")){case"individual":if(-1!=t.data("remaining_chars").search(/"[\w]+"\^\^[\w]+:/))return u=t.data("remaining_chars").split("^^")[0],c=t.data("remaining_chars").split(":")[1],'<span class="owl_value">'+u+'</span>^^<span class="axiom_predicate_prefix">'+t.data("prefix_iri")+'</span><span class="owl_value-domain">'+c+"</span>";case"concept":case"role":case"value-domain":case"attribute":case"individual":return'<span class="axiom_predicate_prefix">'+t.data("prefix_iri")+'</span><span class="owl_'+t.data("type")+'">'+t.data("remaining_chars")+"</span>";case"facet":var h=t.data("remaining_chars").split("^^");return'<span class="axiom_predicate_prefix">'+t.data("prefix_iri")+'</span><span class="owl_value-domain">'+h[0]+'</span><span class="owl_value">'+h[1]+"</span>";case"domain-restriction":case"range-restriction":var d,f,p=t.connectedEdges('edge[target = "'+t.id()+'"][type = "input"]');if(!p.length)return i;if(p.forEach((function(t){"role"!=t.source().data("type")&&"attribute"!=t.source().data("type")||(d=t.source()),"role"!=t.source().data("type")&&"attribute"!=t.source().data("type")&&(f=t.source())})),!d)return i;if("attribute"==d.data("type")&&"range-restriction"==t.data("type"))return"Undefined";if("exists"==t.data("label"))return function(t,e,i,o){var a,s;return"role"==e.data("type")&&(a="Object"),"attribute"==e.data("type")&&(a="Data"),s=a+"SomeValuesFrom(",s+="range-restriction"==o?b(t,e):t.nodeToOwlString(e),s+=i||"Object"!=a?i||"Data"!=a?" "+t.nodeToOwlString(i)+")":" "+r+")":" "+n+")"}(this,d,f,t.data("type"));if("forall"==t.data("label"))return function(t,e,i,o){var a,s;return"role"==e.data("type")&&(a="Object"),"attribute"==e.data("type")&&(a="Data"),s=a+"AllValuesFrom(",s+="range-restriction"==o?b(t,e):t.nodeToOwlString(e),s+=i||"Object"!=a?i||"Data"!=a?" "+t.nodeToOwlString(i)+")":" "+r+")":" "+n+")"}(this,d,f,t.data("type"));if(-1!=t.data("label").search(/\(([-]|[\d]+),([-]|[\d]+)\)/)){var v=t.data("label").replace(/\(|\)/g,"").split(/,/);return function t(e,n,r,i,o){var a;if("role"==n.data("type")&&(a="Object"),"attribute"==n.data("type")&&(a="Data"),"-"==i[0])return"range-restriction"==o?r?a+"MaxCardinality("+i[1]+" "+b(e,n)+" "+e.nodeToOwlString(r)+")":a+"MaxCardinality("+i[1]+" "+b(e,n)+")":r?a+"MaxCardinality("+i[1]+" "+e.nodeToOwlString(n)+" "+e.nodeToOwlString(r)+")":a+"MaxCardinality("+i[1]+" "+e.nodeToOwlString(n)+")";if("-"==i[1])return"range-restriction"==o?r?a+"MinCardinality("+i[0]+" "+b(e,n)+" "+e.nodeToOwlString(r)+")":a+"MinCardinality("+i[0]+" "+b(e,n)+")":r?a+"MinCardinality("+i[0]+" "+e.nodeToOwlString(n)+" "+e.nodeToOwlString(r)+")":a+"MinCardinality("+i[0]+" "+e.nodeToOwlString(n)+")";if("-"!=i[0]&&"-"!=i[1]){var s=[],l=[];return s.push(i[0]),s.push("-"),l.push("-"),l.push(i[1]),a+"IntersectionOf("+t(e,n,r,s,o)+" "+t(e,n,r,l,o)+")"}}(this,d,f,v,t.data("type"))}if("self"==t.data("label"))return function(t,e,n){return"range-restriction"==n?"ObjectHasSelf("+b(t,e)+")":"ObjectHasSelf("+t.nodeToOwlString(e)+")"}(this,d,t.data("type"));case"role-inverse":var g=t.incomers('[type = "input"]').sources();return g.length?b(this,g):i;case"role-chain":return t.data("inputs")?function(t,e){var n="ObjectPropertyChain(";return e.forEach((function(e){g=t.cy.$('edge[id_xml = "'+e+'"]').source(),n+=t.nodeToOwlString(g)+" "})),n=n.slice(0,n.length-1),n+=")"}(this,t.data("inputs")):i;case"union":case"intersection":case"complement":case"enumeration":case"disjoint-union":if(!(m=t.incomers('[type = "input"]').sources()).length)return i;var y="Object";return"concept"!=t.data("identity")&&"role"!=t.data("identity")&&(y="Data"),"disjoint-union"==t.data("type")?o?w(this,m,"union",y)+"<br />"+function(t,e){var n="DisjointClasses(";return e.forEach((function(e){n+=t.nodeToOwlString(e)+" "})),n=n.slice(0,n.length-1),n+=")"}(this,m):w(this,m,"union",y):w(this,m,t.data("type"),y);case"datatype-restriction":var m;return(m=t.incomers('[type = "input"]').sources()).length?function(t,e){var n="DatatypeRestriction(",r=e.filter('[type = "value-domain"]').first();return n+=t.nodeToOwlString(r)+" ",e.forEach((function(e){"facet"==e.data("type")&&(n+=t.nodeToOwlString(e)+"^^",n+=t.nodeToOwlString(r)+" ")})),n=n.slice(0,n.length-1),n+=")"}(this,m):i;case"property-assertion":return"Undefined"}function b(t,e){return"ObjectInverseOf("+t.nodeToOwlString(e)+")"}function w(t,e,n,r){var i;return n="enumeration"==n?"One":n.charAt(0).toUpperCase()+n.slice(1),i=r+n+"Of(",e.forEach((function(e){i+=t.nodeToOwlString(e)+" "})),i=i.slice(0,i.length-1),i+=")"}}}])&&U_(e.prototype,n),r&&U_(e,r),t}();function Y_(t){var e=new f_(null),n=new Rv(t.name,t.version);return new Promise((function(h,d){try{window.setTimeout((function(){t.diagrams.forEach((function(t){var h,d,f,p=new Vv(t.name,t.id);p.addElems((h=t.nodes,d=t.edges,(f=Iv()).add(h),f.add(d),o(f,(function(t){switch(t.data("type")){case"complement":case"value-domain":case"role-chain":case"enumeration":return!0;case"domain-restriction":case"range-restriction":return"forall"==t.data("label")}})),o(f,a),o(f,s),f.remove(".filtered"),function(t){var n=t.$("*");n.filter('[type ^= "domain"],[type ^= "range"]').forEach((function(n){var o,a=(o=null,n.incomers('[type = "input"]').forEach((function(t){"role"!=t.source().data("type")&&"attribute"!=t.source().data("type")||(o=t)})),o),s=null;"domain-restriction"==n.data("type")&&n.connectedEdges('[type != "input"]').forEach((function(e,o){var l=[];"domain-restriction"!=e.source().data("type")&&"range-restriction"!=e.source().data("type")||"domain-restriction"!=e.target().data("type")&&"range-restriction"!=e.target().data("type")?(n.id()===e.source().id()?l.push(r(e)):l.push(e.json()),"attribute"==a.source().data("type")?(a.source().position(n.position()),(s=l[0]).data.target=a.source().id(),s.data.id+="_"+o):(l.push(r(a)),s=i(l,t,l[0].data.id+"_"+o)),s.classes+="".concat(a.source().data("type")," domain"),s.data.type="default",t.add(s),t.remove(e)):t.remove(e)})),"range-restriction"==n.data("type")&&n.connectedEdges('[type != "input"]').forEach((function(e,o){var l=[];"domain-restriction"!=e.source().data("type")&&"range-restriction"!=e.source().data("type")||"domain-restriction"!=e.target().data("type")&&"range-restriction"!=e.target().data("type")?(l.push(a.json()),n.id()===e.source().id()?l.push(e.json()):l.push(r(e)),(s=i(l,t,l[0].data.id+"_"+o)).classes+="".concat(a.source().data("type")," range"),s.data.type="default",t.add(s),t.remove(e)):t.remove(e)})),e.filterElem(n,t)})),t.remove(".filtered")}(f),function(t){var n=t;n.nodes('[type = "intersection"],[type = "union"],[type = "disjoint-union"]').forEach((function(t){(function(t){if("union"!=t.data("type")&&"disjoint-union"!=t.data("type")&&"intersection"!=t.data("type"))return!1;var e=!1;return t.incomers('[type *= "input"]').forEach((function(t){"concept"!=t.source().data("type")&&(e=!0)})),e})(t)&&(c(t),e.filterElem(t,n))})),n.remove(".filtered")}(f),function(t){t.$("*").filter('[type $= "union"]').forEach((function(e){l(e),e.incomers('edge[type = "input"]').data("type","easy_input"),t.remove(e.incomers('edge[type = "inclusion"]')),e.connectedEdges('edge[type = "equivalence"]').forEach((function(n){if(n.data("type","inclusion"),n.data("target_label","C"),n.source().id()!=e.id()){var i=r(n);t.remove(n),t.add(i)}})),e.outgoers('edge[type = "inclusion"]').forEach((function(t){t.addClass("hierarchy"),"disjoint-union"==e.data("type")&&t.addClass("disjoint")})),e.data("label")&&e.data("label",""),c(e),u(e),0==e.connectedEdges('[type !*= "input"]').size()&&t.remove(e)}))}(f),function(t){var n=t;n.$('node[type = "intersection"]').forEach((function(t){c(t),u(t),0==t.incomers('edge[type !*= "input"]').size()&&0==t.connectedEdges('edge[type = "equivalence"]').size()?e.filterElem(t,n):(t.incomers('edge[type !*= "input"]').forEach((function(e){t.incomers('edge[type = "input"]').forEach((function(o,a){var s=[];e.source().id()==t.id()?s.push(r(e)):s.push(e.json());var l="".concat(e.id(),"_").concat(a);s.push(r(o));var u=i(s,n,l);n.remove(e),n.add(u)}))})),n.remove(t))}))}(f),function(t){var e=t;e.nodes('[type = "role-inverse"]').forEach((function(t){var n=0,o=t.incomers('[type *= "input"]');t.connectedEdges('[type !*= "input"]').forEach((function(a,s){var l=[];a.source().id()==t.id()?l.push(r(a)):l.push(a.json()),l.push(r(o));var u=o.id()+"_"+s,c=i(l,e,u);c.data.type="inclusion",c.classes="inverse-of",e.add(c),e.remove(a),n+=1})),n>1?(e.remove(o),l(t),t.data("label","inverse Of"),t.data("labelXpos",0),t.data("labelYpos",0),t.data("text_background",!0)):(o.source().connectedEdges("edge.inverse-of").data("edge_label","inverse Of"),e.remove(t))}))}(f),f.$("*"))),n.addDiagram(p)})),h(n)}),100)}catch(t){d(t)}}));function r(t){var e=t.json(),n=t.source().id();e.data.source=t.target().id(),e.data.target=n;var r=t.data("source_endpoint");return e.data.source_endpoint=t.data("target_endpoint"),e.data.target_endpoint=r,e.data.breakpoints=t.data("breakpoints").reverse(),t.data("segment_distances")&&(e.data.segment_distances=[],e.data.segment_weights=[],e.data.breakpoints.forEach((function(n){var r=Xv(t.source().position(),t.target().position(),n);e.data.segment_distances.push(r[0]),e.data.segment_weights.push(r[1])}))),e}function i(t,e,n){var r=t[0].data.source,i=t[t.length-1].data.target,o=[],a=[],s=[],l=void 0;t.forEach((function(t,n,u){t.data.breakpoints&&(s=s.concat(t.data.breakpoints),t.data.breakpoints.forEach((function(t){l=Xv(e.getElementById(i).position(),e.getElementById(r).position(),t),o.push(l[0]),a.push(l[1])}))),n<u.length-1&&(l=Xv(e.getElementById(i).position(),e.getElementById(r).position(),e.getElementById(t.data.target).position()),o.push(l[0]),a.push(l[1]),s.push(e.getElementById(t.data.target).position()))}));var u=t[0];return u.data.id=n,u.data.source=r,u.data.target=i,u.data.target_endpoint=t[t.length-1].data.target_endpoint,u.data.type="inclusion",u.data.segment_distances=o,u.data.segment_weights=a,u.data.breakpoints=s,u}function o(t,n){var r=t;r.$("*").forEach((function(t){n(t)&&e.filterElem(t,r)}))}function a(t){return("domain-restriction"==t.data("type")||"range-restriction"==t.data("type"))&&"exists"==t.data("label")&&t.incomers('edge[type = "input"]').size()>1}function s(t){return("domain-restriction"==t.data("type")||"range-restriction"==t.data("type"))&&t.data("label").search(/[0-9]/g)>=0}function l(t){t.data("width",.1),t.data("height",.1)}function u(t){var e=t.cy();t.connectedEdges("edge.role").forEach((function(n){t.incomers('[type *= "input"]').forEach((function(o,a){var s="".concat(n.id(),"_").concat(a),l={},u=[];if(1==t.connectedEdges('[type !*= "input"]').size())n.hasClass("range")?(u.push(n.json()),u.push(r(o))):(u.push(o.json()),u.push(n.json())),(l=i(u,e,s)).data.type="default",l.classes=n.json().classes;else{(l=n.json()).data.id=s;var c=void 0,h=void 0;n.hasClass("range")?(c=o.source(),h=n.source(),l.data.target=o.source().id()):(c=n.target(),h=o.source(),l.data.source=o.source().id());var d=[],f=[];l.data.breakpoints.forEach((function(t){var e=Xv(c.position(),h.position(),t);d.push(e[0]),f.push(e[1])})),l.data.segment_distances=d,l.data.segment_weights=f}e.add(l)})),e.remove(n)}))}function c(t){var n=t.cy(),r=function t(e){var n=e.cy().collection(),r=e.incomers('edge[type *= "input"]');return n=n.union(r.sources('[type = "concept"]')),r.sources('[type != "concept"]').forEach((function(e){n=n.union(t(e)),e.addClass("attr_replicated")})),n}(t),i=t.neighborhood('[type = "attribute"]'),o=n.collection();r.forEach((function(t,e){i.forEach((function(r,a){!function t(e,r,a,s){var l=a.json();l.position=e.position(),l.data.id+="_"+r+"_"+e.id(),l.classes+=" repositioned",n.add(l);var u={data:{id:l.data.id+"_edge",target:l.data.id,source:e.id()},classes:s};n.add(u),e.hasClass("repositioned")||a.neighborhood('[type = "attribute"]').forEach((function(e,r){i.contains(e)||(t(n.$id(l.data.id),r,e,"inclusion"),o=o.union(e))}))}(t,e,r,"attribute")}))})),n.remove(i),e.filterElem(o,n)}}const H_={theme:{type:"list",label:"Select a theme",list:{gscape:{label:"Grapholscape White",default:!0},dark:{label:"Grapholscape Dark",default:!1}}}},G_={explorer:{type:"boolean",enabled:!0,label:"Enable Ontology Explorer widget"},details:{type:"boolean",enabled:!0,label:"Enable Entity Details widget"},owl_translator:{type:"boolean",enabled:!0,label:"Enable Owl Translation widget"},filters:{type:"boolean",enabled:!0,label:"Enable Filters widget",filter_list:{all:{selector:"#undefined",label:"Filter All",active:!1,disabled:!1,class:"undefined"},attributes:{selector:'[type = "attribute"]',label:"Attributes",active:!1,disabled:!1,class:"filterattributes"},value_domain:{selector:'[type = "value-domain"]',label:"Value Domain",active:!1,disabled:!1,class:"filtervaluedomains"},individuals:{selector:'[type = "individual"]',label:"Individuals",active:!1,disabled:!1,class:"filterindividuals"},universal_quantifier:{selector:'[type $= "-restriction"][label = "forall"]',label:"Universal Quantifier",active:!1,disabled:!1,class:"filterforall"},not:{selector:'[type = "complement"]',label:"Not",active:!1,disabled:!1,class:"filtercomplements"}}},lite_mode:{type:"boolean",enabled:!0,label:"Allow lite mode switching"}};var W_={rendering:H_,widgets:G_},$_=Object.freeze({rendering:H_,widgets:G_,default:W_});function Z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var K_=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=$_,i&&this.setConfig(i),this.ontologies={default:e,lite:null},this._ontology=e,this.view=r,this.owl_translator=new X_,this.liteMode=!1,this.liteOntologyPromise=Y_(e).then((function(t){n.ontologies.lite=t})).catch((function(t){console.log(t)}))}var e,n,r;return e=t,r=[{key:"entityModelToViewData",value:function(t){var e={id:t.data.id,id_xml:t.data.id_xml,diagram_id:t.data.diagram_id,label:t.data.label,type:t.data.type,iri:t.data.iri,description:t.data.description,functional:t.data.functional,inverseFunctional:t.data.inverseFunctional,asymmetric:t.data.asymmetric,irreflexive:t.data.irreflexive,reflexive:t.data.reflexive,symmetric:t.data.symmetric,transitive:t.data.transitive};return JSON.parse(JSON.stringify(e))}},{key:"diagramModelToViewData",value:function(t){var e={name:t.name,id:t.id,nodes:t.nodes,edges:t.edges};return JSON.parse(JSON.stringify(e))}}],(n=[{key:"init",value:function(){var t=this,e=this.ontology.diagrams,n=this.ontology.getEntities(),r=e.map((function(e){return t.constructor.diagramModelToViewData(e)})),i=n.map((function(e){return t.constructor.entityModelToViewData(e)})),o={name:this.ontology.name,version:this.ontology.version,iriSet:this.ontology.iriSet};this.view.onDiagramChange=this.onDiagramChange.bind(this),this.view.onNodeNavigation=this.onNodeNavigation.bind(this),this.view.onEntitySelection=this.onEntitySelection.bind(this),this.view.onNodeSelection=this.onNodeSelection.bind(this),this.view.onBackgroundClick=this.onBackgroundClick.bind(this),this.view.onEdgeSelection=this.onEdgeSelection.bind(this),this.view.onLiteModeActive=this.onLiteModeActive.bind(this),this.view.onDefaultModeActive=this.onDefaultModeActive.bind(this),this.view.createUi(o,r,i,this.config.widgets)}},{key:"onBackgroundClick",value:function(){this.view.blurAll()}},{key:"onNodeNavigation",value:function(t){var e=this.ontology.getElem(t);this.centerOnNode(e,1.5),this.showDetails(e)}},{key:"onDiagramChange",value:function(t){var e=this.ontology.getDiagram(t);this.showDiagram(e)}},{key:"showDiagram",value:function(t){var e=this.constructor.diagramModelToViewData(t);this.view.drawDiagram(e)}},{key:"onEntitySelection",value:function(t,e){var n=this.ontology.getElem(t);this.showDetails(n,e)}},{key:"showDetails",value:function(t,e){if(this.config.widgets.details.enabled){var n=this.constructor.entityModelToViewData(t);this.view.showDetails(n,e)}}},{key:"onEdgeSelection",value:function(t,e){var n=this.ontology.getElemByDiagramAndId(t,e,!1);n&&this.showOwlTranslation(n)}},{key:"onNodeSelection",value:function(t,e){var n=this.ontology.getElemByDiagramAndId(t,e);if(n){n.classes.includes("predicate")?this.showDetails(n,!1):this.view.hideDetails();var r=this.ontology.getElemByDiagramAndId(t,e,!1);this.showOwlTranslation(r)}else console.error("Unable to find the node with {id= "+t+"} in the ontology")}},{key:"centerOnNode",value:function(t,e){if(this.view.actual_diagram_id!=t.data.diagram_id){var n=this.ontology.getDiagram(t.data.diagram_id);this.showDiagram(n)}var r={id:t.data.id,position:t.position};this.view.centerOnNode(r,e)}},{key:"showOwlTranslation",value:function(t){if(this.config.widgets.owl_translator.enabled){var e=null;t.isNode()?e=this.owl_translator.nodeToOwlString(t,!0):t.isEdge()&&(e=this.owl_translator.edgeToOwlString(t)),this.view.showOwlTranslation(e)}}},{key:"onLiteModeActive",value:function(t){var e=this;this.liteMode=!0,this.liteOntologyPromise.then((function(){e.liteMode&&(e.ontology=e.ontologies.lite,e.updateGraphView(t),e.updateEntitiesList())}))}},{key:"onDefaultModeActive",value:function(t){this.liteMode=!1,this.ontology=this.ontologies.default,this.updateGraphView(t),this.updateEntitiesList()}},{key:"updateGraphView",value:function(t){this.onDiagramChange(this.view.actual_diagram_id),this.view.setViewPort(t)}},{key:"updateEntitiesList",value:function(){var t=this,e=this.ontology.getEntities().map((function(e){return t.constructor.entityModelToViewData(e)}));this.view.updateEntitiesList(e)}},{key:"setConfig",value:function(t){var e=this;Object.keys(t).forEach((function(n){if("boolean"==typeof t[n])try{e.config.widgets[n].enabled=t[n]}catch(t){return}}))}},{key:"ontology",set:function(t){this._ontology=t},get:function(){return this._ontology}}])&&Z_(e.prototype,n),r&&Z_(e,r),t}();function Q_(t){return(Q_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ontology=e,n)return this.init(n)}var e,n,r;return e=t,(n=[{key:"init",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(r,i){e.readFilePromise.then((function(){e.view=new q_(t),e.controller=new K_(e.ontology,e.view,n),e.controller.init(),r(e)})).catch((function(t){return i(t)}))}))}},{key:"readGraphol",value:function(t){return this.readFilePromise=new Promise((function(n,r){var i=null;if("object"===Q_(t)){var o=new FileReader;o.onloadend=function(){i=e(o.result),n(i)},o.readAsText(t),setTimeout((function(){r("Error: timeout expired")}),1e4)}else"string"==typeof t?(i=e(t),n(i)):r("Err: Grapholscape needs a Graphol File or the corresponding string to be initialized")})),this.readFilePromise;function e(t){return(new $v).parseGraphol(t)}}},{key:"showDiagram",value:function(t){this.controller.onDiagramChange(t)}},{key:"ontology",set:function(t){var e=this;this.readGraphol(t).then((function(t){e._ontology=t})).catch((function(t){console.error(t),window.alert(t)}))},get:function(){return this._ontology}}])&&J_(e.prototype,n),r&&J_(e,r),t}()}));
