/**
 * MIT License
 *
 * Copyright (c) 2018-2020 OBDA Systems
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).GrapholScape=e()}(this,(function(){"use strict";var t=function(t){try{return!!t()}catch(t){return!0}},e=!t((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var i=function(t){return t&&t.Math==Math&&t},o=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n&&n)||function(){return this}()||Function("return this")(),a=function(t){return"object"==typeof t?null!==t:"function"==typeof t},s=o.document,l=a(s)&&a(s.createElement),u=function(t){return l?s.createElement(t):{}},c=!e&&!t((function(){return 7!=Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a})),d=function(t){if(!a(t))throw TypeError(String(t)+" is not an object");return t},h=function(t,e){if(!a(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!a(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!a(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!a(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},f=Object.defineProperty,p={f:e?f:function(t,e,n){if(d(t),e=h(e,!0),d(n),c)try{return f(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},g=p.f,v=Function.prototype,y=v.toString,m=/^\s*function ([^ (]*)/;e&&!("name"in v)&&g(v,"name",{configurable:!0,get:function(){try{return y.call(this).match(m)[1]}catch(t){return""}}});var b=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},_=e?function(t,e,n){return p.f(t,e,b(1,n))}:function(t,e,n){return t[e]=n,t},w=function(t,e){try{_(o,t,e)}catch(n){o[t]=e}return e},x=o["__core-js_shared__"]||w("__core-js_shared__",{}),E=r((function(t){(t.exports=function(t,e){return x[t]||(x[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.2",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),k={}.hasOwnProperty,S=function(t,e){return k.call(t,e)},C=0,T=Math.random(),N=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++C+T).toString(36)},A=!!Object.getOwnPropertySymbols&&!t((function(){return!String(Symbol())})),O=A&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,P=E("wks"),D=o.Symbol,M=O?D:D&&D.withoutSetter||N,L=function(t){return S(P,t)||(A&&S(D,t)?P[t]=D[t]:P[t]=M("Symbol."+t)),P[t]},I={};I[L("toStringTag")]="z";var R="[object z]"===String(I),B=Function.toString;"function"!=typeof x.inspectSource&&(x.inspectSource=function(t){return B.call(t)});var j,F,z,V=x.inspectSource,q=o.WeakMap,H="function"==typeof q&&/native code/.test(V(q)),U=E("keys"),G=function(t){return U[t]||(U[t]=N(t))},W={},Y=o.WeakMap;if(H){var X=x.state||(x.state=new Y),K=X.get,$=X.has,Z=X.set;j=function(t,e){return e.facade=t,Z.call(X,t,e),e},F=function(t){return K.call(X,t)||{}},z=function(t){return $.call(X,t)}}else{var J=G("state");W[J]=!0,j=function(t,e){return e.facade=t,_(t,J,e),e},F=function(t){return S(t,J)?t[J]:{}},z=function(t){return S(t,J)}}var Q={set:j,get:F,has:z,enforce:function(t){return z(t)?F(t):j(t,{})},getterFor:function(t){return function(e){var n;if(!a(e)||(n=F(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},tt=r((function(t){var e=Q.get,n=Q.enforce,r=String(String).split("String");(t.exports=function(t,e,i,a){var s,l=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,c=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||S(i,"name")||_(i,"name",e),(s=n(i)).source||(s.source=r.join("string"==typeof e?e:""))),t!==o?(l?!c&&t[e]&&(u=!0):delete t[e],u?t[e]=i:_(t,e,i)):u?t[e]=i:w(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||V(this)}))})),et={}.toString,nt=function(t){return et.call(t).slice(8,-1)},rt=L("toStringTag"),it="Arguments"==nt(function(){return arguments}()),ot=R?nt:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),rt))?n:it?nt(e):"Object"==(r=nt(e))&&"function"==typeof e.callee?"Arguments":r},at=R?{}.toString:function(){return"[object "+ot(this)+"]"};R||tt(Object.prototype,"toString",at,{unsafe:!0});var st={}.propertyIsEnumerable,lt=Object.getOwnPropertyDescriptor,ut={f:lt&&!st.call({1:2},1)?function(t){var e=lt(this,t);return!!e&&e.enumerable}:st},ct="".split,dt=t((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==nt(t)?ct.call(t,""):Object(t)}:Object,ht=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},ft=function(t){return dt(ht(t))},pt=Object.getOwnPropertyDescriptor,gt={f:e?pt:function(t,e){if(t=ft(t),e=h(e,!0),c)try{return pt(t,e)}catch(t){}if(S(t,e))return b(!ut.f.call(t,e),t[e])}},vt=o,yt=function(t){return"function"==typeof t?t:void 0},mt=function(t,e){return arguments.length<2?yt(vt[t])||yt(o[t]):vt[t]&&vt[t][e]||o[t]&&o[t][e]},bt=Math.ceil,_t=Math.floor,wt=function(t){return isNaN(t=+t)?0:(t>0?_t:bt)(t)},xt=Math.min,Et=function(t){return t>0?xt(wt(t),9007199254740991):0},kt=Math.max,St=Math.min,Ct=function(t,e){var n=wt(t);return n<0?kt(n+e,0):St(n,e)},Tt=function(t){return function(e,n,r){var i,o=ft(e),a=Et(o.length),s=Ct(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},Nt={includes:Tt(!0),indexOf:Tt(!1)},At=Nt.indexOf,Ot=function(t,e){var n,r=ft(t),i=0,o=[];for(n in r)!S(W,n)&&S(r,n)&&o.push(n);for(;e.length>i;)S(r,n=e[i++])&&(~At(o,n)||o.push(n));return o},Pt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Dt=Pt.concat("length","prototype"),Mt={f:Object.getOwnPropertyNames||function(t){return Ot(t,Dt)}},Lt={f:Object.getOwnPropertySymbols},It=mt("Reflect","ownKeys")||function(t){var e=Mt.f(d(t)),n=Lt.f;return n?e.concat(n(t)):e},Rt=function(t,e){for(var n=It(e),r=p.f,i=gt.f,o=0;o<n.length;o++){var a=n[o];S(t,a)||r(t,a,i(e,a))}},Bt=/#|\.prototype\./,jt=function(e,n){var r=zt[Ft(e)];return r==qt||r!=Vt&&("function"==typeof n?t(n):!!n)},Ft=jt.normalize=function(t){return String(t).replace(Bt,".").toLowerCase()},zt=jt.data={},Vt=jt.NATIVE="N",qt=jt.POLYFILL="P",Ht=jt,Ut=gt.f,Gt=function(t,e){var n,r,i,a,s,l=t.target,u=t.global,c=t.stat;if(n=u?o:c?o[l]||w(l,{}):(o[l]||{}).prototype)for(r in e){if(a=e[r],i=t.noTargetGet?(s=Ut(n,r))&&s.value:n[r],!Ht(u?r:l+(c?".":"#")+r,t.forced)&&void 0!==i){if(typeof a==typeof i)continue;Rt(a,i)}(t.sham||i&&i.sham)&&_(a,"sham",!0),tt(n,r,a,t)}},Wt=o.Promise,Yt=function(t,e,n){for(var r in e)tt(t,r,e[r],n);return t},Xt=p.f,Kt=L("toStringTag"),$t=function(t,e,n){t&&!S(t=n?t:t.prototype,Kt)&&Xt(t,Kt,{configurable:!0,value:e})},Zt=L("species"),Jt=function(t){var n=mt(t),r=p.f;e&&n&&!n[Zt]&&r(n,Zt,{configurable:!0,get:function(){return this}})},Qt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},te=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},ee={},ne=L("iterator"),re=Array.prototype,ie=function(t){return void 0!==t&&(ee.Array===t||re[ne]===t)},oe=function(t,e,n){if(Qt(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},ae=L("iterator"),se=function(t){if(null!=t)return t[ae]||t["@@iterator"]||ee[ot(t)]},le=function(t){var e=t.return;if(void 0!==e)return d(e.call(t)).value},ue=function(t,e){this.stopped=t,this.result=e},ce=function(t,e,n){var r,i,o,a,s,l,u,c=n&&n.that,h=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),g=oe(e,c,1+h+p),v=function(t){return r&&le(r),new ue(!0,t)},y=function(t){return h?(d(t),p?g(t[0],t[1],v):g(t[0],t[1])):p?g(t,v):g(t)};if(f)r=t;else{if("function"!=typeof(i=se(t)))throw TypeError("Target is not iterable");if(ie(i)){for(o=0,a=Et(t.length);a>o;o++)if((s=y(t[o]))&&s instanceof ue)return s;return new ue(!1)}r=i.call(t)}for(l=r.next;!(u=l.call(r)).done;){try{s=y(u.value)}catch(t){throw le(r),t}if("object"==typeof s&&s&&s instanceof ue)return s}return new ue(!1)},de=L("iterator"),he=!1;try{var fe=0,pe={next:function(){return{done:!!fe++}},return:function(){he=!0}};pe[de]=function(){return this},Array.from(pe,(function(){throw 2}))}catch(Hy){}var ge,ve,ye,me=function(t,e){if(!e&&!he)return!1;var n=!1;try{var r={};r[de]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},be=L("species"),_e=function(t,e){var n,r=d(t).constructor;return void 0===r||null==(n=d(r)[be])?e:Qt(n)},we=mt("document","documentElement"),xe=mt("navigator","userAgent")||"",Ee=/(iphone|ipod|ipad).*applewebkit/i.test(xe),ke="process"==nt(o.process),Se=o.location,Ce=o.setImmediate,Te=o.clearImmediate,Ne=o.process,Ae=o.MessageChannel,Oe=o.Dispatch,Pe=0,De={},Me=function(t){if(De.hasOwnProperty(t)){var e=De[t];delete De[t],e()}},Le=function(t){return function(){Me(t)}},Ie=function(t){Me(t.data)},Re=function(t){o.postMessage(t+"",Se.protocol+"//"+Se.host)};Ce&&Te||(Ce=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return De[++Pe]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},ge(Pe),Pe},Te=function(t){delete De[t]},ke?ge=function(t){Ne.nextTick(Le(t))}:Oe&&Oe.now?ge=function(t){Oe.now(Le(t))}:Ae&&!Ee?(ye=(ve=new Ae).port2,ve.port1.onmessage=Ie,ge=oe(ye.postMessage,ye,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&Se&&"file:"!==Se.protocol&&!t(Re)?(ge=Re,o.addEventListener("message",Ie,!1)):ge="onreadystatechange"in u("script")?function(t){we.appendChild(u("script")).onreadystatechange=function(){we.removeChild(this),Me(t)}}:function(t){setTimeout(Le(t),0)});var Be,je,Fe,ze,Ve,qe,He,Ue,Ge={set:Ce,clear:Te},We=/web0s(?!.*chrome)/i.test(xe),Ye=gt.f,Xe=Ge.set,Ke=o.MutationObserver||o.WebKitMutationObserver,$e=o.document,Ze=o.process,Je=o.Promise,Qe=Ye(o,"queueMicrotask"),tn=Qe&&Qe.value;tn||(Be=function(){var t,e;for(ke&&(t=Ze.domain)&&t.exit();je;){e=je.fn,je=je.next;try{e()}catch(t){throw je?ze():Fe=void 0,t}}Fe=void 0,t&&t.enter()},Ee||ke||We||!Ke||!$e?Je&&Je.resolve?(He=Je.resolve(void 0),Ue=He.then,ze=function(){Ue.call(He,Be)}):ze=ke?function(){Ze.nextTick(Be)}:function(){Xe.call(o,Be)}:(Ve=!0,qe=$e.createTextNode(""),new Ke(Be).observe(qe,{characterData:!0}),ze=function(){qe.data=Ve=!Ve}));var en,nn,rn=tn||function(t){var e={fn:t,next:void 0};Fe&&(Fe.next=e),je||(je=e,ze()),Fe=e},on=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Qt(e),this.reject=Qt(n)},an={f:function(t){return new on(t)}},sn=function(t,e){if(d(t),a(e)&&e.constructor===t)return e;var n=an.f(t);return(0,n.resolve)(e),n.promise},ln=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},un=o.process,cn=un&&un.versions,dn=cn&&cn.v8;dn?nn=(en=dn.split("."))[0]+en[1]:xe&&(!(en=xe.match(/Edge\/(\d+)/))||en[1]>=74)&&(en=xe.match(/Chrome\/(\d+)/))&&(nn=en[1]);var hn,fn,pn,gn,vn=nn&&+nn,yn=Ge.set,mn=L("species"),bn="Promise",_n=Q.get,wn=Q.set,xn=Q.getterFor(bn),En=Wt,kn=o.TypeError,Sn=o.document,Cn=o.process,Tn=mt("fetch"),Nn=an.f,An=Nn,On=!!(Sn&&Sn.createEvent&&o.dispatchEvent),Pn="function"==typeof PromiseRejectionEvent,Dn=Ht(bn,(function(){if(!(V(En)!==String(En))){if(66===vn)return!0;if(!ke&&!Pn)return!0}if(vn>=51&&/native code/.test(En))return!1;var t=En.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[mn]=e,!(t.then((function(){}))instanceof e)})),Mn=Dn||!me((function(t){En.all(t).catch((function(){}))})),Ln=function(t){var e;return!(!a(t)||"function"!=typeof(e=t.then))&&e},In=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;rn((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,l,u=n[o++],c=i?u.ok:u.fail,d=u.resolve,h=u.reject,f=u.domain;try{c?(i||(2===t.rejection&&Fn(t),t.rejection=1),!0===c?a=r:(f&&f.enter(),a=c(r),f&&(f.exit(),l=!0)),a===u.promise?h(kn("Promise-chain cycle")):(s=Ln(a))?s.call(a,d,h):d(a)):h(r)}catch(t){f&&!l&&f.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Bn(t)}))}},Rn=function(t,e,n){var r,i;On?((r=Sn.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),o.dispatchEvent(r)):r={promise:e,reason:n},!Pn&&(i=o["on"+t])?i(r):"unhandledrejection"===t&&function(t,e){var n=o.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Bn=function(t){yn.call(o,(function(){var e,n=t.facade,r=t.value;if(jn(t)&&(e=ln((function(){ke?Cn.emit("unhandledRejection",r,n):Rn("unhandledrejection",n,r)})),t.rejection=ke||jn(t)?2:1,e.error))throw e.value}))},jn=function(t){return 1!==t.rejection&&!t.parent},Fn=function(t){yn.call(o,(function(){var e=t.facade;ke?Cn.emit("rejectionHandled",e):Rn("rejectionhandled",e,t.value)}))},zn=function(t,e,n){return function(r){t(e,r,n)}},Vn=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,In(t,!0))},qn=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw kn("Promise can't be resolved itself");var r=Ln(e);r?rn((function(){var n={done:!1};try{r.call(e,zn(qn,n,t),zn(Vn,n,t))}catch(e){Vn(n,e,t)}})):(t.value=e,t.state=1,In(t,!1))}catch(e){Vn({done:!1},e,t)}}};Dn&&(En=function(t){te(this,En,bn),Qt(t),hn.call(this);var e=_n(this);try{t(zn(qn,e),zn(Vn,e))}catch(t){Vn(e,t)}},(hn=function(t){wn(this,{type:bn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Yt(En.prototype,{then:function(t,e){var n=xn(this),r=Nn(_e(this,En));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=ke?Cn.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&In(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),fn=function(){var t=new hn,e=_n(t);this.promise=t,this.resolve=zn(qn,e),this.reject=zn(Vn,e)},an.f=Nn=function(t){return t===En||t===pn?new fn(t):An(t)},"function"==typeof Wt&&(gn=Wt.prototype.then,tt(Wt.prototype,"then",(function(t,e){var n=this;return new En((function(t,e){gn.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Tn&&Gt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return sn(En,Tn.apply(o,arguments))}}))),Gt({global:!0,wrap:!0,forced:Dn},{Promise:En}),$t(En,bn,!1),Jt(bn),pn=mt(bn),Gt({target:bn,stat:!0,forced:Dn},{reject:function(t){var e=Nn(this);return e.reject.call(void 0,t),e.promise}}),Gt({target:bn,stat:!0,forced:Dn},{resolve:function(t){return sn(this,t)}}),Gt({target:bn,stat:!0,forced:Mn},{all:function(t){var e=this,n=Nn(e),r=n.resolve,i=n.reject,o=ln((function(){var n=Qt(e.resolve),o=[],a=0,s=1;ce(t,(function(t){var l=a++,u=!1;o.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,o[l]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=Nn(e),r=n.reject,i=ln((function(){var i=Qt(e.resolve);ce(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Hn=!!Wt&&t((function(){Wt.prototype.finally.call({then:function(){}},(function(){}))}));Gt({target:"Promise",proto:!0,real:!0,forced:Hn},{finally:function(t){var e=_e(this,mt("Promise")),n="function"==typeof t;return this.then(n?function(n){return sn(e,t()).then((function(){return n}))}:t,n?function(n){return sn(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof Wt||Wt.prototype.finally||tt(Wt.prototype,"finally",mt("Promise").prototype.finally);var Un=[].slice,Gn=/MSIE .\./.test(xe),Wn=function(t){return function(e,n){var r=arguments.length>2,i=r?Un.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};function Yn(t){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function Kn(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Xn(o,r,i,a,s,"next",t)}function s(t){Xn(o,r,i,a,s,"throw",t)}a(void 0)}))}}function $n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jn(t,e,n){return e&&Zn(t.prototype,e),n&&Zn(t,n),t}function Qn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&er(t,e)}function tr(t){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function er(t,e){return(er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function rr(t,e,n){return(rr=nr()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&er(i,n.prototype),i}).apply(null,arguments)}function ir(t){var e="function"==typeof Map?new Map:void 0;return(ir=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return rr(t,arguments,tr(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),er(n,t)})(t)}function or(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ar(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?or(t):e}function sr(t){var e=nr();return function(){var n,r=tr(t);if(e){var i=tr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ar(this,n)}}function lr(t,e,n){return(lr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tr(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ur(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function cr(t){return function(t){if(Array.isArray(t))return hr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||dr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(t,e){if(t){if("string"==typeof t)return hr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hr(t,e):void 0}}function hr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=dr(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}Gt({global:!0,bind:!0,forced:Gn},{setTimeout:Wn(o.setTimeout),setInterval:Wn(o.setInterval)});var pr,gr=Array.isArray||function(t){return"Array"==nt(t)},vr=function(t){return Object(ht(t))},yr=Object.keys||function(t){return Ot(t,Pt)},mr=e?Object.defineProperties:function(t,e){d(t);for(var n,r=yr(e),i=r.length,o=0;i>o;)p.f(t,n=r[o++],e[n]);return t},br=G("IE_PROTO"),_r=function(){},wr=function(t){return"<script>"+t+"<\/script>"},xr=function(){try{pr=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;xr=pr?function(t){t.write(wr("")),t.close();var e=t.parentWindow.Object;return t=null,e}(pr):((e=u("iframe")).style.display="none",we.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(wr("document.F=Object")),t.close(),t.F);for(var n=Pt.length;n--;)delete xr.prototype[Pt[n]];return xr()};W[br]=!0;var Er=Object.create||function(t,e){var n;return null!==t?(_r.prototype=d(t),n=new _r,_r.prototype=null,n[br]=t):n=xr(),void 0===e?n:mr(n,e)},kr=Mt.f,Sr={}.toString,Cr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Tr={f:function(t){return Cr&&"[object Window]"==Sr.call(t)?function(t){try{return kr(t)}catch(t){return Cr.slice()}}(t):kr(ft(t))}},Nr={f:L},Ar=p.f,Or=function(t){var e=vt.Symbol||(vt.Symbol={});S(e,t)||Ar(e,t,{value:Nr.f(t)})},Pr=L("species"),Dr=function(t,e){var n;return gr(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!gr(n.prototype)?a(n)&&null===(n=n[Pr])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Mr=[].push,Lr=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(l,u,c,d){for(var h,f,p=vr(l),g=dt(p),v=oe(u,c,3),y=Et(g.length),m=0,b=d||Dr,_=e?b(l,y):n||a?b(l,0):void 0;y>m;m++)if((s||m in g)&&(f=v(h=g[m],m,p),t))if(e)_[m]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return m;case 2:Mr.call(_,h)}else switch(t){case 4:return!1;case 7:Mr.call(_,h)}return o?-1:r||i?i:_}},Ir={forEach:Lr(0),map:Lr(1),filter:Lr(2),some:Lr(3),every:Lr(4),find:Lr(5),findIndex:Lr(6),filterOut:Lr(7)},Rr=Ir.forEach,Br=G("hidden"),jr=L("toPrimitive"),Fr=Q.set,zr=Q.getterFor("Symbol"),Vr=Object.prototype,qr=o.Symbol,Hr=mt("JSON","stringify"),Ur=gt.f,Gr=p.f,Wr=Tr.f,Yr=ut.f,Xr=E("symbols"),Kr=E("op-symbols"),$r=E("string-to-symbol-registry"),Zr=E("symbol-to-string-registry"),Jr=E("wks"),Qr=o.QObject,ti=!Qr||!Qr.prototype||!Qr.prototype.findChild,ei=e&&t((function(){return 7!=Er(Gr({},"a",{get:function(){return Gr(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Ur(Vr,e);r&&delete Vr[e],Gr(t,e,n),r&&t!==Vr&&Gr(Vr,e,r)}:Gr,ni=function(t,n){var r=Xr[t]=Er(qr.prototype);return Fr(r,{type:"Symbol",tag:t,description:n}),e||(r.description=n),r},ri=O?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof qr},ii=function(t,e,n){t===Vr&&ii(Kr,e,n),d(t);var r=h(e,!0);return d(n),S(Xr,r)?(n.enumerable?(S(t,Br)&&t[Br][r]&&(t[Br][r]=!1),n=Er(n,{enumerable:b(0,!1)})):(S(t,Br)||Gr(t,Br,b(1,{})),t[Br][r]=!0),ei(t,r,n)):Gr(t,r,n)},oi=function(t,n){d(t);var r=ft(n),i=yr(r).concat(ui(r));return Rr(i,(function(n){e&&!ai.call(r,n)||ii(t,n,r[n])})),t},ai=function(t){var e=h(t,!0),n=Yr.call(this,e);return!(this===Vr&&S(Xr,e)&&!S(Kr,e))&&(!(n||!S(this,e)||!S(Xr,e)||S(this,Br)&&this[Br][e])||n)},si=function(t,e){var n=ft(t),r=h(e,!0);if(n!==Vr||!S(Xr,r)||S(Kr,r)){var i=Ur(n,r);return!i||!S(Xr,r)||S(n,Br)&&n[Br][r]||(i.enumerable=!0),i}},li=function(t){var e=Wr(ft(t)),n=[];return Rr(e,(function(t){S(Xr,t)||S(W,t)||n.push(t)})),n},ui=function(t){var e=t===Vr,n=Wr(e?Kr:ft(t)),r=[];return Rr(n,(function(t){!S(Xr,t)||e&&!S(Vr,t)||r.push(Xr[t])})),r};if(A||(tt((qr=function(){if(this instanceof qr)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,n=N(t),r=function(t){this===Vr&&r.call(Kr,t),S(this,Br)&&S(this[Br],n)&&(this[Br][n]=!1),ei(this,n,b(1,t))};return e&&ti&&ei(Vr,n,{configurable:!0,set:r}),ni(n,t)}).prototype,"toString",(function(){return zr(this).tag})),tt(qr,"withoutSetter",(function(t){return ni(N(t),t)})),ut.f=ai,p.f=ii,gt.f=si,Mt.f=Tr.f=li,Lt.f=ui,Nr.f=function(t){return ni(L(t),t)},e&&(Gr(qr.prototype,"description",{configurable:!0,get:function(){return zr(this).description}}),tt(Vr,"propertyIsEnumerable",ai,{unsafe:!0}))),Gt({global:!0,wrap:!0,forced:!A,sham:!A},{Symbol:qr}),Rr(yr(Jr),(function(t){Or(t)})),Gt({target:"Symbol",stat:!0,forced:!A},{for:function(t){var e=String(t);if(S($r,e))return $r[e];var n=qr(e);return $r[e]=n,Zr[n]=e,n},keyFor:function(t){if(!ri(t))throw TypeError(t+" is not a symbol");if(S(Zr,t))return Zr[t]},useSetter:function(){ti=!0},useSimple:function(){ti=!1}}),Gt({target:"Object",stat:!0,forced:!A,sham:!e},{create:function(t,e){return void 0===e?Er(t):oi(Er(t),e)},defineProperty:ii,defineProperties:oi,getOwnPropertyDescriptor:si}),Gt({target:"Object",stat:!0,forced:!A},{getOwnPropertyNames:li,getOwnPropertySymbols:ui}),Gt({target:"Object",stat:!0,forced:t((function(){Lt.f(1)}))},{getOwnPropertySymbols:function(t){return Lt.f(vr(t))}}),Hr){var ci=!A||t((function(){var t=qr();return"[null]"!=Hr([t])||"{}"!=Hr({a:t})||"{}"!=Hr(Object(t))}));Gt({target:"JSON",stat:!0,forced:ci},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(a(e)||void 0!==t)&&!ri(t))return gr(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ri(e))return e}),i[1]=e,Hr.apply(null,i)}})}qr.prototype[jr]||_(qr.prototype,jr,qr.prototype.valueOf),$t(qr,"Symbol"),W[Br]=!0,Or("asyncIterator");var di=p.f,hi=o.Symbol;if(e&&"function"==typeof hi&&(!("description"in hi.prototype)||void 0!==hi().description)){var fi={},pi=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof pi?new hi(t):void 0===t?hi():hi(t);return""===t&&(fi[e]=!0),e};Rt(pi,hi);var gi=pi.prototype=hi.prototype;gi.constructor=pi;var vi=gi.toString,yi="Symbol(test)"==String(hi("test")),mi=/^Symbol\((.*)\)[^)]+$/;di(gi,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=vi.call(t);if(S(fi,t))return"";var n=yi?e.slice(7,-1):e.replace(mi,"$1");return""===n?void 0:n}}),Gt({global:!0,forced:!0},{Symbol:pi})}Or("hasInstance"),Or("isConcatSpreadable"),Or("iterator"),Or("match"),Or("matchAll"),Or("replace"),Or("search"),Or("species"),Or("split"),Or("toPrimitive"),Or("toStringTag"),Or("unscopables");var bi=!t((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),_i=G("IE_PROTO"),wi=Object.prototype,xi=bi?Object.getPrototypeOf:function(t){return t=vr(t),S(t,_i)?t[_i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?wi:null},Ei=function(t){if(!a(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t},ki=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return d(n),Ei(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Si=function(t,e){var n=this;if(!(n instanceof Si))return new Si(t,e);ki&&(n=ki(new Error(void 0),xi(n))),void 0!==e&&_(n,"message",String(e));var r=[];return ce(t,r.push,{that:r}),_(n,"errors",r),n};Si.prototype=Er(Error.prototype,{constructor:b(5,Si),message:b(5,""),name:b(5,"AggregateError")}),Gt({global:!0},{AggregateError:Si});var Ci=function(t,e,n,r){try{return r?e(d(n)[0],n[1]):e(n)}catch(e){throw le(t),e}},Ti=function(t,e,n){var r=h(e);r in t?p.f(t,r,b(0,n)):t[r]=n},Ni=function(t){var e,n,r,i,o,a,s=vr(t),l="function"==typeof this?this:Array,u=arguments.length,c=u>1?arguments[1]:void 0,d=void 0!==c,h=se(s),f=0;if(d&&(c=oe(c,u>2?arguments[2]:void 0,2)),null==h||l==Array&&ie(h))for(n=new l(e=Et(s.length));e>f;f++)a=d?c(s[f],f):s[f],Ti(n,f,a);else for(o=(i=h.call(s)).next,n=new l;!(r=o.call(i)).done;f++)a=d?Ci(i,c,[r.value,f],!0):r.value,Ti(n,f,a);return n.length=f,n},Ai=!me((function(t){Array.from(t)}));Gt({target:"Array",stat:!0,forced:Ai},{from:Ni}),Gt({target:"Array",stat:!0},{isArray:gr});var Oi=t((function(){function t(){}return!(Array.of.call(t)instanceof t)}));Gt({target:"Array",stat:!0,forced:Oi},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)Ti(n,t,arguments[t++]);return n.length=e,n}});var Pi=L("species"),Di=function(e){return vn>=51||!t((function(){var t=[];return(t.constructor={})[Pi]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Mi=L("isConcatSpreadable"),Li=vn>=51||!t((function(){var t=[];return t[Mi]=!1,t.concat()[0]!==t})),Ii=Di("concat"),Ri=function(t){if(!a(t))return!1;var e=t[Mi];return void 0!==e?!!e:gr(t)};Gt({target:"Array",proto:!0,forced:!Li||!Ii},{concat:function(t){var e,n,r,i,o,a=vr(this),s=Dr(a,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(Ri(o=-1===e?a:arguments[e])){if(l+(i=Et(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,l++)n in o&&Ti(s,l,o[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Ti(s,l++,o)}return s.length=l,s}});var Bi=Math.min,ji=[].copyWithin||function(t,e){var n=vr(this),r=Et(n.length),i=Ct(t,r),o=Ct(e,r),a=arguments.length>2?arguments[2]:void 0,s=Bi((void 0===a?r:Ct(a,r))-o,r-i),l=1;for(o<i&&i<o+s&&(l=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:delete n[i],i+=l,o+=l;return n},Fi=L("unscopables"),zi=Array.prototype;null==zi[Fi]&&p.f(zi,Fi,{configurable:!0,value:Er(null)});var Vi=function(t){zi[Fi][t]=!0};Gt({target:"Array",proto:!0},{copyWithin:ji}),Vi("copyWithin");var qi=function(e,n){var r=[][e];return!!r&&t((function(){r.call(null,n||function(){throw 1},1)}))},Hi=Object.defineProperty,Ui={},Gi=function(t){throw t},Wi=function(n,r){if(S(Ui,n))return Ui[n];r||(r={});var i=[][n],o=!!S(r,"ACCESSORS")&&r.ACCESSORS,a=S(r,0)?r[0]:Gi,s=S(r,1)?r[1]:void 0;return Ui[n]=!!i&&!t((function(){if(o&&!e)return!0;var t={length:-1};o?Hi(t,1,{enumerable:!0,get:Gi}):t[1]=1,i.call(t,a,s)}))},Yi=Ir.every,Xi=qi("every"),Ki=Wi("every");Gt({target:"Array",proto:!0,forced:!Xi||!Ki},{every:function(t){return Yi(this,t,arguments.length>1?arguments[1]:void 0)}});var $i=function(t){for(var e=vr(this),n=Et(e.length),r=arguments.length,i=Ct(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:Ct(o,n);a>i;)e[i++]=t;return e};Gt({target:"Array",proto:!0},{fill:$i}),Vi("fill");var Zi=Ir.filter,Ji=Di("filter"),Qi=Wi("filter");Gt({target:"Array",proto:!0,forced:!Ji||!Qi},{filter:function(t){return Zi(this,t,arguments.length>1?arguments[1]:void 0)}});var to=Ir.find,eo=!0,no=Wi("find");"find"in[]&&Array(1).find((function(){eo=!1})),Gt({target:"Array",proto:!0,forced:eo||!no},{find:function(t){return to(this,t,arguments.length>1?arguments[1]:void 0)}}),Vi("find");var ro=Ir.findIndex,io=!0,oo=Wi("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){io=!1})),Gt({target:"Array",proto:!0,forced:io||!oo},{findIndex:function(t){return ro(this,t,arguments.length>1?arguments[1]:void 0)}}),Vi("findIndex");var ao=function(t,e,n,r,i,o,a,s){for(var l,u=i,c=0,d=!!a&&oe(a,s,3);c<r;){if(c in n){if(l=d?d(n[c],c,e):n[c],o>0&&gr(l))u=ao(t,e,l,Et(l.length),u,o-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[u]=l}u++}c++}return u},so=ao;Gt({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=vr(this),n=Et(e.length),r=Dr(e,0);return r.length=so(r,e,e,n,0,void 0===t?1:wt(t)),r}}),Gt({target:"Array",proto:!0},{flatMap:function(t){var e,n=vr(this),r=Et(n.length);return Qt(t),(e=Dr(n,0)).length=so(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var lo=Ir.forEach,uo=qi("forEach"),co=Wi("forEach"),ho=uo&&co?[].forEach:function(t){return lo(this,t,arguments.length>1?arguments[1]:void 0)};Gt({target:"Array",proto:!0,forced:[].forEach!=ho},{forEach:ho});var fo=Nt.includes,po=Wi("indexOf",{ACCESSORS:!0,1:0});Gt({target:"Array",proto:!0,forced:!po},{includes:function(t){return fo(this,t,arguments.length>1?arguments[1]:void 0)}}),Vi("includes");var go=Nt.indexOf,vo=[].indexOf,yo=!!vo&&1/[1].indexOf(1,-0)<0,mo=qi("indexOf"),bo=Wi("indexOf",{ACCESSORS:!0,1:0});Gt({target:"Array",proto:!0,forced:yo||!mo||!bo},{indexOf:function(t){return yo?vo.apply(this,arguments)||0:go(this,t,arguments.length>1?arguments[1]:void 0)}});var _o=[].join,wo=dt!=Object,xo=qi("join",",");Gt({target:"Array",proto:!0,forced:wo||!xo},{join:function(t){return _o.call(ft(this),void 0===t?",":t)}});var Eo=Math.min,ko=[].lastIndexOf,So=!!ko&&1/[1].lastIndexOf(1,-0)<0,Co=qi("lastIndexOf"),To=Wi("indexOf",{ACCESSORS:!0,1:0}),No=So||!Co||!To?function(t){if(So)return ko.apply(this,arguments)||0;var e=ft(this),n=Et(e.length),r=n-1;for(arguments.length>1&&(r=Eo(r,wt(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:ko;Gt({target:"Array",proto:!0,forced:No!==[].lastIndexOf},{lastIndexOf:No});var Ao=Ir.map,Oo=Di("map"),Po=Wi("map");Gt({target:"Array",proto:!0,forced:!Oo||!Po},{map:function(t){return Ao(this,t,arguments.length>1?arguments[1]:void 0)}});var Do=function(t){return function(e,n,r,i){Qt(n);var o=vr(e),a=dt(o),s=Et(o.length),l=t?s-1:0,u=t?-1:1;if(r<2)for(;;){if(l in a){i=a[l],l+=u;break}if(l+=u,t?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:s>l;l+=u)l in a&&(i=n(i,a[l],l,o));return i}},Mo={left:Do(!1),right:Do(!0)},Lo=Mo.left,Io=qi("reduce"),Ro=Wi("reduce",{1:0});Gt({target:"Array",proto:!0,forced:!Io||!Ro||!ke&&vn>79&&vn<83},{reduce:function(t){return Lo(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Bo=Mo.right,jo=qi("reduceRight"),Fo=Wi("reduce",{1:0});Gt({target:"Array",proto:!0,forced:!jo||!Fo||!ke&&vn>79&&vn<83},{reduceRight:function(t){return Bo(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var zo=[].reverse,Vo=[1,2];Gt({target:"Array",proto:!0,forced:String(Vo)===String(Vo.reverse())},{reverse:function(){return gr(this)&&(this.length=this.length),zo.call(this)}});var qo=Di("slice"),Ho=Wi("slice",{ACCESSORS:!0,0:0,1:2}),Uo=L("species"),Go=[].slice,Wo=Math.max;Gt({target:"Array",proto:!0,forced:!qo||!Ho},{slice:function(t,e){var n,r,i,o=ft(this),s=Et(o.length),l=Ct(t,s),u=Ct(void 0===e?s:e,s);if(gr(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!gr(n.prototype)?a(n)&&null===(n=n[Uo])&&(n=void 0):n=void 0,n===Array||void 0===n))return Go.call(o,l,u);for(r=new(void 0===n?Array:n)(Wo(u-l,0)),i=0;l<u;l++,i++)l in o&&Ti(r,i,o[l]);return r.length=i,r}});var Yo=Ir.some,Xo=qi("some"),Ko=Wi("some");Gt({target:"Array",proto:!0,forced:!Xo||!Ko},{some:function(t){return Yo(this,t,arguments.length>1?arguments[1]:void 0)}});var $o=[],Zo=$o.sort,Jo=t((function(){$o.sort(void 0)})),Qo=t((function(){$o.sort(null)})),ta=qi("sort");Gt({target:"Array",proto:!0,forced:Jo||!Qo||!ta},{sort:function(t){return void 0===t?Zo.call(vr(this)):Zo.call(vr(this),Qt(t))}});var ea=Di("splice"),na=Wi("splice",{ACCESSORS:!0,0:0,1:2}),ra=Math.max,ia=Math.min;Gt({target:"Array",proto:!0,forced:!ea||!na},{splice:function(t,e){var n,r,i,o,a,s,l=vr(this),u=Et(l.length),c=Ct(t,u),d=arguments.length;if(0===d?n=r=0:1===d?(n=0,r=u-c):(n=d-2,r=ia(ra(wt(e),0),u-c)),u+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=Dr(l,r),o=0;o<r;o++)(a=c+o)in l&&Ti(i,o,l[a]);if(i.length=r,n<r){for(o=c;o<u-r;o++)s=o+n,(a=o+r)in l?l[s]=l[a]:delete l[s];for(o=u;o>u-r+n;o--)delete l[o-1]}else if(n>r)for(o=u-r;o>c;o--)s=o+n-1,(a=o+r-1)in l?l[s]=l[a]:delete l[s];for(o=0;o<n;o++)l[o+c]=arguments[o+2];return l.length=u-r+n,i}}),Jt("Array"),Vi("flat"),Vi("flatMap");var oa,aa,sa,la=L("iterator"),ua=!1;[].keys&&("next"in(sa=[].keys())?(aa=xi(xi(sa)))!==Object.prototype&&(oa=aa):ua=!0),null==oa&&(oa={}),S(oa,la)||_(oa,la,(function(){return this}));var ca={IteratorPrototype:oa,BUGGY_SAFARI_ITERATORS:ua},da=ca.IteratorPrototype,ha=function(){return this},fa=function(t,e,n){var r=e+" Iterator";return t.prototype=Er(da,{next:b(1,n)}),$t(t,r,!1),ee[r]=ha,t},pa=ca.IteratorPrototype,ga=ca.BUGGY_SAFARI_ITERATORS,va=L("iterator"),ya=function(){return this},ma=function(t,e,n,r,i,o,a){fa(n,e,r);var s,l,u,c=function(t){if(t===i&&g)return g;if(!ga&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},d=e+" Iterator",h=!1,f=t.prototype,p=f[va]||f["@@iterator"]||i&&f[i],g=!ga&&p||c(i),v="Array"==e&&f.entries||p;if(v&&(s=xi(v.call(new t)),pa!==Object.prototype&&s.next&&(xi(s)!==pa&&(ki?ki(s,pa):"function"!=typeof s[va]&&_(s,va,ya)),$t(s,d,!0))),"values"==i&&p&&"values"!==p.name&&(h=!0,g=function(){return p.call(this)}),f[va]!==g&&_(f,va,g),ee[e]=g,i)if(l={values:c("values"),keys:o?g:c("keys"),entries:c("entries")},a)for(u in l)(ga||h||!(u in f))&&tt(f,u,l[u]);else Gt({target:e,proto:!0,forced:ga||h},l);return l},ba=Q.set,_a=Q.getterFor("Array Iterator"),wa=ma(Array,"Array",(function(t,e){ba(this,{type:"Array Iterator",target:ft(t),index:0,kind:e})}),(function(){var t=_a(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");ee.Arguments=ee.Array,Vi("keys"),Vi("values"),Vi("entries");var xa=[].slice,Ea={},ka=function(t,e,n){if(!(e in Ea)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";Ea[e]=Function("C,a","return new C("+r.join(",")+")")}return Ea[e](t,n)},Sa=Function.bind||function(t){var e=Qt(this),n=xa.call(arguments,1),r=function(){var i=n.concat(xa.call(arguments));return this instanceof r?ka(e,i.length,i):e.apply(t,i)};return a(e.prototype)&&(r.prototype=e.prototype),r};Gt({target:"Function",proto:!0},{bind:Sa});var Ca=L("hasInstance"),Ta=Function.prototype;Ca in Ta||p.f(Ta,Ca,{value:function(t){if("function"!=typeof this||!a(t))return!1;if(!a(this.prototype))return t instanceof this;for(;t=xi(t);)if(this.prototype===t)return!0;return!1}}),Gt({global:!0},{globalThis:o});var Na=Object.assign,Aa=Object.defineProperty,Oa=!Na||t((function(){if(e&&1!==Na({b:1},Na(Aa({},"a",{enumerable:!0,get:function(){Aa(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},n={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),7!=Na({},t)[r]||"abcdefghijklmnopqrst"!=yr(Na({},n)).join("")}))?function(t,n){for(var r=vr(t),i=arguments.length,o=1,a=Lt.f,s=ut.f;i>o;)for(var l,u=dt(arguments[o++]),c=a?yr(u).concat(a(u)):yr(u),d=c.length,h=0;d>h;)l=c[h++],e&&!s.call(u,l)||(r[l]=u[l]);return r}:Na;Gt({target:"Object",stat:!0,forced:Object.assign!==Oa},{assign:Oa}),Gt({target:"Object",stat:!0,sham:!e},{create:Er}),Gt({target:"Object",stat:!0,forced:!e,sham:!e},{defineProperty:p.f}),Gt({target:"Object",stat:!0,forced:!e,sham:!e},{defineProperties:mr});var Pa=ut.f,Da=function(t){return function(n){for(var r,i=ft(n),o=yr(i),a=o.length,s=0,l=[];a>s;)r=o[s++],e&&!Pa.call(i,r)||l.push(t?[r,i[r]]:i[r]);return l}},Ma={entries:Da(!0),values:Da(!1)},La=Ma.entries;Gt({target:"Object",stat:!0},{entries:function(t){return La(t)}});var Ia=!t((function(){return Object.isExtensible(Object.preventExtensions({}))})),Ra=r((function(t){var e=p.f,n=N("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},s=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!S(t,n)){if(!i(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!S(t,n)){if(!i(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return Ia&&s.REQUIRED&&i(t)&&!S(t,n)&&o(t),t}};W[n]=!0})),Ba=Ra.onFreeze,ja=Object.freeze,Fa=t((function(){ja(1)}));Gt({target:"Object",stat:!0,forced:Fa,sham:!Ia},{freeze:function(t){return ja&&a(t)?ja(Ba(t)):t}}),Gt({target:"Object",stat:!0},{fromEntries:function(t){var e={};return ce(t,(function(t,n){Ti(e,t,n)}),{AS_ENTRIES:!0}),e}});var za=gt.f,Va=t((function(){za(1)}));Gt({target:"Object",stat:!0,forced:!e||Va,sham:!e},{getOwnPropertyDescriptor:function(t,e){return za(ft(t),e)}}),Gt({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(t){for(var e,n,r=ft(t),i=gt.f,o=It(r),a={},s=0;o.length>s;)void 0!==(n=i(r,e=o[s++]))&&Ti(a,e,n);return a}});var qa=Tr.f,Ha=t((function(){return!Object.getOwnPropertyNames(1)}));Gt({target:"Object",stat:!0,forced:Ha},{getOwnPropertyNames:qa});var Ua=t((function(){xi(1)}));Gt({target:"Object",stat:!0,forced:Ua,sham:!bi},{getPrototypeOf:function(t){return xi(vr(t))}});var Ga=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};Gt({target:"Object",stat:!0},{is:Ga});var Wa=Object.isExtensible,Ya=t((function(){Wa(1)}));Gt({target:"Object",stat:!0,forced:Ya},{isExtensible:function(t){return!!a(t)&&(!Wa||Wa(t))}});var Xa=Object.isFrozen,Ka=t((function(){Xa(1)}));Gt({target:"Object",stat:!0,forced:Ka},{isFrozen:function(t){return!a(t)||!!Xa&&Xa(t)}});var $a=Object.isSealed,Za=t((function(){$a(1)}));Gt({target:"Object",stat:!0,forced:Za},{isSealed:function(t){return!a(t)||!!$a&&$a(t)}});var Ja=t((function(){yr(1)}));Gt({target:"Object",stat:!0,forced:Ja},{keys:function(t){return yr(vr(t))}});var Qa=Ra.onFreeze,ts=Object.preventExtensions,es=t((function(){ts(1)}));Gt({target:"Object",stat:!0,forced:es,sham:!Ia},{preventExtensions:function(t){return ts&&a(t)?ts(Qa(t)):t}});var ns=Ra.onFreeze,rs=Object.seal,is=t((function(){rs(1)}));Gt({target:"Object",stat:!0,forced:is,sham:!Ia},{seal:function(t){return rs&&a(t)?rs(ns(t)):t}}),Gt({target:"Object",stat:!0},{setPrototypeOf:ki});var os=Ma.values;Gt({target:"Object",stat:!0},{values:function(t){return os(t)}});var as=!t((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete o[t]}));e&&Gt({target:"Object",proto:!0,forced:as},{__defineGetter__:function(t,e){p.f(vr(this),t,{get:Qt(e),enumerable:!0,configurable:!0})}}),e&&Gt({target:"Object",proto:!0,forced:as},{__defineSetter__:function(t,e){p.f(vr(this),t,{set:Qt(e),enumerable:!0,configurable:!0})}});var ss=gt.f;e&&Gt({target:"Object",proto:!0,forced:as},{__lookupGetter__:function(t){var e,n=vr(this),r=h(t,!0);do{if(e=ss(n,r))return e.get}while(n=xi(n))}});var ls=gt.f;e&&Gt({target:"Object",proto:!0,forced:as},{__lookupSetter__:function(t){var e,n=vr(this),r=h(t,!0);do{if(e=ls(n,r))return e.set}while(n=xi(n))}});var us=String.fromCharCode,cs=String.fromCodePoint,ds=!!cs&&1!=cs.length;Gt({target:"String",stat:!0,forced:ds},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],Ct(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?us(e):us(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}}),Gt({target:"String",stat:!0},{raw:function(t){for(var e=ft(t.raw),n=Et(e.length),r=arguments.length,i=[],o=0;n>o;)i.push(String(e[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}});var hs=function(t){return function(e,n){var r,i,o=String(ht(e)),a=wt(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},fs={codeAt:hs(!1),charAt:hs(!0)},ps=fs.codeAt;Gt({target:"String",proto:!0},{codePointAt:function(t){return ps(this,t)}});var gs,vs=L("match"),ys=function(t){var e;return a(t)&&(void 0!==(e=t[vs])?!!e:"RegExp"==nt(t))},ms=function(t){if(ys(t))throw TypeError("The method doesn't accept regular expressions");return t},bs=L("match"),_s=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[bs]=!1,"/./"[t](e)}catch(t){}}return!1},ws=gt.f,xs="".endsWith,Es=Math.min,ks=_s("endsWith"),Ss=!(ks||(gs=ws(String.prototype,"endsWith"),!gs||gs.writable));Gt({target:"String",proto:!0,forced:!Ss&&!ks},{endsWith:function(t){var e=String(ht(this));ms(t);var n=arguments.length>1?arguments[1]:void 0,r=Et(e.length),i=void 0===n?r:Es(Et(n),r),o=String(t);return xs?xs.call(e,o,i):e.slice(i-o.length,i)===o}}),Gt({target:"String",proto:!0,forced:!_s("includes")},{includes:function(t){return!!~String(ht(this)).indexOf(ms(t),arguments.length>1?arguments[1]:void 0)}});var Cs=function(){var t=d(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Ts(t,e){return RegExp(t,e)}var Ns={UNSUPPORTED_Y:t((function(){var t=Ts("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:t((function(){var t=Ts("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},As=RegExp.prototype.exec,Os=String.prototype.replace,Ps=As,Ds=function(){var t=/a/,e=/b*/g;return As.call(t,"a"),As.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),Ms=Ns.UNSUPPORTED_Y||Ns.BROKEN_CARET,Ls=void 0!==/()??/.exec("")[1];(Ds||Ls||Ms)&&(Ps=function(t){var e,n,r,i,o=this,a=Ms&&o.sticky,s=Cs.call(o),l=o.source,u=0,c=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),c=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(l="(?: "+l+")",c=" "+c,u++),n=new RegExp("^(?:"+l+")",s)),Ls&&(n=new RegExp("^"+l+"$(?!\\s)",s)),Ds&&(e=o.lastIndex),r=As.call(a?n:o,c),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:Ds&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),Ls&&r&&r.length>1&&Os.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Is=Ps;Gt({target:"RegExp",proto:!0,forced:/./.exec!==Is},{exec:Is});var Rs=L("species"),Bs=!t((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),js="$0"==="a".replace(/./,"$0"),Fs=L("replace"),zs=!!/./[Fs]&&""===/./[Fs]("a","$0"),Vs=!t((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),qs=function(e,n,r,i){var o=L(e),a=!t((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),s=a&&!t((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Rs]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!a||!s||"replace"===e&&(!Bs||!js||zs)||"split"===e&&!Vs){var l=/./[o],u=r(o,""[e],(function(t,e,n,r,i){return e.exec===Is?a&&!i?{done:!0,value:l.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:js,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:zs}),c=u[0],d=u[1];tt(String.prototype,e,c),tt(RegExp.prototype,o,2==n?function(t,e){return d.call(t,this,e)}:function(t){return d.call(t,this)})}i&&_(RegExp.prototype[o],"sham",!0)},Hs=fs.charAt,Us=function(t,e,n){return e+(n?Hs(t,e).length:1)},Gs=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==nt(t))throw TypeError("RegExp#exec called on incompatible receiver");return Is.call(t,e)};qs("match",1,(function(t,e,n){return[function(e){var n=ht(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=d(t),o=String(this);if(!i.global)return Gs(i,o);var a=i.unicode;i.lastIndex=0;for(var s,l=[],u=0;null!==(s=Gs(i,o));){var c=String(s[0]);l[u]=c,""===c&&(i.lastIndex=Us(o,Et(i.lastIndex),a)),u++}return 0===u?null:l}]}));var Ws=L("matchAll"),Ys=Q.set,Xs=Q.getterFor("RegExp String Iterator"),Ks=RegExp.prototype,$s=Ks.exec,Zs="".matchAll,Js=!!Zs&&!t((function(){"a".matchAll(/./)})),Qs=fa((function(t,e,n,r){Ys(this,{type:"RegExp String Iterator",regexp:t,string:e,global:n,unicode:r,done:!1})}),"RegExp String",(function(){var t=Xs(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=function(t,e){var n,r=t.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(t,e)))throw TypeError("Incorrect exec result");return n}return $s.call(t,e)}(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""==String(r[0])&&(e.lastIndex=Us(n,Et(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})})),tl=function(t){var e,n,r,i,o,a,s=d(this),l=String(t);return e=_e(s,RegExp),void 0===(n=s.flags)&&s instanceof RegExp&&!("flags"in Ks)&&(n=Cs.call(s)),r=void 0===n?"":String(n),i=new e(e===RegExp?s.source:s,r),o=!!~r.indexOf("g"),a=!!~r.indexOf("u"),i.lastIndex=Et(s.lastIndex),new Qs(i,l,o,a)};Gt({target:"String",proto:!0,forced:Js},{matchAll:function(t){var e,n,r=ht(this);if(null!=t){if(ys(t)&&!~String(ht("flags"in Ks?t.flags:Cs.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(Js)return Zs.apply(r,arguments);if(null!=(n=t[Ws]))return Qt(n).call(t,r)}else if(Js)return Zs.apply(r,arguments);return e=String(r),new RegExp(t,"g")[Ws](e)}}),Ws in Ks||_(Ks,Ws,tl);var el="".repeat||function(t){var e=String(ht(this)),n="",r=wt(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},nl=Math.ceil,rl=function(t){return function(e,n,r){var i,o,a=String(ht(e)),s=a.length,l=void 0===r?" ":String(r),u=Et(n);return u<=s||""==l?a:(i=u-s,(o=el.call(l,nl(i/l.length))).length>i&&(o=o.slice(0,i)),t?a+o:o+a)}},il={start:rl(!1),end:rl(!0)},ol=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(xe),al=il.end;Gt({target:"String",proto:!0,forced:ol},{padEnd:function(t){return al(this,t,arguments.length>1?arguments[1]:void 0)}});var sl=il.start;Gt({target:"String",proto:!0,forced:ol},{padStart:function(t){return sl(this,t,arguments.length>1?arguments[1]:void 0)}}),Gt({target:"String",proto:!0},{repeat:el});var ll=Math.floor,ul="".replace,cl=/\$([$&'`]|\d\d?|<[^>]*>)/g,dl=/\$([$&'`]|\d\d?)/g,hl=function(t,e,n,r,i,o){var a=n+t.length,s=r.length,l=dl;return void 0!==i&&(i=vr(i),l=cl),ul.call(o,l,(function(o,l){var u;switch(l.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(a);case"<":u=i[l.slice(1,-1)];break;default:var c=+l;if(0===c)return o;if(c>s){var d=ll(c/10);return 0===d?o:d<=s?void 0===r[d-1]?l.charAt(1):r[d-1]+l.charAt(1):o}u=r[c-1]}return void 0===u?"":u}))},fl=Math.max,pl=Math.min;qs("replace",2,(function(t,e,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=ht(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var s=n(e,t,this,r);if(s.done)return s.value}var l=d(t),u=String(this),c="function"==typeof r;c||(r=String(r));var h=l.global;if(h){var f=l.unicode;l.lastIndex=0}for(var p=[];;){var g=Gs(l,u);if(null===g)break;if(p.push(g),!h)break;""===String(g[0])&&(l.lastIndex=Us(u,Et(l.lastIndex),f))}for(var v,y="",m=0,b=0;b<p.length;b++){g=p[b];for(var _=String(g[0]),w=fl(pl(wt(g.index),u.length),0),x=[],E=1;E<g.length;E++)x.push(void 0===(v=g[E])?v:String(v));var k=g.groups;if(c){var S=[_].concat(x,w,u);void 0!==k&&S.push(k);var C=String(r.apply(void 0,S))}else C=hl(_,u,w,x,k,r);w>=m&&(y+=u.slice(m,w)+C,m=w+_.length)}return y+u.slice(m)}]})),qs("search",1,(function(t,e,n){return[function(e){var n=ht(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=d(t),o=String(this),a=i.lastIndex;Ga(a,0)||(i.lastIndex=0);var s=Gs(i,o);return Ga(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var gl=[].push,vl=Math.min,yl=!t((function(){return!RegExp(4294967295,"y")}));qs("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(ht(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!ys(t))return e.call(r,t,i);for(var o,a,s,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,d=new RegExp(t.source,u+"g");(o=Is.call(d,r))&&!((a=d.lastIndex)>c&&(l.push(r.slice(c,o.index)),o.length>1&&o.index<r.length&&gl.apply(l,o.slice(1)),s=o[0].length,c=a,l.length>=i));)d.lastIndex===o.index&&d.lastIndex++;return c===r.length?!s&&d.test("")||l.push(""):l.push(r.slice(c)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=ht(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var a=d(t),s=String(this),l=_e(a,RegExp),u=a.unicode,c=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(yl?"y":"g"),h=new l(yl?a:"^(?:"+a.source+")",c),f=void 0===i?4294967295:i>>>0;if(0===f)return[];if(0===s.length)return null===Gs(h,s)?[s]:[];for(var p=0,g=0,v=[];g<s.length;){h.lastIndex=yl?g:0;var y,m=Gs(h,yl?s:s.slice(g));if(null===m||(y=vl(Et(h.lastIndex+(yl?0:g)),s.length))===p)g=Us(s,g,u);else{if(v.push(s.slice(p,g)),v.length===f)return v;for(var b=1;b<=m.length-1;b++)if(v.push(m[b]),v.length===f)return v;g=p=y}}return v.push(s.slice(p)),v}]}),!yl);var ml=gt.f,bl="".startsWith,_l=Math.min,wl=_s("startsWith"),xl=!wl&&!!function(){var t=ml(String.prototype,"startsWith");return t&&!t.writable}();Gt({target:"String",proto:!0,forced:!xl&&!wl},{startsWith:function(t){var e=String(ht(this));ms(t);var n=Et(_l(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return bl?bl.call(e,r,n):e.slice(n,n+r.length)===r}});var El="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",kl="["+El+"]",Sl=RegExp("^"+kl+kl+"*"),Cl=RegExp(kl+kl+"*$"),Tl=function(t){return function(e){var n=String(ht(e));return 1&t&&(n=n.replace(Sl,"")),2&t&&(n=n.replace(Cl,"")),n}},Nl={start:Tl(1),end:Tl(2),trim:Tl(3)},Al=function(e){return t((function(){return!!El[e]()||"âÂá "!="âÂá "[e]()||El[e].name!==e}))},Ol=Nl.trim;Gt({target:"String",proto:!0,forced:Al("trim")},{trim:function(){return Ol(this)}});var Pl=Nl.start,Dl=Al("trimStart"),Ml=Dl?function(){return Pl(this)}:"".trimStart;Gt({target:"String",proto:!0,forced:Dl},{trimStart:Ml,trimLeft:Ml});var Ll=Nl.end,Il=Al("trimEnd"),Rl=Il?function(){return Ll(this)}:"".trimEnd;Gt({target:"String",proto:!0,forced:Il},{trimEnd:Rl,trimRight:Rl});var Bl=fs.charAt,jl=Q.set,Fl=Q.getterFor("String Iterator");ma(String,"String",(function(t){jl(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=Fl(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Bl(n,r),e.index+=t.length,{value:t,done:!1})}));var zl=/"/g,Vl=function(t,e,n,r){var i=String(ht(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(r).replace(zl,"&quot;")+'"'),o+">"+i+"</"+e+">"},ql=function(e){return t((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))};Gt({target:"String",proto:!0,forced:ql("anchor")},{anchor:function(t){return Vl(this,"a","name",t)}}),Gt({target:"String",proto:!0,forced:ql("big")},{big:function(){return Vl(this,"big","","")}}),Gt({target:"String",proto:!0,forced:ql("blink")},{blink:function(){return Vl(this,"blink","","")}}),Gt({target:"String",proto:!0,forced:ql("bold")},{bold:function(){return Vl(this,"b","","")}}),Gt({target:"String",proto:!0,forced:ql("fixed")},{fixed:function(){return Vl(this,"tt","","")}}),Gt({target:"String",proto:!0,forced:ql("fontcolor")},{fontcolor:function(t){return Vl(this,"font","color",t)}}),Gt({target:"String",proto:!0,forced:ql("fontsize")},{fontsize:function(t){return Vl(this,"font","size",t)}}),Gt({target:"String",proto:!0,forced:ql("italics")},{italics:function(){return Vl(this,"i","","")}}),Gt({target:"String",proto:!0,forced:ql("link")},{link:function(t){return Vl(this,"a","href",t)}}),Gt({target:"String",proto:!0,forced:ql("small")},{small:function(){return Vl(this,"small","","")}}),Gt({target:"String",proto:!0,forced:ql("strike")},{strike:function(){return Vl(this,"strike","","")}}),Gt({target:"String",proto:!0,forced:ql("sub")},{sub:function(){return Vl(this,"sub","","")}}),Gt({target:"String",proto:!0,forced:ql("sup")},{sup:function(){return Vl(this,"sup","","")}});var Hl=L("replace"),Ul=RegExp.prototype,Gl=Math.max,Wl=function(t,e,n){return n>t.length?-1:""===e?n:t.indexOf(e,n)};Gt({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,i,o,a,s,l,u=ht(this),c=0,d=0,h="";if(null!=t){if(ys(t)&&!~String(ht("flags"in Ul?t.flags:Cs.call(t))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(n=t[Hl]))return n.call(t,u,e)}for(r=String(u),i=String(t),(o="function"==typeof e)||(e=String(e)),a=i.length,s=Gl(1,a),c=Wl(r,i,0);-1!==c;)l=o?String(e(i,c,r)):hl(i,r,c,[],void 0,e),h+=r.slice(d,c)+l,d=c+a,c=Wl(r,i,c+s);return d<r.length&&(h+=r.slice(d)),h}});var Yl=function(t,e,n){var r,i;return ki&&"function"==typeof(r=e.constructor)&&r!==n&&a(i=r.prototype)&&i!==n.prototype&&ki(t,i),t},Xl=p.f,Kl=Mt.f,$l=Q.set,Zl=L("match"),Jl=o.RegExp,Ql=Jl.prototype,tu=/a/g,eu=/a/g,nu=new Jl(tu)!==tu,ru=Ns.UNSUPPORTED_Y;if(e&&Ht("RegExp",!nu||ru||t((function(){return eu[Zl]=!1,Jl(tu)!=tu||Jl(eu)==eu||"/a/i"!=Jl(tu,"i")})))){for(var iu=function(t,e){var n,r=this instanceof iu,i=ys(t),o=void 0===e;if(!r&&i&&t.constructor===iu&&o)return t;nu?i&&!o&&(t=t.source):t instanceof iu&&(o&&(e=Cs.call(t)),t=t.source),ru&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a=Yl(nu?new Jl(t,e):Jl(t,e),r?this:Ql,iu);return ru&&n&&$l(a,{sticky:n}),a},ou=function(t){t in iu||Xl(iu,t,{configurable:!0,get:function(){return Jl[t]},set:function(e){Jl[t]=e}})},au=Kl(Jl),su=0;au.length>su;)ou(au[su++]);Ql.constructor=iu,iu.prototype=Ql,tt(o,"RegExp",iu)}Jt("RegExp"),e&&("g"!=/./g.flags||Ns.UNSUPPORTED_Y)&&p.f(RegExp.prototype,"flags",{configurable:!0,get:Cs});var lu=Ns.UNSUPPORTED_Y,uu=p.f,cu=Q.get,du=RegExp.prototype;e&&lu&&uu(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==du){if(this instanceof RegExp)return!!cu(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}});var hu=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),fu=/./.test;Gt({target:"RegExp",proto:!0,forced:!hu},{test:function(t){if("function"!=typeof this.exec)return fu.call(this,t);var e=this.exec(t);if(null!==e&&!a(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}});var pu=RegExp.prototype,gu=pu.toString,vu=t((function(){return"/a/b"!=gu.call({source:"a",flags:"b"})})),yu="toString"!=gu.name;(vu||yu)&&tt(RegExp.prototype,"toString",(function(){var t=d(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in pu)?Cs.call(t):n)}),{unsafe:!0});var mu=Nl.trim,bu=o.parseInt,_u=/^[+-]?0[Xx]/,wu=8!==bu(El+"08")||22!==bu(El+"0x16")?function(t,e){var n=mu(String(t));return bu(n,e>>>0||(_u.test(n)?16:10))}:bu;Gt({global:!0,forced:parseInt!=wu},{parseInt:wu});var xu=Nl.trim,Eu=o.parseFloat,ku=1/Eu(El+"-0")!=-1/0?function(t){var e=xu(String(t)),n=Eu(e);return 0===n&&"-"==e.charAt(0)?-0:n}:Eu;Gt({global:!0,forced:parseFloat!=ku},{parseFloat:ku});var Su=Mt.f,Cu=gt.f,Tu=p.f,Nu=Nl.trim,Au=o.Number,Ou=Au.prototype,Pu="Number"==nt(Er(Ou)),Du=function(t){var e,n,r,i,o,a,s,l,u=h(t,!1);if("string"==typeof u&&u.length>2)if(43===(e=(u=Nu(u)).charCodeAt(0))||45===e){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=(o=u.slice(2)).length,s=0;s<a;s++)if((l=o.charCodeAt(s))<48||l>i)return NaN;return parseInt(o,r)}return+u};if(Ht("Number",!Au(" 0o1")||!Au("0b1")||Au("+0x1"))){for(var Mu,Lu=function(e){var n=arguments.length<1?0:e,r=this;return r instanceof Lu&&(Pu?t((function(){Ou.valueOf.call(r)})):"Number"!=nt(r))?Yl(new Au(Du(n)),r,Lu):Du(n)},Iu=e?Su(Au):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Ru=0;Iu.length>Ru;Ru++)S(Au,Mu=Iu[Ru])&&!S(Lu,Mu)&&Tu(Lu,Mu,Cu(Au,Mu));Lu.prototype=Ou,Ou.constructor=Lu,tt(o,"Number",Lu)}Gt({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var Bu=o.isFinite,ju=Number.isFinite||function(t){return"number"==typeof t&&Bu(t)};Gt({target:"Number",stat:!0},{isFinite:ju});var Fu=Math.floor,zu=function(t){return!a(t)&&isFinite(t)&&Fu(t)===t};Gt({target:"Number",stat:!0},{isInteger:zu}),Gt({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Vu=Math.abs;Gt({target:"Number",stat:!0},{isSafeInteger:function(t){return zu(t)&&Vu(t)<=9007199254740991}}),Gt({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),Gt({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991}),Gt({target:"Number",stat:!0,forced:Number.parseFloat!=ku},{parseFloat:ku}),Gt({target:"Number",stat:!0,forced:Number.parseInt!=wu},{parseInt:wu});var qu=function(t){if("number"!=typeof t&&"Number"!=nt(t))throw TypeError("Incorrect invocation");return+t},Hu=1..toFixed,Uu=Math.floor,Gu=function(t,e,n){return 0===e?n:e%2==1?Gu(t,e-1,n*t):Gu(t*t,e/2,n)},Wu=Hu&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t((function(){Hu.call({})}));Gt({target:"Number",proto:!0,forced:Wu},{toFixed:function(t){var e,n,r,i,o=qu(this),a=wt(t),s=[0,0,0,0,0,0],l="",u="0",c=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*s[n],s[n]=r%1e7,r=Uu(r/1e7)},d=function(t){for(var e=6,n=0;--e>=0;)n+=s[e],s[e]=Uu(n/t),n=n%t*1e7},h=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==s[t]){var n=String(s[t]);e=""===e?n:e+el.call("0",7-n.length)+n}return e};if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(l="-",o=-o),o>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(o*Gu(2,69,1))-69)<0?o*Gu(2,-e,1):o/Gu(2,e,1),n*=4503599627370496,(e=52-e)>0){for(c(0,n),r=a;r>=7;)c(1e7,0),r-=7;for(c(Gu(10,r,1),0),r=e-1;r>=23;)d(1<<23),r-=23;d(1<<r),c(1,1),d(2),u=h()}else c(0,n),c(1<<-e,0),u=h()+el.call("0",a);return u=a>0?l+((i=u.length)<=a?"0."+el.call("0",a-i)+u:u.slice(0,i-a)+"."+u.slice(i-a)):l+u}});var Yu=1..toPrecision,Xu=t((function(){return"1"!==Yu.call(1,void 0)}))||!t((function(){Yu.call({})}));Gt({target:"Number",proto:!0,forced:Xu},{toPrecision:function(t){return void 0===t?Yu.call(qu(this)):Yu.call(qu(this),t)}});var Ku=Math.log,$u=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Ku(1+t)},Zu=Math.acosh,Ju=Math.log,Qu=Math.sqrt,tc=Math.LN2,ec=!Zu||710!=Math.floor(Zu(Number.MAX_VALUE))||Zu(1/0)!=1/0;Gt({target:"Math",stat:!0,forced:ec},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Ju(t)+tc:$u(t-1+Qu(t-1)*Qu(t+1))}});var nc=Math.asinh,rc=Math.log,ic=Math.sqrt;Gt({target:"Math",stat:!0,forced:!(nc&&1/nc(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):rc(e+ic(e*e+1)):e}});var oc=Math.atanh,ac=Math.log;Gt({target:"Math",stat:!0,forced:!(oc&&1/oc(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:ac((1+t)/(1-t))/2}});var sc=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1},lc=Math.abs,uc=Math.pow;Gt({target:"Math",stat:!0},{cbrt:function(t){return sc(t=+t)*uc(lc(t),1/3)}});var cc=Math.floor,dc=Math.log,hc=Math.LOG2E;Gt({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-cc(dc(t+.5)*hc):32}});var fc=Math.expm1,pc=Math.exp,gc=!fc||fc(10)>22025.465794806718||fc(10)<22025.465794806718||-2e-17!=fc(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:pc(t)-1}:fc,vc=Math.cosh,yc=Math.abs,mc=Math.E;Gt({target:"Math",stat:!0,forced:!vc||vc(710)===1/0},{cosh:function(t){var e=gc(yc(t)-1)+1;return(e+1/(e*mc*mc))*(mc/2)}}),Gt({target:"Math",stat:!0,forced:gc!=Math.expm1},{expm1:gc});var bc=Math.abs,_c=Math.pow,wc=_c(2,-52),xc=_c(2,-23),Ec=_c(2,127)*(2-xc),kc=_c(2,-126),Sc=Math.fround||function(t){var e,n,r=bc(t),i=sc(t);return r<kc?i*(r/kc/xc+1/wc-1/wc)*kc*xc:(n=(e=(1+xc/wc)*r)-(e-r))>Ec||n!=n?i*(1/0):i*n};Gt({target:"Math",stat:!0},{fround:Sc});var Cc=Math.hypot,Tc=Math.abs,Nc=Math.sqrt,Ac=!!Cc&&Cc(1/0,NaN)!==1/0;Gt({target:"Math",stat:!0,forced:Ac},{hypot:function(t,e){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=Tc(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Nc(i)}});var Oc=Math.imul,Pc=t((function(){return-5!=Oc(4294967295,5)||2!=Oc.length}));Gt({target:"Math",stat:!0,forced:Pc},{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}});var Dc=Math.log,Mc=Math.LOG10E;Gt({target:"Math",stat:!0},{log10:function(t){return Dc(t)*Mc}}),Gt({target:"Math",stat:!0},{log1p:$u});var Lc=Math.log,Ic=Math.LN2;Gt({target:"Math",stat:!0},{log2:function(t){return Lc(t)/Ic}}),Gt({target:"Math",stat:!0},{sign:sc});var Rc=Math.abs,Bc=Math.exp,jc=Math.E,Fc=t((function(){return-2e-17!=Math.sinh(-2e-17)}));Gt({target:"Math",stat:!0,forced:Fc},{sinh:function(t){return Rc(t=+t)<1?(gc(t)-gc(-t))/2:(Bc(t-1)-Bc(-t-1))*(jc/2)}});var zc=Math.exp;Gt({target:"Math",stat:!0},{tanh:function(t){var e=gc(t=+t),n=gc(-t);return e==1/0?1:n==1/0?-1:(e-n)/(zc(t)+zc(-t))}}),$t(Math,"Math",!0);var Vc=Math.ceil,qc=Math.floor;Gt({target:"Math",stat:!0},{trunc:function(t){return(t>0?qc:Vc)(t)}}),Gt({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var Hc=t((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));Gt({target:"Date",proto:!0,forced:Hc},{toJSON:function(t){var e=vr(this),n=h(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}});var Uc=il.start,Gc=Math.abs,Wc=Date.prototype,Yc=Wc.getTime,Xc=Wc.toISOString,Kc=t((function(){return"0385-07-25T07:06:39.999Z"!=Xc.call(new Date(-50000000000001))}))||!t((function(){Xc.call(new Date(NaN))}))?function(){if(!isFinite(Yc.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+Uc(Gc(t),n?6:4,0)+"-"+Uc(this.getUTCMonth()+1,2,0)+"-"+Uc(this.getUTCDate(),2,0)+"T"+Uc(this.getUTCHours(),2,0)+":"+Uc(this.getUTCMinutes(),2,0)+":"+Uc(this.getUTCSeconds(),2,0)+"."+Uc(e,3,0)+"Z"}:Xc;Gt({target:"Date",proto:!0,forced:Date.prototype.toISOString!==Kc},{toISOString:Kc});var $c=Date.prototype,Zc=$c.toString,Jc=$c.getTime;new Date(NaN)+""!="Invalid Date"&&tt($c,"toString",(function(){var t=Jc.call(this);return t==t?Zc.call(this):"Invalid Date"}));var Qc=L("toPrimitive"),td=Date.prototype;Qc in td||_(td,Qc,(function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return h(d(this),"number"!==t)}));var ed=mt("JSON","stringify"),nd=/[\uD800-\uDFFF]/g,rd=/^[\uD800-\uDBFF]$/,id=/^[\uDC00-\uDFFF]$/,od=function(t,e,n){var r=n.charAt(e-1),i=n.charAt(e+1);return rd.test(t)&&!id.test(i)||id.test(t)&&!rd.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},ad=t((function(){return'"\\udf06\\ud834"'!==ed("\udf06\ud834")||'"\\udead"'!==ed("\udead")}));ed&&Gt({target:"JSON",stat:!0,forced:ad},{stringify:function(t,e,n){var r=ed.apply(null,arguments);return"string"==typeof r?r.replace(nd,od):r}}),$t(o.JSON,"JSON",!0),Gt({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=an.f(e),r=n.resolve,i=n.reject,o=ln((function(){var n=Qt(e.resolve),i=[],o=0,a=1;ce(t,(function(t){var s=o++,l=!1;i.push(void 0),a++,n.call(e,t).then((function(t){l||(l=!0,i[s]={status:"fulfilled",value:t},--a||r(i))}),(function(t){l||(l=!0,i[s]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});Gt({target:"Promise",stat:!0},{any:function(t){var e=this,n=an.f(e),r=n.resolve,i=n.reject,o=ln((function(){var n=Qt(e.resolve),o=[],a=0,s=1,l=!1;ce(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||l||(l=!0,r(t))}),(function(t){c||l||(c=!0,o[u]=t,--s||i(new(mt("AggregateError"))(o,"No one promise resolved")))}))})),--s||i(new(mt("AggregateError"))(o,"No one promise resolved"))}));return o.error&&i(o.value),n.promise}});var sd=function(e,n,r){var i=-1!==e.indexOf("Map"),s=-1!==e.indexOf("Weak"),l=i?"set":"add",u=o[e],c=u&&u.prototype,d=u,h={},f=function(t){var e=c[t];tt(c,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(s&&!a(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return s&&!a(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(s&&!a(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(Ht(e,"function"!=typeof u||!(s||c.forEach&&!t((function(){(new u).entries().next()})))))d=r.getConstructor(n,e,i,l),Ra.REQUIRED=!0;else if(Ht(e,!0)){var p=new d,g=p[l](s?{}:-0,1)!=p,v=t((function(){p.has(1)})),y=me((function(t){new u(t)})),m=!s&&t((function(){for(var t=new u,e=5;e--;)t[l](e,e);return!t.has(-0)}));y||((d=n((function(t,n){te(t,d,e);var r=Yl(new u,t,d);return null!=n&&ce(n,r[l],{that:r,AS_ENTRIES:i}),r}))).prototype=c,c.constructor=d),(v||m)&&(f("delete"),f("has"),i&&f("get")),(m||g)&&f(l),s&&c.clear&&delete c.clear}return h[e]=d,Gt({global:!0,forced:d!=u},h),$t(d,e),s||r.setStrong(d,e,i),d},ld=p.f,ud=Ra.fastKey,cd=Q.set,dd=Q.getterFor,hd={getConstructor:function(t,n,r,i){var o=t((function(t,a){te(t,o,n),cd(t,{type:n,index:Er(null),first:void 0,last:void 0,size:0}),e||(t.size=0),null!=a&&ce(a,t[i],{that:t,AS_ENTRIES:r})})),a=dd(n),s=function(t,n,r){var i,o,s=a(t),u=l(t,n);return u?u.value=r:(s.last=u={index:o=ud(n,!0),key:n,value:r,previous:i=s.last,next:void 0,removed:!1},s.first||(s.first=u),i&&(i.next=u),e?s.size++:t.size++,"F"!==o&&(s.index[o]=u)),t},l=function(t,e){var n,r=a(t),i=ud(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Yt(o.prototype,{clear:function(){for(var t=a(this),n=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,e?t.size=0:this.size=0},delete:function(t){var n=a(this),r=l(this,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),e?n.size--:this.size--}return!!r},forEach:function(t){for(var e,n=a(this),r=oe(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),Yt(o.prototype,r?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),e&&ld(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",i=dd(e),o=dd(r);ma(t,e,(function(t,e){cd(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),Jt(e)}},fd=(sd("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),hd),sd("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),hd),Ra.getWeakData),pd=Q.set,gd=Q.getterFor,vd=Ir.find,yd=Ir.findIndex,md=0,bd=function(t){return t.frozen||(t.frozen=new _d)},_d=function(){this.entries=[]},wd=function(t,e){return vd(t.entries,(function(t){return t[0]===e}))};_d.prototype={get:function(t){var e=wd(this,t);if(e)return e[1]},has:function(t){return!!wd(this,t)},set:function(t,e){var n=wd(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=yd(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}};var xd={getConstructor:function(t,e,n,r){var i=t((function(t,o){te(t,i,e),pd(t,{type:e,id:md++,frozen:void 0}),null!=o&&ce(o,t[r],{that:t,AS_ENTRIES:n})})),o=gd(e),s=function(t,e,n){var r=o(t),i=fd(d(e),!0);return!0===i?bd(r).set(e,n):i[r.id]=n,t};return Yt(i.prototype,{delete:function(t){var e=o(this);if(!a(t))return!1;var n=fd(t);return!0===n?bd(e).delete(t):n&&S(n,e.id)&&delete n[e.id]},has:function(t){var e=o(this);if(!a(t))return!1;var n=fd(t);return!0===n?bd(e).has(t):n&&S(n,e.id)}}),Yt(i.prototype,n?{get:function(t){var e=o(this);if(a(t)){var n=fd(t);return!0===n?bd(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return s(this,t,e)}}:{add:function(t){return s(this,t,!0)}}),i}};r((function(t){var e,n=Q.enforce,r=!o.ActiveXObject&&"ActiveXObject"in o,i=Object.isExtensible,s=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},l=t.exports=sd("WeakMap",s,xd);if(H&&r){e=xd.getConstructor(s,"WeakMap",!0),Ra.REQUIRED=!0;var u=l.prototype,c=u.delete,d=u.has,h=u.get,f=u.set;Yt(u,{delete:function(t){if(a(t)&&!i(t)){var r=n(this);return r.frozen||(r.frozen=new e),c.call(this,t)||r.frozen.delete(t)}return c.call(this,t)},has:function(t){if(a(t)&&!i(t)){var r=n(this);return r.frozen||(r.frozen=new e),d.call(this,t)||r.frozen.has(t)}return d.call(this,t)},get:function(t){if(a(t)&&!i(t)){var r=n(this);return r.frozen||(r.frozen=new e),d.call(this,t)?h.call(this,t):r.frozen.get(t)}return h.call(this,t)},set:function(t,r){if(a(t)&&!i(t)){var o=n(this);o.frozen||(o.frozen=new e),d.call(this,t)?f.call(this,t,r):o.frozen.set(t,r)}else f.call(this,t,r);return this}})}}));sd("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),xd);var Ed="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,kd=function(t){if(void 0===t)return 0;var e=wt(t),n=Et(e);if(e!==n)throw RangeError("Wrong length or index");return n},Sd=Math.abs,Cd=Math.pow,Td=Math.floor,Nd=Math.log,Ad=Math.LN2,Od=function(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,l=(1<<s)-1,u=l>>1,c=23===e?Cd(2,-24)-Cd(2,-77):0,d=t<0||0===t&&1/t<0?1:0,h=0;for((t=Sd(t))!=t||t===1/0?(i=t!=t?1:0,r=l):(r=Td(Nd(t)/Ad),t*(o=Cd(2,-r))<1&&(r--,o*=2),(t+=r+u>=1?c/o:c*Cd(2,1-u))*o>=2&&(r++,o/=2),r+u>=l?(i=0,r=l):r+u>=1?(i=(t*o-1)*Cd(2,e),r+=u):(i=t*Cd(2,u-1)*Cd(2,e),r=0));e>=8;a[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[h++]=255&r,r/=256,s-=8);return a[--h]|=128*d,a},Pd=function(t,e){var n,r=t.length,i=8*r-e-1,o=(1<<i)-1,a=o>>1,s=i-7,l=r-1,u=t[l--],c=127&u;for(u>>=7;s>0;c=256*c+t[l],l--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=e;s>0;n=256*n+t[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:u?-1/0:1/0;n+=Cd(2,e),c-=a}return(u?-1:1)*n*Cd(2,c-e)},Dd=Mt.f,Md=p.f,Ld=Q.get,Id=Q.set,Rd=o.ArrayBuffer,Bd=Rd,jd=o.DataView,Fd=jd&&jd.prototype,zd=Object.prototype,Vd=o.RangeError,qd=Od,Hd=Pd,Ud=function(t){return[255&t]},Gd=function(t){return[255&t,t>>8&255]},Wd=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Yd=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Xd=function(t){return qd(t,23,4)},Kd=function(t){return qd(t,52,8)},$d=function(t,e){Md(t.prototype,e,{get:function(){return Ld(this)[e]}})},Zd=function(t,e,n,r){var i=kd(n),o=Ld(t);if(i+e>o.byteLength)throw Vd("Wrong index");var a=Ld(o.buffer).bytes,s=i+o.byteOffset,l=a.slice(s,s+e);return r?l:l.reverse()},Jd=function(t,e,n,r,i,o){var a=kd(n),s=Ld(t);if(a+e>s.byteLength)throw Vd("Wrong index");for(var l=Ld(s.buffer).bytes,u=a+s.byteOffset,c=r(+i),d=0;d<e;d++)l[u+d]=c[o?d:e-d-1]};if(Ed){if(!t((function(){Rd(1)}))||!t((function(){new Rd(-1)}))||t((function(){return new Rd,new Rd(1.5),new Rd(NaN),"ArrayBuffer"!=Rd.name}))){for(var Qd,th=(Bd=function(t){return te(this,Bd),new Rd(kd(t))}).prototype=Rd.prototype,eh=Dd(Rd),nh=0;eh.length>nh;)(Qd=eh[nh++])in Bd||_(Bd,Qd,Rd[Qd]);th.constructor=Bd}ki&&xi(Fd)!==zd&&ki(Fd,zd);var rh=new jd(new Bd(2)),ih=Fd.setInt8;rh.setInt8(0,2147483648),rh.setInt8(1,2147483649),!rh.getInt8(0)&&rh.getInt8(1)||Yt(Fd,{setInt8:function(t,e){ih.call(this,t,e<<24>>24)},setUint8:function(t,e){ih.call(this,t,e<<24>>24)}},{unsafe:!0})}else Bd=function(t){te(this,Bd,"ArrayBuffer");var n=kd(t);Id(this,{bytes:$i.call(new Array(n),0),byteLength:n}),e||(this.byteLength=n)},jd=function(t,n,r){te(this,jd,"DataView"),te(t,Bd,"DataView");var i=Ld(t).byteLength,o=wt(n);if(o<0||o>i)throw Vd("Wrong offset");if(o+(r=void 0===r?i-o:Et(r))>i)throw Vd("Wrong length");Id(this,{buffer:t,byteLength:r,byteOffset:o}),e||(this.buffer=t,this.byteLength=r,this.byteOffset=o)},e&&($d(Bd,"byteLength"),$d(jd,"buffer"),$d(jd,"byteLength"),$d(jd,"byteOffset")),Yt(jd.prototype,{getInt8:function(t){return Zd(this,1,t)[0]<<24>>24},getUint8:function(t){return Zd(this,1,t)[0]},getInt16:function(t){var e=Zd(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Zd(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return Yd(Zd(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return Yd(Zd(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return Hd(Zd(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return Hd(Zd(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Jd(this,1,t,Ud,e)},setUint8:function(t,e){Jd(this,1,t,Ud,e)},setInt16:function(t,e){Jd(this,2,t,Gd,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Jd(this,2,t,Gd,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Jd(this,4,t,Wd,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Jd(this,4,t,Wd,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Jd(this,4,t,Xd,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Jd(this,8,t,Kd,e,arguments.length>2?arguments[2]:void 0)}});$t(Bd,"ArrayBuffer"),$t(jd,"DataView");var oh={ArrayBuffer:Bd,DataView:jd},ah=oh.ArrayBuffer,sh=o.ArrayBuffer;Gt({global:!0,forced:sh!==ah},{ArrayBuffer:ah}),Jt("ArrayBuffer");var lh,uh=p.f,ch=o.Int8Array,dh=ch&&ch.prototype,hh=o.Uint8ClampedArray,fh=hh&&hh.prototype,ph=ch&&xi(ch),gh=dh&&xi(dh),vh=Object.prototype,yh=vh.isPrototypeOf,mh=L("toStringTag"),bh=N("TYPED_ARRAY_TAG"),_h=Ed&&!!ki&&"Opera"!==ot(o.opera),wh=!1,xh={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Eh={BigInt64Array:8,BigUint64Array:8},kh=function(t){if(!a(t))return!1;var e=ot(t);return S(xh,e)||S(Eh,e)};for(lh in xh)o[lh]||(_h=!1);if((!_h||"function"!=typeof ph||ph===Function.prototype)&&(ph=function(){throw TypeError("Incorrect invocation")},_h))for(lh in xh)o[lh]&&ki(o[lh],ph);if((!_h||!gh||gh===vh)&&(gh=ph.prototype,_h))for(lh in xh)o[lh]&&ki(o[lh].prototype,gh);if(_h&&xi(fh)!==gh&&ki(fh,gh),e&&!S(gh,mh))for(lh in wh=!0,uh(gh,mh,{get:function(){return a(this)?this[bh]:void 0}}),xh)o[lh]&&_(o[lh],bh,lh);var Sh={NATIVE_ARRAY_BUFFER_VIEWS:_h,TYPED_ARRAY_TAG:wh&&bh,aTypedArray:function(t){if(kh(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(ki){if(yh.call(ph,t))return t}else for(var e in xh)if(S(xh,lh)){var n=o[e];if(n&&(t===n||yh.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,n,r){if(e){if(r)for(var i in xh){var a=o[i];a&&S(a.prototype,t)&&delete a.prototype[t]}gh[t]&&!r||tt(gh,t,r?n:_h&&dh[t]||n)}},exportTypedArrayStaticMethod:function(t,n,r){var i,a;if(e){if(ki){if(r)for(i in xh)(a=o[i])&&S(a,t)&&delete a[t];if(ph[t]&&!r)return;try{return tt(ph,t,r?n:_h&&ch[t]||n)}catch(t){}}for(i in xh)!(a=o[i])||a[t]&&!r||tt(a,t,n)}},isView:function(t){if(!a(t))return!1;var e=ot(t);return"DataView"===e||S(xh,e)||S(Eh,e)},isTypedArray:kh,TypedArray:ph,TypedArrayPrototype:gh};Gt({target:"ArrayBuffer",stat:!0,forced:!Sh.NATIVE_ARRAY_BUFFER_VIEWS},{isView:Sh.isView});var Ch=oh.ArrayBuffer,Th=oh.DataView,Nh=Ch.prototype.slice,Ah=t((function(){return!new Ch(2).slice(1,void 0).byteLength}));Gt({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Ah},{slice:function(t,e){if(void 0!==Nh&&void 0===e)return Nh.call(d(this),t);for(var n=d(this).byteLength,r=Ct(t,n),i=Ct(void 0===e?n:e,n),o=new(_e(this,Ch))(Et(i-r)),a=new Th(this),s=new Th(o),l=0;r<i;)s.setUint8(l++,a.getUint8(r++));return o}}),Gt({global:!0,forced:!Ed},{DataView:oh.DataView});var Oh=Sh.NATIVE_ARRAY_BUFFER_VIEWS,Ph=o.ArrayBuffer,Dh=o.Int8Array,Mh=!Oh||!t((function(){Dh(1)}))||!t((function(){new Dh(-1)}))||!me((function(t){new Dh,new Dh(null),new Dh(1.5),new Dh(t)}),!0)||t((function(){return 1!==new Dh(new Ph(2),1,void 0).length})),Lh=function(t,e){var n=function(t){var e=wt(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}(t);if(n%e)throw RangeError("Wrong offset");return n},Ih=Sh.aTypedArrayConstructor,Rh=function(t){var e,n,r,i,o,a,s=vr(t),l=arguments.length,u=l>1?arguments[1]:void 0,c=void 0!==u,d=se(s);if(null!=d&&!ie(d))for(a=(o=d.call(s)).next,s=[];!(i=a.call(o)).done;)s.push(i.value);for(c&&l>2&&(u=oe(u,arguments[2],2)),n=Et(s.length),r=new(Ih(this))(n),e=0;n>e;e++)r[e]=c?u(s[e],e):s[e];return r},Bh=r((function(t){var n=Mt.f,r=Ir.forEach,i=Q.get,s=Q.set,l=p.f,u=gt.f,c=Math.round,d=o.RangeError,f=oh.ArrayBuffer,g=oh.DataView,v=Sh.NATIVE_ARRAY_BUFFER_VIEWS,y=Sh.TYPED_ARRAY_TAG,m=Sh.TypedArray,w=Sh.TypedArrayPrototype,x=Sh.aTypedArrayConstructor,E=Sh.isTypedArray,k=function(t,e){for(var n=0,r=e.length,i=new(x(t))(r);r>n;)i[n]=e[n++];return i},C=function(t,e){l(t,e,{get:function(){return i(this)[e]}})},T=function(t){var e;return t instanceof f||"ArrayBuffer"==(e=ot(t))||"SharedArrayBuffer"==e},N=function(t,e){return E(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},A=function(t,e){return N(t,e=h(e,!0))?b(2,t[e]):u(t,e)},O=function(t,e,n){return!(N(t,e=h(e,!0))&&a(n)&&S(n,"value"))||S(n,"get")||S(n,"set")||n.configurable||S(n,"writable")&&!n.writable||S(n,"enumerable")&&!n.enumerable?l(t,e,n):(t[e]=n.value,t)};e?(v||(gt.f=A,p.f=O,C(w,"buffer"),C(w,"byteOffset"),C(w,"byteLength"),C(w,"length")),Gt({target:"Object",stat:!0,forced:!v},{getOwnPropertyDescriptor:A,defineProperty:O}),t.exports=function(t,e,u){var h=t.match(/\d+$/)[0]/8,p=t+(u?"Clamped":"")+"Array",b="get"+t,x="set"+t,S=o[p],C=S,N=C&&C.prototype,A={},O=function(t,e){l(t,e,{get:function(){return function(t,e){var n=i(t);return n.view[b](e*h+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var r=i(t);u&&(n=(n=c(n))<0?0:n>255?255:255&n),r.view[x](e*h+r.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};v?Mh&&(C=e((function(t,e,n,r){return te(t,C,p),Yl(a(e)?T(e)?void 0!==r?new S(e,Lh(n,h),r):void 0!==n?new S(e,Lh(n,h)):new S(e):E(e)?k(C,e):Rh.call(C,e):new S(kd(e)),t,C)})),ki&&ki(C,m),r(n(S),(function(t){t in C||_(C,t,S[t])})),C.prototype=N):(C=e((function(t,e,n,r){te(t,C,p);var i,o,l,u=0,c=0;if(a(e)){if(!T(e))return E(e)?k(C,e):Rh.call(C,e);i=e,c=Lh(n,h);var v=e.byteLength;if(void 0===r){if(v%h)throw d("Wrong length");if((o=v-c)<0)throw d("Wrong length")}else if((o=Et(r)*h)+c>v)throw d("Wrong length");l=o/h}else l=kd(e),i=new f(o=l*h);for(s(t,{buffer:i,byteOffset:c,byteLength:o,length:l,view:new g(i)});u<l;)O(t,u++)})),ki&&ki(C,m),N=C.prototype=Er(w)),N.constructor!==C&&_(N,"constructor",C),y&&_(N,y,p),A[p]=C,Gt({global:!0,forced:C!=S,sham:!v},A),"BYTES_PER_ELEMENT"in C||_(C,"BYTES_PER_ELEMENT",h),"BYTES_PER_ELEMENT"in N||_(N,"BYTES_PER_ELEMENT",h),Jt(p)}):t.exports=function(){}}));Bh("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Bh("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Bh("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0),Bh("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Bh("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Bh("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Bh("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Bh("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Bh("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}})),(0,Sh.exportTypedArrayStaticMethod)("from",Rh,Mh);var jh=Sh.aTypedArrayConstructor;(0,Sh.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(jh(this))(e);e>t;)n[t]=arguments[t++];return n}),Mh);var Fh=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("copyWithin",(function(t,e){return ji.call(Fh(this),t,e,arguments.length>2?arguments[2]:void 0)}));var zh=Ir.every,Vh=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("every",(function(t){return zh(Vh(this),t,arguments.length>1?arguments[1]:void 0)}));var qh=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("fill",(function(t){return $i.apply(qh(this),arguments)}));var Hh=Ir.filter,Uh=Sh.aTypedArray,Gh=Sh.aTypedArrayConstructor;(0,Sh.exportTypedArrayMethod)("filter",(function(t){for(var e=Hh(Uh(this),t,arguments.length>1?arguments[1]:void 0),n=_e(this,this.constructor),r=0,i=e.length,o=new(Gh(n))(i);i>r;)o[r]=e[r++];return o}));var Wh=Ir.find,Yh=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("find",(function(t){return Wh(Yh(this),t,arguments.length>1?arguments[1]:void 0)}));var Xh=Ir.findIndex,Kh=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("findIndex",(function(t){return Xh(Kh(this),t,arguments.length>1?arguments[1]:void 0)}));var $h=Ir.forEach,Zh=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("forEach",(function(t){$h(Zh(this),t,arguments.length>1?arguments[1]:void 0)}));var Jh=Nt.includes,Qh=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("includes",(function(t){return Jh(Qh(this),t,arguments.length>1?arguments[1]:void 0)}));var tf=Nt.indexOf,ef=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("indexOf",(function(t){return tf(ef(this),t,arguments.length>1?arguments[1]:void 0)}));var nf=L("iterator"),rf=o.Uint8Array,of=wa.values,af=wa.keys,sf=wa.entries,lf=Sh.aTypedArray,uf=Sh.exportTypedArrayMethod,cf=rf&&rf.prototype[nf],df=!!cf&&("values"==cf.name||null==cf.name),hf=function(){return of.call(lf(this))};uf("entries",(function(){return sf.call(lf(this))})),uf("keys",(function(){return af.call(lf(this))})),uf("values",hf,!df),uf(nf,hf,!df);var ff=Sh.aTypedArray,pf=[].join;(0,Sh.exportTypedArrayMethod)("join",(function(t){return pf.apply(ff(this),arguments)}));var gf=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("lastIndexOf",(function(t){return No.apply(gf(this),arguments)}));var vf=Ir.map,yf=Sh.aTypedArray,mf=Sh.aTypedArrayConstructor;(0,Sh.exportTypedArrayMethod)("map",(function(t){return vf(yf(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(mf(_e(t,t.constructor)))(e)}))}));var bf=Mo.left,_f=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("reduce",(function(t){return bf(_f(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var wf=Mo.right,xf=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("reduceRight",(function(t){return wf(xf(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Ef=Sh.aTypedArray,kf=Sh.exportTypedArrayMethod,Sf=Math.floor;kf("reverse",(function(){for(var t,e=Ef(this).length,n=Sf(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}));var Cf=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("set",(function(t){Cf(this);var e=Lh(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=vr(t),i=Et(r.length),o=0;if(i+e>n)throw RangeError("Wrong length");for(;o<i;)this[e+o]=r[o++]}),t((function(){new Int8Array(1).set({})})));var Tf=Sh.aTypedArray,Nf=Sh.aTypedArrayConstructor,Af=[].slice;(0,Sh.exportTypedArrayMethod)("slice",(function(t,e){for(var n=Af.call(Tf(this),t,e),r=_e(this,this.constructor),i=0,o=n.length,a=new(Nf(r))(o);o>i;)a[i]=n[i++];return a}),t((function(){new Int8Array(1).slice()})));var Of=Ir.some,Pf=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("some",(function(t){return Of(Pf(this),t,arguments.length>1?arguments[1]:void 0)}));var Df=Sh.aTypedArray,Mf=[].sort;(0,Sh.exportTypedArrayMethod)("sort",(function(t){return Mf.call(Df(this),t)}));var Lf=Sh.aTypedArray;(0,Sh.exportTypedArrayMethod)("subarray",(function(t,e){var n=Lf(this),r=n.length,i=Ct(t,r);return new(_e(n,n.constructor))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,Et((void 0===e?r:Ct(e,r))-i))}));var If=o.Int8Array,Rf=Sh.aTypedArray,Bf=Sh.exportTypedArrayMethod,jf=[].toLocaleString,Ff=[].slice,zf=!!If&&t((function(){jf.call(new If(1))}));Bf("toLocaleString",(function(){return jf.apply(zf?Ff.call(Rf(this)):Rf(this),arguments)}),t((function(){return[1,2].toLocaleString()!=new If([1,2]).toLocaleString()}))||!t((function(){If.prototype.toLocaleString.call([1,2])})));var Vf=Sh.exportTypedArrayMethod,qf=o.Uint8Array,Hf=qf&&qf.prototype||{},Uf=[].toString,Gf=[].join;t((function(){Uf.call({})}))&&(Uf=function(){return Gf.call(this)});var Wf=Hf.toString!=Uf;Vf("toString",Uf,Wf);var Yf=mt("Reflect","apply"),Xf=Function.apply,Kf=!t((function(){Yf((function(){}))}));Gt({target:"Reflect",stat:!0,forced:Kf},{apply:function(t,e,n){return Qt(t),d(n),Yf?Yf(t,e,n):Xf.call(t,e,n)}});var $f=mt("Reflect","construct"),Zf=t((function(){function t(){}return!($f((function(){}),[],t)instanceof t)})),Jf=!t((function(){$f((function(){}))})),Qf=Zf||Jf;Gt({target:"Reflect",stat:!0,forced:Qf,sham:Qf},{construct:function(t,e){Qt(t),d(e);var n=arguments.length<3?t:Qt(arguments[2]);if(Jf&&!Zf)return $f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(Sa.apply(t,r))}var i=n.prototype,o=Er(a(i)?i:Object.prototype),s=Function.apply.call(t,o,e);return a(s)?s:o}});var tp=t((function(){Reflect.defineProperty(p.f({},1,{value:1}),1,{value:2})}));Gt({target:"Reflect",stat:!0,forced:tp,sham:!e},{defineProperty:function(t,e,n){d(t);var r=h(e,!0);d(n);try{return p.f(t,r,n),!0}catch(t){return!1}}});var ep=gt.f;Gt({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=ep(d(t),e);return!(n&&!n.configurable)&&delete t[e]}}),Gt({target:"Reflect",stat:!0},{get:function t(e,n){var r,i,o=arguments.length<3?e:arguments[2];return d(e)===o?e[n]:(r=gt.f(e,n))?S(r,"value")?r.value:void 0===r.get?void 0:r.get.call(o):a(i=xi(e))?t(i,n,o):void 0}}),Gt({target:"Reflect",stat:!0,sham:!e},{getOwnPropertyDescriptor:function(t,e){return gt.f(d(t),e)}}),Gt({target:"Reflect",stat:!0,sham:!bi},{getPrototypeOf:function(t){return xi(d(t))}}),Gt({target:"Reflect",stat:!0},{has:function(t,e){return e in t}});var np=Object.isExtensible;Gt({target:"Reflect",stat:!0},{isExtensible:function(t){return d(t),!np||np(t)}}),Gt({target:"Reflect",stat:!0},{ownKeys:It}),Gt({target:"Reflect",stat:!0,sham:!Ia},{preventExtensions:function(t){d(t);try{var e=mt("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}});var rp=t((function(){var t=function(){},e=p.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)}));Gt({target:"Reflect",stat:!0,forced:rp},{set:function t(e,n,r){var i,o,s=arguments.length<4?e:arguments[3],l=gt.f(d(e),n);if(!l){if(a(o=xi(e)))return t(o,n,r,s);l=b(0)}if(S(l,"value")){if(!1===l.writable||!a(s))return!1;if(i=gt.f(s,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,p.f(s,n,i)}else p.f(s,n,b(0,r));return!0}return void 0!==l.set&&(l.set.call(s,r),!0)}}),ki&&Gt({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){d(t),Ei(e);try{return ki(t,e),!0}catch(t){return!1}}}),Gt({global:!0},{Reflect:{}}),$t(o.Reflect,"Reflect",!0);var ip={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var op in ip){var ap=o[op],sp=ap&&ap.prototype;if(sp&&sp.forEach!==ho)try{_(sp,"forEach",ho)}catch(Hy){sp.forEach=ho}}var lp=L("iterator"),up=L("toStringTag"),cp=wa.values;for(var dp in ip){var hp=o[dp],fp=hp&&hp.prototype;if(fp){if(fp[lp]!==cp)try{_(fp,lp,cp)}catch(Hy){fp[lp]=cp}if(fp[up]||_(fp,up,dp),ip[dp])for(var pp in wa)if(fp[pp]!==wa[pp])try{_(fp,pp,wa[pp])}catch(Hy){fp[pp]=wa[pp]}}}var gp=!o.setImmediate||!o.clearImmediate;Gt({global:!0,bind:!0,enumerable:!0,forced:gp},{setImmediate:Ge.set,clearImmediate:Ge.clear});var vp=o.process;Gt({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=ke&&vp.domain;rn(e?e.bind(t):t)}});var yp=L("iterator"),mp=!t((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[yp]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),bp=/[^\0-\u007E]/,_p=/[.\u3002\uFF0E\uFF61]/g,wp="Overflow: input needs wider integers to process",xp=Math.floor,Ep=String.fromCharCode,kp=function(t){return t+22+75*(t<26)},Sp=function(t,e,n){var r=0;for(t=n?xp(t/700):t>>1,t+=xp(t/e);t>455;r+=36)t=xp(t/35);return xp(r+36*t/(t+38))},Cp=function(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t)).length,o=128,a=0,s=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(Ep(n));var l=r.length,u=l;for(l&&r.push("-");u<i;){var c=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=o&&n<c&&(c=n);var d=u+1;if(c-o>xp((2147483647-a)/d))throw RangeError(wp);for(a+=(c-o)*d,o=c,e=0;e<t.length;e++){if((n=t[e])<o&&++a>2147483647)throw RangeError(wp);if(n==o){for(var h=a,f=36;;f+=36){var p=f<=s?1:f>=s+26?26:f-s;if(h<p)break;var g=h-p,v=36-p;r.push(Ep(kp(p+g%v))),h=xp(g/v)}r.push(Ep(kp(h))),s=Sp(a,d,u==l),a=0,++u}}++a,++o}return r.join("")},Tp=function(t){var e=se(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return d(e.call(t))},Np=mt("fetch"),Ap=mt("Headers"),Op=L("iterator"),Pp=Q.set,Dp=Q.getterFor("URLSearchParams"),Mp=Q.getterFor("URLSearchParamsIterator"),Lp=/\+/g,Ip=Array(4),Rp=function(t){return Ip[t-1]||(Ip[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},Bp=function(t){try{return decodeURIComponent(t)}catch(e){return t}},jp=function(t){var e=t.replace(Lp," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(Rp(n--),Bp);return e}},Fp=/[!'()~]|%20/g,zp={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Vp=function(t){return zp[t]},qp=function(t){return encodeURIComponent(t).replace(Fp,Vp)},Hp=function(t,e){if(e)for(var n,r,i=e.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),t.push({key:jp(r.shift()),value:jp(r.join("="))}))},Up=function(t){this.entries.length=0,Hp(this.entries,t)},Gp=function(t,e){if(t<e)throw TypeError("Not enough arguments")},Wp=fa((function(t,e){Pp(this,{type:"URLSearchParamsIterator",iterator:Tp(Dp(t).entries),kind:e})}),"Iterator",(function(){var t=Mp(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),Yp=function(){te(this,Yp,"URLSearchParams");var t,e,n,r,i,o,s,l,u,c=arguments.length>0?arguments[0]:void 0,h=this,f=[];if(Pp(h,{type:"URLSearchParams",entries:f,updateURL:function(){},updateSearchParams:Up}),void 0!==c)if(a(c))if("function"==typeof(t=se(c)))for(n=(e=t.call(c)).next;!(r=n.call(e)).done;){if((s=(o=(i=Tp(d(r.value))).next).call(i)).done||(l=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");f.push({key:s.value+"",value:l.value+""})}else for(u in c)S(c,u)&&f.push({key:u,value:c[u]+""});else Hp(f,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},Xp=Yp.prototype;Yt(Xp,{append:function(t,e){Gp(arguments.length,2);var n=Dp(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){Gp(arguments.length,1);for(var e=Dp(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){Gp(arguments.length,1);for(var e=Dp(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){Gp(arguments.length,1);for(var e=Dp(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){Gp(arguments.length,1);for(var e=Dp(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){Gp(arguments.length,1);for(var n,r=Dp(this),i=r.entries,o=!1,a=t+"",s=e+"",l=0;l<i.length;l++)(n=i[l]).key===a&&(o?i.splice(l--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=Dp(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=Dp(this).entries,r=oe(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new Wp(this,"keys")},values:function(){return new Wp(this,"values")},entries:function(){return new Wp(this,"entries")}},{enumerable:!0}),tt(Xp,Op,Xp.entries),tt(Xp,"toString",(function(){for(var t,e=Dp(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(qp(t.key)+"="+qp(t.value));return n.join("&")}),{enumerable:!0}),$t(Yp,"URLSearchParams"),Gt({global:!0,forced:!mp},{URLSearchParams:Yp}),mp||"function"!=typeof Np||"function"!=typeof Ap||Gt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(a(e=arguments[1])&&(n=e.body,"URLSearchParams"===ot(n)&&((r=e.headers?new Ap(e.headers):new Ap).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=Er(e,{body:b(0,String(n)),headers:b(0,r)}))),i.push(e)),Np.apply(this,i)}});var Kp,$p={URLSearchParams:Yp,getState:Dp},Zp=fs.codeAt,Jp=o.URL,Qp=$p.URLSearchParams,tg=$p.getState,eg=Q.set,ng=Q.getterFor("URL"),rg=Math.floor,ig=Math.pow,og=/[A-Za-z]/,ag=/[\d+-.A-Za-z]/,sg=/\d/,lg=/^(0x|0X)/,ug=/^[0-7]+$/,cg=/^\d+$/,dg=/^[\dA-Fa-f]+$/,hg=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,fg=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,pg=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,gg=/[\u0009\u000A\u000D]/g,vg=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=mg(e.slice(1,-1))))return"Invalid host";t.host=n}else if(Cg(t)){if(e=function(t){var e,n,r=[],i=t.toLowerCase().replace(_p,".").split(".");for(e=0;e<i.length;e++)n=i[e],r.push(bp.test(n)?"xn--"+Cp(n):n);return r.join(".")}(e),hg.test(e))return"Invalid host";if(null===(n=yg(e)))return"Invalid host";t.host=n}else{if(fg.test(e))return"Invalid host";for(n="",r=Ni(e),i=0;i<r.length;i++)n+=kg(r[i],_g);t.host=n}},yg=function(t){var e,n,r,i,o,a,s,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(e=l.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=l[r]))return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=lg.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?cg:8==o?ug:dg).test(i))return t;a=parseInt(i,o)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=ig(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*ig(256,3-r);return s},mg=function(t){var e,n,r,i,o,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,h=function(){return t.charAt(d)};if(":"==h()){if(":"!=t.charAt(1))return;d+=2,c=++u}for(;h();){if(8==u)return;if(":"!=h()){for(e=n=0;n<4&&dg.test(h());)e=16*e+parseInt(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,u>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;d++}if(!sg.test(h()))return;for(;sg.test(h());){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}l[u]=256*l[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;l[u++]=e}else{if(null!==c)return;d++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s;else if(8!=u)return;return l},bg=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=rg(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},_g={},wg=Oa({},_g,{" ":1,'"':1,"<":1,">":1,"`":1}),xg=Oa({},wg,{"#":1,"?":1,"{":1,"}":1}),Eg=Oa({},xg,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),kg=function(t,e){var n=Zp(t,0);return n>32&&n<127&&!S(e,t)?t:encodeURIComponent(t)},Sg={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Cg=function(t){return S(Sg,t.scheme)},Tg=function(t){return""!=t.username||""!=t.password},Ng=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Ag=function(t,e){var n;return 2==t.length&&og.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},Og=function(t){var e;return t.length>1&&Ag(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Pg=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&Ag(e[0],!0)||e.pop()},Dg=function(t){return"."===t||"%2e"===t.toLowerCase()},Mg={},Lg={},Ig={},Rg={},Bg={},jg={},Fg={},zg={},Vg={},qg={},Hg={},Ug={},Gg={},Wg={},Yg={},Xg={},Kg={},$g={},Zg={},Jg={},Qg={},tv=function(t,e,n,r){var i,o,a,s,l,u=n||Mg,c=0,d="",h=!1,f=!1,p=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(pg,"")),e=e.replace(gg,""),i=Ni(e);c<=i.length;){switch(o=i[c],u){case Mg:if(!o||!og.test(o)){if(n)return"Invalid scheme";u=Ig;continue}d+=o.toLowerCase(),u=Lg;break;case Lg:if(o&&(ag.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";d="",u=Ig,c=0;continue}if(n&&(Cg(t)!=S(Sg,d)||"file"==d&&(Tg(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,n)return void(Cg(t)&&Sg[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?u=Wg:Cg(t)&&r&&r.scheme==t.scheme?u=Rg:Cg(t)?u=zg:"/"==i[c+1]?(u=Bg,c++):(t.cannotBeABaseURL=!0,t.path.push(""),u=Zg)}break;case Ig:if(!r||r.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,u=Qg;break}u="file"==r.scheme?Wg:jg;continue;case Rg:if("/"!=o||"/"!=i[c+1]){u=jg;continue}u=Vg,c++;break;case Bg:if("/"==o){u=qg;break}u=$g;continue;case jg:if(t.scheme=r.scheme,o==Kp)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&Cg(t))u=Fg;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",u=Jg;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),u=$g;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=Qg}break;case Fg:if(!Cg(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,u=$g;continue}u=qg}else u=Vg;break;case zg:if(u=Vg,"/"!=o||"/"!=d.charAt(c+1))continue;c++;break;case Vg:if("/"!=o&&"\\"!=o){u=qg;continue}break;case qg:if("@"==o){h&&(d="%40"+d),h=!0,a=Ni(d);for(var g=0;g<a.length;g++){var v=a[g];if(":"!=v||p){var y=kg(v,Eg);p?t.password+=y:t.username+=y}else p=!0}d=""}else if(o==Kp||"/"==o||"?"==o||"#"==o||"\\"==o&&Cg(t)){if(h&&""==d)return"Invalid authority";c-=Ni(d).length+1,d="",u=Hg}else d+=o;break;case Hg:case Ug:if(n&&"file"==t.scheme){u=Xg;continue}if(":"!=o||f){if(o==Kp||"/"==o||"?"==o||"#"==o||"\\"==o&&Cg(t)){if(Cg(t)&&""==d)return"Invalid host";if(n&&""==d&&(Tg(t)||null!==t.port))return;if(s=vg(t,d))return s;if(d="",u=Kg,n)return;continue}"["==o?f=!0:"]"==o&&(f=!1),d+=o}else{if(""==d)return"Invalid host";if(s=vg(t,d))return s;if(d="",u=Gg,n==Ug)return}break;case Gg:if(!sg.test(o)){if(o==Kp||"/"==o||"?"==o||"#"==o||"\\"==o&&Cg(t)||n){if(""!=d){var m=parseInt(d,10);if(m>65535)return"Invalid port";t.port=Cg(t)&&m===Sg[t.scheme]?null:m,d=""}if(n)return;u=Kg;continue}return"Invalid port"}d+=o;break;case Wg:if(t.scheme="file","/"==o||"\\"==o)u=Yg;else{if(!r||"file"!=r.scheme){u=$g;continue}if(o==Kp)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",u=Jg;else{if("#"!=o){Og(i.slice(c).join(""))||(t.host=r.host,t.path=r.path.slice(),Pg(t)),u=$g;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=Qg}}break;case Yg:if("/"==o||"\\"==o){u=Xg;break}r&&"file"==r.scheme&&!Og(i.slice(c).join(""))&&(Ag(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),u=$g;continue;case Xg:if(o==Kp||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Ag(d))u=$g;else if(""==d){if(t.host="",n)return;u=Kg}else{if(s=vg(t,d))return s;if("localhost"==t.host&&(t.host=""),n)return;d="",u=Kg}continue}d+=o;break;case Kg:if(Cg(t)){if(u=$g,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=Kp&&(u=$g,"/"!=o))continue}else t.fragment="",u=Qg;else t.query="",u=Jg;break;case $g:if(o==Kp||"/"==o||"\\"==o&&Cg(t)||!n&&("?"==o||"#"==o)){if(".."===(l=(l=d).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(Pg(t),"/"==o||"\\"==o&&Cg(t)||t.path.push("")):Dg(d)?"/"==o||"\\"==o&&Cg(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Ag(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(o==Kp||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",u=Jg):"#"==o&&(t.fragment="",u=Qg)}else d+=kg(o,xg);break;case Zg:"?"==o?(t.query="",u=Jg):"#"==o?(t.fragment="",u=Qg):o!=Kp&&(t.path[0]+=kg(o,_g));break;case Jg:n||"#"!=o?o!=Kp&&("'"==o&&Cg(t)?t.query+="%27":t.query+="#"==o?"%23":kg(o,_g)):(t.fragment="",u=Qg);break;case Qg:o!=Kp&&(t.fragment+=kg(o,wg))}c++}},ev=function(t){var n,r,i=te(this,ev,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(t),s=eg(i,{type:"URL"});if(void 0!==o)if(o instanceof ev)n=ng(o);else if(r=tv(n={},String(o)))throw TypeError(r);if(r=tv(s,a,null,n))throw TypeError(r);var l=s.searchParams=new Qp,u=tg(l);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(l)||null},e||(i.href=rv.call(i),i.origin=iv.call(i),i.protocol=ov.call(i),i.username=av.call(i),i.password=sv.call(i),i.host=lv.call(i),i.hostname=uv.call(i),i.port=cv.call(i),i.pathname=dv.call(i),i.search=hv.call(i),i.searchParams=fv.call(i),i.hash=pv.call(i))},nv=ev.prototype,rv=function(){var t=ng(this),e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,l=t.fragment,u=e+":";return null!==i?(u+="//",Tg(t)&&(u+=n+(r?":"+r:"")+"@"),u+=bg(i),null!==o&&(u+=":"+o)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},iv=function(){var t=ng(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Cg(t)?e+"://"+bg(t.host)+(null!==n?":"+n:""):"null"},ov=function(){return ng(this).scheme+":"},av=function(){return ng(this).username},sv=function(){return ng(this).password},lv=function(){var t=ng(this),e=t.host,n=t.port;return null===e?"":null===n?bg(e):bg(e)+":"+n},uv=function(){var t=ng(this).host;return null===t?"":bg(t)},cv=function(){var t=ng(this).port;return null===t?"":String(t)},dv=function(){var t=ng(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},hv=function(){var t=ng(this).query;return t?"?"+t:""},fv=function(){return ng(this).searchParams},pv=function(){var t=ng(this).fragment;return t?"#"+t:""},gv=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(e&&mr(nv,{href:gv(rv,(function(t){var e=ng(this),n=String(t),r=tv(e,n);if(r)throw TypeError(r);tg(e.searchParams).updateSearchParams(e.query)})),origin:gv(iv),protocol:gv(ov,(function(t){var e=ng(this);tv(e,String(t)+":",Mg)})),username:gv(av,(function(t){var e=ng(this),n=Ni(String(t));if(!Ng(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=kg(n[r],Eg)}})),password:gv(sv,(function(t){var e=ng(this),n=Ni(String(t));if(!Ng(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=kg(n[r],Eg)}})),host:gv(lv,(function(t){var e=ng(this);e.cannotBeABaseURL||tv(e,String(t),Hg)})),hostname:gv(uv,(function(t){var e=ng(this);e.cannotBeABaseURL||tv(e,String(t),Ug)})),port:gv(cv,(function(t){var e=ng(this);Ng(e)||(""==(t=String(t))?e.port=null:tv(e,t,Gg))})),pathname:gv(dv,(function(t){var e=ng(this);e.cannotBeABaseURL||(e.path=[],tv(e,t+"",Kg))})),search:gv(hv,(function(t){var e=ng(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",tv(e,t,Jg)),tg(e.searchParams).updateSearchParams(e.query)})),searchParams:gv(fv),hash:gv(pv,(function(t){var e=ng(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",tv(e,t,Qg)):e.fragment=null}))}),tt(nv,"toJSON",(function(){return rv.call(this)}),{enumerable:!0}),tt(nv,"toString",(function(){return rv.call(this)}),{enumerable:!0}),Jp){var vv=Jp.createObjectURL,yv=Jp.revokeObjectURL;vv&&tt(ev,"createObjectURL",(function(t){return vv.apply(Jp,arguments)})),yv&&tt(ev,"revokeObjectURL",(function(t){return yv.apply(Jp,arguments)}))}$t(ev,"URL"),Gt({global:!0,forced:!mp,sham:!e},{URL:ev}),Gt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});r((function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n,r){var i=e&&e.prototype instanceof c?e:c,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u={};function c(){}function d(){}function h(){}var f={};f[i]=function(){return this};var p=Object.getPrototypeOf,g=p&&p(p(E([])));g&&g!==e&&n.call(g,i)&&(f=g);var v=h.prototype=c.prototype=Object.create(f);function y(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function m(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=v.constructor=h,h.constructor=d,h[a]=d.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(m.prototype),m.prototype[o]=function(){return this},t.AsyncIterator=m,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new m(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(v),v[a]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));
/**
  @license @nocompile
  Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */(function(){var t;function e(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function r(t){var n="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return n?n.call(t):{next:e(t)}}function i(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var o="undefined"!=typeof window&&window===this?this:void 0!==n&&null!=n?n:this,a="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function s(){s=function(){},o.Symbol||(o.Symbol=d)}function l(t,e){this.a=t,a(this,"description",{configurable:!0,writable:!0,value:e})}l.prototype.toString=function(){return this.a};var u,c,d=(u=0,function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new l("jscomp_symbol_"+(e||"")+"_"+u++,e)});function h(){s();var t=o.Symbol.iterator;t||(t=o.Symbol.iterator=o.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[t]&&a(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return function(t){return h(),(t={next:t})[o.Symbol.iterator]=function(){return this},t}(e(this))}}),h=function(){}}if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var f;t:{var p={};try{p.__proto__={Pa:!0},f=p.Pa;break t}catch(Wt){}f=!1}c=f?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var g=c;function v(){this.l=!1,this.b=null,this.Ea=void 0,this.a=1,this.Y=0,this.c=null}function y(t){if(t.l)throw new TypeError("Generator is already running");t.l=!0}function m(t,e){t.c={Sa:e,Wa:!0},t.a=t.Y}function b(t,e){return t.a=3,{value:e}}function _(t){this.a=new v,this.b=t}function w(t,e,n,r){try{var i=e.call(t.a.b,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.a.l=!1,i;var o=i.value}catch(e){return t.a.b=null,m(t.a,e),x(t)}return t.a.b=null,r.call(t.a,o),x(t)}function x(t){for(;t.a.a;)try{var e=t.b(t.a);if(e)return t.a.l=!1,{value:e.value,done:!1}}catch(e){t.a.Ea=void 0,m(t.a,e)}if(t.a.l=!1,t.a.c){if(e=t.a.c,t.a.c=null,e.Wa)throw e.Sa;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function E(t){this.next=function(e){return y(t.a),t.a.b?e=w(t,t.a.b.next,e,t.a.J):(t.a.J(e),e=x(t)),e},this.throw=function(e){return y(t.a),t.a.b?e=w(t,t.a.b.throw,e,t.a.J):(m(t.a,e),e=x(t)),e},this.return=function(e){return function(t,e){y(t.a);var n=t.a.b;return n?w(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),x(t))}(t,e)},h(),this[Symbol.iterator]=function(){return this}}function k(t,e){return e=new E(new _(e)),g&&g(e,t.prototype),e}v.prototype.J=function(t){this.Ea=t},v.prototype.return=function(t){this.c={return:t},this.a=this.Y},Array.from||(Array.from=function(t){return[].slice.call(t)}),Object.assign||(Object.assign=function(t){for(var e,n=[].slice.call(arguments,1),r=0;r<n.length;r++)if(e=n[r])for(var i=t,o=e,a=Object.getOwnPropertyNames(o),s=0;s<a.length;s++)i[e=a[s]]=o[e];return t}),function(){if(!function(){var t=document.createEvent("Event");return t.initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented}()){var t=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(t.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var e=/Trident/.test(navigator.userAgent);if(!window.Event||e&&"function"!=typeof window.Event){var n=window.Event;if(window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,!!e.bubbles,!!e.cancelable),n},n){for(var r in n)window.Event[r]=n[r];window.Event.prototype=n.prototype}}if((!window.CustomEvent||e&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.MouseEvent||e&&"function"!=typeof window.MouseEvent){if(e=window.MouseEvent,window.MouseEvent=function(t,e){e=e||{};var n=document.createEvent("MouseEvent");return n.initMouseEvent(t,!!e.bubbles,!!e.cancelable,e.view||window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),n},e)for(var i in e)window.MouseEvent[i]=e[i];window.MouseEvent.prototype=e.prototype}}(),function(){function t(){}function e(t,e){if(!t.childNodes.length)return[];switch(t.nodeType){case Node.DOCUMENT_NODE:return g.call(t,e);case Node.DOCUMENT_FRAGMENT_NODE:return v.call(t,e);default:return p.call(t,e)}}var n="undefined"==typeof HTMLTemplateElement,r=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),i=!1;/Trident/.test(navigator.userAgent)&&function(){function t(t,e){if(t instanceof DocumentFragment)for(var r;r=t.firstChild;)n.call(this,r,e);else n.call(this,t,e);return t}i=!0;var e=Node.prototype.cloneNode;Node.prototype.cloneNode=function(t){return t=e.call(this,t),this instanceof DocumentFragment&&(t.__proto__=DocumentFragment.prototype),t},DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll,DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector,Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var n=Node.prototype.insertBefore;Node.prototype.insertBefore=t;var r=Node.prototype.appendChild;Node.prototype.appendChild=function(e){return e instanceof DocumentFragment?t.call(this,e,null):r.call(this,e),e};var o=Node.prototype.removeChild,a=Node.prototype.replaceChild;Node.prototype.replaceChild=function(e,n){return e instanceof DocumentFragment?(t.call(this,e,n),o.call(this,n)):a.call(this,e,n),n},Document.prototype.createDocumentFragment=function(){var t=this.createElement("df");return t.__proto__=DocumentFragment.prototype,t};var s=Document.prototype.importNode;Document.prototype.importNode=function(t,e){return e=s.call(this,t,e||!1),t instanceof DocumentFragment&&(e.__proto__=DocumentFragment.prototype),e}}();var o=Node.prototype.cloneNode,a=Document.prototype.createElement,s=Document.prototype.importNode,l=Node.prototype.removeChild,u=Node.prototype.appendChild,c=Node.prototype.replaceChild,d=DOMParser.prototype.parseFromString,h=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML")||{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}},f=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes")||{get:function(){return this.childNodes}},p=Element.prototype.querySelectorAll,g=Document.prototype.querySelectorAll,v=DocumentFragment.prototype.querySelectorAll,y=function(){if(!n){var t=document.createElement("template"),e=document.createElement("template");return e.content.appendChild(document.createElement("div")),t.content.appendChild(e),0===(t=t.cloneNode(!0)).content.childNodes.length||0===t.content.firstChild.content.childNodes.length||r}}();if(n){var m=document.implementation.createHTMLDocument("template"),b=!0,_=document.createElement("style");_.textContent="template{display:none;}";var w=document.head;w.insertBefore(_,w.firstElementChild),t.prototype=Object.create(HTMLElement.prototype);var x=!document.createElement("div").hasOwnProperty("innerHTML");t.U=function(e){if(!e.content&&e.namespaceURI===document.documentElement.namespaceURI){e.content=m.createDocumentFragment();for(var n;n=e.firstChild;)u.call(e.content,n);if(x)e.__proto__=t.prototype;else if(e.cloneNode=function(e){return t.b(this,e)},b)try{k(e),S(e)}catch(t){b=!1}t.a(e.content)}};var E={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},k=function(e){Object.defineProperty(e,"innerHTML",{get:function(){return P(this)},set:function(e){var n=E[(/<([a-z][^/\0>\x20\t\r\n\f]+)/i.exec(e)||["",""])[1].toLowerCase()];if(n)for(var r=0;r<n.length;r++)e="<"+n[r]+">"+e+"</"+n[r]+">";for(m.body.innerHTML=e,t.a(m);this.content.firstChild;)l.call(this.content,this.content.firstChild);if(e=m.body,n)for(r=0;r<n.length;r++)e=e.lastChild;for(;e.firstChild;)u.call(this.content,e.firstChild)},configurable:!0})},S=function(t){Object.defineProperty(t,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(t){if(!this.parentNode)throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");for(m.body.innerHTML=t,t=this.ownerDocument.createDocumentFragment();m.body.firstChild;)u.call(t,m.body.firstChild);c.call(this.parentNode,t,this)},configurable:!0})};k(t.prototype),S(t.prototype),t.a=function(n){for(var r,i=0,o=(n=e(n,"template")).length;i<o&&(r=n[i]);i++)t.U(r)},document.addEventListener("DOMContentLoaded",(function(){t.a(document)})),Document.prototype.createElement=function(){var e=a.apply(this,arguments);return"template"===e.localName&&t.U(e),e},DOMParser.prototype.parseFromString=function(){var e=d.apply(this,arguments);return t.a(e),e},Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return P(this)},set:function(e){h.set.call(this,e),t.a(this)},configurable:!0,enumerable:!0});var C=/[&\u00A0"]/g,T=/[&\u00A0<>]/g,N=function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"Â ":return"&nbsp;"}},A=(_=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e})("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),O=_("style script xmp iframe noembed noframes plaintext noscript".split(" ")),P=function(t,e){"template"===t.localName&&(t=t.content);for(var n,r="",i=e?e(t):f.get.call(t),o=0,a=i.length;o<a&&(n=i[o]);o++){t:{var s=n,l=t,u=e;switch(s.nodeType){case Node.ELEMENT_NODE:for(var c=s.localName,d="<"+c,h=s.attributes,p=0;l=h[p];p++)d+=" "+l.name+'="'+l.value.replace(C,N)+'"';d+=">",s=A[c]?d:d+P(s,u)+"</"+c+">";break t;case Node.TEXT_NODE:s=s.data,s=l&&O[l.localName]?s:s.replace(T,N);break t;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break t;default:throw window.console.error(s),Error("not implemented")}}r+=s}return r}}if(n||y){t.b=function(t,e){var n=o.call(t,!1);return this.U&&this.U(n),e&&(u.call(n.content,o.call(t.content,!0)),D(n.content,t.content)),n};var D=function(n,r){if(r.querySelectorAll&&0!==(r=e(r,"template")).length)for(var i,o,a=0,s=(n=e(n,"template")).length;a<s;a++)o=r[a],i=n[a],t&&t.U&&t.U(o),c.call(i.parentNode,M.call(o,!0),i)},M=Node.prototype.cloneNode=function(e){if(!i&&r&&this instanceof DocumentFragment){if(!e)return this.ownerDocument.createDocumentFragment();var n=L.call(this.ownerDocument,this,!0)}else n=this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?t.b(this,e):o.call(this,e);return e&&D(n,this),n},L=Document.prototype.importNode=function(n,r){if(r=r||!1,"template"===n.localName)return t.b(n,r);var i=s.call(this,n,r);if(r){D(i,n),n=e(i,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]');for(var o,l=0;l<n.length;l++){o=n[l],(r=a.call(document,"script")).textContent=o.textContent;for(var u,d=o.attributes,h=0;h<d.length;h++)u=d[h],r.setAttribute(u.name,u.value);c.call(o.parentNode,r,o)}}return i}}n&&(window.HTMLTemplateElement=t)}();var S=setTimeout;function C(){}function T(t){if(!(this instanceof T))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this.I=0,this.za=!1,this.C=void 0,this.W=[],M(t,this)}function N(t,e){for(;3===t.I;)t=t.C;0===t.I?t.W.push(e):(t.za=!0,L((function(){var n=1===t.I?e.Ya:e.Za;if(null===n)(1===t.I?A:O)(e.va,t.C);else{try{var r=n(t.C)}catch(t){return void O(e.va,t)}A(e.va,r)}})))}function A(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof T)return t.I=3,t.C=e,void P(t);if("function"==typeof n)return void M(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t.I=1,t.C=e,P(t)}catch(e){O(t,e)}}function O(t,e){t.I=2,t.C=e,P(t)}function P(t){2===t.I&&0===t.W.length&&L((function(){t.za||"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t.C)}));for(var e=0,n=t.W.length;e<n;e++)N(t,t.W[e]);t.W=null}function D(t,e,n){this.Ya="function"==typeof t?t:null,this.Za="function"==typeof e?e:null,this.va=n}function M(t,e){var n=!1;try{t((function(t){n||(n=!0,A(e,t))}),(function(t){n||(n=!0,O(e,t))}))}catch(t){n||(n=!0,O(e,t))}}T.prototype.catch=function(t){return this.then(null,t)},T.prototype.then=function(t,e){var n=new this.constructor(C);return N(this,new D(t,e,n)),n},T.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))};var L="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){S(t,0)};if(!window.Promise){window.Promise=T,T.prototype.then=T.prototype.then,T.all=function(t){return new T((function(e,n){function r(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){r(t,e)}),n)}i[t]=a,0==--o&&e(i)}catch(t){n(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);for(var o=i.length,a=0;a<i.length;a++)r(a,i[a])}))},T.race=function(t){return new T((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},T.resolve=function(t){return t&&"object"==typeof t&&t.constructor===T?t:new T((function(e){e(t)}))},T.reject=function(t){return new T((function(e,n){n(t)}))};var I=document.createTextNode(""),R=[];new MutationObserver((function(){for(var t=R.length,e=0;e<t;e++)R[e]();R.splice(0,t)})).observe(I,{characterData:!0}),L=function(t){R.push(t),I.textContent=0<I.textContent.length?"":"a"}}!function(t,e){if(!(e in t)){var r=typeof n==typeof r?window:n,i=0,o=""+Math.random(),a="__symbol@@"+o,s=t.getOwnPropertyNames,l=t.getOwnPropertyDescriptor,u=t.create,c=t.keys,d=t.freeze||t,h=t.defineProperty,f=t.defineProperties,p=l(t,"getOwnPropertyNames"),g=t.prototype,v=g.hasOwnProperty,y=g.propertyIsEnumerable,m=g.toString,b=function(t,e,n){v.call(t,a)||h(t,a,{enumerable:!1,configurable:!1,writable:!1,value:{}}),t[a]["@@"+e]=n},_=function(t,e){var n=u(t);return s(e).forEach((function(t){k.call(e,t)&&O(n,t,e[t])})),n},w=function(){},x=function(t){return t!=a&&!v.call(T,t)},E=function(t){return t!=a&&v.call(T,t)},k=function(t){var e=""+t;return E(e)?v.call(this,e)&&this[a]["@@"+e]:y.call(this,t)},S=function(e){return h(g,e,{enumerable:!1,configurable:!0,get:w,set:function(t){D(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),b(this,e,!0)}}),d(T[e]=h(t(e),"constructor",N))},C=function(t){if(this&&this!==r)throw new TypeError("Symbol is not a constructor");return S("__symbol:".concat(t||"",o,++i))},T=u(null),N={value:C},A=function(t){return T[t]},O=function(t,e,n){var r=""+e;if(E(r)){if(e=D,n.enumerable){var i=u(n);i.enumerable=!1}else i=n;e(t,r,i),b(t,r,!!n.enumerable)}else h(t,e,n);return t},P=function(t){return s(t).filter(E).map(A)};p.value=O,h(t,"defineProperty",p),p.value=P,h(t,e,p),p.value=function(t){return s(t).filter(x)},h(t,"getOwnPropertyNames",p),p.value=function(t,e){var n=P(e);return n.length?c(e).concat(n).forEach((function(n){k.call(e,n)&&O(t,n,e[n])})):f(t,e),t},h(t,"defineProperties",p),p.value=k,h(g,"propertyIsEnumerable",p),p.value=C,h(r,"Symbol",p),p.value=function(t){return(t="__symbol:".concat("__symbol:",t,o))in g?T[t]:S(t)},h(C,"for",p),p.value=function(t){if(x(t))throw new TypeError(t+" is not a symbol");return v.call(T,t)?t.slice(20,-o.length):void 0},h(C,"keyFor",p),p.value=function(t,e){var n=l(t,e);return n&&E(e)&&(n.enumerable=k.call(t,e)),n},h(t,"getOwnPropertyDescriptor",p),p.value=function(t,e){return 1===arguments.length?u(t):_(t,e)},h(t,"create",p),p.value=function(){var t=m.call(this);return"[object String]"===t&&E(this)?"[object Symbol]":t},h(g,"toString",p);try{var D=u(h({},"__symbol:",{get:function(){return h(this,"__symbol:",{value:!1})["__symbol:"]}}))["__symbol:"]||h}catch(t){D=function(t,e,n){var r=l(g,e);delete g[e],h(t,e,n),h(g,e,r)}}}}(Object,"getOwnPropertySymbols"),function(t){var e,n=t.defineProperty,r=t.prototype,i=r.toString;"iterator match replace search split hasInstance isConcatSpreadable unscopables species toPrimitive toStringTag".split(" ").forEach((function(o){if(!(o in Symbol))switch(n(Symbol,o,{value:Symbol(o)}),o){case"toStringTag":(e=t.getOwnPropertyDescriptor(r,"toString")).value=function(){var t=i.call(this),e=this[Symbol.toStringTag];return void 0===e?t:"[object "+e+"]"},n(r,"toString",e)}}))}(Object),function(t,e,n){function r(){return this}e[t]||(e[t]=function(){var e=0,n=this,i={next:function(){var t=n.length<=e;return t?{done:t}:{done:t,value:n[e++]}}};return i[t]=r,i}),n[t]||(n[t]=function(){var e=String.fromCodePoint,n=this,i=0,o=n.length,a={next:function(){var t=o<=i,r=t?"":e(n.codePointAt(i));return i+=r.length,t?{done:t}:{done:t,value:r}}};return a[t]=r,a})}(Symbol.iterator,Array.prototype,String.prototype);var B=Object.prototype.toString;Object.prototype.toString=function(){return void 0===this?"[object Undefined]":null===this?"[object Null]":B.call(this)},Object.keys=function(t){return Object.getOwnPropertyNames(t).filter((function(e){return(e=Object.getOwnPropertyDescriptor(t,e))&&e.enumerable}))};var j=window.Symbol.iterator;String.prototype[j]&&String.prototype.codePointAt||(String.prototype[j]=function t(){var e,n=this;return k(t,(function(t){if(1==t.a&&(e=0),3!=t.a)return e<n.length?t=b(t,n[e]):(t.a=0,t=void 0),t;e++,t.a=2}))}),Set.prototype[j]||(Set.prototype[j]=function t(){var e,n,r=this;return k(t,(function(t){if(1==t.a&&(e=[],r.forEach((function(t){e.push(t)})),n=0),3!=t.a)return n<e.length?t=b(t,e[n]):(t.a=0,t=void 0),t;n++,t.a=2}))}),Map.prototype[j]||(Map.prototype[j]=function t(){var e,n,r=this;return k(t,(function(t){if(1==t.a&&(e=[],r.forEach((function(t,n){e.push([n,t])})),n=0),3!=t.a)return n<e.length?t=b(t,e[n]):(t.a=0,t=void 0),t;n++,t.a=2}))}),window.WebComponents=window.WebComponents||{flags:{}};var F=document.querySelector('script[src*="webcomponents-bundle"]'),z=/wc-(.+)/,V={};if(!V.noOpts){if(location.search.slice(1).split("&").forEach((function(t){var e;(t=t.split("="))[0]&&(e=t[0].match(z))&&(V[e[1]]=t[1]||!0)})),F)for(var q=0,H=void 0;H=F.attributes[q];q++)"src"!==H.name&&(V[H.name]=H.value||!0);if(V.log&&V.log.split){var U=V.log.split(",");V.log={},U.forEach((function(t){V.log[t]=!0}))}else V.log={}}window.WebComponents.flags=V;var G=V.shadydom;if(G){window.ShadyDOM=window.ShadyDOM||{},window.ShadyDOM.force=G;var W=V.noPatch;window.ShadyDOM.noPatch="true"===W||W}var Y=V.register||V.ce;function X(){}function K(t){return t.__shady||(t.__shady=new X),t.__shady}function $(t){return t&&t.__shady}Y&&window.customElements&&(window.customElements.forcePolyfill=Y),X.prototype.toJSON=function(){return{}};var Z=window.ShadyDOM||{};Z.Ua=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var J=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");function Q(t){return(t=$(t))&&void 0!==t.firstChild}function tt(t){return t instanceof ShadowRoot}function et(t){return(t=(t=$(t))&&t.root)&&Dn(t)}Z.B=!!(J&&J.configurable&&J.get),Z.sa=Z.force||!Z.Ua,Z.D=Z.noPatch||!1,Z.la=Z.preferPerformance,Z.ua="on-demand"===Z.D,Z.Ia=navigator.userAgent.match("Trident");var nt=Element.prototype,rt=nt.matches||nt.matchesSelector||nt.mozMatchesSelector||nt.msMatchesSelector||nt.oMatchesSelector||nt.webkitMatchesSelector,it=document.createTextNode(""),ot=0,at=[];function st(t){at.push(t),it.textContent=ot++}new MutationObserver((function(){for(;at.length;)try{at.shift()()}catch(t){throw it.textContent=ot++,t}})).observe(it,{characterData:!0});var lt=!!document.contains;function ut(t,e){for(;e;){if(e==t)return!0;e=e.__shady_parentNode}return!1}function ct(t){for(var e=t.length-1;0<=e;e--){var n=t[e],i=n.getAttribute("id")||n.getAttribute("name");i&&"length"!==i&&isNaN(i)&&(t[i]=n)}return t.item=function(e){return t[e]},t.namedItem=function(e){if("length"!==e&&isNaN(e)&&t[e])return t[e];for(var n=r(t),i=n.next();!i.done;i=n.next())if(((i=i.value).getAttribute("id")||i.getAttribute("name"))==e)return i;return null},t}function dt(t){var e=[];for(t=t.__shady_native_firstChild;t;t=t.__shady_native_nextSibling)e.push(t);return e}function ht(t){var e=[];for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling)e.push(t);return e}function ft(t,e,n){if(n.configurable=!0,n.value)t[e]=n.value;else try{Object.defineProperty(t,e,n)}catch(t){}}function pt(t,e,n,r){for(var i in n=void 0===n?"":n,e)r&&0<=r.indexOf(i)||ft(t,n+i,e[i])}function gt(t,e){for(var n in e)n in t&&ft(t,n,e[n])}function vt(t){var e={};return Object.getOwnPropertyNames(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e}function yt(t,e){for(var n,r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++)t[n=r[i]]=e[n]}var mt,bt=[];function _t(t){mt||(mt=!0,st(wt)),bt.push(t)}function wt(){mt=!1;for(var t=!!bt.length;bt.length;)bt.shift()();return t}function xt(){this.a=!1,this.addedNodes=[],this.removedNodes=[],this.ia=new Set}wt.list=bt,xt.prototype.flush=function(){if(this.a){this.a=!1;var t=this.takeRecords();t.length&&this.ia.forEach((function(e){e(t)}))}},xt.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var t=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],t}return[]};var Et=/[&\u00A0"]/g,kt=/[&\u00A0<>]/g;function St(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"Â ":return"&nbsp;"}}function Ct(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var Tt=Ct("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),Nt=Ct("style script xmp iframe noembed noframes plaintext noscript".split(" "));function At(t,e){"template"===t.localName&&(t=t.content);for(var n="",r=e?e(t):t.childNodes,i=0,o=r.length,a=void 0;i<o&&(a=r[i]);i++){t:{var s=a,l=t,u=e;switch(s.nodeType){case Node.ELEMENT_NODE:for(var c,d="<"+(l=s.localName),h=s.attributes,f=0;c=h[f];f++)d+=" "+c.name+'="'+c.value.replace(Et,St)+'"';d+=">",s=Tt[l]?d:d+At(s,u)+"</"+l+">";break t;case Node.TEXT_NODE:s=s.data,s=l&&Nt[l.localName]?s:s.replace(kt,St);break t;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break t;default:throw window.console.error(s),Error("not implemented")}}n+=s}return n}var Ot=Z.B,Pt={querySelector:function(t){return this.__shady_native_querySelector(t)},querySelectorAll:function(t){return this.__shady_native_querySelectorAll(t)}},Dt={};function Mt(t){Dt[t]=function(e){return e["__shady_native_"+t]}}function Lt(t,e){for(var n in pt(t,e,"__shady_native_"),e)Mt(n)}function It(t,e){e=void 0===e?[]:e;for(var n=0;n<e.length;n++){var r=e[n],i=Object.getOwnPropertyDescriptor(t,r);i&&(Object.defineProperty(t,"__shady_native_"+r,i),i.value?Pt[r]||(Pt[r]=i.value):Mt(r))}}var Rt=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),Bt=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),jt=document.implementation.createHTMLDocument("inert");function Ft(t){for(var e;e=t.__shady_native_firstChild;)t.__shady_native_removeChild(e)}var zt=["firstElementChild","lastElementChild","children","childElementCount"],Vt=["querySelector","querySelectorAll"];var qt=vt({get childNodes(){return this.__shady_childNodes},get firstChild(){return this.__shady_firstChild},get lastChild(){return this.__shady_lastChild},get childElementCount(){return this.__shady_childElementCount},get children(){return this.__shady_children},get firstElementChild(){return this.__shady_firstElementChild},get lastElementChild(){return this.__shady_lastElementChild},get shadowRoot(){return this.__shady_shadowRoot}}),Ht=vt({get textContent(){return this.__shady_textContent},set textContent(t){this.__shady_textContent=t},get innerHTML(){return this.__shady_innerHTML},set innerHTML(t){return this.__shady_innerHTML=t}}),Ut=vt({get parentElement(){return this.__shady_parentElement},get parentNode(){return this.__shady_parentNode},get nextSibling(){return this.__shady_nextSibling},get previousSibling(){return this.__shady_previousSibling},get nextElementSibling(){return this.__shady_nextElementSibling},get previousElementSibling(){return this.__shady_previousElementSibling},get className(){return this.__shady_className},set className(t){return this.__shady_className=t}});function Gt(t){for(var e in t){var n=t[e];n&&(n.enumerable=!1)}}Gt(qt),Gt(Ht),Gt(Ut);var Wt,Yt=Z.B||!0===Z.D,Xt=Yt?function(){}:function(t){var e=K(t);e.Ka||(e.Ka=!0,gt(t,Ut))},Kt=Yt?function(){}:function(t){var e=K(t);e.Ja||(e.Ja=!0,gt(t,qt),window.customElements&&window.customElements.polyfillWrapFlushCallback&&!Z.D||gt(t,Ht))},$t="__eventWrappers"+Date.now(),Zt=(Wt=Object.getOwnPropertyDescriptor(Event.prototype,"composed"))?function(t){return Wt.get.call(t)}:null,Jt=function(){function t(){}var e=!1,n={get capture(){return e=!0,!1}};return window.addEventListener("test",t,n),window.removeEventListener("test",t,n),e}();function Qt(t){if(t&&"object"==typeof t)var e=!!t.capture,n=!!t.once,r=!!t.passive,i=t.O;else e=!!t,r=n=!1;return{Ga:i,capture:e,once:n,passive:r,Fa:Jt?t:e}}var te={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},ee={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0};function ne(t){return t instanceof Node?t.__shady_getRootNode():t}function re(t,e){var n=[],r=t;for(t=ne(t);r;)n.push(r),r=r.__shady_assignedSlot?r.__shady_assignedSlot:r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r.host&&(e||r!==t)?r.host:r.__shady_parentNode;return n[n.length-1]===document&&n.push(window),n}function ie(t,e){if(!tt)return t;t=re(t,!0);for(var n,r,i=0,o=void 0,a=void 0;i<e.length;i++)if((r=ne(n=e[i]))!==o&&(a=t.indexOf(r),o=r),!tt(r)||-1<a)return n}function oe(t){function e(e,n){return(e=new t(e,n)).__composed=n&&!!n.composed,e}return e.__proto__=t,e.prototype=t.prototype,e}var ae={focus:!0,blur:!0};function se(t){return t.__target!==t.target||t.__relatedTarget!==t.relatedTarget}function le(t,e,n){if(n=e.__handlers&&e.__handlers[t.type]&&e.__handlers[t.type][n])for(var r,i=0;(r=n[i])&&(!se(t)||t.target!==t.relatedTarget)&&(r.call(e,t),!t.__immediatePropagationStopped);i++);}function ue(t){var e,n=t.composedPath();Object.defineProperty(t,"currentTarget",{get:function(){return i},configurable:!0});for(var r=n.length-1;0<=r;r--){var i=n[r];if(le(t,i,"capture"),t.ma)return}for(Object.defineProperty(t,"eventPhase",{get:function(){return Event.AT_TARGET}}),r=0;r<n.length;r++){var o=$(i=n[r]);if(o=o&&o.root,(0===r||o&&o===e)&&(le(t,i,"bubble"),i!==window&&(e=i.__shady_getRootNode()),t.ma))break}}function ce(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=t[a],l=s.type,u=s.capture,c=s.once,d=s.passive;if(e===s.node&&n===l&&r===u&&i===c&&o===d)return a}return-1}function de(t){return wt(),this.__shady_native_dispatchEvent(t)}function he(t,e,n){var r=Qt(n),i=r.capture,o=r.once,a=r.passive,s=r.Ga;if(r=r.Fa,e){var l=typeof e;if(("function"===l||"object"===l)&&("object"!==l||e.handleEvent&&"function"==typeof e.handleEvent)){if(ee[t])return this.__shady_native_addEventListener(t,e,r);var u=s||this;if(s=e[$t]){if(-1<ce(s,u,t,i,o,a))return}else e[$t]=[];s=function(r){if(o&&this.__shady_removeEventListener(t,e,n),r.__target||ge(r),u!==this){var i=Object.getOwnPropertyDescriptor(r,"currentTarget");Object.defineProperty(r,"currentTarget",{get:function(){return u},configurable:!0})}if(r.__previousCurrentTarget=r.currentTarget,(!tt(u)&&"slot"!==u.localName||-1!=r.composedPath().indexOf(u))&&(r.composed||-1<r.composedPath().indexOf(u)))if(se(r)&&r.target===r.relatedTarget)r.eventPhase===Event.BUBBLING_PHASE&&r.stopImmediatePropagation();else if(r.eventPhase===Event.CAPTURING_PHASE||r.bubbles||r.target===u||u instanceof Window){var a="function"===l?e.call(u,r):e.handleEvent&&e.handleEvent(r);return u!==this&&(i?(Object.defineProperty(r,"currentTarget",i),i=null):delete r.currentTarget),a}},e[$t].push({node:u,type:t,capture:i,once:o,passive:a,lb:s}),ae[t]?(this.__handlers=this.__handlers||{},this.__handlers[t]=this.__handlers[t]||{capture:[],bubble:[]},this.__handlers[t][i?"capture":"bubble"].push(s)):this.__shady_native_addEventListener(t,s,r)}}}function fe(t,e,n){if(e){var r=Qt(n);n=r.capture;var i=r.once,o=r.passive,a=r.Ga;if(r=r.Fa,ee[t])return this.__shady_native_removeEventListener(t,e,r);var s=a||this;a=void 0;var l=null;try{l=e[$t]}catch(t){}l&&(-1<(i=ce(l,s,t,n,i,o))&&(a=l.splice(i,1)[0].lb,l.length||(e[$t]=void 0))),this.__shady_native_removeEventListener(t,a||e,r),a&&ae[t]&&this.__handlers&&this.__handlers[t]&&(-1<(e=(t=this.__handlers[t][n?"capture":"bubble"]).indexOf(a))&&t.splice(e,1))}}var pe=vt({get composed(){return void 0===this.__composed&&(Zt?this.__composed="focusin"===this.type||"focusout"===this.type||Zt(this):!1!==this.isTrusted&&(this.__composed=te[this.type])),this.__composed||!1},composedPath:function(){return this.__composedPath||(this.__composedPath=re(this.__target,this.composed)),this.__composedPath},get target(){return ie(this.currentTarget||this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=re(this.__relatedTarget,!0)),ie(this.currentTarget||this.__previousCurrentTarget,this.__relatedTargetComposedPath)):null},stopPropagation:function(){Event.prototype.stopPropagation.call(this),this.ma=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this),this.ma=this.__immediatePropagationStopped=!0}});function ge(t){if(t.__target=t.target,t.__relatedTarget=t.relatedTarget,Z.B){var e=Object.getPrototypeOf(t);if(!e.hasOwnProperty("__shady_patchedProto")){var n=Object.create(e);n.__shady_sourceProto=e,pt(n,pe),e.__shady_patchedProto=n}t.__proto__=e.__shady_patchedProto}else pt(t,pe)}var ve=oe(Event),ye=oe(CustomEvent),me=oe(MouseEvent);var be=Object.getOwnPropertyNames(Element.prototype).filter((function(t){return"on"===t.substring(0,2)})),_e=Object.getOwnPropertyNames(HTMLElement.prototype).filter((function(t){return"on"===t.substring(0,2)}));function we(t){return{set:function(e){var n=K(this),r=t.substring(2);n.N||(n.N={}),n.N[t]&&this.removeEventListener(r,n.N[t]),this.__shady_addEventListener(r,e),n.N[t]=e},get:function(){var e=$(this);return e&&e.N&&e.N[t]},configurable:!0}}function xe(t,e){return{index:t,aa:[],ha:e}}function Ee(t,e,n,r){var i=0,o=0,a=0,s=0,l=Math.min(e-i,r-o);if(0==i&&0==o)t:{for(a=0;a<l;a++)if(t[a]!==n[a])break t;a=l}if(e==t.length&&r==n.length){s=t.length;for(var u=n.length,c=0;c<l-a&&ke(t[--s],n[--u]);)c++;s=c}if(o+=a,r-=s,0==(e-=s)-(i+=a)&&0==r-o)return[];if(i==e){for(e=xe(i,0);o<r;)e.aa.push(n[o++]);return[e]}if(o==r)return[xe(i,e-i)];for(r=r-(a=o)+1,s=e-(l=i)+1,e=Array(r),u=0;u<r;u++)e[u]=Array(s),e[u][0]=u;for(u=0;u<s;u++)e[0][u]=u;for(u=1;u<r;u++)for(c=1;c<s;c++)if(t[l+c-1]===n[a+u-1])e[u][c]=e[u-1][c-1];else{var d=e[u-1][c]+1,h=e[u][c-1]+1;e[u][c]=d<h?d:h}for(l=e.length-1,a=e[0].length-1,r=e[l][a],t=[];0<l||0<a;)0==l?(t.push(2),a--):0==a?(t.push(3),l--):(s=e[l-1][a-1],(d=(u=e[l-1][a])<(c=e[l][a-1])?u<s?u:s:c<s?c:s)==s?(s==r?t.push(0):(t.push(1),r=s),l--,a--):d==u?(t.push(3),l--,r=u):(t.push(2),a--,r=c));for(t.reverse(),e=void 0,l=[],a=0;a<t.length;a++)switch(t[a]){case 0:e&&(l.push(e),e=void 0),i++,o++;break;case 1:e||(e=xe(i,0)),e.ha++,i++,e.aa.push(n[o]),o++;break;case 2:e||(e=xe(i,0)),e.ha++,i++;break;case 3:e||(e=xe(i,0)),e.aa.push(n[o]),o++}return e&&l.push(e),l}function ke(t,e){return t===e}var Se=vt({dispatchEvent:de,addEventListener:he,removeEventListener:fe}),Ce=null;function Te(){return Ce||(Ce=window.ShadyCSS&&window.ShadyCSS.ScopingShim),Ce||null}function Ne(t,e,n){var r=Te();return!(!r||"class"!==e)&&(r.setElementClass(t,n),!0)}function Ae(t,e){var n=Te();n&&n.unscopeNode(t,e)}function Oe(t){if(t.nodeType!==Node.ELEMENT_NODE)return"";var e=Te();return e?e.currentScopeForNode(t):""}function Pe(t,e){if(t)for(t.nodeType===Node.ELEMENT_NODE&&e(t),t=t.__shady_firstChild;t;t=t.__shady_nextSibling)t.nodeType===Node.ELEMENT_NODE&&Pe(t,e)}var De=window.document,Me=Z.la,Le=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),Ie=Le&&Le.get;function Re(t){for(var e;e=t.__shady_firstChild;)t.__shady_removeChild(e)}function Be(t,e,n){if(t=(t=$(t))&&t.Z){if(e)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var r=0,i=e.childNodes.length;r<i;r++)t.addedNodes.push(e.childNodes[r]);else t.addedNodes.push(e);n&&t.removedNodes.push(n),function(t){t.a||(t.a=!0,st((function(){t.flush()})))}(t)}}var je=vt({get parentNode(){var t=$(this);return void 0!==(t=t&&t.parentNode)?t:this.__shady_native_parentNode},get firstChild(){var t=$(this);return void 0!==(t=t&&t.firstChild)?t:this.__shady_native_firstChild},get lastChild(){var t=$(this);return void 0!==(t=t&&t.lastChild)?t:this.__shady_native_lastChild},get nextSibling(){var t=$(this);return void 0!==(t=t&&t.nextSibling)?t:this.__shady_native_nextSibling},get previousSibling(){var t=$(this);return void 0!==(t=t&&t.previousSibling)?t:this.__shady_native_previousSibling},get childNodes(){if(Q(this)){var t=$(this);if(!t.childNodes){t.childNodes=[];for(var e=this.__shady_firstChild;e;e=e.__shady_nextSibling)t.childNodes.push(e)}var n=t.childNodes}else n=this.__shady_native_childNodes;return n.item=function(t){return n[t]},n},get parentElement(){var t=$(this);return(t=t&&t.parentNode)&&t.nodeType!==Node.ELEMENT_NODE&&(t=null),void 0!==t?t:this.__shady_native_parentElement},get isConnected(){if(Ie&&Ie.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var t=this.ownerDocument;if(lt){if(t.__shady_native_contains(this))return!0}else if(t.documentElement&&t.documentElement.__shady_native_contains(this))return!0;for(t=this;t&&!(t instanceof Document);)t=t.__shady_parentNode||(tt(t)?t.host:void 0);return!!(t&&t instanceof Document)},get textContent(){if(Q(this)){for(var t=[],e=this.__shady_firstChild;e;e=e.__shady_nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.__shady_textContent);return t.join("")}return this.__shady_native_textContent},set textContent(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!Q(this)&&Z.B){var e=this.__shady_firstChild;(e!=this.__shady_lastChild||e&&e.nodeType!=Node.TEXT_NODE)&&Re(this),this.__shady_native_textContent=t}else Re(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_insertBefore(document.createTextNode(t));break;default:this.nodeValue=t}},insertBefore:function(t,e){if(this.ownerDocument!==De&&t.ownerDocument!==De)return this.__shady_native_insertBefore(t,e),t;if(t===this)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(e){var n=$(e);if(void 0!==(n=n&&n.parentNode)&&n!==this||void 0===n&&e.__shady_native_parentNode!==this)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.")}if(e===t)return t;Be(this,t);var o=[],a=(n=Rn(this))?n.host.localName:Oe(this),s=t.__shady_parentNode;if(s){var l=Oe(t),u=!!n||!Rn(t)||Me&&void 0!==this.__noInsertionPoint;s.__shady_removeChild(t,u)}s=!0;var c=(!Me||void 0===t.__noInsertionPoint&&void 0===this.__noInsertionPoint)&&!function t(e,n){var r=Te();if(!r)return!0;if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(r=!0,e=e.__shady_firstChild;e;e=e.__shady_nextSibling)r=r&&t(e,n);return r}return e.nodeType!==Node.ELEMENT_NODE||r.currentScopeForNode(e)===n}(t,a),d=n&&!t.__noInsertionPoint&&(!Me||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE);return(d||c)&&(c&&(l=l||Oe(t)),Pe(t,(function(t){if(d&&"slot"===t.localName&&o.push(t),c){var e=l;Te()&&(e&&Ae(t,e),(e=Te())&&e.scopeNode(t,a))}}))),o.length&&(Nn(n),n.c.push.apply(n.c,o instanceof Array?o:i(r(o))),En(n)),Q(this)&&(function(t,e,n){hn(e,2);var r=K(e);if(void 0!==r.firstChild&&(r.childNodes=null),t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(t=t.__shady_native_firstChild;t;t=t.__shady_native_nextSibling)fn(t,e,r,n);else fn(t,e,r,n)}(t,this,e),(u=$(this)).root?(s=!1,et(this)&&En(u.root)):n&&"slot"===this.localName&&(s=!1,En(n))),s?(n=tt(this)?this.host:this,e?(e=function t(e){var n=e;if(e&&"slot"===e.localName){var r=$(e);(r=r&&r.V)&&(n=r.length?r[0]:t(e.__shady_nextSibling))}return n}(e),n.__shady_native_insertBefore(t,e)):n.__shady_native_appendChild(t)):t.ownerDocument!==this.ownerDocument&&this.ownerDocument.adoptNode(t),t},appendChild:function(t){if(this!=t||!tt(t))return this.__shady_insertBefore(t)},removeChild:function(t,e){if(e=void 0!==e&&e,this.ownerDocument!==De)return this.__shady_native_removeChild(t);if(t.__shady_parentNode!==this)throw Error("The node to be removed is not a child of this node: "+t);Be(this,null,t);var n=Rn(t),r=n&&function(t,e){if(t.a){An(t);var n,r=t.b;for(n in r)for(var i=r[n],o=0;o<i.length;o++){var a=i[o];if(ut(e,a)){i.splice(o,1);var s=t.a.indexOf(a);if(0<=s&&(t.a.splice(s,1),(s=$(a.__shady_parentNode))&&s.ca&&s.ca--),o--,a=$(a),s=a.V)for(var l=0;l<s.length;l++){var u=s[l],c=u.__shady_native_parentNode;c&&c.__shady_native_removeChild(u)}a.V=[],a.assignedNodes=[],s=!0}}return s}}(n,t),i=$(this);if(Q(this)&&(function(t,e){var n=K(t);e=K(e),t===e.firstChild&&(e.firstChild=n.nextSibling),t===e.lastChild&&(e.lastChild=n.previousSibling),t=n.previousSibling;var r=n.nextSibling;t&&(K(t).nextSibling=r),r&&(K(r).previousSibling=t),n.parentNode=n.previousSibling=n.nextSibling=void 0,void 0!==e.childNodes&&(e.childNodes=null)}(t,this),et(this))){En(i.root);var o=!0}if(Te()&&!e&&n&&t.nodeType!==Node.TEXT_NODE){var a=Oe(t);Pe(t,(function(t){Ae(t,a)}))}return function t(e){var n=$(e);if(n&&void 0!==n.ka)for(n=e.__shady_firstChild;n;n=n.__shady_nextSibling)t(n);(e=$(e))&&(e.ka=void 0)}(t),n&&((e="slot"===this.localName)&&(o=!0),(r||e)&&En(n)),o||(o=tt(this)?this.host:this,(!i.root&&"slot"!==t.localName||o===t.__shady_native_parentNode)&&o.__shady_native_removeChild(t)),t},replaceChild:function(t,e){return this.__shady_insertBefore(t,e),this.__shady_removeChild(e),t},cloneNode:function(t){if("template"==this.localName)return this.__shady_native_cloneNode(t);var e=this.__shady_native_cloneNode(!1);if(t&&e.nodeType!==Node.ATTRIBUTE_NODE){t=this.__shady_firstChild;for(var n;t;t=t.__shady_nextSibling)n=t.__shady_cloneNode(!0),e.__shady_appendChild(n)}return e},getRootNode:function(t){if(this&&this.nodeType){var e=K(this),n=e.ka;return void 0===n&&(tt(this)?(n=this,e.ka=n):(n=(n=this.__shady_parentNode)?n.__shady_getRootNode(t):this,document.documentElement.__shady_native_contains(this)&&(e.ka=n))),n}},contains:function(t){return ut(this,t)}}),Fe=vt({get assignedSlot(){var t=this.__shady_parentNode;return(t=t&&t.__shady_shadowRoot)&&kn(t),(t=$(this))&&t.assignedSlot||null}});function ze(t,e,n){var r=[];return function t(e,n,r,i){for(e=e.__shady_firstChild;e;e=e.__shady_nextSibling){var o;if(o=e.nodeType===Node.ELEMENT_NODE){var a=n,s=r,l=i,u=a(o=e);u&&l.push(o),s&&s(u)?o=u:(t(o,a,s,l),o=void 0)}if(o)break}}(t,e,n,r),r}var Ve=vt({get firstElementChild(){var t=$(this);if(t&&void 0!==t.firstChild){for(t=this.__shady_firstChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_firstElementChild},get lastElementChild(){var t=$(this);if(t&&void 0!==t.lastChild){for(t=this.__shady_lastChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_lastElementChild},get children(){return Q(this)?ct(Array.prototype.filter.call(ht(this),(function(t){return t.nodeType===Node.ELEMENT_NODE}))):this.__shady_native_children},get childElementCount(){var t=this.__shady_children;return t?t.length:0}}),qe=vt({querySelector:function(t){return ze(this,(function(e){return rt.call(e,t)}),(function(t){return!!t}))[0]||null},querySelectorAll:function(t,e){if(e){e=Array.prototype.slice.call(this.__shady_native_querySelectorAll(t));var n=this.__shady_getRootNode();return ct(e.filter((function(t){return t.__shady_getRootNode()==n})))}return ct(ze(this,(function(e){return rt.call(e,t)})))}}),He=Z.la&&!Z.D?yt({},Ve):Ve;yt(Ve,qe);var Ue=window.document;function Ge(t,e){if("slot"===e)et(t=t.__shady_parentNode)&&En($(t).root);else if("slot"===t.localName&&"name"===e&&(e=Rn(t))){if(e.a){An(e);var n=t.La,r=On(t);if(r!==n){var i=(n=e.b[n]).indexOf(t);0<=i&&n.splice(i,1),(n=e.b[r]||(e.b[r]=[])).push(t),1<n.length&&(e.b[r]=Pn(n))}}En(e)}}var We=vt({get previousElementSibling(){var t=$(this);if(t&&void 0!==t.previousSibling){for(t=this.__shady_previousSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_previousElementSibling},get nextElementSibling(){var t=$(this);if(t&&void 0!==t.nextSibling){for(t=this.__shady_nextSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_nextElementSibling},get slot(){return this.getAttribute("slot")},set slot(t){this.__shady_setAttribute("slot",t)},get className(){return this.getAttribute("class")||""},set className(t){this.__shady_setAttribute("class",t)},setAttribute:function(t,e){this.ownerDocument!==Ue?this.__shady_native_setAttribute(t,e):Ne(this,t,e)||(this.__shady_native_setAttribute(t,e),Ge(this,t))},removeAttribute:function(t){this.ownerDocument!==Ue?this.__shady_native_removeAttribute(t):Ne(this,t,"")?""===this.getAttribute(t)&&this.__shady_native_removeAttribute(t):(this.__shady_native_removeAttribute(t),Ge(this,t))}});Z.la||be.forEach((function(t){We[t]=we(t)}));var Ye=vt({attachShadow:function(t){if(!this)throw Error("Must provide a host.");if(!t)throw Error("Not enough arguments.");if(t.shadyUpgradeFragment&&!Z.Ia){var e=t.shadyUpgradeFragment;if(e.__proto__=ShadowRoot.prototype,xn(e,this,t),pn(e,e),t=e.__noInsertionPoint?null:e.querySelectorAll("slot"),e.__noInsertionPoint=void 0,t&&t.length){var n=e;Nn(n),n.c.push.apply(n.c,t instanceof Array?t:i(r(t))),En(e)}e.host.__shady_native_appendChild(e)}else e=new wn(mn,this,t);return this.__CE_shadowRoot=e},get shadowRoot(){var t=$(this);return t&&t.bb||null}});yt(We,Ye);var Xe=document.implementation.createHTMLDocument("inert"),Ke=vt({get innerHTML(){return Q(this)?At("template"===this.localName?this.content:this,ht):this.__shady_native_innerHTML},set innerHTML(t){if("template"===this.localName)this.__shady_native_innerHTML=t;else{Re(this);var e=this.localName||"div";for(e=this.namespaceURI&&this.namespaceURI!==Xe.namespaceURI?Xe.createElementNS(this.namespaceURI,e):Xe.createElement(e),Z.B?e.__shady_native_innerHTML=t:e.innerHTML=t;t=e.__shady_firstChild;)this.__shady_insertBefore(t)}}}),$e=vt({blur:function(){var t=$(this);(t=(t=t&&t.root)&&t.activeElement)?t.__shady_blur():this.__shady_native_blur()}});Z.la||_e.forEach((function(t){$e[t]=we(t)}));var Ze=vt({assignedNodes:function(t){if("slot"===this.localName){var e=this.__shady_getRootNode();return e&&tt(e)&&kn(e),(e=$(this))&&(t&&t.flatten?e.V:e.assignedNodes)||[]}},addEventListener:function(t,e,n){if("slot"!==this.localName||"slotchange"===t)he.call(this,t,e,n);else{"object"!=typeof n&&(n={capture:!!n});var r=this.__shady_parentNode;if(!r)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.O=this,r.__shady_addEventListener(t,e,n)}},removeEventListener:function(t,e,n){if("slot"!==this.localName||"slotchange"===t)fe.call(this,t,e,n);else{"object"!=typeof n&&(n={capture:!!n});var r=this.__shady_parentNode;if(!r)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.O=this,r.__shady_removeEventListener(t,e,n)}}}),Je=vt({getElementById:function(t){return""===t?null:ze(this,(function(e){return e.id==t}),(function(t){return!!t}))[0]||null}}),Qe=vt({get activeElement(){var t=Z.B?document.__shady_native_activeElement:document.activeElement;if(!t||!t.nodeType)return null;var e=!!tt(this);if(!(this===document||e&&this.host!==t&&this.host.__shady_native_contains(t)))return null;for(e=Rn(t);e&&e!==this;)e=Rn(t=e.host);return this===document?e?null:t:e===this?t:null}}),tn=window.document,en=vt({importNode:function(t,e){if(t.ownerDocument!==tn||"template"===t.localName)return this.__shady_native_importNode(t,e);var n=this.__shady_native_importNode(t,!1);if(e)for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling)e=this.__shady_importNode(t,!0),n.__shady_appendChild(e);return n}}),nn=vt({dispatchEvent:de,addEventListener:he.bind(window),removeEventListener:fe.bind(window)}),rn={};Object.getOwnPropertyDescriptor(HTMLElement.prototype,"parentElement")&&(rn.parentElement=je.parentElement),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"contains")&&(rn.contains=je.contains),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"children")&&(rn.children=Ve.children),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML")&&(rn.innerHTML=Ke.innerHTML),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"className")&&(rn.className=We.className);var on={EventTarget:[Se],Node:[je,window.EventTarget?null:Se],Text:[Fe],Comment:[Fe],CDATASection:[Fe],ProcessingInstruction:[Fe],Element:[We,Ve,Fe,!Z.B||"innerHTML"in Element.prototype?Ke:null,window.HTMLSlotElement?null:Ze],HTMLElement:[$e,rn],HTMLSlotElement:[Ze],DocumentFragment:[He,Je],Document:[en,He,Je,Qe],Window:[nn]},an=Z.B?null:["innerHTML","textContent"];function sn(t,e,n,r){e.forEach((function(e){return t&&e&&pt(t,e,n,r)}))}function ln(t){var e,n=t?null:an;for(e in on)sn(window[e]&&window[e].prototype,on[e],t,n)}function un(t){return t.__shady_protoIsPatched=!0,sn(t,on.EventTarget),sn(t,on.Node),sn(t,on.Element),sn(t,on.HTMLElement),sn(t,on.HTMLSlotElement),t}["Text","Comment","CDATASection","ProcessingInstruction"].forEach((function(t){var e=window[t],n=Object.create(e.prototype);n.__shady_protoIsPatched=!0,sn(n,on.EventTarget),sn(n,on.Node),on[t]&&sn(n,on[t]),e.prototype.__shady_patchedProto=n}));var cn=Z.ua,dn=Z.B;function hn(t,e){if(cn&&!t.__shady_protoIsPatched&&!tt(t)){var n=Object.getPrototypeOf(t),r=n.hasOwnProperty("__shady_patchedProto")&&n.__shady_patchedProto;r||(un(r=Object.create(n)),n.__shady_patchedProto=r),Object.setPrototypeOf(t,r)}dn||(1===e?Xt(t):2===e&&Kt(t))}function fn(t,e,n,r){hn(t,1),r=r||null;var i=K(t),o=r?K(r):null;i.previousSibling=r?o.previousSibling:e.__shady_lastChild,(o=$(i.previousSibling))&&(o.nextSibling=t),(o=$(i.nextSibling=r))&&(o.previousSibling=t),i.parentNode=e,r?r===n.firstChild&&(n.firstChild=t):(n.lastChild=t,n.firstChild||(n.firstChild=t)),n.childNodes=null}function pn(t,e){var n=K(t);if(e||void 0===n.firstChild){n.childNodes=null;var r=n.firstChild=t.__shady_native_firstChild;for(n.lastChild=t.__shady_native_lastChild,hn(t,2),n=r,r=void 0;n;n=n.__shady_native_nextSibling){var i=K(n);i.parentNode=e||t,i.nextSibling=n.__shady_native_nextSibling,i.previousSibling=r||null,r=n,hn(n,1)}}}var gn=vt({addEventListener:function(t,e,n){"object"!=typeof n&&(n={capture:!!n}),n.O=n.O||this,this.host.__shady_addEventListener(t,e,n)},removeEventListener:function(t,e,n){"object"!=typeof n&&(n={capture:!!n}),n.O=n.O||this,this.host.__shady_removeEventListener(t,e,n)}});function vn(t,e){pt(t,gn,e),pt(t,Qe,e),pt(t,Ke,e),pt(t,Ve,e),Z.D&&!e?(pt(t,je,e),pt(t,Je,e)):Z.B||(pt(t,Ut),pt(t,qt),pt(t,Ht))}var yn,mn={},bn=Z.deferConnectionCallbacks&&"loading"===document.readyState;function _n(t){var e=[];do{e.unshift(t)}while(t=t.__shady_parentNode);return e}function wn(t,e,n){if(t!==mn)throw new TypeError("Illegal constructor");this.a=null,xn(this,e,n)}function xn(t,e,n){if(t.host=e,t.mode=n&&n.mode,pn(t.host),(e=K(t.host)).root=t,e.bb="closed"!==t.mode?t:null,(e=K(t)).firstChild=e.lastChild=e.parentNode=e.nextSibling=e.previousSibling=null,Z.preferPerformance)for(;e=t.host.__shady_native_firstChild;)t.host.__shady_native_removeChild(e);else En(t)}function En(t){t.T||(t.T=!0,_t((function(){return kn(t)})))}function kn(t){var e;if(e=t.T){for(var n;t;)t.T&&(n=t),tt(t=(e=t).host.__shady_getRootNode())&&(e=$(e.host))&&0<e.ca||(t=void 0);e=n}(n=e)&&n._renderSelf()}function Sn(t,e,n){var r=K(e),i=r.oa;r.oa=null,n||(n=(t=t.b[e.__shady_slot||"__catchall"])&&t[0]),n?(K(n).assignedNodes.push(e),r.assignedSlot=n):r.assignedSlot=void 0,i!==r.assignedSlot&&r.assignedSlot&&(K(r.assignedSlot).ra=!0)}function Cn(t,e,n){for(var r=0,i=void 0;r<n.length&&(i=n[r]);r++)if("slot"==i.localName){var o=$(i).assignedNodes;o&&o.length&&Cn(t,e,o)}else e.push(n[r])}function Tn(t,e){e.__shady_native_dispatchEvent(new Event("slotchange")),(e=$(e)).assignedSlot&&Tn(t,e.assignedSlot)}function Nn(t){t.c=t.c||[],t.a=t.a||[],t.b=t.b||{}}function An(t){if(t.c&&t.c.length){for(var e,n=t.c,r=0;r<n.length;r++){var i=n[r];pn(i);var o=i.__shady_parentNode;pn(o),(o=$(o)).ca=(o.ca||0)+1,o=On(i),t.b[o]?((e=e||{})[o]=!0,t.b[o].push(i)):t.b[o]=[i],t.a.push(i)}if(e)for(var a in e)t.b[a]=Pn(t.b[a]);t.c=[]}}function On(t){var e=t.name||t.getAttribute("name")||"__catchall";return t.La=e}function Pn(t){return t.sort((function(t,e){t=_n(t);for(var n=_n(e),r=0;r<t.length;r++){e=t[r];var i=n[r];if(e!==i)return(t=ht(e.__shady_parentNode)).indexOf(e)-t.indexOf(i)}}))}function Dn(t){return An(t),!(!t.a||!t.a.length)}if(wn.prototype._renderSelf=function(){var t=bn;if(bn=!0,this.T=!1,this.a){An(this);for(var e,n=0;n<this.a.length;n++){var r=$(e=this.a[n]),i=r.assignedNodes;if(r.assignedNodes=[],r.V=[],r.Ba=i)for(r=0;r<i.length;r++){var o=$(i[r]);o.oa=o.assignedSlot,o.assignedSlot===e&&(o.assignedSlot=null)}}for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)Sn(this,n);for(n=0;n<this.a.length;n++){if(!(i=$(e=this.a[n])).assignedNodes.length)for(r=e.__shady_firstChild;r;r=r.__shady_nextSibling)Sn(this,r,e);if((r=(r=$(e.__shady_parentNode))&&r.root)&&(Dn(r)||r.T)&&r._renderSelf(),Cn(this,i.V,i.assignedNodes),r=i.Ba){for(o=0;o<r.length;o++)$(r[o]).oa=null;i.Ba=null,r.length>i.assignedNodes.length&&(i.ra=!0)}i.ra&&(i.ra=!1,Tn(this,e))}for(e=this.a,n=[],i=0;i<e.length;i++)(o=$(r=e[i].__shady_parentNode))&&o.root||!(0>n.indexOf(r))||n.push(r);for(e=0;e<n.length;e++){for(i=(o=n[e])===this?this.host:o,r=[],o=o.__shady_firstChild;o;o=o.__shady_nextSibling)if("slot"==o.localName)for(var a=$(o).V,s=0;s<a.length;s++)r.push(a[s]);else r.push(o);o=dt(i),a=Ee(r,r.length,o,o.length);for(var l=s=0,u=void 0;s<a.length&&(u=a[s]);s++){for(var c=0,d=void 0;c<u.aa.length&&(d=u.aa[c]);c++)d.__shady_native_parentNode===i&&i.__shady_native_removeChild(d),o.splice(u.index+l,1);l-=u.ha}for(l=0,u=void 0;l<a.length&&(u=a[l]);l++)for(s=o[u.index],c=u.index;c<u.index+u.ha;c++)d=r[c],i.__shady_native_insertBefore(d,s),o.splice(c,0,d)}}if(!Z.preferPerformance&&!this.Aa)for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)e=$(n),n.__shady_native_parentNode!==this.host||"slot"!==n.localName&&e.assignedSlot||this.host.__shady_native_removeChild(n);this.Aa=!0,bn=t,yn&&yn()},function(t){t.__proto__=DocumentFragment.prototype,vn(t,"__shady_"),vn(t),Object.defineProperties(t,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}}),["localName","namespaceURI","prefix"].forEach((function(e){Object.defineProperty(t,e,{value:void 0,configurable:!0})})),["ownerDocument","baseURI","isConnected"].forEach((function(e){Object.defineProperty(t,e,{get:function(){return this.host[e]},configurable:!0})}))}(wn.prototype),window.customElements&&window.customElements.define&&Z.sa&&!Z.preferPerformance){var Mn=new Map;yn=function(){var t=[];Mn.forEach((function(e,n){t.push([n,e])})),Mn.clear();for(var e=0;e<t.length;e++){var n=t[e][0];t[e][1]?n.__shadydom_connectedCallback():n.__shadydom_disconnectedCallback()}},bn&&document.addEventListener("readystatechange",(function(){bn=!1,yn()}),{once:!0});var Ln=window.customElements.define,In=function(t,e){var n=e.prototype.connectedCallback,r=e.prototype.disconnectedCallback;Ln.call(window.customElements,t,function(t,e,n){var r=0,i="__isConnected"+r++;return(e||n)&&(t.prototype.connectedCallback=t.prototype.__shadydom_connectedCallback=function(){bn?Mn.set(this,!0):this[i]||(this[i]=!0,e&&e.call(this))},t.prototype.disconnectedCallback=t.prototype.__shadydom_disconnectedCallback=function(){bn?this.isConnected||Mn.set(this,!1):this[i]&&(this[i]=!1,n&&n.call(this))}),t}(e,n,r)),e.prototype.connectedCallback=n,e.prototype.disconnectedCallback=r};window.customElements.define=In,Object.defineProperty(window.CustomElementRegistry.prototype,"define",{value:In,configurable:!0})}function Rn(t){if(tt(t=t.__shady_getRootNode()))return t}function Bn(t){this.node=t}function jn(t){Object.defineProperty(Bn.prototype,t,{get:function(){return this.node["__shady_"+t]},set:function(e){this.node["__shady_"+t]=e},configurable:!0})}(t=Bn.prototype).addEventListener=function(t,e,n){return this.node.__shady_addEventListener(t,e,n)},t.removeEventListener=function(t,e,n){return this.node.__shady_removeEventListener(t,e,n)},t.appendChild=function(t){return this.node.__shady_appendChild(t)},t.insertBefore=function(t,e){return this.node.__shady_insertBefore(t,e)},t.removeChild=function(t){return this.node.__shady_removeChild(t)},t.replaceChild=function(t,e){return this.node.__shady_replaceChild(t,e)},t.cloneNode=function(t){return this.node.__shady_cloneNode(t)},t.getRootNode=function(t){return this.node.__shady_getRootNode(t)},t.contains=function(t){return this.node.__shady_contains(t)},t.dispatchEvent=function(t){return this.node.__shady_dispatchEvent(t)},t.setAttribute=function(t,e){this.node.__shady_setAttribute(t,e)},t.getAttribute=function(t){return this.node.__shady_native_getAttribute(t)},t.hasAttribute=function(t){return this.node.__shady_native_hasAttribute(t)},t.removeAttribute=function(t){this.node.__shady_removeAttribute(t)},t.attachShadow=function(t){return this.node.__shady_attachShadow(t)},t.focus=function(){this.node.__shady_native_focus()},t.blur=function(){this.node.__shady_blur()},t.importNode=function(t,e){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_importNode(t,e)},t.getElementById=function(t){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_getElementById(t)},t.querySelector=function(t){return this.node.__shady_querySelector(t)},t.querySelectorAll=function(t,e){return this.node.__shady_querySelectorAll(t,e)},t.assignedNodes=function(t){if("slot"===this.node.localName)return this.node.__shady_assignedNodes(t)},o.Object.defineProperties(Bn.prototype,{activeElement:{configurable:!0,enumerable:!0,get:function(){if(tt(this.node)||this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_activeElement}},_activeElement:{configurable:!0,enumerable:!0,get:function(){return this.activeElement}},host:{configurable:!0,enumerable:!0,get:function(){if(tt(this.node))return this.node.host}},parentNode:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentNode}},firstChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstChild}},lastChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastChild}},nextSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextSibling}},previousSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousSibling}},childNodes:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childNodes}},parentElement:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentElement}},firstElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstElementChild}},lastElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastElementChild}},nextElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextElementSibling}},previousElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousElementSibling}},children:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_children}},childElementCount:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childElementCount}},shadowRoot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_shadowRoot}},assignedSlot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_assignedSlot}},isConnected:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_isConnected}},innerHTML:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_innerHTML},set:function(t){this.node.__shady_innerHTML=t}},textContent:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_textContent},set:function(t){this.node.__shady_textContent=t}},slot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_slot},set:function(t){this.node.__shady_slot=t}},className:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_className},set:function(t){return this.node.__shady_className=t}}}),be.forEach((function(t){return jn(t)})),_e.forEach((function(t){return jn(t)}));var Fn=new WeakMap;function zn(t){if(tt(t)||t instanceof Bn)return t;var e=Fn.get(t);return e||(e=new Bn(t),Fn.set(t,e)),e}if(Z.sa){var Vn=Z.B?function(t){return t}:function(t){return Kt(t),Xt(t),t},qn={inUse:Z.sa,patch:Vn,isShadyRoot:tt,enqueue:_t,flush:wt,flushInitial:function(t){!t.Aa&&t.T&&kn(t)},settings:Z,filterMutations:function(t,e){var n=e.getRootNode();return t.map((function(t){var e=n===t.target.getRootNode();if(e&&t.addedNodes){if((e=[].slice.call(t.addedNodes).filter((function(t){return n===t.getRootNode()}))).length)return t=Object.create(t),Object.defineProperty(t,"addedNodes",{value:e,configurable:!0}),t}else if(e)return t})).filter((function(t){return t}))},observeChildren:function(t,e){var n=K(t);n.Z||(n.Z=new xt),n.Z.ia.add(e);var r=n.Z;return{Ma:e,S:r,Na:t,takeRecords:function(){return r.takeRecords()}}},unobserveChildren:function(t){var e=t&&t.S;e&&(e.ia.delete(t.Ma),e.ia.size||(K(t.Na).Z=null))},deferConnectionCallbacks:Z.deferConnectionCallbacks,preferPerformance:Z.preferPerformance,handlesDynamicScoping:!0,wrap:Z.D?zn:Vn,wrapIfNeeded:!0===Z.D?zn:function(t){return t},Wrapper:Bn,composedPath:function(t){return t.__composedPath||(t.__composedPath=re(t.target,!0)),t.__composedPath},noPatch:Z.D,patchOnDemand:Z.ua,nativeMethods:Pt,nativeTree:Dt,patchElementProto:un};window.ShadyDOM=qn,function(){var t=["dispatchEvent","addEventListener","removeEventListener"];window.EventTarget?It(window.EventTarget.prototype,t):(It(Node.prototype,t),It(Window.prototype,t)),Ot?It(Node.prototype,"parentNode firstChild lastChild previousSibling nextSibling childNodes parentElement textContent".split(" ")):Lt(Node.prototype,{parentNode:{get:function(){return Rt.currentNode=this,Rt.parentNode()}},firstChild:{get:function(){return Rt.currentNode=this,Rt.firstChild()}},lastChild:{get:function(){return Rt.currentNode=this,Rt.lastChild()}},previousSibling:{get:function(){return Rt.currentNode=this,Rt.previousSibling()}},nextSibling:{get:function(){return Rt.currentNode=this,Rt.nextSibling()}},childNodes:{get:function(){var t=[];Rt.currentNode=this;for(var e=Rt.firstChild();e;)t.push(e),e=Rt.nextSibling();return t}},parentElement:{get:function(){return Bt.currentNode=this,Bt.parentNode()}},textContent:{get:function(){switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:for(var t,e=document.createTreeWalker(this,NodeFilter.SHOW_TEXT,null,!1),n="";t=e.nextNode();)n+=t.nodeValue;return n;default:return this.nodeValue}},set:function(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:Ft(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_native_insertBefore(document.createTextNode(t),void 0);break;default:this.nodeValue=t}}}}),It(Node.prototype,"appendChild insertBefore removeChild replaceChild cloneNode contains".split(" ")),It(HTMLElement.prototype,["parentElement","contains"]),t={firstElementChild:{get:function(){return Bt.currentNode=this,Bt.firstChild()}},lastElementChild:{get:function(){return Bt.currentNode=this,Bt.lastChild()}},children:{get:function(){var t=[];Bt.currentNode=this;for(var e=Bt.firstChild();e;)t.push(e),e=Bt.nextSibling();return ct(t)}},childElementCount:{get:function(){return this.children?this.children.length:0}}},Ot?(It(Element.prototype,zt),It(Element.prototype,["previousElementSibling","nextElementSibling","innerHTML","className"]),It(HTMLElement.prototype,["children","innerHTML","className"])):(Lt(Element.prototype,t),Lt(Element.prototype,{previousElementSibling:{get:function(){return Bt.currentNode=this,Bt.previousSibling()}},nextElementSibling:{get:function(){return Bt.currentNode=this,Bt.nextSibling()}},innerHTML:{get:function(){return At(this,dt)},set:function(t){var e="template"===this.localName?this.content:this;Ft(e);var n=this.localName||"div";for((n=this.namespaceURI&&this.namespaceURI!==jt.namespaceURI?jt.createElementNS(this.namespaceURI,n):jt.createElement(n)).innerHTML=t,t="template"===this.localName?n.content:n;n=t.__shady_native_firstChild;)e.__shady_native_insertBefore(n,void 0)}},className:{get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)}}})),It(Element.prototype,"setAttribute getAttribute hasAttribute removeAttribute focus blur".split(" ")),It(Element.prototype,Vt),It(HTMLElement.prototype,["focus","blur"]),window.HTMLTemplateElement&&It(window.HTMLTemplateElement.prototype,["innerHTML"]),Ot?It(DocumentFragment.prototype,zt):Lt(DocumentFragment.prototype,t),It(DocumentFragment.prototype,Vt),Ot?(It(Document.prototype,zt),It(Document.prototype,["activeElement"])):Lt(Document.prototype,t),It(Document.prototype,["importNode","getElementById"]),It(Document.prototype,Vt)}(),ln("__shady_"),Object.defineProperty(document,"_activeElement",Qe.activeElement),pt(Window.prototype,nn,"__shady_"),Z.D?Z.ua&&pt(Element.prototype,Ye):(ln(),function(){if(!Zt&&Object.getOwnPropertyDescriptor(Event.prototype,"isTrusted")){var t=function(){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.__shady_dispatchEvent(t)};Element.prototype.click?Element.prototype.click=t:HTMLElement.prototype.click&&(HTMLElement.prototype.click=t)}}()),function(){for(var t in ae)window.__shady_native_addEventListener(t,(function(t){t.__target||(ge(t),ue(t))}),!0)}(),window.Event=ve,window.CustomEvent=ye,window.MouseEvent=me,window.ShadowRoot=wn}var Hn=window.Document.prototype.createElement,Un=window.Document.prototype.createElementNS,Gn=window.Document.prototype.importNode,Wn=window.Document.prototype.prepend,Yn=window.Document.prototype.append,Xn=window.DocumentFragment.prototype.prepend,Kn=window.DocumentFragment.prototype.append,$n=window.Node.prototype.cloneNode,Zn=window.Node.prototype.appendChild,Jn=window.Node.prototype.insertBefore,Qn=window.Node.prototype.removeChild,tr=window.Node.prototype.replaceChild,er=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),nr=window.Element.prototype.attachShadow,rr=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),ir=window.Element.prototype.getAttribute,or=window.Element.prototype.setAttribute,ar=window.Element.prototype.removeAttribute,sr=window.Element.prototype.getAttributeNS,lr=window.Element.prototype.setAttributeNS,ur=window.Element.prototype.removeAttributeNS,cr=window.Element.prototype.insertAdjacentElement,dr=window.Element.prototype.insertAdjacentHTML,hr=window.Element.prototype.prepend,fr=window.Element.prototype.append,pr=window.Element.prototype.before,gr=window.Element.prototype.after,vr=window.Element.prototype.replaceWith,yr=window.Element.prototype.remove,mr=window.HTMLElement,br=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),_r=window.HTMLElement.prototype.insertAdjacentElement,wr=window.HTMLElement.prototype.insertAdjacentHTML,xr=new Set;function Er(t){var e=xr.has(t);return t=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(t),!e&&t}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(t){return xr.add(t)}));var kr=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function Sr(t){var e=t.isConnected;if(void 0!==e)return e;if(kr(t))return!0;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function Cr(t){var e=t.children;if(e)return Array.prototype.slice.call(e);for(e=[],t=t.firstChild;t;t=t.nextSibling)t.nodeType===Node.ELEMENT_NODE&&e.push(t);return e}function Tr(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function Nr(){var t=!(null==Kr||!Kr.noDocumentConstructionObserver),e=!(null==Kr||!Kr.shadyDomFastWalk);this.X=[],this.a=[],this.R=!1,this.shadyDomFastWalk=e,this.jb=!t}function Ar(t,e,n,r){var i=window.ShadyDom;if(t.shadyDomFastWalk&&i&&i.inUse){if(e.nodeType===Node.ELEMENT_NODE&&n(e),e.querySelectorAll)for(t=i.nativeMethods.querySelectorAll.call(e,"*"),e=0;e<t.length;e++)n(t[e])}else!function t(e,n,r){for(var i=e;i;){if(i.nodeType===Node.ELEMENT_NODE){var o=i;n(o);var a=o.localName;if("link"===a&&"import"===o.getAttribute("rel")){if(i=o.import,void 0===r&&(r=new Set),i instanceof Node&&!r.has(i))for(r.add(i),i=i.firstChild;i;i=i.nextSibling)t(i,n,r);i=Tr(e,o);continue}if("template"===a){i=Tr(e,o);continue}if(o=o.__CE_shadowRoot)for(o=o.firstChild;o;o=o.nextSibling)t(o,n,r)}i=i.firstChild?i.firstChild:Tr(e,i)}}(e,n,r)}function Or(t,e){t.R&&Ar(t,e,(function(e){return Pr(t,e)}))}function Pr(t,e){if(t.R&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.X.length;n++)t.X[n](e);for(n=0;n<t.a.length;n++)t.a[n](e)}}function Dr(t,e){var n=[];for(Ar(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state?t.connectedCallback(r):Ir(t,r)}}function Mr(t,e){var n=[];for(Ar(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state&&t.disconnectedCallback(r)}}function Lr(t,e,n){var r=(n=void 0===n?{}:n).kb,i=n.upgrade||function(e){return Ir(t,e)},o=[];for(Ar(t,e,(function(e){if(t.R&&Pr(t,e),"link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:e.addEventListener("load",(function(){var n=e.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var o=new Set;r&&(r.forEach((function(t){return o.add(t)})),o.delete(n)),Lr(t,n,{kb:o,upgrade:i})}}))}else o.push(e)}),r),e=0;e<o.length;e++)i(o[e])}function Ir(t,e){try{var n=e.ownerDocument,r=n.__CE_registry,i=r&&(n.defaultView||n.__CE_isImportDocument)?Gr(r,e.localName):void 0;if(i&&void 0===e.__CE_state){i.constructionStack.push(e);try{try{if(new i.constructorFunction!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{i.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=i,i.attributeChangedCallback&&e.hasAttributes()){var o=i.observedAttributes;for(i=0;i<o.length;i++){var a=o[i],s=e.getAttribute(a);null!==s&&t.attributeChangedCallback(e,a,null,s,null)}}Sr(e)&&t.connectedCallback(e)}}catch(t){Br(t)}}function Rr(t,e,n,r){var i=e.__CE_registry;if(i&&(null===r||"http://www.w3.org/1999/xhtml"===r)&&(i=Gr(i,n)))try{var o=new i.constructorFunction;if(void 0===o.__CE_state||void 0===o.__CE_definition)throw Error("Failed to construct '"+n+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==o.namespaceURI)throw Error("Failed to construct '"+n+"': The constructed element's namespace must be the HTML namespace.");if(o.hasAttributes())throw Error("Failed to construct '"+n+"': The constructed element must not have any attributes.");if(null!==o.firstChild)throw Error("Failed to construct '"+n+"': The constructed element must not have any children.");if(null!==o.parentNode)throw Error("Failed to construct '"+n+"': The constructed element must not have a parent node.");if(o.ownerDocument!==e)throw Error("Failed to construct '"+n+"': The constructed element's owner document is incorrect.");if(o.localName!==n)throw Error("Failed to construct '"+n+"': The constructed element's local name is incorrect.");return o}catch(i){return Br(i),e=null===r?Hn.call(e,n):Un.call(e,r,n),Object.setPrototypeOf(e,HTMLUnknownElement.prototype),e.__CE_state=2,e.__CE_definition=void 0,Pr(t,e),e}return Pr(t,e=null===r?Hn.call(e,n):Un.call(e,r,n)),e}function Br(t){var e=t.message,n=t.sourceURL||t.fileName||"",r=t.line||t.lineNumber||0,i=t.column||t.columnNumber||0,o=void 0;void 0===ErrorEvent.prototype.initErrorEvent?o=new ErrorEvent("error",{cancelable:!0,message:e,filename:n,lineno:r,colno:i,error:t}):((o=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,e,n,r),o.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===o.error&&Object.defineProperty(o,"error",{configurable:!0,enumerable:!0,get:function(){return t}}),window.dispatchEvent(o),o.defaultPrevented||console.error(t)}function jr(){var t=this;this.C=void 0,this.Ca=new Promise((function(e){t.a=e}))}function Fr(t){var e=document;this.S=void 0,this.M=t,this.a=e,Lr(this.M,this.a),"loading"===this.a.readyState&&(this.S=new MutationObserver(this.b.bind(this)),this.S.observe(this.a,{childList:!0,subtree:!0}))}function zr(t){t.S&&t.S.disconnect()}function Vr(t){this.ea=new Map,this.fa=new Map,this.xa=new Map,this.na=!1,this.qa=new Map,this.da=function(t){return t()},this.P=!1,this.ga=[],this.M=t,this.ya=t.jb?new Fr(t):void 0}function qr(t,e){if(!Er(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(Gr(t,e))throw Error("A custom element with name '"+e+"' has already been defined.");if(t.na)throw Error("A custom element is already being defined.")}function Hr(t,e,n){var r;t.na=!0;try{var i=n.prototype;if(!(i instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var o=function(t){var e=i[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},a=o("connectedCallback"),s=o("disconnectedCallback"),l=o("adoptedCallback"),u=(r=o("attributeChangedCallback"))&&n.observedAttributes||[]}catch(t){throw t}finally{t.na=!1}return n={localName:e,constructorFunction:n,connectedCallback:a,disconnectedCallback:s,adoptedCallback:l,attributeChangedCallback:r,observedAttributes:u,constructionStack:[]},t.fa.set(e,n),t.xa.set(n.constructorFunction,n),n}function Ur(t){if(!1!==t.P){t.P=!1;for(var e=[],n=t.ga,r=new Map,i=0;i<n.length;i++)r.set(n[i],[]);for(Lr(t.M,document,{upgrade:function(n){if(void 0===n.__CE_state){var i=n.localName,o=r.get(i);o?o.push(n):t.fa.has(i)&&e.push(n)}}}),i=0;i<e.length;i++)Ir(t.M,e[i]);for(i=0;i<n.length;i++){for(var o=n[i],a=r.get(o),s=0;s<a.length;s++)Ir(t.M,a[s]);(o=t.qa.get(o))&&o.resolve(void 0)}n.length=0}}function Gr(t,e){var n=t.fa.get(e);if(n)return n;if(n=t.ea.get(e)){t.ea.delete(e);try{return Hr(t,e,n())}catch(t){Br(t)}}}function Wr(t,e,n){function r(e){return function(n){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];i=[];for(var o=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&Sr(s)&&o.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(e.apply(this,r),r=0;r<o.length;r++)Mr(t,o[r]);if(Sr(this))for(r=0;r<i.length;r++)(o=i[r])instanceof Element&&Dr(t,o)}}void 0!==n.prepend&&(e.prepend=r(n.prepend)),void 0!==n.append&&(e.append=r(n.append))}function Yr(t){function e(e,n){Object.defineProperty(e,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){var r=this,i=void 0;if(Sr(this)&&(i=[],Ar(t,this,(function(t){t!==r&&i.push(t)}))),n.set.call(this,e),i)for(var o=0;o<i.length;o++){var a=i[o];1===a.__CE_state&&t.disconnectedCallback(a)}return this.ownerDocument.__CE_registry?Lr(t,this):Or(t,this),e}})}function n(e,n){e.insertAdjacentElement=function(e,r){var i=Sr(r);return e=n.call(this,e,r),i&&Mr(t,r),Sr(e)&&Dr(t,r),e}}function r(e,n){function r(e,n){for(var r=[];e!==n;e=e.nextSibling)r.push(e);for(n=0;n<r.length;n++)Lr(t,r[n])}e.insertAdjacentHTML=function(t,e){if("beforebegin"===(t=t.toLowerCase())){var i=this.previousSibling;n.call(this,t,e),r(i||this.parentNode.firstChild,this)}else if("afterbegin"===t)i=this.firstChild,n.call(this,t,e),r(this.firstChild,i);else if("beforeend"===t)i=this.lastChild,n.call(this,t,e),r(i||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");i=this.nextSibling,n.call(this,t,e),r(this.nextSibling,i)}}}nr&&(Element.prototype.attachShadow=function(e){if(e=nr.call(this,e),t.R&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.X.length;n++)t.X[n](e)}return this.__CE_shadowRoot=e}),rr&&rr.get?e(Element.prototype,rr):br&&br.get?e(HTMLElement.prototype,br):function(t,e){t.R=!0,t.a.push(e)}(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return $n.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName,n=e?this.content:this,r=Un.call(document,this.namespaceURI,this.localName);for(r.innerHTML=t;0<n.childNodes.length;)Qn.call(n,n.childNodes[0]);for(t=e?r.content:r;0<t.childNodes.length;)Zn.call(n,t.childNodes[0])}})})),Element.prototype.setAttribute=function(e,n){if(1!==this.__CE_state)return or.call(this,e,n);var r=ir.call(this,e);or.call(this,e,n),n=ir.call(this,e),t.attributeChangedCallback(this,e,r,n,null)},Element.prototype.setAttributeNS=function(e,n,r){if(1!==this.__CE_state)return lr.call(this,e,n,r);var i=sr.call(this,e,n);lr.call(this,e,n,r),r=sr.call(this,e,n),t.attributeChangedCallback(this,n,i,r,e)},Element.prototype.removeAttribute=function(e){if(1!==this.__CE_state)return ar.call(this,e);var n=ir.call(this,e);ar.call(this,e),null!==n&&t.attributeChangedCallback(this,e,n,null,null)},Element.prototype.removeAttributeNS=function(e,n){if(1!==this.__CE_state)return ur.call(this,e,n);var r=sr.call(this,e,n);ur.call(this,e,n);var i=sr.call(this,e,n);r!==i&&t.attributeChangedCallback(this,n,r,i,e)},_r?n(HTMLElement.prototype,_r):cr&&n(Element.prototype,cr),wr?r(HTMLElement.prototype,wr):dr&&r(Element.prototype,dr),Wr(t,Element.prototype,{prepend:hr,append:fr}),function(t){function e(e){return function(n){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];i=[];for(var o=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&Sr(s)&&o.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(e.apply(this,r),r=0;r<o.length;r++)Mr(t,o[r]);if(Sr(this))for(r=0;r<i.length;r++)(o=i[r])instanceof Element&&Dr(t,o)}}var n=Element.prototype;void 0!==pr&&(n.before=e(pr)),void 0!==gr&&(n.after=e(gr)),void 0!==vr&&(n.replaceWith=function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var i=[],o=0;o<n.length;o++){var a=n[o];if(a instanceof Element&&Sr(a)&&i.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)r.push(a);else r.push(a)}for(o=Sr(this),vr.apply(this,n),n=0;n<i.length;n++)Mr(t,i[n]);if(o)for(Mr(t,this),n=0;n<r.length;n++)(i=r[n])instanceof Element&&Dr(t,i)}),void 0!==yr&&(n.remove=function(){var e=Sr(this);yr.call(this),e&&Mr(t,this)})}(t)}Nr.prototype.connectedCallback=function(t){var e=t.__CE_definition;if(e.connectedCallback)try{e.connectedCallback.call(t)}catch(t){Br(t)}},Nr.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;if(e.disconnectedCallback)try{e.disconnectedCallback.call(t)}catch(t){Br(t)}},Nr.prototype.attributeChangedCallback=function(t,e,n,r,i){var o=t.__CE_definition;if(o.attributeChangedCallback&&-1<o.observedAttributes.indexOf(e))try{o.attributeChangedCallback.call(t,e,n,r,i)}catch(t){Br(t)}},jr.prototype.resolve=function(t){if(this.C)throw Error("Already resolved.");this.C=t,this.a(t)},Fr.prototype.b=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||zr(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,r=0;r<n.length;r++)Lr(this.M,n[r])},(t=Vr.prototype).$a=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");qr(this,t),this.ea.set(t,e),this.ga.push(t),this.P||(this.P=!0,this.da((function(){return Ur(n)})))},t.define=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");qr(this,t),Hr(this,t,e),this.ga.push(t),this.P||(this.P=!0,this.da((function(){return Ur(n)})))},t.upgrade=function(t){Lr(this.M,t)},t.get=function(t){if(t=Gr(this,t))return t.constructorFunction},t.whenDefined=function(t){if(!Er(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.qa.get(t);if(e)return e.Ca;e=new jr,this.qa.set(t,e);var n=this.fa.has(t)||this.ea.has(t);return t=-1===this.ga.indexOf(t),n&&t&&e.resolve(void 0),e.Ca},t.polyfillWrapFlushCallback=function(t){this.ya&&zr(this.ya);var e=this.da;this.da=function(n){return t((function(){return e(n)}))}},window.CustomElementRegistry=Vr,Vr.prototype.define=Vr.prototype.define,Vr.prototype.upgrade=Vr.prototype.upgrade,Vr.prototype.get=Vr.prototype.get,Vr.prototype.whenDefined=Vr.prototype.whenDefined,Vr.prototype.polyfillDefineLazy=Vr.prototype.$a,Vr.prototype.polyfillWrapFlushCallback=Vr.prototype.polyfillWrapFlushCallback;var Xr={};var Kr=window.customElements;function $r(){var t=new Nr;!function(t){function e(){var e=this.constructor,n=document.__CE_registry.xa.get(e);if(!n)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var r=n.constructionStack;if(0===r.length)return r=Hn.call(document,n.localName),Object.setPrototypeOf(r,e.prototype),r.__CE_state=1,r.__CE_definition=n,Pr(t,r),r;var i=r.length-1,o=r[i];if(o===Xr)throw Error("Failed to construct '"+n.localName+"': This element was already constructed.");return r[i]=Xr,Object.setPrototypeOf(o,e.prototype),Pr(t,o),o}e.prototype=mr.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:e}),window.HTMLElement=e}(t),function(t){Document.prototype.createElement=function(e){return Rr(t,this,e,null)},Document.prototype.importNode=function(e,n){return e=Gn.call(this,e,!!n),this.__CE_registry?Lr(t,e):Or(t,e),e},Document.prototype.createElementNS=function(e,n){return Rr(t,this,n,e)},Wr(t,Document.prototype,{prepend:Wn,append:Yn})}(t),Wr(t,DocumentFragment.prototype,{prepend:Xn,append:Kn}),function(t){function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e);else{var r=void 0;if(this.firstChild){var i=this.childNodes,o=i.length;if(0<o&&Sr(this)){r=Array(o);for(var a=0;a<o;a++)r[a]=i[a]}}if(n.set.call(this,e),r)for(e=0;e<r.length;e++)Mr(t,r[e])}}})}Node.prototype.insertBefore=function(e,n){if(e instanceof DocumentFragment){var r=Cr(e);if(e=Jn.call(this,e,n),Sr(this))for(n=0;n<r.length;n++)Dr(t,r[n]);return e}return r=e instanceof Element&&Sr(e),n=Jn.call(this,e,n),r&&Mr(t,e),Sr(this)&&Dr(t,e),n},Node.prototype.appendChild=function(e){if(e instanceof DocumentFragment){var n=Cr(e);if(e=Zn.call(this,e),Sr(this))for(var r=0;r<n.length;r++)Dr(t,n[r]);return e}return n=e instanceof Element&&Sr(e),r=Zn.call(this,e),n&&Mr(t,e),Sr(this)&&Dr(t,e),r},Node.prototype.cloneNode=function(e){return e=$n.call(this,!!e),this.ownerDocument.__CE_registry?Lr(t,e):Or(t,e),e},Node.prototype.removeChild=function(e){var n=e instanceof Element&&Sr(e),r=Qn.call(this,e);return n&&Mr(t,e),r},Node.prototype.replaceChild=function(e,n){if(e instanceof DocumentFragment){var r=Cr(e);if(e=tr.call(this,e,n),Sr(this))for(Mr(t,n),n=0;n<r.length;n++)Dr(t,r[n]);return e}r=e instanceof Element&&Sr(e);var i=tr.call(this,e,n),o=Sr(this);return o&&Mr(t,n),r&&Mr(t,e),o&&Dr(t,e),i},er&&er.get?e(Node.prototype,er):function(t,e){t.R=!0,t.X.push(e)}(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=this.firstChild;e;e=e.nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.textContent);return t.join("")},set:function(t){for(;this.firstChild;)Qn.call(this,this.firstChild);null!=t&&""!==t&&Zn.call(this,document.createTextNode(t))}})}))}(t),Yr(t),t=new Vr(t),document.__CE_registry=t,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:t})}function Zr(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function Jr(t){var e=t=t.replace(oi,"").replace(ai,""),n=new Zr;n.start=0,n.end=e.length;for(var r=n,i=0,o=e.length;i<o;i++)if("{"===e[i]){r.rules||(r.rules=[]);var a=r,s=a.rules[a.rules.length-1]||null;(r=new Zr).start=i+1,r.parent=a,r.previous=s,a.rules.push(r)}else"}"===e[i]&&(r.end=i+1,r=r.parent||n);return function t(e,n){var r=n.substring(e.start,e.end-1);if(e.parsedCssText=e.cssText=r.trim(),e.parent&&(r=(r=(r=function(t){return t.replace(/\\([0-9a-f]{1,6})\s/gi,(function(t,e){for(e=6-(t=e).length;e--;)t="0"+t;return"\\"+t}))}(r=n.substring(e.previous?e.previous.end:e.parent.start,e.start-1))).replace(hi," ")).substring(r.lastIndexOf(";")+1),r=e.parsedSelector=e.selector=r.trim(),e.atRule=0===r.indexOf("@"),e.atRule?0===r.indexOf("@media")?e.type=ri:r.match(di)&&(e.type=ni,e.keyframesName=e.selector.split(hi).pop()):e.type=0===r.indexOf("--")?ii:ei),r=e.rules)for(var i=0,o=r.length,a=void 0;i<o&&(a=r[i]);i++)t(a,n);return e}(n,t)}Kr&&!Kr.forcePolyfill&&"function"==typeof Kr.define&&"function"==typeof Kr.get||$r(),window.__CE_installPolyfill=$r;var Qr,ti,ei=1,ni=7,ri=4,ii=1e3,oi=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,ai=/@import[^;]*;/gim,si=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,li=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,ui=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,ci=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,di=/^@[^\s]*keyframes/,hi=/\s+/g,fi=!(window.ShadyDOM&&window.ShadyDOM.inUse);function pi(t){Qr=(!t||!t.shimcssproperties)&&(fi||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(ti=window.ShadyCSS.cssBuild);var gi=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?Qr=window.ShadyCSS.nativeCss:window.ShadyCSS?(pi(window.ShadyCSS),window.ShadyCSS=void 0):pi(window.WebComponents&&window.WebComponents.flags);var vi=Qr,yi=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,mi=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,bi=/(--[\w-]+)\s*([:,;)]|$)/gi,_i=/(animation\s*:)|(animation-name\s*:)/,wi=/@media\s(.*)/,xi=/\{[^}]*\}/g,Ei=new Set;function ki(t,e){return t?("string"==typeof t&&(t=Jr(t)),e&&Ti(t,e),function t(e,n,r){r=void 0===r?"":r;var i="";if(e.cssText||e.rules){var o,a=e.rules;if((o=a)&&(o=!((o=a[0])&&o.selector&&0===o.selector.indexOf("--"))),o){o=0;for(var s=a.length,l=void 0;o<s&&(l=a[o]);o++)i=t(l,n,i)}else n?n=e.cssText:n=(n=(n=e.cssText).replace(si,"").replace(li,"")).replace(ui,"").replace(ci,""),(i=n.trim())&&(i="  "+i+"\n")}return i&&(e.selector&&(r+=e.selector+" {\n"),r+=i,e.selector&&(r+="}\n\n")),r}(t,vi)):""}function Si(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=Jr(t.textContent)),t.__cssRules||null}function Ci(t){return!!t.parent&&t.parent.type===ni}function Ti(t,e,n,r){if(t){var i=!1,o=t.type;if(r&&o===ri){var a=t.selector.match(wi);a&&(window.matchMedia(a[1]).matches||(i=!0))}if(o===ei?e(t):n&&o===ni?n(t):o===ii&&(i=!0),(t=t.rules)&&!i)for(i=0,o=t.length,a=void 0;i<o&&(a=t[i]);i++)Ti(a,e,n,r)}}function Ni(t,e,n,r){var i=document.createElement("style");return e&&i.setAttribute("scope",e),i.textContent=t,Pi(i,n,r),i}var Ai=null;function Oi(t){t=document.createComment(" Shady DOM styles for "+t+" ");var e=document.head;return e.insertBefore(t,(Ai?Ai.nextSibling:null)||e.firstChild),Ai=t}function Pi(t,e,n){(e=e||document.head).insertBefore(t,n&&n.nextSibling||e.firstChild),Ai?t.compareDocumentPosition(Ai)===Node.DOCUMENT_POSITION_PRECEDING&&(Ai=t):Ai=t}function Di(t,e){for(var n=0,r=t.length;e<r;e++)if("("===t[e])n++;else if(")"===t[e]&&0==--n)return e;return-1}function Mi(t,e){fi?t.setAttribute("class",e):window.ShadyDOM.nativeMethods.setAttribute.call(t,"class",e)}var Li=window.ShadyDOM&&window.ShadyDOM.wrap||function(t){return t};function Ii(t){var e=t.localName,n="";return e?-1<e.indexOf("-")||(n=e,e=t.getAttribute&&t.getAttribute("is")||""):(e=t.is,n=t.extends),{is:e,ba:n}}function Ri(t){for(var e=[],n="",r=0;0<=r&&r<t.length;r++)if("("===t[r]){var i=Di(t,r);n+=t.slice(r,i+1),r=i}else","===t[r]?(e.push(n),n=""):n+=t[r];return n&&e.push(n),e}function Bi(t){if(void 0!==ti)return ti;if(void 0===t.__cssBuild){var e=t.getAttribute("css-build");if(e)t.__cssBuild=e;else{if(""!==(e=(e="template"===t.localName?t.content.firstChild:t.firstChild)instanceof Comment&&"css-build"===(e=e.textContent.trim().split(":"))[0]?e[1]:"")){var n="template"===t.localName?t.content.firstChild:t.firstChild;n.parentNode.removeChild(n)}t.__cssBuild=e}}return t.__cssBuild||""}function ji(t){return!(""===(t=void 0===t?"":t)||!vi)&&(fi?"shadow"===t:"shady"===t)}function Fi(){}function zi(t,e,n){var r;if(e.nodeType===Node.ELEMENT_NODE&&n(e),r="template"===e.localName?(e.content||e._content||e).childNodes:e.children||e.childNodes)for(e=0;e<r.length;e++)zi(t,r[e],n)}function Vi(t,e,n){if(e)if(t.classList)n?(t.classList.remove("style-scope"),t.classList.remove(e)):(t.classList.add("style-scope"),t.classList.add(e));else if(t.getAttribute){var r=t.getAttribute("class");n?r&&Mi(t,e=r.replace("style-scope","").replace(e,"")):Mi(t,(r?r+" ":"")+"style-scope "+e)}}function qi(t,e,n){zi(io,t,(function(t){Vi(t,e,!0),Vi(t,n)}))}function Hi(t,e){zi(io,t,(function(t){Vi(t,e||"",!0)}))}function Ui(t,e,n,r,i){var o=io;return""===(i=void 0===i?"":i)&&(fi||"shady"===(void 0===r?"":r)?i=ki(e,n):i=function(t,e,n,r,i){var o=Gi(n,r);return n=n?"."+n:"",ki(e,(function(e){e.c||(e.selector=e.w=Wi(t,e,t.b,n,o),e.c=!0),i&&i(e,n,o)}))}(o,e,(t=Ii(t)).is,t.ba,n)+"\n\n"),i.trim()}function Gi(t,e){return e?"[is="+t+"]":t}function Wi(t,e,n,r,i){var o=Ri(e.selector);if(!Ci(e)){e=0;for(var a=o.length,s=void 0;e<a&&(s=o[e]);e++)o[e]=n.call(t,s,r,i)}return o.filter((function(t){return!!t})).join(",")}function Yi(t){return t.replace($i,(function(t,e,n){return-1<n.indexOf("+")?n=n.replace(/\+/g,"___"):-1<n.indexOf("___")&&(n=n.replace(/___/g,"+")),":"+e+"("+n+")"}))}function Xi(t,e){t=t.split(/(\[.+?\])/);for(var n=[],r=0;r<t.length;r++)if(1==r%2)n.push(t[r]);else{var i=t[r];""===i&&r===t.length-1||((i=i.split(":"))[0]+=e,n.push(i.join(":")))}return n.join("")}function Ki(t){":root"===t.selector&&(t.selector="html")}Fi.prototype.b=function(t,e,n){var r=!1;t=t.trim();var i=$i.test(t);i&&(t=Yi(t=t.replace($i,(function(t,e,n){return":"+e+"("+n.replace(/\s/g,"")+")"}))));var o=ro.test(t);if(o){var a=function(t){for(var e,n=[];e=t.match(ro);){var r=e.index,i=Di(t,r);if(-1===i)throw Error(e.input+" selector missing ')'");e=t.slice(r,i+1),t=t.replace(e,"î"),n.push(e)}return{wa:t,matches:n}}(t);t=a.wa,a=a.matches}return t=(t=t.replace(Qi,":host $1")).replace(Zi,(function(t,i,o){return r||(t=function(t,e,n,r){var i=t.indexOf("::slotted");if(0<=t.indexOf(":host")?t=function(t,e){var n=t.match(to);return(n=n&&n[2].trim()||"")?n[0].match(Ji)?t.replace(to,(function(t,n,r){return e+r})):n.split(Ji)[0]===e?n:"should_not_match":t.replace(":host",e)}(t,r):0!==i&&(t=n?Xi(t,n):t),n=!1,0<=i&&(e="",n=!0),n){var o=!0;n&&(t=t.replace(eo,(function(t,e){return" > "+e})))}return{value:t,Qa:e,stop:o}}(o,i,e,n),r=r||t.stop,i=t.Qa,o=t.value),i+o})),o&&(t=function(t,e){var n=t.split("î");return e.reduce((function(t,e,r){return t+e+n[r+1]}),n[0])}(t,a)),i&&(t=Yi(t)),t.replace(no,(function(t,e,n,r){return'[dir="'+n+'"] '+e+r+", "+e+'[dir="'+n+'"]'+r}))},Fi.prototype.c=function(t){return t.match(":host")?"":t.match("::slotted")?this.b(t,":not(.style-scope)"):Xi(t.trim(),":not(.style-scope)")},o.Object.defineProperties(Fi.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var $i=/:(nth[-\w]+)\(([^)]+)\)/,Zi=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,Ji=/[[.:#*]/,Qi=/^(::slotted)/,to=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,eo=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,no=/(.*):dir\((?:(ltr|rtl))\)(.*)/,ro=/:(?:matches|any|-(?:webkit|moz)-any)/,io=new Fi;function oo(t,e,n,r,i){this.H=t||null,this.b=e||null,this.ta=n||[],this.F=null,this.cssBuild=i||"",this.ba=r||"",this.a=this.G=this.L=null}function ao(t){return t?t.__styleInfo:null}function so(t,e){return t.__styleInfo=e}function lo(t){var e=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return e&&e.call(this,t)}oo.prototype.c=function(){return this.H},oo.prototype._getStyleRules=oo.prototype.c;var uo=/:host\s*>\s*/,co=navigator.userAgent.match("Trident");function ho(){}function fo(t){if(!t.v){var e={},n={};po(t,n)&&(e.K=n,t.rules=null),e.cssText=t.parsedCssText.replace(xi,"").replace(yi,""),t.v=e}}function po(t,e){var n=t.v;if(!n){n=t.parsedCssText;for(var r;t=yi.exec(n);)"inherit"===(r=(t[2]||t[3]).trim())&&"unset"===r||(e[t[1].trim()]=r),r=!0;return r}if(n.K)return Object.assign(e,n.K),!0}function go(t,e,n){return e&&(e=0<=e.indexOf(";")?vo(t,e,n):function t(e,n){var r=e.indexOf("var(");if(-1===r)return n(e,"","","");var i=Di(e,r+3),o=e.substring(r+4,i);return r=e.substring(0,r),e=t(e.substring(i+1),n),-1===(i=o.indexOf(","))?n(r,o.trim(),"",e):n(r,o.substring(0,i).trim(),o.substring(i+1).trim(),e)}(e,(function(e,r,i,o){return r?((r=go(t,n[r],n))&&"initial"!==r?"apply-shim-inherit"===r&&(r="inherit"):r=go(t,n[i]||i,n)||i,e+(r||"")+o):e+o}))),e&&e.trim()||""}function vo(t,e,n){e=e.split(";");for(var r,i,o=0;o<e.length;o++)if(r=e[o]){if(mi.lastIndex=0,i=mi.exec(r))r=go(t,n[i[1]],n);else if(-1!==(i=r.indexOf(":"))){var a=r.substring(i);a=go(t,a=a.trim(),n)||a,r=r.substring(0,i)+a}e[o]=r&&r.lastIndexOf(";")===r.length-1?r.slice(0,-1):r||""}return e.join(";")}function yo(t,e,n){var r={},i={};return Ti(e,(function(e){!function(t,e,n,r){if(e.v||fo(e),e.v.K){var i=Ii(t);t=i.is,i=i.ba,i=t?Gi(t,i):"html";var o=e.parsedSelector,a=!!o.match(uo)||"html"===i&&-1<o.indexOf("html"),s=0===o.indexOf(":host")&&!a;"shady"===n&&(s=!(a=o===i+" > *."+i||-1!==o.indexOf("html"))&&0===o.indexOf(i)),(a||s)&&(n=i,s&&(e.w||(e.w=Wi(io,e,io.b,t?"."+t:"",i)),n=e.w||i),a&&"html"===i&&(n=e.w||e.J),r({wa:n,Xa:s,mb:a}))}}(t,e,n,(function(n){lo.call(t._element||t,n.wa)&&(n.Xa?po(e,r):po(e,i))}))}),null,!0),{cb:i,Va:r}}function mo(t,e,n,r){var i=Ii(e),o=Gi(i.is,i.ba),a=new RegExp("(?:^|[^.#[:])"+(e.extends?"\\"+o.slice(0,-1)+"\\]":o)+"($|[.:[\\s>+~])"),s=ao(e);i=s.H,s=s.cssBuild;var l=function(t,e){t=t.b;var n={};if(!fi&&t)for(var r=0,i=t[r];r<t.length;i=t[++r]){var o=i,a=e;o.l=new RegExp("\\b"+o.keyframesName+"(?!\\B|-)","g"),o.a=o.keyframesName+"-"+a,o.w=o.w||o.selector,o.selector=o.w.replace(o.keyframesName,o.a),n[i.keyframesName]=bo(i)}return n}(i,r);return Ui(e,i,(function(e){var i="";if(e.v||fo(e),e.v.cssText&&(i=vo(t,e.v.cssText,n)),e.cssText=i,!fi&&!Ci(e)&&e.cssText){var s=i=e.cssText;if(null==e.Da&&(e.Da=_i.test(i)),e.Da)if(null==e.ja)for(var u in e.ja=[],l)i!==(s=(s=l[u])(i))&&(i=s,e.ja.push(u));else{for(u=0;u<e.ja.length;++u)i=(s=l[e.ja[u]])(i);s=i}e.cssText=s,e.w=e.w||e.selector,i="."+r,s=0;for(var c=(u=Ri(e.w)).length,d=void 0;s<c&&(d=u[s]);s++)u[s]=d.match(a)?d.replace(o,i):i+" "+d;e.selector=u.join(",")}}),s)}function bo(t){return function(e){return e.replace(t.l,t.a)}}function _o(t,e){var n=wo,r=Si(t);t.textContent=ki(r,(function(t){var r=t.cssText=t.parsedCssText;t.v&&t.v.cssText&&(r=r.replace(si,"").replace(li,""),t.cssText=vo(n,r,e))}))}o.Object.defineProperties(ho.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var wo=new ho,xo={},Eo=window.customElements;if(Eo&&!fi&&!gi){var ko=Eo.define;Eo.define=function(t,e,n){xo[t]||(xo[t]=Oi(t)),ko.call(Eo,t,e,n)}}function So(){this.cache={}}function Co(){}So.prototype.store=function(t,e,n,r){var i=this.cache[t]||[];i.push({K:e,styleElement:n,G:r}),100<i.length&&i.shift(),this.cache[t]=i};var To=new RegExp(io.a+"\\s*([^\\s]*)");function No(t){return(t=(t.classList&&t.classList.value?t.classList.value:t.getAttribute("class")||"").match(To))?t[1]:""}function Ao(t){var e=Li(t).getRootNode();return e===t||e===t.ownerDocument?"":(t=e.host)?Ii(t).is:""}function Oo(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.target!==document.documentElement&&n.target!==document.head)for(var r=0;r<n.addedNodes.length;r++){var i=n.addedNodes[r];if(i.nodeType===Node.ELEMENT_NODE){var o=i.getRootNode(),a=No(i);if(a&&o===i.ownerDocument&&("style"!==i.localName&&"template"!==i.localName||""===Bi(i)))Hi(i,a);else if(o instanceof ShadowRoot)for((o=Ao(i))!==a&&qi(i,a,o),i=window.ShadyDOM.nativeMethods.querySelectorAll.call(i,":not(."+io.a+")"),a=0;a<i.length;a++){var s=Ao(o=i[a]);s&&Vi(o,s)}}}}}if(!(fi||window.ShadyDOM&&window.ShadyDOM.handlesDynamicScoping)){var Po=new MutationObserver(Oo),Do=function(t){Po.observe(t,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)Do(document);else{var Mo=function(){Do(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Mo):requestAnimationFrame((function(){if("loading"===document.readyState){var t=function(){Mo(),document.removeEventListener("readystatechange",t)};document.addEventListener("readystatechange",t)}else Mo()}))}Co=function(){Oo(Po.takeRecords())}}var Lo={},Io=Promise.resolve();function Ro(t){(t=Lo[t])&&(t._applyShimCurrentVersion=t._applyShimCurrentVersion||0,t._applyShimValidatingVersion=t._applyShimValidatingVersion||0,t._applyShimNextVersion=(t._applyShimNextVersion||0)+1)}function Bo(t){return t._applyShimCurrentVersion===t._applyShimNextVersion}var jo={},Fo=new So;function zo(){this.Y={},this.c=document.documentElement;var t=new Zr;t.rules=[],this.l=so(this.c,new oo(t)),this.J=!1,this.a=this.b=null}function Vo(t){var e=Ii(t),n=e.is;e=e.ba;var r=xo[n]||null,i=Lo[n];if(i)return so(t,e=new oo(n=i._styleAst,r,i.a,e,i=Bi(i))),e}function qo(t){if(!t.b&&window.ShadyCSS&&window.ShadyCSS.ApplyShim){t.b=window.ShadyCSS.ApplyShim,t.b.invalidCallback=Ro;var e=!0}else e=!1;return function(t){!t.a&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(t.a=window.ShadyCSS.CustomStyleInterface,t.a.transformCallback=function(e){t.Ha(e)},t.a.validateCallback=function(){requestAnimationFrame((function(){(t.a.enqueued||t.J)&&t.flushCustomStyles()}))})}(t),e}function Ho(t,e,n){var r=Ii(e).is;if(n.F){var i,o=n.F;for(i in o)null===i?e.style.removeProperty(i):e.style.setProperty(i,o[i])}!(o=Lo[r])&&e!==t.c||o&&""!==Bi(o)||!o||!o._style||Bo(o)||((Bo(o)||o._applyShimValidatingVersion!==o._applyShimNextVersion)&&(qo(t),t.b&&t.b.transformRules(o._styleAst,r),o._style.textContent=Ui(e,n.H),function(t){t._applyShimValidatingVersion=t._applyShimNextVersion,t._validating||(t._validating=!0,Io.then((function(){t._applyShimCurrentVersion=t._applyShimNextVersion,t._validating=!1})))}(o)),fi&&(t=e.shadowRoot)&&(t=t.querySelector("style"))&&(t.textContent=Ui(e,n.H)),n.H=o._styleAst)}function Uo(t,e){return(e=Li(e).getRootNode().host)?ao(e)||Vo(e)?e:Uo(t,e):t.c}function Go(t,e,n){var r=Uo(t,e),i=ao(r),o=i.L;for(var a in r===t.c||o||(Go(t,r,i),o=i.L),t=Object.create(o||null),r=yo(e,n.H,n.cssBuild),e=function(t,e){var n={},r=[];return Ti(t,(function(t){t.v||fo(t);var i=t.w||t.parsedSelector;e&&t.v.K&&i&&lo.call(e,i)&&(po(t,n),t=t.index,i=parseInt(t/32,10),r[i]=(r[i]||0)|1<<t%32)}),null,!0),{K:n,key:r}}(i.H,e).K,Object.assign(t,r.Va,e,r.cb),e=n.F)((i=e[a])||0===i)&&(t[a]=i);for(a=wo,e=Object.getOwnPropertyNames(t),i=0;i<e.length;i++)t[r=e[i]]=go(a,t[r],t);n.L=t}(t=zo.prototype).flush=function(){Co()},t.Ta=function(t){return Si(t)},t.hb=function(t){return ki(t)},t.prepareTemplate=function(t,e,n){this.prepareTemplateDom(t,e),this.prepareTemplateStyles(t,e,n)},t.prepareTemplateStyles=function(t,e,n){if(!t._prepared&&!gi){fi||xo[e]||(xo[e]=Oi(e)),t._prepared=!0,t.name=e,t.extends=n,Lo[e]=t;var r=Bi(t),i=ji(r);n={is:e,extends:n};for(var o=[],a=t.content.querySelectorAll("style"),s=0;s<a.length;s++){var l=a[s];if(l.hasAttribute("shady-unscoped")){if(!fi){var u=l.textContent;if(!Ei.has(u)){Ei.add(u);var c=document.createElement("style");c.setAttribute("shady-unscoped",""),c.textContent=u,document.head.appendChild(c)}l.parentNode.removeChild(l)}}else o.push(l.textContent),l.parentNode.removeChild(l)}o=o.join("").trim()+(jo[e]||""),qo(this),i||((a=!r)&&(a=mi.test(o)||yi.test(o),mi.lastIndex=0,yi.lastIndex=0),s=Jr(o),a&&vi&&this.b&&this.b.transformRules(s,e),t._styleAst=s),a=[],vi||(a=function(t){var e={},n=[],r=0;for(var i in Ti(t,(function(t){fo(t),t.index=r++,t=t.v.cssText;for(var n;n=bi.exec(t);){var i=n[1];":"!==n[2]&&(e[i]=!0)}}),(function(t){n.push(t)})),t.b=n,t=[],e)t.push(i);return t}(t._styleAst)),a.length&&!vi||(s=fi?t.content:null,e=xo[e]||null,r=(r=Ui(n,t._styleAst,null,r,i?o:"")).length?Ni(r,n.is,s,e):null,t._style=r),t.a=a}},t.ab=function(t,e){jo[e]=t.join(" ")},t.prepareTemplateDom=function(t,e){if(!gi){var n=Bi(t);fi||"shady"===n||t._domPrepared||(t._domPrepared=!0,function(t,e){zi(io,t,(function(t){Vi(t,e||"")}))}(t.content,e))}},t.flushCustomStyles=function(){if(!gi){var t=qo(this);if(this.a){var e=this.a.processStyles();if((t||this.a.enqueued)&&!ji(this.l.cssBuild)){if(vi){if(!this.l.cssBuild)for(t=0;t<e.length;t++){var n=this.a.getStyleForCustomStyle(e[t]);if(n&&vi&&this.b){var r=Si(n);qo(this),this.b.transformRules(r),n.textContent=ki(r)}}}else{for(function(t,e){(e=e.map((function(e){return t.a.getStyleForCustomStyle(e)})).filter((function(t){return!!t}))).sort((function(t,e){return(t=e.compareDocumentPosition(t))&Node.DOCUMENT_POSITION_FOLLOWING?1:t&Node.DOCUMENT_POSITION_PRECEDING?-1:0})),t.l.H.rules=e.map((function(t){return Si(t)}))}(this,e),Go(this,this.c,this.l),t=0;t<e.length;t++)(n=this.a.getStyleForCustomStyle(e[t]))&&_o(n,this.l.L);this.J&&this.styleDocument()}this.a.enqueued=!1}}}},t.styleElement=function(t,e){if(gi){if(e){ao(t)||so(t,new oo(null));var n=ao(t);n.F=n.F||{},Object.assign(n.F,e),Ho(this,t,n)}}else if(n=ao(t)||Vo(t))if(t!==this.c&&(this.J=!0),e&&(n.F=n.F||{},Object.assign(n.F,e)),vi)Ho(this,t,n);else if(this.flush(),Go(this,t,n),n.ta&&n.ta.length){var r;e=Ii(t).is;t:{if(r=Fo.cache[e])for(var i=r.length-1;0<=i;i--){var o=r[i];e:{for(var a=n.ta,s=0;s<a.length;s++){var l=a[s];if(o.K[l]!==n.L[l]){a=!1;break e}}a=!0}if(a){r=o;break t}}r=void 0}a=r?r.styleElement:null,i=n.G,(o=r&&r.G)||(o=e+"-"+(o=this.Y[e]=(this.Y[e]||0)+1)),n.G=o,o=n.G,s=wo,s=a?a.textContent||"":mo(s,t,n.L,o);var u=(l=ao(t)).a;u&&!fi&&u!==a&&(u._useCount--,0>=u._useCount&&u.parentNode&&u.parentNode.removeChild(u)),fi?l.a?(l.a.textContent=s,a=l.a):s&&(a=Ni(s,o,t.shadowRoot,l.b)):a?a.parentNode||(co&&-1<s.indexOf("@media")&&(a.textContent=s),Pi(a,null,l.b)):s&&(a=Ni(s,o,null,l.b)),a&&(a._useCount=a._useCount||0,l.a!=a&&a._useCount++,l.a=a),o=a,fi||(a=n.G,l=s=t.getAttribute("class")||"",i&&(l=s.replace(new RegExp("\\s*x-scope\\s*"+i+"\\s*","g")," ")),s!==(l+=(l?" ":"")+"x-scope "+a)&&Mi(t,l)),r||Fo.store(e,n.L,o,n.G)}},t.styleDocument=function(t){this.styleSubtree(this.c,t)},t.styleSubtree=function(t,e){var n=Li(t),r=n.shadowRoot,i=t===this.c;if((r||i)&&this.styleElement(t,e),t=i?n:r)for(t=Array.from(t.querySelectorAll("*")).filter((function(t){return Li(t).shadowRoot})),e=0;e<t.length;e++)this.styleSubtree(t[e])},t.Ha=function(t){var e=this,n=Bi(t);if(n!==this.l.cssBuild&&(this.l.cssBuild=n),!ji(n)){var r=Si(t);Ti(r,(function(t){if(fi)Ki(t);else{var r=io;t.selector=t.parsedSelector,Ki(t),t.selector=t.w=Wi(r,t,r.c,void 0,void 0)}vi&&""===n&&(qo(e),e.b&&e.b.transformRule(t))})),vi?t.textContent=ki(r):this.l.H.rules.push(r)}},t.getComputedStyleValue=function(t,e){var n;return vi||(n=(ao(t)||ao(Uo(this,t))).L[e]),(n=n||window.getComputedStyle(t).getPropertyValue(e))?n.trim():""},t.gb=function(t,e){var n,r=Li(t).getRootNode();if(n=e?("string"==typeof e?e:String(e)).split(/\s/):[],!(e=r.host&&r.host.localName)&&(r=t.getAttribute("class"))){r=r.split(/\s/);for(var i=0;i<r.length;i++)if(r[i]===io.a){e=r[i+1];break}}e&&n.push(io.a,e),vi||(e=ao(t))&&e.G&&n.push(wo.a,e.G),Mi(t,n.join(" "))},t.Oa=function(t){return ao(t)},t.fb=function(t,e){Vi(t,e)},t.ib=function(t,e){Vi(t,e,!0)},t.eb=function(t){return Ao(t)},t.Ra=function(t){return No(t)},zo.prototype.flush=zo.prototype.flush,zo.prototype.prepareTemplate=zo.prototype.prepareTemplate,zo.prototype.styleElement=zo.prototype.styleElement,zo.prototype.styleDocument=zo.prototype.styleDocument,zo.prototype.styleSubtree=zo.prototype.styleSubtree,zo.prototype.getComputedStyleValue=zo.prototype.getComputedStyleValue,zo.prototype.setElementClass=zo.prototype.gb,zo.prototype._styleInfoForNode=zo.prototype.Oa,zo.prototype.transformCustomStyleForDocument=zo.prototype.Ha,zo.prototype.getStyleAst=zo.prototype.Ta,zo.prototype.styleAstToString=zo.prototype.hb,zo.prototype.flushCustomStyles=zo.prototype.flushCustomStyles,zo.prototype.scopeNode=zo.prototype.fb,zo.prototype.unscopeNode=zo.prototype.ib,zo.prototype.scopeForNode=zo.prototype.eb,zo.prototype.currentScopeForNode=zo.prototype.Ra,zo.prototype.prepareAdoptedCssText=zo.prototype.ab,Object.defineProperties(zo.prototype,{nativeShadow:{get:function(){return fi}},nativeCss:{get:function(){return vi}}});var Wo,Yo,Xo=new zo;window.ShadyCSS&&(Wo=window.ShadyCSS.ApplyShim,Yo=window.ShadyCSS.CustomStyleInterface),window.ShadyCSS={ScopingShim:Xo,prepareTemplate:function(t,e,n){Xo.flushCustomStyles(),Xo.prepareTemplate(t,e,n)},prepareTemplateDom:function(t,e){Xo.prepareTemplateDom(t,e)},prepareTemplateStyles:function(t,e,n){Xo.flushCustomStyles(),Xo.prepareTemplateStyles(t,e,n)},styleSubtree:function(t,e){Xo.flushCustomStyles(),Xo.styleSubtree(t,e)},styleElement:function(t){Xo.flushCustomStyles(),Xo.styleElement(t)},styleDocument:function(t){Xo.flushCustomStyles(),Xo.styleDocument(t)},flushCustomStyles:function(){Xo.flushCustomStyles()},getComputedStyleValue:function(t,e){return Xo.getComputedStyleValue(t,e)},nativeCss:vi,nativeShadow:fi,cssBuild:ti,disableRuntime:gi},Wo&&(window.ShadyCSS.ApplyShim=Wo),Yo&&(window.ShadyCSS.CustomStyleInterface=Yo),function(t){function e(t){return""==t&&(o.call(this),this.h=!0),t.toLowerCase()}function n(t){var e=t.charCodeAt(0);return 32<e&&127>e&&-1==[34,35,60,62,63,96].indexOf(e)?t:encodeURIComponent(t)}function r(t){var e=t.charCodeAt(0);return 32<e&&127>e&&-1==[34,35,60,62,96].indexOf(e)?t:encodeURIComponent(t)}function i(t,i,a){var s=i||"scheme start",l=0,f="",p=!1,g=!1;t:for(;(null!=t[l-1]||0==l)&&!this.h;){var v=t[l];switch(s){case"scheme start":if(!v||!d.test(v)){if(i)break t;f="",s="no scheme";continue}f+=v.toLowerCase(),s="scheme";break;case"scheme":if(v&&h.test(v))f+=v.toLowerCase();else{if(":"!=v){if(i)break t;f="",l=0,s="no scheme";continue}if(this.g=f,f="",i)break t;void 0!==u[this.g]&&(this.A=!0),s="file"==this.g?"relative":this.A&&a&&a.g==this.g?"relative or authority":this.A?"authority first slash":"scheme data"}break;case"scheme data":"?"==v?(this.o="?",s="query"):"#"==v?(this.u="#",s="fragment"):null!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this.pa+=n(v));break;case"no scheme":if(a&&void 0!==u[a.g]){s="relative";continue}o.call(this),this.h=!0;break;case"relative or authority":if("/"!=v||"/"!=t[l+1]){s="relative";continue}s="authority ignore slashes";break;case"relative":if(this.A=!0,"file"!=this.g&&(this.g=a.g),null==v){this.i=a.i,this.m=a.m,this.j=a.j.slice(),this.o=a.o,this.s=a.s,this.f=a.f;break t}if("/"==v||"\\"==v)s="relative slash";else if("?"==v)this.i=a.i,this.m=a.m,this.j=a.j.slice(),this.o="?",this.s=a.s,this.f=a.f,s="query";else{if("#"!=v){s=t[l+1];var y=t[l+2];("file"!=this.g||!d.test(v)||":"!=s&&"|"!=s||null!=y&&"/"!=y&&"\\"!=y&&"?"!=y&&"#"!=y)&&(this.i=a.i,this.m=a.m,this.s=a.s,this.f=a.f,this.j=a.j.slice(),this.j.pop()),s="relative path";continue}this.i=a.i,this.m=a.m,this.j=a.j.slice(),this.o=a.o,this.u="#",this.s=a.s,this.f=a.f,s="fragment"}break;case"relative slash":if("/"!=v&&"\\"!=v){"file"!=this.g&&(this.i=a.i,this.m=a.m,this.s=a.s,this.f=a.f),s="relative path";continue}s="file"==this.g?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=v){s="authority ignore slashes";continue}s="authority second slash";break;case"authority second slash":if(s="authority ignore slashes","/"!=v)continue;break;case"authority ignore slashes":if("/"!=v&&"\\"!=v){s="authority";continue}break;case"authority":if("@"==v){for(p&&(f+="%40"),p=!0,v=0;v<f.length;v++)"\t"==(y=f[v])||"\n"==y||"\r"==y||(":"==y&&null===this.f?this.f="":(y=n(y),null!==this.f?this.f+=y:this.s+=y));f=""}else{if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v){l-=f.length,f="",s="host";continue}f+=v}break;case"file host":if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v){2!=f.length||!d.test(f[0])||":"!=f[1]&&"|"!=f[1]?(0!=f.length&&(this.i=e.call(this,f),f=""),s="relative path start"):s="relative path";continue}"\t"==v||"\n"==v||"\r"==v||(f+=v);break;case"host":case"hostname":if(":"!=v||g){if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v){if(this.i=e.call(this,f),f="",s="relative path start",i)break t;continue}"\t"!=v&&"\n"!=v&&"\r"!=v&&("["==v?g=!0:"]"==v&&(g=!1),f+=v)}else if(this.i=e.call(this,f),f="",s="port","hostname"==i)break t;break;case"port":if(/[0-9]/.test(v))f+=v;else{if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v||i){if(""!=f&&((f=parseInt(f,10))!=u[this.g]&&(this.m=f+""),f=""),i)break t;s="relative path start";continue}"\t"==v||"\n"==v||"\r"==v||(o.call(this),this.h=!0)}break;case"relative path start":if(s="relative path","/"!=v&&"\\"!=v)continue;break;case"relative path":null!=v&&"/"!=v&&"\\"!=v&&(i||"?"!=v&&"#"!=v)?"\t"!=v&&"\n"!=v&&"\r"!=v&&(f+=n(v)):((y=c[f.toLowerCase()])&&(f=y),".."==f?(this.j.pop(),"/"!=v&&"\\"!=v&&this.j.push("")):"."==f&&"/"!=v&&"\\"!=v?this.j.push(""):"."!=f&&("file"==this.g&&0==this.j.length&&2==f.length&&d.test(f[0])&&"|"==f[1]&&(f=f[0]+":"),this.j.push(f)),f="","?"==v?(this.o="?",s="query"):"#"==v&&(this.u="#",s="fragment"));break;case"query":i||"#"!=v?null!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this.o+=r(v)):(this.u="#",s="fragment");break;case"fragment":null!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this.u+=v)}l++}}function o(){this.s=this.pa=this.g="",this.f=null,this.m=this.i="",this.j=[],this.u=this.o="",this.A=this.h=!1}function a(t,e){void 0===e||e instanceof a||(e=new a(String(e))),this.a=t,o.call(this),i.call(this,this.a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,""),null,e)}var s=!1;try{var l=new URL("b","http://a");l.pathname="c%20d",s="http://a/c%20d"===l.href}catch(t){}if(!s){var u=Object.create(null);u.ftp=21,u.file=0,u.gopher=70,u.http=80,u.https=443,u.ws=80,u.wss=443;var c=Object.create(null);c["%2e"]=".",c[".%2e"]="..",c["%2e."]="..",c["%2e%2e"]="..";var d=/[a-zA-Z]/,h=/[a-zA-Z0-9\+\-\.]/;a.prototype={toString:function(){return this.href},get href(){if(this.h)return this.a;var t="";return""==this.s&&null==this.f||(t=this.s+(null!=this.f?":"+this.f:"")+"@"),this.protocol+(this.A?"//"+t+this.host:"")+this.pathname+this.o+this.u},set href(t){o.call(this),i.call(this,t)},get protocol(){return this.g+":"},set protocol(t){this.h||i.call(this,t+":","scheme start")},get host(){return this.h?"":this.m?this.i+":"+this.m:this.i},set host(t){!this.h&&this.A&&i.call(this,t,"host")},get hostname(){return this.i},set hostname(t){!this.h&&this.A&&i.call(this,t,"hostname")},get port(){return this.m},set port(t){!this.h&&this.A&&i.call(this,t,"port")},get pathname(){return this.h?"":this.A?"/"+this.j.join("/"):this.pa},set pathname(t){!this.h&&this.A&&(this.j=[],i.call(this,t,"relative path start"))},get search(){return this.h||!this.o||"?"==this.o?"":this.o},set search(t){!this.h&&this.A&&(this.o="?","?"==t[0]&&(t=t.slice(1)),i.call(this,t,"query"))},get hash(){return this.h||!this.u||"#"==this.u?"":this.u},set hash(t){this.h||(t?(this.u="#","#"==t[0]&&(t=t.slice(1)),i.call(this,t,"fragment")):this.u="")},get origin(){var t;if(this.h||!this.g)return"";switch(this.g){case"data":case"file":case"javascript":case"mailto":return"null"}return(t=this.host)?this.g+"://"+t:""}};var f=t.URL;f&&(a.createObjectURL=function(t){return f.createObjectURL.apply(f,arguments)},a.revokeObjectURL=function(t){f.revokeObjectURL(t)}),t.URL=a}}(window),Object.getOwnPropertyDescriptor(Node.prototype,"baseURI")||Object.defineProperty(Node.prototype,"baseURI",{get:function(){var t=(this.ownerDocument||this).querySelector("base[href]");return t&&t.href||window.location.href},configurable:!0,enumerable:!0});var Ko=document.createElement("style");Ko.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var $o=document.querySelector("head");$o.insertBefore(Ko,$o.firstChild);var Zo=window.customElements,Jo=!1,Qo=null;function ta(){window.HTMLTemplateElement.bootstrap&&window.HTMLTemplateElement.bootstrap(window.document),Qo&&Qo(),Jo=!0,window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}Zo.polyfillWrapFlushCallback&&Zo.polyfillWrapFlushCallback((function(t){Qo=t,Jo&&t()})),"complete"!==document.readyState?(window.addEventListener("load",ta),window.addEventListener("DOMContentLoaded",(function(){window.removeEventListener("load",ta),ta()}))):ta()}).call(n);var mv=/^\s+|\s+$/g,bv=/^[-+]0x[0-9a-f]+$/i,_v=/^0b[01]+$/i,wv=/^0o[0-7]+$/i,xv=parseInt,Ev="object"==typeof n&&n&&n.Object===Object&&n,kv="object"==typeof self&&self&&self.Object===Object&&self,Sv=Ev||kv||Function("return this")(),Cv=Object.prototype.toString,Tv=Math.max,Nv=Math.min,Av=function(){return Sv.Date.now()};function Ov(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Pv(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==Cv.call(t)}(t))return NaN;if(Ov(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ov(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(mv,"");var n=_v.test(t);return n||wv.test(t)?xv(t.slice(2),n?2:8):bv.test(t)?NaN:+t}var Dv=function(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n)}function p(t){return u=t,s=setTimeout(v,e),c?f(t):a}function g(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-u>=o}function v(){var t=Av();if(g(t))return y(t);s=setTimeout(v,function(t){var n=e-(t-l);return d?Nv(n,o-(t-u)):n}(t))}function y(t){return s=void 0,h&&r?f(t):(r=i=void 0,a)}function m(){var t=Av(),n=g(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return p(l);if(d)return s=setTimeout(v,e),f(l)}return void 0===s&&(s=setTimeout(v,e)),a}return e=Pv(e)||0,Ov(n)&&(c=!!n.leading,o=(d="maxWait"in n)?Tv(Pv(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),m.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},m.flush=function(){return void 0===s?a:y(Av())},m},Mv=r((function(t,e){(function(){var e,n,r,i,o,a,s,l,u,c,d,h,f,p,g;r=Math.floor,c=Math.min,n=function(t,e){return t<e?-1:t>e?1:0},u=function(t,e,i,o,a){var s;if(null==i&&(i=0),null==a&&(a=n),i<0)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);i<o;)a(e,t[s=r((i+o)/2)])<0?o=s:i=s+1;return[].splice.apply(t,[i,i-i].concat(e)),e},a=function(t,e,r){return null==r&&(r=n),t.push(e),p(t,0,t.length-1,r)},o=function(t,e){var r,i;return null==e&&(e=n),r=t.pop(),t.length?(i=t[0],t[0]=r,g(t,0,e)):i=r,i},l=function(t,e,r){var i;return null==r&&(r=n),i=t[0],t[0]=e,g(t,0,r),i},s=function(t,e,r){var i;return null==r&&(r=n),t.length&&r(t[0],e)<0&&(e=(i=[t[0],e])[0],t[0]=i[1],g(t,0,r)),e},i=function(t,e){var i,o,a,s,l,u;for(null==e&&(e=n),l=[],o=0,a=(s=function(){u=[];for(var e=0,n=r(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)u.push(e);return u}.apply(this).reverse()).length;o<a;o++)i=s[o],l.push(g(t,i,e));return l},f=function(t,e,r){var i;if(null==r&&(r=n),-1!==(i=t.indexOf(e)))return p(t,0,i,r),g(t,i,r)},d=function(t,e,r){var o,a,l,u,c;if(null==r&&(r=n),!(a=t.slice(0,e)).length)return a;for(i(a,r),l=0,u=(c=t.slice(e)).length;l<u;l++)o=c[l],s(a,o,r);return a.sort(r).reverse()},h=function(t,e,r){var a,s,l,d,h,f,p,g,v;if(null==r&&(r=n),10*e<=t.length){if(!(l=t.slice(0,e).sort(r)).length)return l;for(s=l[l.length-1],d=0,f=(p=t.slice(e)).length;d<f;d++)r(a=p[d],s)<0&&(u(l,a,0,null,r),l.pop(),s=l[l.length-1]);return l}for(i(t,r),v=[],h=0,g=c(e,t.length);0<=g?h<g:h>g;0<=g?++h:--h)v.push(o(t,r));return v},p=function(t,e,r,i){var o,a,s;for(null==i&&(i=n),o=t[r];r>e&&i(o,a=t[s=r-1>>1])<0;)t[r]=a,r=s;return t[r]=o},g=function(t,e,r){var i,o,a,s,l;for(null==r&&(r=n),o=t.length,l=e,a=t[e],i=2*e+1;i<o;)(s=i+1)<o&&!(r(t[i],t[s])<0)&&(i=s),t[e]=t[i],i=2*(e=i)+1;return t[e]=a,p(t,l,e,r)},e=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=a,t.pop=o,t.replace=l,t.pushpop=s,t.heapify=i,t.updateItem=f,t.nlargest=d,t.nsmallest=h,t.prototype.push=function(t){return a(this.nodes,t,this.cmp)},t.prototype.pop=function(){return o(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return l(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return s(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return i(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return f(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),t.exports=e}).call(n)}));function Lv(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var Iv=Lv(Dv),Rv=Lv(Mv);function Bv(t){return(Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zv(t,e,n){return e&&Fv(t.prototype,e),n&&Fv(t,n),t}function Vv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Hv="undefined"==typeof window?null:window,Uv=Hv?Hv.navigator:null,Gv=(Hv&&Hv.document,Bv("")),Wv=Bv({}),Yv=Bv((function(){})),Xv="undefined"==typeof HTMLElement?"undefined":Bv(HTMLElement),Kv=function(t){return t&&t.instanceString&&Zv(t.instanceString)?t.instanceString():null},$v=function(t){return null!=t&&Bv(t)==Gv},Zv=function(t){return null!=t&&Bv(t)===Yv},Jv=function(t){return Array.isArray?Array.isArray(t):null!=t&&t instanceof Array},Qv=function(t){return null!=t&&Bv(t)===Wv&&!Jv(t)&&t.constructor===Object},ty=function(t){return null!=t&&Bv(t)===Bv(1)&&!isNaN(t)},ey=function(t){return"undefined"===Xv?void 0:null!=t&&t instanceof HTMLElement},ny=function(t){return ry(t)||iy(t)},ry=function(t){return"collection"===Kv(t)&&t._private.single},iy=function(t){return"collection"===Kv(t)&&!t._private.single},oy=function(t){return"core"===Kv(t)},ay=function(t){return"stylesheet"===Kv(t)},sy=function(t){return null==t||!(""!==t&&!t.match(/^\s+$/))},ly=function(t){return function(t){return null!=t&&Bv(t)===Wv}(t)&&Zv(t.then)},uy=function(t,e){e||(e=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")});var n=function n(){var r,i=this,o=arguments,a=e.apply(i,o),s=n.cache;return(r=s[a])||(r=s[a]=t.apply(i,o)),r};return n.cache={},n},cy=uy((function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))})),dy=uy((function(t){return t.replace(/(-\w)/g,(function(t){return t[1].toUpperCase()}))})),hy=uy((function(t,e){return t+e[0].toUpperCase()+e.substring(1)}),(function(t,e){return t+"$"+e})),fy=function(t){return sy(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},py="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",gy=function(t,e){return t<e?-1:t>e?1:0},vy=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments,n=1;n<e.length;n++){var r=e[n];if(null!=r)for(var i=Object.keys(r),o=0;o<i.length;o++){var a=i[o];t[a]=r[a]}}return t},yy=function(t){return(Jv(t)?t:null)||function(t){return my[t.toLowerCase()]}(t)||function(t){if((4===t.length||7===t.length)&&"#"===t[0]){var e,n,r;return 4===t.length?(e=parseInt(t[1]+t[1],16),n=parseInt(t[2]+t[2],16),r=parseInt(t[3]+t[3],16)):(e=parseInt(t[1]+t[2],16),n=parseInt(t[3]+t[4],16),r=parseInt(t[5]+t[6],16)),[e,n,r]}}(t)||function(t){var e,n=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(n){e=[];for(var r=[],i=1;i<=3;i++){var o=n[i];if("%"===o[o.length-1]&&(r[i]=!0),o=parseFloat(o),r[i]&&(o=o/100*255),o<0||o>255)return;e.push(Math.floor(o))}var a=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(a&&!s)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;e.push(l)}}return e}(t)||function(t){var e,n,r,i,o,a,s,l;function u(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var c=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(c){if((n=parseInt(c[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(c[2]))<0||r>100)return;if(r/=100,(i=parseFloat(c[3]))<0||i>100)return;if(i/=100,void 0!==(o=c[4])&&((o=parseFloat(o))<0||o>1))return;if(0===r)a=s=l=Math.round(255*i);else{var d=i<.5?i*(1+r):i+r-i*r,h=2*i-d;a=Math.round(255*u(h,d,n+1/3)),s=Math.round(255*u(h,d,n)),l=Math.round(255*u(h,d,n-1/3))}e=[a,s,l,o]}return e}(t)},my={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},by=function(t){for(var e=t.map,n=t.keys,r=n.length,i=0;i<r;i++){var o=n[i];if(Qv(o))throw Error("Tried to set map with object key");i<n.length-1?(null==e[o]&&(e[o]={}),e=e[o]):e[o]=t.value}},_y=function(t){for(var e=t.map,n=t.keys,r=n.length,i=0;i<r;i++){var o=n[i];if(Qv(o))throw Error("Tried to get map with object key");if(null==(e=e[o]))return e}return e},wy=Hv?Hv.performance:null,xy=wy&&wy.now?function(){return wy.now()}:function(){return Date.now()},Ey=function(){if(Hv){if(Hv.requestAnimationFrame)return function(t){Hv.requestAnimationFrame(t)};if(Hv.mozRequestAnimationFrame)return function(t){Hv.mozRequestAnimationFrame(t)};if(Hv.webkitRequestAnimationFrame)return function(t){Hv.webkitRequestAnimationFrame(t)};if(Hv.msRequestAnimationFrame)return function(t){Hv.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout((function(){t(xy())}),1e3/60)}}(),ky=function(t){return Ey(t)},Sy=xy,Cy=65599,Ty=function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9261,r=n;!(e=t.next()).done;)r=r*Cy+e.value|0;return r},Ny=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9261;return e*Cy+t|0},Ay=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;return(e<<5)+e+t|0},Oy=function(t){return 2097152*t[0]+t[1]},Py=function(t,e){return[Ny(t[0],e[0]),Ay(t[1],e[1])]},Dy=function(t,e){var n={value:0,done:!1},r=0,i=t.length;return Ty({next:function(){return r<i?n.value=t.charCodeAt(r++):n.done=!0,n}},e)},My=function(){return Ly(arguments)},Ly=function(t){for(var e,n=0;n<t.length;n++){var r=t[n];e=0===n?Dy(r):Dy(r,e)}return e},Iy=!0,Ry=null!=console.warn,By=null!=console.trace,jy=Number.MAX_SAFE_INTEGER||9007199254740991,Fy=function(){return!0},zy=function(){return!1},Vy=function(){return 0},qy=function(){},Hy=function(t){throw new Error(t)},Uy=function(t){if(void 0===t)return Iy;Iy=!!t},Gy=function(t){Uy()&&(Ry?console.warn(t):(console.log(t),By&&console.trace()))},Wy=function(t){return null==t?t:Jv(t)?t.slice():Qv(t)?function(t){return vy({},t)}(t):t},Yy=function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e},Xy={},Ky=function(){return Xy},$y=function(t){var e=Object.keys(t);return function(n){for(var r={},i=0;i<e.length;i++){var o=e[i],a=null==n?void 0:n[o];r[o]=void 0===a?t[o]:a}return r}},Zy=function(t,e,n){for(var r=t.length;r>=0&&(t[r]!==e||(t.splice(r,1),n));r--);},Jy=function(t){t.splice(0,t.length)},Qy=function(t,e,n){return n&&(e=hy(n,e)),t[e]},tm=function(t,e,n,r){n&&(e=hy(n,e)),t[e]=r},em="undefined"!=typeof Map?Map:function(){function t(){jv(this,t),this._obj={}}return zv(t,[{key:"set",value:function(t,e){return this._obj[t]=e,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return void 0!==this._obj[t]}},{key:"get",value:function(t){return this._obj[t]}}]),t}(),nm=function(){function t(e){if(jv(this,t),this._obj=Object.create(null),this.size=0,null!=e){var n;n=null!=e.instanceString&&e.instanceString()===this.instanceString()?e.toArray():e;for(var r=0;r<n.length;r++)this.add(n[r])}}return zv(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var e=this._obj;1!==e[t]&&(e[t]=1,this.size++)}},{key:"delete",value:function(t){var e=this._obj;1===e[t]&&(e[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return 1===this._obj[t]}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter((function(e){return t.has(e)}))}},{key:"forEach",value:function(t,e){return this.toArray().forEach(t,e)}}]),t}(),rm="undefined"!==("undefined"==typeof Set?"undefined":Bv(Set))?Set:nm,im=function(t,e,n){if(n=!(void 0!==n&&!n),void 0!==t&&void 0!==e&&oy(t)){var r=e.group;if(null==r&&(r=e.data&&null!=e.data.source&&null!=e.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1,this[0]=this;var i=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!e.selected,selectable:void 0===e.selectable||!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:void 0===e.grabbable||!!e.grabbable,pannable:void 0===e.pannable?"edges"===r:!!e.pannable,active:!1,classes:new rm,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==i.position.x&&(i.position.x=0),null==i.position.y&&(i.position.y=0),e.renderedPosition){var o=e.renderedPosition,a=t.pan(),s=t.zoom();i.position={x:(o.x-a.x)/s,y:(o.y-a.y)/s}}var l=[];Jv(e.classes)?l=e.classes:$v(e.classes)&&(l=e.classes.split(/\s+/));for(var u=0,c=l.length;u<c;u++){var d=l[u];d&&""!==d&&i.classes.add(d)}this.createEmitter();var h=e.style||e.css;h&&(Gy("Setting a `style` bypass at element creation is deprecated"),this.style(h)),(void 0===n||n)&&this.restore()}else Hy("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else Hy("An element must have a core reference and parameters set")},om=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(e,n,r){var i;Qv(e)&&!ny(e)&&(e=(i=e).roots||i.root,n=i.visit,r=i.directed),r=2!==arguments.length||Zv(n)?r:n,n=Zv(n)?n:function(){};for(var o,a=this._private.cy,s=e=$v(e)?this.filter(e):e,l=[],u=[],c={},d={},h={},f=0,p=this.byGroup(),g=p.nodes,v=p.edges,y=0;y<s.length;y++){var m=s[y],b=m.id();m.isNode()&&(l.unshift(m),t.bfs&&(h[b]=!0,u.push(m)),d[b]=0)}var _=function(){var e=t.bfs?l.shift():l.pop(),i=e.id();if(t.dfs){if(h[i])return"continue";h[i]=!0,u.push(e)}var a,s=d[i],p=c[i],y=null!=p?p.source():null,m=null!=p?p.target():null,b=null==p?void 0:e.same(y)?m[0]:y[0];if(!0===(a=n(e,p,b,f++,s)))return o=e,"break";if(!1===a)return"break";for(var _=e.connectedEdges().filter((function(t){return(!r||t.source().same(e))&&v.has(t)})),w=0;w<_.length;w++){var x=_[w],E=x.connectedNodes().filter((function(t){return!t.same(e)&&g.has(t)})),k=E.id();0===E.length||h[k]||(E=E[0],l.push(E),t.bfs&&(h[k]=!0,u.push(E)),c[k]=x,d[k]=d[i]+1)}};t:for(;0!==l.length;){var w=_();switch(w){case"continue":continue;case"break":break t}}for(var x=a.collection(),E=0;E<u.length;E++){var k=u[E],S=c[k.id()];null!=S&&x.merge(S),x.merge(k)}return{path:a.collection(x),found:a.collection(o)}}},am={breadthFirstSearch:om({bfs:!0}),depthFirstSearch:om({dfs:!0})};am.bfs=am.breadthFirstSearch,am.dfs=am.depthFirstSearch;var sm=$y({root:null,weight:function(t){return 1},directed:!1}),lm={dijkstra:function(t){if(!Qv(t)){var e=arguments;t={root:e[0],weight:e[1],directed:e[2]}}var n=sm(t),r=n.root,i=n.weight,o=n.directed,a=this,s=i,l=$v(r)?this.filter(r)[0]:r[0],u={},c={},d={},h=this.byGroup(),f=h.nodes,p=h.edges;p.unmergeBy((function(t){return t.isLoop()}));for(var g=function(t){return u[t.id()]},v=function(t,e){u[t.id()]=e,y.updateItem(t)},y=new Rv((function(t,e){return g(t)-g(e)})),m=0;m<f.length;m++){var b=f[m];u[b.id()]=b.same(l)?0:1/0,y.push(b)}for(var _=function(t,e){for(var n,r=(o?t.edgesTo(e):t.edgesWith(e)).intersect(p),i=1/0,a=0;a<r.length;a++){var l=r[a],u=s(l);(u<i||!n)&&(i=u,n=l)}return{edge:n,dist:i}};y.size()>0;){var w=y.pop(),x=g(w),E=w.id();if(d[E]=x,x!==1/0)for(var k=w.neighborhood().intersect(f),S=0;S<k.length;S++){var C=k[S],T=C.id(),N=_(w,C),A=x+N.dist;A<g(C)&&(v(C,A),c[T]={node:w,edge:N.edge})}}return{distanceTo:function(t){var e=$v(t)?f.filter(t)[0]:t[0];return d[e.id()]},pathTo:function(t){var e=$v(t)?f.filter(t)[0]:t[0],n=[],r=e,i=r.id();if(e.length>0)for(n.unshift(e);c[i];){var o=c[i];n.unshift(o.edge),n.unshift(o.node),i=(r=o.node).id()}return a.spawn(n)}}}},um={kruskal:function(t){t=t||function(t){return 1};for(var e=this.byGroup(),n=e.nodes,r=e.edges,i=n.length,o=new Array(i),a=n,s=function(t){for(var e=0;e<o.length;e++){if(o[e].has(t))return e}},l=0;l<i;l++)o[l]=this.spawn(n[l]);for(var u=r.sort((function(e,n){return t(e)-t(n)})),c=0;c<u.length;c++){var d=u[c],h=d.source()[0],f=d.target()[0],p=s(h),g=s(f),v=o[p],y=o[g];p!==g&&(a.merge(d),v.merge(y),o.splice(g,1))}return a}},cm=$y({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),dm={aStar:function(t){var e=this.cy(),n=cm(t),r=n.root,i=n.goal,o=n.heuristic,a=n.directed,s=n.weight;r=e.collection(r)[0],i=e.collection(i)[0];var l,u,c=r.id(),d=i.id(),h={},f={},p={},g=new Rv((function(t,e){return f[t.id()]-f[e.id()]})),v=new rm,y={},m={},b=function(t,e){g.push(t),v.add(e)},_=function(t){return v.has(t)};b(r,c),h[c]=0,f[c]=o(r);for(var w=0;g.size()>0;){if(l=g.pop(),u=l.id(),v.delete(u),w++,u===d){for(var x=[],E=i,k=d,S=m[k];x.unshift(E),null!=S&&x.unshift(S),null!=(E=y[k]);)S=m[k=E.id()];return{found:!0,distance:h[u],path:this.spawn(x),steps:w}}p[u]=!0;for(var C=l._private.edges,T=0;T<C.length;T++){var N=C[T];if(this.hasElementWithId(N.id())&&(!a||N.data("source")===u)){var A=N.source(),O=N.target(),P=A.id()!==u?A:O,D=P.id();if(this.hasElementWithId(D)&&!p[D]){var M=h[u]+s(N);_(D)?M<h[D]&&(h[D]=M,f[D]=M+o(P),y[D]=l):(h[D]=M,f[D]=M+o(P),b(P,D),y[D]=l,m[D]=N)}}}}return{found:!1,distance:void 0,path:void 0,steps:w}}},hm=$y({weight:function(t){return 1},directed:!1}),fm={floydWarshall:function(t){for(var e=this.cy(),n=hm(t),r=n.weight,i=n.directed,o=r,a=this.byGroup(),s=a.nodes,l=a.edges,u=s.length,c=u*u,d=function(t){return s.indexOf(t)},h=function(t){return s[t]},f=new Array(c),p=0;p<c;p++){var g=p%u,v=(p-g)/u;f[p]=v===g?0:1/0}for(var y=new Array(c),m=new Array(c),b=0;b<l.length;b++){var _=l[b],w=_.source()[0],x=_.target()[0];if(w!==x){var E=d(w),k=d(x),S=E*u+k,C=o(_);if(f[S]>C&&(f[S]=C,y[S]=k,m[S]=_),!i){var T=k*u+E;!i&&f[T]>C&&(f[T]=C,y[T]=E,m[T]=_)}}}for(var N=0;N<u;N++)for(var A=0;A<u;A++)for(var O=A*u+N,P=0;P<u;P++){var D=A*u+P,M=N*u+P;f[O]+f[M]<f[D]&&(f[D]=f[O]+f[M],y[D]=y[O])}var L=function(t){return d(function(t){return($v(t)?e.filter(t):t)[0]}(t))};return{distance:function(t,e){var n=L(t),r=L(e);return f[n*u+r]},path:function(t,n){var r=L(t),i=L(n),o=h(r);if(r===i)return o.collection();if(null==y[r*u+i])return e.collection();var a,s=e.collection(),l=r;for(s.merge(o);r!==i;)l=r,r=y[r*u+i],a=m[l*u+r],s.merge(a),s.merge(h(r));return s}}}},pm=$y({weight:function(t){return 1},directed:!1,root:null}),gm={bellmanFord:function(t){var e=this,n=pm(t),r=n.weight,i=n.directed,o=n.root,a=r,s=this,l=this.cy(),u=this.byGroup(),c=u.edges,d=u.nodes,h=d.length,f=new em,p=!1;o=l.collection(o)[0],c.unmergeBy((function(t){return t.isLoop()}));for(var g=c.length,v=function(t){var e=f.get(t.id());return e||(e={},f.set(t.id(),e)),e},y=function(t){return($v(t)?l.$(t):t)[0]},m=0;m<h;m++){var b=d[m],_=v(b);b.same(o)?_.dist=0:_.dist=1/0,_.pred=null,_.edge=null}for(var w=!1,x=function(t,e,n,r,i,o){var a=r.dist+o;a<i.dist&&!n.same(r.edge)&&(i.dist=a,i.pred=t,i.edge=n,w=!0)},E=1;E<h;E++){w=!1;for(var k=0;k<g;k++){var S=c[k],C=S.source(),T=S.target(),N=a(S),A=v(C),O=v(T);x(C,0,S,A,O,N),i||x(T,0,S,O,A,N)}if(!w)break}if(w)for(var P=0;P<g;P++){var D=c[P],M=D.source(),L=D.target(),I=a(D),R=v(M).dist,B=v(L).dist;if(R+I<B||!i&&B+I<R){Gy("Graph contains a negative weight cycle for Bellman-Ford"),p=!0;break}}return{distanceTo:function(t){return v(y(t)).dist},pathTo:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r=y(t),i=[],a=r;;){if(null==a)return e.spawn();var l=v(a),u=l.edge,c=l.pred;if(i.unshift(a[0]),a.same(n)&&i.length>0)break;null!=u&&i.unshift(u),a=c}return s.spawn(i)},hasNegativeWeightCycle:p,negativeWeightCycles:[]}}},vm=Math.sqrt(2),ym=function(t,e,n){0===n.length&&Hy("Karger-Stein must be run on a connected (sub)graph");for(var r=n[t],i=r[1],o=r[2],a=e[i],s=e[o],l=n,u=l.length-1;u>=0;u--){var c=l[u],d=c[1],h=c[2];(e[d]===a&&e[h]===s||e[d]===s&&e[h]===a)&&l.splice(u,1)}for(var f=0;f<l.length;f++){var p=l[f];p[1]===s?(l[f]=p.slice(),l[f][1]=a):p[2]===s&&(l[f]=p.slice(),l[f][2]=a)}for(var g=0;g<e.length;g++)e[g]===s&&(e[g]=a);return l},mm=function(t,e,n,r){for(;n>r;){var i=Math.floor(Math.random()*e.length);e=ym(i,t,e),n--}return e},bm={kargerStein:function(){var t=this,e=this.byGroup(),n=e.nodes,r=e.edges;r.unmergeBy((function(t){return t.isLoop()}));var i=n.length,o=r.length,a=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),s=Math.floor(i/vm);if(!(i<2)){for(var l=[],u=0;u<o;u++){var c=r[u];l.push([u,n.indexOf(c.source()),n.indexOf(c.target())])}for(var d=1/0,h=[],f=new Array(i),p=new Array(i),g=new Array(i),v=function(t,e){for(var n=0;n<i;n++)e[n]=t[n]},y=0;y<=a;y++){for(var m=0;m<i;m++)p[m]=m;var b=mm(p,l.slice(),i,s),_=b.slice();v(p,g);var w=mm(p,b,s,2),x=mm(g,_,s,2);w.length<=x.length&&w.length<d?(d=w.length,h=w,v(p,f)):x.length<=w.length&&x.length<d&&(d=x.length,h=x,v(g,f))}for(var E=this.spawn(h.map((function(t){return r[t[0]]}))),k=this.spawn(),S=this.spawn(),C=f[0],T=0;T<f.length;T++){var N=f[T],A=n[T];N===C?k.merge(A):S.merge(A)}var O=function(e){var n=t.spawn();return e.forEach((function(e){n.merge(e),e.connectedEdges().forEach((function(e){t.contains(e)&&!E.contains(e)&&n.merge(e)}))})),n},P=[O(k),O(S)];return{cut:E,components:P,partition1:k,partition2:S}}Hy("At least 2 nodes are required for Karger-Stein algorithm")}},_m=function(t,e,n){return{x:t.x*e+n.x,y:t.y*e+n.y}},wm=function(t,e,n){return{x:(t.x-n.x)/e,y:(t.y-n.y)/e}},xm=function(t){return{x:t[0],y:t[1]}},Em=function(t,e){return Math.atan2(e,t)-Math.PI/2},km=Math.log2||function(t){return Math.log(t)/Math.log(2)},Sm=function(t){return t>0?1:t<0?-1:0},Cm=function(t,e){return Math.sqrt(Tm(t,e))},Tm=function(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r},Nm=function(t){for(var e=t.length,n=0,r=0;r<e;r++)n+=t[r];for(var i=0;i<e;i++)t[i]=t[i]/n;return t},Am=function(t,e,n,r){return(1-r)*(1-r)*t+2*(1-r)*r*e+r*r*n},Om=function(t,e,n,r){return{x:Am(t.x,e.x,n.x,r),y:Am(t.y,e.y,n.y,r)}},Pm=function(t,e,n){return Math.max(t,Math.min(n,e))},Dm=function(t){if(null==t)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=t.x1&&null!=t.y1){if(null!=t.x2&&null!=t.y2&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(null!=t.w&&null!=t.h&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},Mm=function(t,e,n){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},Lm=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Im=function(t){var e,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===o.length)e=n=r=i=o[0];else if(2===o.length)e=r=o[0],i=n=o[1];else if(4===o.length){var a=qv(o,4);e=a[0],n=a[1],r=a[2],i=a[3]}return t.x1-=i,t.x2+=n,t.y1-=e,t.y2+=r,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Rm=function(t,e){t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},Bm=function(t,e){t.x1+=e.x,t.x2+=e.x,t.y1+=e.y,t.y2+=e.y},jm=function(t,e){return!(t.x1>e.x2)&&(!(e.x1>t.x2)&&(!(t.x2<e.x1)&&(!(e.x2<t.x1)&&(!(t.y2<e.y1)&&(!(e.y2<t.y1)&&(!(t.y1>e.y2)&&!(e.y1>t.y2)))))))},Fm=function(t,e,n){return t.x1<=e&&e<=t.x2&&t.y1<=n&&n<=t.y2},zm=function(t,e){return Fm(t,e.x1,e.y1)&&Fm(t,e.x2,e.y2)},Vm=function(t,e,n,r,i,o,a){var s,l=ob(i,o),u=i/2,c=o/2,d=r-c-a;if((s=Qm(t,e,n,r,n-u+l-a,d,n+u-l+a,d,!1)).length>0)return s;var h=n+u+a;if((s=Qm(t,e,n,r,h,r-c+l-a,h,r+c-l+a,!1)).length>0)return s;var f=r+c+a;if((s=Qm(t,e,n,r,n-u+l-a,f,n+u-l+a,f,!1)).length>0)return s;var p,g=n-u-a;if((s=Qm(t,e,n,r,g,r-c+l-a,g,r+c-l+a,!1)).length>0)return s;var v=n-u+l,y=r-c+l;if((p=Zm(t,e,n,r,v,y,l+a)).length>0&&p[0]<=v&&p[1]<=y)return[p[0],p[1]];var m=n+u-l,b=r-c+l;if((p=Zm(t,e,n,r,m,b,l+a)).length>0&&p[0]>=m&&p[1]<=b)return[p[0],p[1]];var _=n+u-l,w=r+c-l;if((p=Zm(t,e,n,r,_,w,l+a)).length>0&&p[0]>=_&&p[1]>=w)return[p[0],p[1]];var x=n-u+l,E=r+c-l;return(p=Zm(t,e,n,r,x,E,l+a)).length>0&&p[0]<=x&&p[1]>=E?[p[0],p[1]]:[]},qm=function(t,e,n,r,i,o,a){var s=a,l=Math.min(n,i),u=Math.max(n,i),c=Math.min(r,o),d=Math.max(r,o);return l-s<=t&&t<=u+s&&c-s<=e&&e<=d+s},Hm=function(t,e,n,r,i,o,a,s,l){var u=Math.min(n,a,i)-l,c=Math.max(n,a,i)+l,d=Math.min(r,s,o)-l,h=Math.max(r,s,o)+l;return!(t<u||t>c||e<d||e>h)},Um=function(t,e,n,r,i,o,a,s){var l=[];!function(t,e,n,r,i){var o,a,s,l,u,c,d,h;0===t&&(t=1e-5),s=-27*(r/=t)+(e/=t)*(9*(n/=t)-e*e*2),o=(a=(3*n-e*e)/9)*a*a+(s/=54)*s,i[1]=0,d=e/3,o>0?(u=(u=s+Math.sqrt(o))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=(c=s-Math.sqrt(o))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-d+u+c,d+=(u+c)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-c+u)/2,i[3]=d,i[5]=-d):(i[5]=i[3]=0,0===o?(h=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*h-d,i[4]=i[2]=-(h+d)):(l=(a=-a)*a*a,l=Math.acos(s/Math.sqrt(l)),h=2*Math.sqrt(a),i[0]=-d+h*Math.cos(l/3),i[2]=-d+h*Math.cos((l+2*Math.PI)/3),i[4]=-d+h*Math.cos((l+4*Math.PI)/3)))}(1*n*n-4*n*i+2*n*a+4*i*i-4*i*a+a*a+r*r-4*r*o+2*r*s+4*o*o-4*o*s+s*s,9*n*i-3*n*n-3*n*a-6*i*i+3*i*a+9*r*o-3*r*r-3*r*s-6*o*o+3*o*s,3*n*n-6*n*i+n*a-n*t+2*i*i+2*i*t-a*t+3*r*r-6*r*o+r*s-r*e+2*o*o+2*o*e-s*e,1*n*i-n*n+n*t-i*t+r*o-r*r+r*e-o*e,l);for(var u=[],c=0;c<6;c+=2)Math.abs(l[c+1])<1e-7&&l[c]>=0&&l[c]<=1&&u.push(l[c]);u.push(1),u.push(0);for(var d,h,f,p=-1,g=0;g<u.length;g++)d=Math.pow(1-u[g],2)*n+2*(1-u[g])*u[g]*i+u[g]*u[g]*a,h=Math.pow(1-u[g],2)*r+2*(1-u[g])*u[g]*o+u[g]*u[g]*s,f=Math.pow(d-t,2)+Math.pow(h-e,2),p>=0?f<p&&(p=f):p=f;return p},Gm=function(t,e,n,r,i,o){var a=[t-n,e-r],s=[i-n,o-r],l=s[0]*s[0]+s[1]*s[1],u=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],d=c*c/l;return c<0?u:d>l?(t-i)*(t-i)+(e-o)*(e-o):u-d},Wm=function(t,e,n){for(var r,i,o,a,s=0,l=0;l<n.length/2;l++)if(r=n[2*l],i=n[2*l+1],l+1<n.length/2?(o=n[2*(l+1)],a=n[2*(l+1)+1]):(o=n[2*(l+1-n.length/2)],a=n[2*(l+1-n.length/2)+1]),r==t&&o==t);else{if(!(r>=t&&t>=o||r<=t&&t<=o))continue;(t-r)/(o-r)*(a-i)+i>e&&s++}return s%2!=0},Ym=function(t,e,n,r,i,o,a,s,l){var u,c=new Array(n.length);null!=s[0]?(u=Math.atan(s[1]/s[0]),s[0]<0?u+=Math.PI/2:u=-u-Math.PI/2):u=s;for(var d,h=Math.cos(-u),f=Math.sin(-u),p=0;p<c.length/2;p++)c[2*p]=o/2*(n[2*p]*h-n[2*p+1]*f),c[2*p+1]=a/2*(n[2*p+1]*h+n[2*p]*f),c[2*p]+=r,c[2*p+1]+=i;if(l>0){var g=Km(c,-l);d=Xm(g)}else d=c;return Wm(t,e,d)},Xm=function(t){for(var e,n,r,i,o,a,s,l,u=new Array(t.length/2),c=0;c<t.length/4;c++){e=t[4*c],n=t[4*c+1],r=t[4*c+2],i=t[4*c+3],c<t.length/4-1?(o=t[4*(c+1)],a=t[4*(c+1)+1],s=t[4*(c+1)+2],l=t[4*(c+1)+3]):(o=t[0],a=t[1],s=t[2],l=t[3]);var d=Qm(e,n,r,i,o,a,s,l,!0);u[2*c]=d[0],u[2*c+1]=d[1]}return u},Km=function(t,e){for(var n,r,i,o,a=new Array(2*t.length),s=0;s<t.length/2;s++){n=t[2*s],r=t[2*s+1],s<t.length/2-1?(i=t[2*(s+1)],o=t[2*(s+1)+1]):(i=t[0],o=t[1]);var l=o-r,u=-(i-n),c=Math.sqrt(l*l+u*u),d=l/c,h=u/c;a[4*s]=n+d*e,a[4*s+1]=r+h*e,a[4*s+2]=i+d*e,a[4*s+3]=o+h*e}return a},$m=function(t,e,n,r,i,o,a){return t-=i,e-=o,(t/=n/2+a)*t+(e/=r/2+a)*e<=1},Zm=function(t,e,n,r,i,o,a){var s=[n-t,r-e],l=[t-i,e-o],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),d=c*c-4*u*(l[0]*l[0]+l[1]*l[1]-a*a);if(d<0)return[];var h=(-c+Math.sqrt(d))/(2*u),f=(-c-Math.sqrt(d))/(2*u),p=Math.min(h,f),g=Math.max(h,f),v=[];if(p>=0&&p<=1&&v.push(p),g>=0&&g<=1&&v.push(g),0===v.length)return[];var y=v[0]*s[0]+t,m=v[0]*s[1]+e;return v.length>1?v[0]==v[1]?[y,m]:[y,m,v[1]*s[0]+t,v[1]*s[1]+e]:[y,m]},Jm=function(t,e,n){return e<=t&&t<=n||n<=t&&t<=e?t:t<=e&&e<=n||n<=e&&e<=t?e:n},Qm=function(t,e,n,r,i,o,a,s,l){var u=t-i,c=n-t,d=a-i,h=e-o,f=r-e,p=s-o,g=d*h-p*u,v=c*h-f*u,y=p*c-d*f;if(0!==y){var m=g/y,b=v/y;return-.001<=m&&m<=1.001&&-.001<=b&&b<=1.001||l?[t+m*c,e+m*f]:[]}return 0===g||0===v?Jm(t,n,a)===a?[a,s]:Jm(t,n,i)===i?[i,o]:Jm(i,a,n)===n?[n,r]:[]:[]},tb=function(t,e,n,r,i,o,a,s){var l,u,c,d,h,f,p=[],g=new Array(n.length),v=!0;if(null==o&&(v=!1),v){for(var y=0;y<g.length/2;y++)g[2*y]=n[2*y]*o+r,g[2*y+1]=n[2*y+1]*a+i;if(s>0){var m=Km(g,-s);u=Xm(m)}else u=g}else u=n;for(var b=0;b<u.length/2;b++)c=u[2*b],d=u[2*b+1],b<u.length/2-1?(h=u[2*(b+1)],f=u[2*(b+1)+1]):(h=u[0],f=u[1]),0!==(l=Qm(t,e,r,i,c,d,h,f)).length&&p.push(l[0],l[1]);return p},eb=function(t,e,n){var r=[t[0]-e[0],t[1]-e[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),o=(i-n)/i;return o<0&&(o=1e-5),[e[0]+o*r[0],e[1]+o*r[1]]},nb=function(t,e){var n=ib(t,e);return n=rb(n)},rb=function(t){for(var e,n,r=t.length/2,i=1/0,o=1/0,a=-1/0,s=-1/0,l=0;l<r;l++)e=t[2*l],n=t[2*l+1],i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,n),s=Math.max(s,n);for(var u=2/(a-i),c=2/(s-o),d=0;d<r;d++)e=t[2*d]=t[2*d]*u,n=t[2*d+1]=t[2*d+1]*c,i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,n),s=Math.max(s,n);if(o<-1)for(var h=0;h<r;h++)n=t[2*h+1]=t[2*h+1]+(-1-o);return t},ib=function(t,e){var n=1/t*2*Math.PI,r=t%2==0?Math.PI/2+n/2:Math.PI/2;r+=e;for(var i,o=new Array(2*t),a=0;a<t;a++)i=a*n+r,o[2*a]=Math.cos(i),o[2*a+1]=Math.sin(-i);return o},ob=function(t,e){return Math.min(t/4,e/4,8)},ab=function(t,e){return Math.min(t/10,e/10,8)},sb=function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},lb=$y({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),ub={pageRank:function(t){for(var e=lb(t),n=e.dampingFactor,r=e.precision,i=e.iterations,o=e.weight,a=this._private.cy,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,d=c*c,h=u.length,f=new Array(d),p=new Array(c),g=(1-n)/c,v=0;v<c;v++){for(var y=0;y<c;y++){f[v*c+y]=0}p[v]=0}for(var m=0;m<h;m++){var b=u[m],_=b.data("source"),w=b.data("target");if(_!==w){var x=l.indexOfId(_),E=l.indexOfId(w),k=o(b);f[E*c+x]+=k,p[x]+=k}}for(var S=1/c+g,C=0;C<c;C++)if(0===p[C])for(var T=0;T<c;T++){f[T*c+C]=S}else for(var N=0;N<c;N++){var A=N*c+C;f[A]=f[A]/p[C]+g}for(var O,P=new Array(c),D=new Array(c),M=0;M<c;M++)P[M]=1;for(var L=0;L<i;L++){for(var I=0;I<c;I++)D[I]=0;for(var R=0;R<c;R++)for(var B=0;B<c;B++){var j=R*c+B;D[R]+=f[j]*P[B]}Nm(D),O=P,P=D,D=O;for(var F=0,z=0;z<c;z++){var V=O[z]-P[z];F+=V*V}if(F<r)break}return{rank:function(t){return t=a.collection(t)[0],P[l.indexOf(t)]}}}},cb=$y({root:null,weight:function(t){return 1},directed:!1,alpha:0}),db={degreeCentralityNormalized:function(t){t=cb(t);var e=this.cy(),n=this.nodes(),r=n.length;if(t.directed){for(var i={},o={},a=0,s=0,l=0;l<r;l++){var u=n[l],c=u.id();t.root=u;var d=this.degreeCentrality(t);a<d.indegree&&(a=d.indegree),s<d.outdegree&&(s=d.outdegree),i[c]=d.indegree,o[c]=d.outdegree}return{indegree:function(t){return 0==a?0:($v(t)&&(t=e.filter(t)),i[t.id()]/a)},outdegree:function(t){return 0===s?0:($v(t)&&(t=e.filter(t)),o[t.id()]/s)}}}for(var h={},f=0,p=0;p<r;p++){var g=n[p];t.root=g;var v=this.degreeCentrality(t);f<v.degree&&(f=v.degree),h[g.id()]=v.degree}return{degree:function(t){return 0===f?0:($v(t)&&(t=e.filter(t)),h[t.id()]/f)}}},degreeCentrality:function(t){t=cb(t);var e=this.cy(),n=this,r=t,i=r.root,o=r.weight,a=r.directed,s=r.alpha;if(i=e.collection(i)[0],a){for(var l=i.connectedEdges(),u=l.filter((function(t){return t.target().same(i)&&n.has(t)})),c=l.filter((function(t){return t.source().same(i)&&n.has(t)})),d=u.length,h=c.length,f=0,p=0,g=0;g<u.length;g++)f+=o(u[g]);for(var v=0;v<c.length;v++)p+=o(c[v]);return{indegree:Math.pow(d,1-s)*Math.pow(f,s),outdegree:Math.pow(h,1-s)*Math.pow(p,s)}}for(var y=i.connectedEdges().intersection(n),m=y.length,b=0,_=0;_<y.length;_++)b+=o(y[_]);return{degree:Math.pow(m,1-s)*Math.pow(b,s)}}};db.dc=db.degreeCentrality,db.dcn=db.degreeCentralityNormalised=db.degreeCentralityNormalized;var hb=$y({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),fb={closenessCentralityNormalized:function(t){for(var e=hb(t),n=e.harmonic,r=e.weight,i=e.directed,o=this.cy(),a={},s=0,l=this.nodes(),u=this.floydWarshall({weight:r,directed:i}),c=0;c<l.length;c++){for(var d=0,h=l[c],f=0;f<l.length;f++)if(c!==f){var p=u.distance(h,l[f]);d+=n?1/p:p}n||(d=1/d),s<d&&(s=d),a[h.id()]=d}return{closeness:function(t){return 0==s?0:(t=$v(t)?o.filter(t)[0].id():t.id(),a[t]/s)}}},closenessCentrality:function(t){var e=hb(t),n=e.root,r=e.weight,i=e.directed,o=e.harmonic;n=this.filter(n)[0];for(var a=this.dijkstra({root:n,weight:r,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++){var c=l[u];if(!c.same(n)){var d=a.distanceTo(c);s+=o?1/d:d}}return o?s:1/s}};fb.cc=fb.closenessCentrality,fb.ccn=fb.closenessCentralityNormalised=fb.closenessCentralityNormalized;var pb=$y({weight:null,directed:!1}),gb={betweennessCentrality:function(t){for(var e=pb(t),n=e.directed,r=e.weight,i=null!=r,o=this.cy(),a=this.nodes(),s={},l={},u=0,c=function(t,e){l[t]=e,e>u&&(u=e)},d=function(t){return l[t]},h=0;h<a.length;h++){var f=a[h],p=f.id();s[p]=n?f.outgoers().nodes():f.openNeighborhood().nodes(),c(p,0)}for(var g=function(t){for(var e=a[t].id(),n=[],l={},u={},h={},f=new Rv((function(t,e){return h[t]-h[e]})),p=0;p<a.length;p++){var g=a[p].id();l[g]=[],u[g]=0,h[g]=1/0}for(u[e]=1,h[e]=0,f.push(e);!f.empty();){var v=f.pop();if(n.push(v),i)for(var y=0;y<s[v].length;y++){var m=s[v][y],b=o.getElementById(v),_=void 0;_=b.edgesTo(m).length>0?b.edgesTo(m)[0]:m.edgesTo(b)[0];var w=r(_);m=m.id(),h[m]>h[v]+w&&(h[m]=h[v]+w,f.nodes.indexOf(m)<0?f.push(m):f.updateItem(m),u[m]=0,l[m]=[]),h[m]==h[v]+w&&(u[m]=u[m]+u[v],l[m].push(v))}else for(var x=0;x<s[v].length;x++){var E=s[v][x].id();h[E]==1/0&&(f.push(E),h[E]=h[v]+1),h[E]==h[v]+1&&(u[E]=u[E]+u[v],l[E].push(v))}}for(var k={},S=0;S<a.length;S++)k[a[S].id()]=0;for(;n.length>0;){for(var C=n.pop(),T=0;T<l[C].length;T++){var N=l[C][T];k[N]=k[N]+u[N]/u[C]*(1+k[C])}C!=a[t].id()&&c(C,d(C)+k[C])}},v=0;v<a.length;v++)g(v);var y={betweenness:function(t){var e=o.collection(t).id();return d(e)},betweennessNormalized:function(t){if(0==u)return 0;var e=o.collection(t).id();return d(e)/u}};return y.betweennessNormalised=y.betweennessNormalized,y}};gb.bc=gb.betweennessCentrality;var vb=$y({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),yb=function(t,e){for(var n=0,r=0;r<e.length;r++)n+=e[r](t);return n},mb=function(t,e){for(var n,r=0;r<e;r++){n=0;for(var i=0;i<e;i++)n+=t[i*e+r];for(var o=0;o<e;o++)t[o*e+r]=t[o*e+r]/n}},bb=function(t,e,n){for(var r=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)r[i*n+o]=0;for(var a=0;a<n;a++)for(var s=0;s<n;s++)r[i*n+s]+=t[i*n+a]*e[a*n+s]}return r},_b=function(t,e,n){for(var r=t.slice(0),i=1;i<n;i++)t=bb(t,r,e);return t},wb=function(t,e,n){for(var r=new Array(e*e),i=0;i<e*e;i++)r[i]=Math.pow(t[i],n);return mb(r,e),r},xb=function(t,e,n,r){for(var i=0;i<n;i++){if(Math.round(t[i]*Math.pow(10,r))/Math.pow(10,r)!==Math.round(e[i]*Math.pow(10,r))/Math.pow(10,r))return!1}return!0},Eb=function(t,e){for(var n=0;n<t.length;n++)if(!e[n]||t[n].id()!==e[n].id())return!1;return!0},kb=function(t){for(var e=this.nodes(),n=this.edges(),r=this.cy(),i=function(t){return vb(t)}(t),o={},a=0;a<e.length;a++)o[e[a].id()]=a;for(var s,l=e.length,u=l*l,c=new Array(u),d=0;d<u;d++)c[d]=0;for(var h=0;h<n.length;h++){var f=n[h],p=o[f.source().id()],g=o[f.target().id()],v=yb(f,i.attributes);c[p*l+g]+=v,c[g*l+p]+=v}!function(t,e,n){for(var r=0;r<e;r++)t[r*e+r]=n}(c,l,i.multFactor),mb(c,l);for(var y=!0,m=0;y&&m<i.maxIterations;)y=!1,s=_b(c,l,i.expandFactor),c=wb(s,l,i.inflateFactor),xb(c,s,u,4)||(y=!0),m++;var b=function(t,e,n,r){for(var i=[],o=0;o<e;o++){for(var a=[],s=0;s<e;s++)Math.round(1e3*t[o*e+s])/1e3>0&&a.push(n[s]);0!==a.length&&i.push(r.collection(a))}return i}(c,l,e,r);return b=function(t){for(var e=0;e<t.length;e++)for(var n=0;n<t.length;n++)e!=n&&Eb(t[e],t[n])&&t.splice(n,1);return t}(b)},Sb={markovClustering:kb,mcl:kb},Cb=function(t){return t},Tb=function(t,e){return Math.abs(e-t)},Nb=function(t,e,n){return t+Tb(e,n)},Ab=function(t,e,n){return t+Math.pow(n-e,2)},Ob=function(t){return Math.sqrt(t)},Pb=function(t,e,n){return Math.max(t,Tb(e,n))},Db=function(t,e,n,r,i){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Cb,a=r,s=0;s<t;s++)a=i(a,e(s),n(s));return o(a)},Mb={euclidean:function(t,e,n){return t>=2?Db(t,e,n,0,Ab,Ob):Db(t,e,n,0,Nb)},squaredEuclidean:function(t,e,n){return Db(t,e,n,0,Ab)},manhattan:function(t,e,n){return Db(t,e,n,0,Nb)},max:function(t,e,n){return Db(t,e,n,-1/0,Pb)}};function Lb(t,e,n,r,i,o){var a;return a=Zv(t)?t:Mb[t]||Mb.euclidean,0===e&&Zv(t)?a(i,o):a(e,n,r,i,o)}Mb["squared-euclidean"]=Mb.squaredEuclidean,Mb.squaredeuclidean=Mb.squaredEuclidean;var Ib=$y({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Rb=function(t){return Ib(t)},Bb=function(t,e,n,r,i){var o="kMedoids"!==i?function(t){return n[t]}:function(t){return r[t](n)},a=n,s=e;return Lb(t,r.length,o,(function(t){return r[t](e)}),a,s)},jb=function(t,e,n){for(var r=n.length,i=new Array(r),o=new Array(r),a=new Array(e),s=null,l=0;l<r;l++)i[l]=t.min(n[l]).value,o[l]=t.max(n[l]).value;for(var u=0;u<e;u++){s=[];for(var c=0;c<r;c++)s[c]=Math.random()*(o[c]-i[c])+i[c];a[u]=s}return a},Fb=function(t,e,n,r,i){for(var o=1/0,a=0,s=0;s<e.length;s++){var l=Bb(n,t,e[s],r,i);l<o&&(o=l,a=s)}return a},zb=function(t,e,n){for(var r=[],i=null,o=0;o<e.length;o++)n[(i=e[o]).id()]===t&&r.push(i);return r},Vb=function(t,e,n){for(var r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++){if(Math.abs(t[r][i]-e[r][i])>n)return!1}return!0},qb=function(t,e,n){for(var r=0;r<n;r++)if(t===e[r])return!0;return!1},Hb=function(t,e){var n=new Array(e);if(t.length<50)for(var r=0;r<e;r++){for(var i=t[Math.floor(Math.random()*t.length)];qb(i,n,r);)i=t[Math.floor(Math.random()*t.length)];n[r]=i}else for(var o=0;o<e;o++)n[o]=t[Math.floor(Math.random()*t.length)];return n},Ub=function(t,e,n){for(var r=0,i=0;i<e.length;i++)r+=Bb("manhattan",e[i],t,n,"kMedoids");return r},Gb=function(t,e,n,r,i){for(var o,a,s=0;s<e.length;s++)for(var l=0;l<t.length;l++)r[s][l]=Math.pow(n[s][l],i.m);for(var u=0;u<t.length;u++)for(var c=0;c<i.attributes.length;c++){o=0,a=0;for(var d=0;d<e.length;d++)o+=r[d][u]*i.attributes[c](e[d]),a+=r[d][u];t[u][c]=o/a}},Wb=function(t,e,n,r,i){for(var o=0;o<t.length;o++)e[o]=t[o].slice();for(var a,s,l,u=2/(i.m-1),c=0;c<n.length;c++)for(var d=0;d<r.length;d++){a=0;for(var h=0;h<n.length;h++)s=Bb(i.distance,r[d],n[c],i.attributes,"cmeans"),l=Bb(i.distance,r[d],n[h],i.attributes,"cmeans"),a+=Math.pow(s/l,u);t[d][c]=1/a}},Yb=function(t){var e,n,r,i,o=this.cy(),a=this.nodes(),s=Rb(t);r=new Array(a.length);for(var l=0;l<a.length;l++)r[l]=new Array(s.k);n=new Array(a.length);for(var u=0;u<a.length;u++)n[u]=new Array(s.k);for(var c=0;c<a.length;c++){for(var d=0,h=0;h<s.k;h++)n[c][h]=Math.random(),d+=n[c][h];for(var f=0;f<s.k;f++)n[c][f]=n[c][f]/d}e=new Array(s.k);for(var p=0;p<s.k;p++)e[p]=new Array(s.attributes.length);i=new Array(a.length);for(var g=0;g<a.length;g++)i[g]=new Array(s.k);for(var v=!0,y=0;v&&y<s.maxIterations;)v=!1,Gb(e,a,n,i,s),Wb(n,r,e,a,s),Vb(n,r,s.sensitivityThreshold)||(v=!0),y++;return{clusters:function(t,e,n,r){for(var i,o,a=new Array(n.k),s=0;s<a.length;s++)a[s]=[];for(var l=0;l<e.length;l++){i=-1/0,o=-1;for(var u=0;u<e[0].length;u++)e[l][u]>i&&(i=e[l][u],o=u);a[o].push(t[l])}for(var c=0;c<a.length;c++)a[c]=r.collection(a[c]);return a}(a,n,s,o),degreeOfMembership:n}},Xb={kMeans:function(t){var e,n=this.cy(),r=this.nodes(),i=null,o=Rb(t),a=new Array(o.k),s={};e=o.testMode?"number"==typeof o.testCentroids?jb(r,o.k,o.attributes):"object"===Bv(o.testCentroids)?o.testCentroids:jb(r,o.k,o.attributes):jb(r,o.k,o.attributes);for(var l,u,c,d=!0,h=0;d&&h<o.maxIterations;){for(var f=0;f<r.length;f++)s[(i=r[f]).id()]=Fb(i,e,o.distance,o.attributes,"kMeans");d=!1;for(var p=0;p<o.k;p++){var g=zb(p,r,s);if(0!==g.length){for(var v=o.attributes.length,y=e[p],m=new Array(v),b=new Array(v),_=0;_<v;_++){b[_]=0;for(var w=0;w<g.length;w++)i=g[w],b[_]+=o.attributes[_](i);m[_]=b[_]/g.length,l=m[_],u=y[_],c=o.sensitivityThreshold,Math.abs(u-l)<=c||(d=!0)}e[p]=m,a[p]=n.collection(g)}}h++}return a},kMedoids:function(t){var e,n,r=this.cy(),i=this.nodes(),o=null,a=Rb(t),s=new Array(a.k),l={},u=new Array(a.k);a.testMode?"number"==typeof a.testCentroids||(e="object"===Bv(a.testCentroids)?a.testCentroids:Hb(i,a.k)):e=Hb(i,a.k);for(var c=!0,d=0;c&&d<a.maxIterations;){for(var h=0;h<i.length;h++)l[(o=i[h]).id()]=Fb(o,e,a.distance,a.attributes,"kMedoids");c=!1;for(var f=0;f<e.length;f++){var p=zb(f,i,l);if(0!==p.length){u[f]=Ub(e[f],p,a.attributes);for(var g=0;g<p.length;g++)(n=Ub(p[g],p,a.attributes))<u[f]&&(u[f]=n,e[f]=p[g],c=!0);s[f]=r.collection(p)}}d++}return s},fuzzyCMeans:Yb,fcm:Yb},Kb=$y({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),$b={single:"min",complete:"max"},Zb=function(t,e,n,r,i){for(var o,a=0,s=1/0,l=i.attributes,u=function(t,e){return Lb(i.distance,l.length,(function(e){return l[e](t)}),(function(t){return l[t](e)}),t,e)},c=0;c<t.length;c++){var d=t[c].key,h=n[d][r[d]];h<s&&(a=d,s=h)}if("threshold"===i.mode&&s>=i.threshold||"dendrogram"===i.mode&&1===t.length)return!1;var f,p=e[a],g=e[r[a]];f="dendrogram"===i.mode?{left:p,right:g,key:p.key}:{value:p.value.concat(g.value),key:p.key},t[p.index]=f,t.splice(g.index,1),e[p.key]=f;for(var v=0;v<t.length;v++){var y=t[v];p.key===y.key?o=1/0:"min"===i.linkage?(o=n[p.key][y.key],n[p.key][y.key]>n[g.key][y.key]&&(o=n[g.key][y.key])):"max"===i.linkage?(o=n[p.key][y.key],n[p.key][y.key]<n[g.key][y.key]&&(o=n[g.key][y.key])):o="mean"===i.linkage?(n[p.key][y.key]*p.size+n[g.key][y.key]*g.size)/(p.size+g.size):"dendrogram"===i.mode?u(y.value,p.value):u(y.value[0],p.value[0]),n[p.key][y.key]=n[y.key][p.key]=o}for(var m=0;m<t.length;m++){var b=t[m].key;if(r[b]===p.key||r[b]===g.key){for(var _=b,w=0;w<t.length;w++){var x=t[w].key;n[b][x]<n[b][_]&&(_=x)}r[b]=_}t[m].index=m}return p.key=g.key=p.index=g.index=null,!0},Jb=function t(e,n,r){e&&(e.value?n.push(e.value):(e.left&&t(e.left,n),e.right&&t(e.right,n)))},Qb=function(t){for(var e=this.cy(),n=this.nodes(),r=function(t){var e=Kb(t),n=$b[e.linkage];return null!=n&&(e.linkage=n),e}(t),i=r.attributes,o=function(t,e){return Lb(r.distance,i.length,(function(e){return i[e](t)}),(function(t){return i[t](e)}),t,e)},a=[],s=[],l=[],u=[],c=0;c<n.length;c++){var d={value:"dendrogram"===r.mode?n[c]:[n[c]],key:c,index:c};a[c]=d,u[c]=d,s[c]=[],l[c]=0}for(var h=0;h<a.length;h++)for(var f=0;f<=h;f++){var p=void 0;p="dendrogram"===r.mode?h===f?1/0:o(a[h].value,a[f].value):h===f?1/0:o(a[h].value[0],a[f].value[0]),s[h][f]=p,s[f][h]=p,p<s[h][l[h]]&&(l[h]=f)}for(var g,v=Zb(a,u,s,l,r);v;)v=Zb(a,u,s,l,r);return"dendrogram"===r.mode?(g=function t(e,n,r){if(!e)return[];var i=[],o=[],a=[];return 0===n?(e.left&&Jb(e.left,i),e.right&&Jb(e.right,o),a=i.concat(o),[r.collection(a)]):1===n?e.value?[r.collection(e.value)]:(e.left&&Jb(e.left,i),e.right&&Jb(e.right,o),[r.collection(i),r.collection(o)]):e.value?[r.collection(e.value)]:(e.left&&(i=t(e.left,n-1,r)),e.right&&(o=t(e.right,n-1,r)),i.concat(o))}(a[0],r.dendrogramDepth,e),r.addDendrogram&&function t(e,n){if(!e)return"";if(e.left&&e.right){var r=t(e.left,n),i=t(e.right,n),o=n.add({group:"nodes",data:{id:r+","+i}});return n.add({group:"edges",data:{source:r,target:o.id()}}),n.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}return e.value?e.value.id():void 0}(a[0],e)):(g=new Array(a.length),a.forEach((function(t,n){t.key=t.index=null,g[n]=e.collection(t.value)}))),g},t_={hierarchicalClustering:Qb,hca:Qb},e_=$y({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),n_=function(t,e,n,r){var i=function(t,e){return r[e](t)};return-Lb(t,r.length,(function(t){return i(e,t)}),(function(t){return i(n,t)}),e,n)},r_=function(t,e){return"median"===e?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];r?t=t.slice(e,n):(n<t.length&&t.splice(n,t.length-n),e>0&&t.splice(0,e));for(var a=0,s=t.length-1;s>=0;s--){var l=t[s];o?isFinite(l)||(t[s]=-1/0,a++):t.splice(s,1)}i&&t.sort((function(t,e){return t-e}));var u=t.length,c=Math.floor(u/2);return u%2!=0?t[c+1+a]:(t[c-1+a]+t[c+a])/2}(t):"mean"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,r=0,i=0,o=e;o<n;o++){var a=t[o];isFinite(a)&&(r+=a,i++)}return r/i}(t):"min"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,r=1/0,i=e;i<n;i++){var o=t[i];isFinite(o)&&(r=Math.min(o,r))}return r}(t):"max"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,r=-1/0,i=e;i<n;i++){var o=t[i];isFinite(o)&&(r=Math.max(o,r))}return r}(t):e},i_=function(t,e,n){for(var r=[],i=0;i<t;i++){for(var o=-1,a=-1/0,s=0;s<n.length;s++){var l=n[s];e[i*t+l]>a&&(o=l,a=e[i*t+l])}o>0&&r.push(o)}for(var u=0;u<n.length;u++)r[n[u]]=n[u];return r},o_=function(t){for(var e,n,r,i,o,a,s=this.cy(),l=this.nodes(),u=function(t){var e=t.damping,n=t.preference;.5<=e&&e<1||Hy("Damping must range on [0.5, 1).  Got: ".concat(e));var r=["median","mean","min","max"];return r.some((function(t){return t===n}))||ty(n)||Hy("Preference must be one of [".concat(r.map((function(t){return"'".concat(t,"'")})).join(", "),"] or a number.  Got: ").concat(n)),e_(t)}(t),c={},d=0;d<l.length;d++)c[l[d].id()]=d;n=(e=l.length)*e,r=new Array(n);for(var h=0;h<n;h++)r[h]=-1/0;for(var f=0;f<e;f++)for(var p=0;p<e;p++)f!==p&&(r[f*e+p]=n_(u.distance,l[f],l[p],u.attributes));i=r_(r,u.preference);for(var g=0;g<e;g++)r[g*e+g]=i;o=new Array(n);for(var v=0;v<n;v++)o[v]=0;a=new Array(n);for(var y=0;y<n;y++)a[y]=0;for(var m=new Array(e),b=new Array(e),_=new Array(e),w=0;w<e;w++)m[w]=0,b[w]=0,_[w]=0;for(var x,E=new Array(e*u.minIterations),k=0;k<E.length;k++)E[k]=0;for(x=0;x<u.maxIterations;x++){for(var S=0;S<e;S++){for(var C=-1/0,T=-1/0,N=-1,A=0,O=0;O<e;O++)m[O]=o[S*e+O],(A=a[S*e+O]+r[S*e+O])>=C?(T=C,C=A,N=O):A>T&&(T=A);for(var P=0;P<e;P++)o[S*e+P]=(1-u.damping)*(r[S*e+P]-C)+u.damping*m[P];o[S*e+N]=(1-u.damping)*(r[S*e+N]-T)+u.damping*m[N]}for(var D=0;D<e;D++){for(var M=0,L=0;L<e;L++)m[L]=a[L*e+D],b[L]=Math.max(0,o[L*e+D]),M+=b[L];M-=b[D],b[D]=o[D*e+D],M+=b[D];for(var I=0;I<e;I++)a[I*e+D]=(1-u.damping)*Math.min(0,M-b[I])+u.damping*m[I];a[D*e+D]=(1-u.damping)*(M-b[D])+u.damping*m[D]}for(var R=0,B=0;B<e;B++){var j=a[B*e+B]+o[B*e+B]>0?1:0;E[x%u.minIterations*e+B]=j,R+=j}if(R>0&&(x>=u.minIterations-1||x==u.maxIterations-1)){for(var F=0,z=0;z<e;z++){_[z]=0;for(var V=0;V<u.minIterations;V++)_[z]+=E[V*e+z];0!==_[z]&&_[z]!==u.minIterations||F++}if(F===e)break}}for(var q=function(t,e,n){for(var r=[],i=0;i<t;i++)e[i*t+i]+n[i*t+i]>0&&r.push(i);return r}(e,o,a),H=function(t,e,n){for(var r=i_(t,e,n),i=0;i<n.length;i++){for(var o=[],a=0;a<r.length;a++)r[a]===n[i]&&o.push(a);for(var s=-1,l=-1/0,u=0;u<o.length;u++){for(var c=0,d=0;d<o.length;d++)c+=e[o[d]*t+o[u]];c>l&&(s=u,l=c)}n[i]=o[s]}return r=i_(t,e,n)}(e,r,q),U={},G=0;G<q.length;G++)U[q[G]]=[];for(var W=0;W<l.length;W++){var Y=H[c[l[W].id()]];null!=Y&&U[Y].push(l[W])}for(var X=new Array(q.length),K=0;K<q.length;K++)X[K]=s.collection(U[q[K]]);return X},a_={affinityPropagation:o_,ap:o_},s_=$y({root:void 0,directed:!1}),l_=function(){var t=this,e={},n=0,r=0,i=[],o=[],a={},s=function s(l,u,c){l===c&&(r+=1),e[u]={id:n,low:n++,cutVertex:!1};var d,h,f,p,g=t.getElementById(u).connectedEdges().intersection(t);0===g.size()?i.push(t.spawn(t.getElementById(u))):g.forEach((function(n){d=n.source().id(),h=n.target().id(),(f=d===u?h:d)!==c&&(p=n.id(),a[p]||(a[p]=!0,o.push({x:u,y:f,edge:n})),f in e?e[u].low=Math.min(e[u].low,e[f].id):(s(l,f,u),e[u].low=Math.min(e[u].low,e[f].low),e[u].id<=e[f].low&&(e[u].cutVertex=!0,function(n,r){for(var a=o.length-1,s=[],l=t.spawn();o[a].x!=n||o[a].y!=r;)s.push(o.pop().edge),a--;s.push(o.pop().edge),s.forEach((function(n){var r=n.connectedNodes().intersection(t);l.merge(n),r.forEach((function(n){var r=n.id(),i=n.connectedEdges().intersection(t);l.merge(n),e[r].cutVertex?l.merge(i.filter((function(t){return t.isLoop()}))):l.merge(i)}))})),i.push(l)}(u,f))))}))};t.forEach((function(t){if(t.isNode()){var n=t.id();n in e||(r=0,s(n,n),e[n].cutVertex=r>1)}}));var l=Object.keys(e).filter((function(t){return e[t].cutVertex})).map((function(e){return t.getElementById(e)}));return{cut:t.spawn(l),components:i}},u_=function(){var t=this,e={},n=0,r=[],i=[],o=t.spawn(t);return t.forEach((function(a){if(a.isNode()){var s=a.id();s in e||function a(s){if(i.push(s),e[s]={index:n,low:n++,explored:!1},t.getElementById(s).connectedEdges().intersection(t).forEach((function(t){var n=t.target().id();n!==s&&(n in e||a(n),e[n].explored||(e[s].low=Math.min(e[s].low,e[n].low)))})),e[s].index===e[s].low){for(var l=t.spawn();;){var u=i.pop();if(l.merge(t.getElementById(u)),e[u].low=e[s].index,e[u].explored=!0,u===s)break}var c=l.edgesWith(l),d=l.merge(c);r.push(d),o=o.difference(d)}}(s)}})),{cut:o,components:r}},c_={};[am,lm,um,dm,fm,gm,bm,ub,db,fb,gb,Sb,Xb,t_,a_,{hierholzer:function(t){if(!Qv(t)){var e=arguments;t={root:e[0],directed:e[1]}}var n,r,i,o=s_(t),a=o.root,s=o.directed,l=this,u=!1;a&&(i=$v(a)?this.filter(a)[0].id():a[0].id());var c={},d={};s?l.forEach((function(t){var e=t.id();if(t.isNode()){var i=t.indegree(!0),o=t.outdegree(!0),a=i-o,s=o-i;1==a?n?u=!0:n=e:1==s?r?u=!0:r=e:(s>1||a>1)&&(u=!0),c[e]=[],t.outgoers().forEach((function(t){t.isEdge()&&c[e].push(t.id())}))}else d[e]=[void 0,t.target().id()]})):l.forEach((function(t){var e=t.id();t.isNode()?(t.degree(!0)%2&&(n?r?u=!0:r=e:n=e),c[e]=[],t.connectedEdges().forEach((function(t){return c[e].push(t.id())}))):d[e]=[t.source().id(),t.target().id()]}));var h={found:!1,trail:void 0};if(u)return h;if(r&&n)if(s){if(i&&r!=i)return h;i=r}else{if(i&&r!=i&&n!=i)return h;i||(i=r)}else i||(i=l[0].id());var f=function(t){for(var e,n,r,i=t,o=[t];c[i].length;)e=c[i].shift(),n=d[e][0],i!=(r=d[e][1])?(c[r]=c[r].filter((function(t){return t!=e})),i=r):s||i==n||(c[n]=c[n].filter((function(t){return t!=e})),i=n),o.unshift(e),o.unshift(i);return o},p=[],g=[];for(g=f(i);1!=g.length;)0==c[g[0]].length?(p.unshift(l.getElementById(g.shift())),p.unshift(l.getElementById(g.shift()))):g=f(g.shift()).concat(g);for(var v in p.unshift(l.getElementById(g.shift())),c)if(c[v].length)return h;return h.found=!0,h.trail=this.spawn(p),h}},{hopcroftTarjanBiconnected:l_,htbc:l_,htb:l_,hopcroftTarjanBiconnectedComponents:l_},{tarjanStronglyConnected:u_,tsc:u_,tscc:u_,tarjanStronglyConnectedComponents:u_}].forEach((function(t){vy(c_,t)}));
/*!
  Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
  Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
  Licensed under The MIT License (http://opensource.org/licenses/MIT)
  */
var d_=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};d_.prototype={fulfill:function(t){return h_(this,1,"fulfillValue",t)},reject:function(t){return h_(this,2,"rejectReason",t)},then:function(t,e){var n=new d_;return this.onFulfilled.push(g_(t,n,"fulfill")),this.onRejected.push(g_(e,n,"reject")),f_(this),n.proxy}};var h_=function(t,e,n,r){return 0===t.state&&(t.state=e,t[n]=r,f_(t)),t},f_=function(t){1===t.state?p_(t,"onFulfilled",t.fulfillValue):2===t.state&&p_(t,"onRejected",t.rejectReason)},p_=function(t,e,n){if(0!==t[e].length){var r=t[e];t[e]=[];var i=function(){for(var t=0;t<r.length;t++)r[t](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},g_=function(t,e,n){return function(r){if("function"!=typeof t)e[n].call(e,r);else{var i;try{i=t(r)}catch(t){return void e.reject(t)}v_(e,i)}}},v_=function t(e,n){if(e!==n&&e.proxy!==n){var r;if("object"===Bv(n)&&null!==n||"function"==typeof n)try{r=n.then}catch(t){return void e.reject(t)}if("function"!=typeof r)e.fulfill(n);else{var i=!1;try{r.call(n,(function(r){i||(i=!0,r===n?e.reject(new TypeError("circular thenable chain")):t(e,r))}),(function(t){i||(i=!0,e.reject(t))}))}catch(t){i||e.reject(t)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};d_.all=function(t){return new d_((function(e,n){for(var r=new Array(t.length),i=0,o=function(n,o){r[n]=o,++i===t.length&&e(r)},a=0;a<t.length;a++)!function(e){var r=t[e];null!=r&&null!=r.then?r.then((function(t){o(e,t)}),(function(t){n(t)})):o(e,r)}(a)}))},d_.resolve=function(t){return new d_((function(e,n){e(t)}))},d_.reject=function(t){return new d_((function(e,n){n(t)}))};var y_="undefined"!=typeof Promise?Promise:d_,m_=function(t,e,n){var r=oy(t),i=!r,o=this._private=vy({duration:1e3},e,n);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Zv(o.complete)&&o.completes.push(o.complete),i){var a=t.position();o.startPosition=o.startPosition||{x:a.x,y:a.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(r){var s=t.pan();o.startPan={x:s.x,y:s.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},b_=m_.prototype;vy(b_,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var e=t.target._private.animation;(t.queue?e.queue:e.current).push(this),ny(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return 1===t.progress&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var e=this._private;return void 0===t?e.progress*e.duration:this.progress(t/e.duration)},progress:function(t){var e=this._private,n=e.playing;return void 0===t?e.progress:(n&&this.pause(),e.progress=t,e.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(e,n){var r=t[e];null!=r&&(t[e]=t[n],t[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var r=0;r<t.style.length;r++){var i=t.style[r],o=i.name,a=t.startStyle[o];t.startStyle[o]=i,t.style[r]=a}return e&&this.play(),this},promise:function(t){var e,n=this._private;switch(t){case"frame":e=n.frames;break;default:case"complete":case"completed":e=n.completes}return new y_((function(t,n){e.push((function(){t()}))}))}}),b_.complete=b_.completed,b_.run=b_.play,b_.running=b_.playing;var __={};[{animated:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var e=t[0];return e?e._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var e=0;e<t.length;e++){t[e]._private.animation.queue=[]}return this}},delay:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animate({delay:t,duration:t,complete:e}):this}},delayAnimation:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animation({delay:t,duration:t,complete:e}):this}},animation:function(){return function(t,e){var n=void 0!==this.length,r=n?this:[this],i=this._private.cy||this,o=!n,a=!o;if(!i.styleEnabled())return this;var s=i.style();if(t=vy({},t,e),0===Object.keys(t).length)return new m_(r[0],t);switch(void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}if(a&&(t.style=s.getPropsList(t.style||t.css),t.css=void 0),a&&null!=t.renderedPosition){var l=t.renderedPosition,u=i.pan(),c=i.zoom();t.position=wm(l,c,u)}if(o&&null!=t.panBy){var d=t.panBy,h=i.pan();t.pan={x:h.x+d.x,y:h.y+d.y}}var f=t.center||t.centre;if(o&&null!=f){var p=i.getCenterPan(f.eles,t.zoom);null!=p&&(t.pan=p)}if(o&&null!=t.fit){var g=t.fit,v=i.getFitViewport(g.eles||g.boundingBox,g.padding);null!=v&&(t.pan=v.pan,t.zoom=v.zoom)}if(o&&Qv(t.zoom)){var y=i.getZoomedViewport(t.zoom);null!=y?(y.zoomed&&(t.zoom=y.zoom),y.panned&&(t.pan=y.pan)):t.zoom=null}return new m_(r[0],t)}},animate:function(){return function(t,e){var n=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;e&&(t=vy({},t,e));for(var r=0;r<n.length;r++){var i=n[r],o=i.animated()&&(void 0===t.queue||t.queue);i.animation(t,o?{queue:!0}:void 0).play()}return this}},stop:function(){return function(t,e){var n=void 0!==this.length?this:[this],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var i=0;i<n.length;i++){for(var o=n[i]._private,a=o.animation.current,s=0;s<a.length;s++){var l=a[s]._private;e&&(l.duration=0)}t&&(o.animation.queue=[]),e||(o.animation.current=[])}return r.notify("draw"),this}}},{data:function(t){return t=vy({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(t){},beforeSet:function(t,e){},onSet:function(t){},canSet:function(t){return!0}},t),function(e,n){var r=t,i=void 0!==this.length,o=i?this:[this],a=i?this[0]:this;if($v(e)){var s;if(r.allowGetting&&void 0===n)return a&&(r.beforeGet(a),s=a._private[r.field][e]),s;if(r.allowSetting&&void 0!==n&&!r.immutableKeys[e]){var l=Vv({},e,n);r.beforeSet(this,l);for(var u=0,c=o.length;u<c;u++){var d=o[u];r.canSet(d)&&(d._private[r.field][e]=n)}r.updateStyle&&this.updateStyle(),r.onSet(this),r.settingTriggersEvent&&this[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&Qv(e)){var h,f,p=e,g=Object.keys(p);r.beforeSet(this,p);for(var v=0;v<g.length;v++){if(f=p[h=g[v]],!r.immutableKeys[h])for(var y=0;y<o.length;y++){var m=o[y];r.canSet(m)&&(m._private[r.field][h]=f)}}r.updateStyle&&this.updateStyle(),r.onSet(this),r.settingTriggersEvent&&this[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&Zv(e)){var b=e;this.on(r.bindingEvent,b)}else if(r.allowGetting&&void 0===e){var _;return a&&(r.beforeGet(a),_=a._private[r.field]),_}return this}},removeData:function(t){return t=vy({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},t),function(e){var n=t,r=void 0!==this.length?this:[this];if($v(e)){for(var i=e.split(/\s+/),o=i.length,a=0;a<o;a++){var s=i[a];if(!sy(s))if(!n.immutableKeys[s])for(var l=0,u=r.length;l<u;l++)r[l]._private[n.field][s]=void 0}n.triggerEvent&&this[n.triggerFnName](n.event)}else if(void 0===e){for(var c=0,d=r.length;c<d;c++)for(var h=r[c]._private[n.field],f=Object.keys(h),p=0;p<f.length;p++){var g=f[p];!n.immutableKeys[g]&&(h[g]=void 0)}n.triggerEvent&&this[n.triggerFnName](n.event)}return this}}},{eventAliasesOn:function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(t,e){var n=this,r=Array.prototype.slice.call(arguments,0);return new y_((function(t,e){var i=r.concat([function(e){n.off.apply(n,o),t(e)}]),o=i.concat([]);n.on.apply(n,i)}))}}}].forEach((function(t){vy(__,t)}));var w_={animate:__.animate(),animation:__.animation(),animated:__.animated(),clearQueue:__.clearQueue(),delay:__.delay(),delayAnimation:__.delayAnimation(),stop:__.stop()},x_={classes:function(t){if(void 0===t){var e=[];return this[0]._private.classes.forEach((function(t){return e.push(t)})),e}Jv(t)||(t=(t||"").match(/\S+/g)||[]);for(var n=[],r=new rm(t),i=0;i<this.length;i++){for(var o=this[i],a=o._private,s=a.classes,l=!1,u=0;u<t.length;u++){var c=t[u];if(!s.has(c)){l=!0;break}}l||(l=s.size!==t.length),l&&(a.classes=r,n.push(o))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),this},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var e=this[0];return null!=e&&e._private.classes.has(t)},toggleClass:function(t,e){Jv(t)||(t=t.match(/\S+/g)||[]);for(var n=void 0===e,r=[],i=0,o=this.length;i<o;i++)for(var a=this[i],s=a._private.classes,l=!1,u=0;u<t.length;u++){var c=t[u],d=s.has(c),h=!1;e||n&&!d?(s.add(c),h=!0):(!e||n&&d)&&(s.delete(c),h=!0),!l&&h&&(r.push(a),l=!0)}return r.length>0&&this.spawn(r).updateStyle().emit("class"),this},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,e){var n=this;if(null==e)e=250;else if(0===e)return n;return n.addClass(t),setTimeout((function(){n.removeClass(t)}),e),n}};x_.className=x_.classNames=x_.classes;var E_={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:py,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};E_.variable="(?:[\\w-]|(?:\\\\"+E_.metaChar+"))+",E_.value=E_.string+"|"+E_.number,E_.className=E_.variable,E_.id=E_.variable,function(){var t,e,n;for(t=E_.comparatorOp.split("|"),n=0;n<t.length;n++)e=t[n],E_.comparatorOp+="|@"+e;for(t=E_.comparatorOp.split("|"),n=0;n<t.length;n++)(e=t[n]).indexOf("!")>=0||"="!==e&&(E_.comparatorOp+="|\\!"+e)}();var k_=0,S_=1,C_=2,T_=3,N_=4,A_=5,O_=6,P_=7,D_=8,M_=9,L_=10,I_=11,R_=12,B_=13,j_=14,F_=15,z_=16,V_=17,q_=18,H_=19,U_=20,G_=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort((function(t,e){return function(t,e){return-1*gy(t,e)}(t.selector,e.selector)})),W_=function(){for(var t,e={},n=0;n<G_.length;n++)e[(t=G_[n]).selector]=t.matches;return e}(),Y_="("+G_.map((function(t){return t.selector})).join("|")+")",X_=function(t){return t.replace(new RegExp("\\\\("+E_.metaChar+")","g"),(function(t,e){return e}))},K_=function(t,e,n){t[t.length-1]=n},$_=[{name:"group",query:!0,regex:"("+E_.group+")",populate:function(t,e,n){var r=qv(n,1)[0];e.checks.push({type:k_,value:"*"===r?r:r+"s"})}},{name:"state",query:!0,regex:Y_,populate:function(t,e,n){var r=qv(n,1)[0];e.checks.push({type:P_,value:r})}},{name:"id",query:!0,regex:"\\#("+E_.id+")",populate:function(t,e,n){var r=qv(n,1)[0];e.checks.push({type:D_,value:X_(r)})}},{name:"className",query:!0,regex:"\\.("+E_.className+")",populate:function(t,e,n){var r=qv(n,1)[0];e.checks.push({type:M_,value:X_(r)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+E_.variable+")\\s*\\]",populate:function(t,e,n){var r=qv(n,1)[0];e.checks.push({type:N_,field:X_(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+E_.variable+")\\s*("+E_.comparatorOp+")\\s*("+E_.value+")\\s*\\]",populate:function(t,e,n){var r=qv(n,3),i=r[0],o=r[1],a=r[2];a=null!=new RegExp("^"+E_.string+"$").exec(a)?a.substring(1,a.length-1):parseFloat(a),e.checks.push({type:T_,field:X_(i),operator:o,value:a})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+E_.boolOp+")\\s*("+E_.variable+")\\s*\\]",populate:function(t,e,n){var r=qv(n,2),i=r[0],o=r[1];e.checks.push({type:A_,field:X_(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+E_.meta+")\\s*("+E_.comparatorOp+")\\s*("+E_.number+")\\s*\\]\\]",populate:function(t,e,n){var r=qv(n,3),i=r[0],o=r[1],a=r[2];e.checks.push({type:O_,field:X_(i),operator:o,value:parseFloat(a)})}},{name:"nextQuery",separator:!0,regex:E_.separator,populate:function(t,e){var n=t.currentSubject,r=t.edgeCount,i=t.compoundCount,o=t[t.length-1];return null!=n&&(o.subject=n,t.currentSubject=null),o.edgeCount=r,o.compoundCount=i,t.edgeCount=0,t.compoundCount=0,t[t.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:E_.directedEdge,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},r=e,i={checks:[]};return n.checks.push({type:I_,source:r,target:i}),K_(t,0,n),t.edgeCount++,i}var o={checks:[]},a=e,s={checks:[]};return o.checks.push({type:R_,source:a,target:s}),K_(t,0,o),t.edgeCount++,s}},{name:"undirectedEdge",separator:!0,regex:E_.undirectedEdge,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},r=e,i={checks:[]};return n.checks.push({type:L_,nodes:[r,i]}),K_(t,0,n),t.edgeCount++,i}var o={checks:[]},a=e,s={checks:[]};return o.checks.push({type:j_,node:a,neighbor:s}),K_(t,0,o),s}},{name:"child",separator:!0,regex:E_.child,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},r={checks:[]},i=t[t.length-1];return n.checks.push({type:F_,parent:i,child:r}),K_(t,0,n),t.compoundCount++,r}if(t.currentSubject===e){var o={checks:[]},a=t[t.length-1],s={checks:[]},l={checks:[]},u={checks:[]},c={checks:[]};return o.checks.push({type:H_,left:a,right:s,subject:l}),l.checks=e.checks,e.checks=[{type:U_}],c.checks.push({type:U_}),s.checks.push({type:V_,parent:c,child:u}),K_(t,0,o),t.currentSubject=l,t.compoundCount++,u}var d={checks:[]},h={checks:[]},f=[{type:V_,parent:d,child:h}];return d.checks=e.checks,e.checks=f,t.compoundCount++,h}},{name:"descendant",separator:!0,regex:E_.descendant,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},r={checks:[]},i=t[t.length-1];return n.checks.push({type:z_,ancestor:i,descendant:r}),K_(t,0,n),t.compoundCount++,r}if(t.currentSubject===e){var o={checks:[]},a=t[t.length-1],s={checks:[]},l={checks:[]},u={checks:[]},c={checks:[]};return o.checks.push({type:H_,left:a,right:s,subject:l}),l.checks=e.checks,e.checks=[{type:U_}],c.checks.push({type:U_}),s.checks.push({type:q_,ancestor:c,descendant:u}),K_(t,0,o),t.currentSubject=l,t.compoundCount++,u}var d={checks:[]},h={checks:[]},f=[{type:q_,ancestor:d,descendant:h}];return d.checks=e.checks,e.checks=f,t.compoundCount++,h}},{name:"subject",modifier:!0,regex:E_.subject,populate:function(t,e){if(null!=t.currentSubject&&t.currentSubject!==e)return Gy("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e;var n=t[t.length-1].checks[0],r=null==n?null:n.type;r===I_?n.type=B_:r===L_&&(n.type=j_,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];$_.forEach((function(t){return t.regexObj=new RegExp("^"+t.regex)}));var Z_=function(t){for(var e,n,r,i=0;i<$_.length;i++){var o=$_[i],a=o.name,s=t.match(o.regexObj);if(null!=s){n=s,e=o,r=a;var l=s[0];t=t.substring(l.length);break}}return{expr:e,match:n,name:r,remaining:t}},J_={parse:function(t){var e=this.inputText=t,n=this[0]={checks:[]};for(this.length=1,e=function(t){var e=t.match(/^\s+/);if(e){var n=e[0];t=t.substring(n.length)}return t}(e);;){var r=Z_(e);if(null==r.expr)return Gy("The selector `"+t+"`is invalid"),!1;var i=r.match.slice(1),o=r.expr.populate(this,n,i);if(!1===o)return!1;if(null!=o&&(n=o),(e=r.remaining).match(/^\s*$/))break}var a=this[this.length-1];null!=this.currentSubject&&(a.subject=this.currentSubject),a.edgeCount=this.edgeCount,a.compoundCount=this.compoundCount;for(var s=0;s<this.length;s++){var l=this[s];if(l.compoundCount>0&&l.edgeCount>0)return Gy("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return Gy("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&Gy("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var t=function(t){return null==t?"":t},e=function(e){return $v(e)?'"'+e+'"':t(e)},n=function(t){return" "+t+" "},r=function(r,o){var a=r.type,s=r.value;switch(a){case k_:var l=t(s);return l.substring(0,l.length-1);case T_:var u=r.field,c=r.operator;return"["+u+n(t(c))+e(s)+"]";case A_:var d=r.operator,h=r.field;return"["+t(d)+h+"]";case N_:return"["+r.field+"]";case O_:var f=r.operator;return"[["+r.field+n(t(f))+e(s)+"]]";case P_:return s;case D_:return"#"+s;case M_:return"."+s;case V_:case F_:return i(r.parent,o)+n(">")+i(r.child,o);case q_:case z_:return i(r.ancestor,o)+" "+i(r.descendant,o);case H_:var p=i(r.left,o),g=i(r.subject,o),v=i(r.right,o);return p+(p.length>0?" ":"")+g+v;case U_:return""}},i=function(t,e){return t.checks.reduce((function(n,i,o){return n+(e===t&&0===o?"$":"")+r(i,e)}),"")},o="",a=0;a<this.length;a++){var s=this[a];o+=i(s,s.subject),this.length>1&&a<this.length-1&&(o+=", ")}return this.toStringCache=o,o}},Q_=function(t,e,n){var r,i,o,a=$v(t),s=ty(t),l=$v(n),u=!1,c=!1,d=!1;switch(e.indexOf("!")>=0&&(e=e.replace("!",""),c=!0),e.indexOf("@")>=0&&(e=e.replace("@",""),u=!0),(a||l||u)&&(i=a||s?""+t:"",o=""+n),u&&(t=i=i.toLowerCase(),n=o=o.toLowerCase()),e){case"*=":r=i.indexOf(o)>=0;break;case"$=":r=i.indexOf(o,i.length-o.length)>=0;break;case"^=":r=0===i.indexOf(o);break;case"=":r=t===n;break;case">":d=!0,r=t>n;break;case">=":d=!0,r=t>=n;break;case"<":d=!0,r=t<n;break;case"<=":d=!0,r=t<=n;break;default:r=!1}return!c||null==t&&d||(r=!r),r},tw=function(t,e){return t.data(e)},ew=[],nw=function(t,e){return t.checks.every((function(t){return ew[t.type](t,e)}))};ew[k_]=function(t,e){var n=t.value;return"*"===n||n===e.group()},ew[P_]=function(t,e){return function(t,e){return W_[t](e)}(t.value,e)},ew[D_]=function(t,e){var n=t.value;return e.id()===n},ew[M_]=function(t,e){var n=t.value;return e.hasClass(n)},ew[O_]=function(t,e){var n=t.field,r=t.operator,i=t.value;return Q_(function(t,e){return t[e]()}(e,n),r,i)},ew[T_]=function(t,e){var n=t.field,r=t.operator,i=t.value;return Q_(tw(e,n),r,i)},ew[A_]=function(t,e){var n=t.field,r=t.operator;return function(t,e){switch(e){case"?":return!!t;case"!":return!t;case"^":return void 0===t}}(tw(e,n),r)},ew[N_]=function(t,e){var n=t.field;t.operator;return void 0!==tw(e,n)},ew[L_]=function(t,e){var n=t.nodes[0],r=t.nodes[1],i=e.source(),o=e.target();return nw(n,i)&&nw(r,o)||nw(r,i)&&nw(n,o)},ew[j_]=function(t,e){return nw(t.node,e)&&e.neighborhood().some((function(e){return e.isNode()&&nw(t.neighbor,e)}))},ew[I_]=function(t,e){return nw(t.source,e.source())&&nw(t.target,e.target())},ew[R_]=function(t,e){return nw(t.source,e)&&e.outgoers().some((function(e){return e.isNode()&&nw(t.target,e)}))},ew[B_]=function(t,e){return nw(t.target,e)&&e.incomers().some((function(e){return e.isNode()&&nw(t.source,e)}))},ew[F_]=function(t,e){return nw(t.child,e)&&nw(t.parent,e.parent())},ew[V_]=function(t,e){return nw(t.parent,e)&&e.children().some((function(e){return nw(t.child,e)}))},ew[z_]=function(t,e){return nw(t.descendant,e)&&e.ancestors().some((function(e){return nw(t.ancestor,e)}))},ew[q_]=function(t,e){return nw(t.ancestor,e)&&e.descendants().some((function(e){return nw(t.descendant,e)}))},ew[H_]=function(t,e){return nw(t.subject,e)&&nw(t.left,e)&&nw(t.right,e)},ew[U_]=function(){return!0},ew[S_]=function(t,e){return t.value.has(e)},ew[C_]=function(t,e){return(0,t.value)(e)};var rw=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==t||$v(t)&&t.match(/^\s*$/)||(ny(t)?this.addQuery({checks:[{type:S_,value:t.collection()}]}):Zv(t)?this.addQuery({checks:[{type:C_,value:t}]}):$v(t)?this.parse(t)||(this.invalid=!0):Hy("A selector must be created from a string; found "))},iw=rw.prototype;[J_,{matches:function(t){for(var e=0;e<this.length;e++){var n=this[e];if(nw(n,t))return!0}return!1},filter:function(t){var e=this;if(1===e.length&&1===e[0].checks.length&&e[0].checks[0].type===D_)return t.getElementById(e[0].checks[0].value).collection();var n=function(t){for(var n=0;n<e.length;n++){var r=e[n];if(nw(r,t))return!0}return!1};return null==e.text()&&(n=function(){return!0}),t.filter(n)}}].forEach((function(t){return vy(iw,t)})),iw.text=function(){return this.inputText},iw.size=function(){return this.length},iw.eq=function(t){return this[t]},iw.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()},iw.addQuery=function(t){this[this.length++]=t},iw.selector=iw.toString;var ow={allAre:function(t){var e=new rw(t);return this.every((function(t){return e.matches(t)}))},is:function(t){var e=new rw(t);return this.some((function(t){return e.matches(t)}))},some:function(t,e){for(var n=0;n<this.length;n++){if(e?t.apply(e,[this[n],n,this]):t(this[n],n,this))return!0}return!1},every:function(t,e){for(var n=0;n<this.length;n++){if(!(e?t.apply(e,[this[n],n,this]):t(this[n],n,this)))return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var e=this.length;return e===t.length&&(1===e?this[0]===t[0]:this.every((function(e){return t.hasElementWithId(e.id())})))},anySame:function(t){return t=this.cy().collection(t),this.some((function(e){return t.hasElementWithId(e.id())}))},allAreNeighbors:function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every((function(t){return e.hasElementWithId(t.id())}))},contains:function(t){t=this.cy().collection(t);var e=this;return t.every((function(t){return e.hasElementWithId(t.id())}))}};ow.allAreNeighbours=ow.allAreNeighbors,ow.has=ow.contains,ow.equal=ow.equals=ow.same;var aw,sw,lw=function(t,e){return function(n,r,i,o){var a,s=n;if(null==s?a="":ny(s)&&1===s.length&&(a=s.id()),1===this.length&&a){var l=this[0]._private,u=l.traversalCache=l.traversalCache||{},c=u[e]=u[e]||[],d=Dy(a),h=c[d];return h||(c[d]=t.call(this,n,r,i,o))}return t.call(this,n,r,i,o)}},uw={parent:function(t){var e=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var i=this[r]._private.parent;i&&e.push(i)}return this.spawn(e,{unique:!0}).filter(t)},parents:function(t){for(var e=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];e.push(i)}n=n.parent()}return this.spawn(e,{unique:!0}).filter(t)},commonAncestors:function(t){for(var e,n=0;n<this.length;n++){var r=this[n].parents();e=(e=e||r).intersect(r)}return e.filter(t)},orphans:function(t){return this.stdFilter((function(t){return t.isOrphan()})).filter(t)},nonorphans:function(t){return this.stdFilter((function(t){return t.isChild()})).filter(t)},children:lw((function(t){for(var e=[],n=0;n<this.length;n++)for(var r=this[n]._private.children,i=0;i<r.length;i++)e.push(r[i]);return this.spawn(e,{unique:!0}).filter(t)}),"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&0!==t._private.children.length},isChildless:function(){var t=this[0];if(t)return t.isNode()&&0===t._private.children.length},isChild:function(){var t=this[0];if(t)return t.isNode()&&null!=t._private.parent},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&null==t._private.parent},descendants:function(t){var e=[];return function t(n){for(var r=0;r<n.length;r++){var i=n[r];e.push(i),i.children().nonempty()&&t(i.children())}}(this.children()),this.spawn(e,{unique:!0}).filter(t)}};function cw(t,e,n,r){for(var i=[],o=new rm,a=t.cy().hasCompoundNodes(),s=0;s<t.length;s++){var l=t[s];n?i.push(l):a&&r(i,o,l)}for(;i.length>0;){var u=i.shift();e(u),o.add(u.id()),a&&r(i,o,u)}return t}function dw(t,e,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var o=r[i];e.has(o.id())||t.push(o)}}function hw(t,e,n){if(n.isChild()){var r=n._private.parent;e.has(r.id())||t.push(r)}}function fw(t,e,n){hw(t,e,n),dw(t,e,n)}uw.forEachDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return cw(this,t,e,dw)},uw.forEachUp=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return cw(this,t,e,hw)},uw.forEachUpAndDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return cw(this,t,e,fw)},uw.ancestors=uw.parents,(aw=sw={data:__.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:__.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:__.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:__.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:__.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:__.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}}).attr=aw.data,aw.removeAttr=aw.removeData;var pw,gw,vw=sw,yw={};function mw(t){return function(e){if(void 0===e&&(e=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var n=0,r=this[0],i=r._private.edges,o=0;o<i.length;o++){var a=i[o];!e&&a.isLoop()||(n+=t(r,a))}return n}}}function bw(t,e){return function(n){for(var r,i=this.nodes(),o=0;o<i.length;o++){var a=i[o][t](n);void 0===a||void 0!==r&&!e(a,r)||(r=a)}return r}}vy(yw,{degree:mw((function(t,e){return e.source().same(e.target())?2:1})),indegree:mw((function(t,e){return e.target().same(t)?1:0})),outdegree:mw((function(t,e){return e.source().same(t)?1:0}))}),vy(yw,{minDegree:bw("degree",(function(t,e){return t<e})),maxDegree:bw("degree",(function(t,e){return t>e})),minIndegree:bw("indegree",(function(t,e){return t<e})),maxIndegree:bw("indegree",(function(t,e){return t>e})),minOutdegree:bw("outdegree",(function(t,e){return t<e})),maxOutdegree:bw("outdegree",(function(t,e){return t>e}))}),vy(yw,{totalDegree:function(t){for(var e=0,n=this.nodes(),r=0;r<n.length;r++)e+=n[r].degree(t);return e}});var _w=function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(!i.locked()){var o=i._private.position,a={x:null!=e.x?e.x-o.x:0,y:null!=e.y?e.y-o.y:0};!i.isParent()||0===a.x&&0===a.y||i.children().shift(a,n),i.shiftCachedBoundingBox(a)}}},ww={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,e){_w(t,e,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};(pw=gw={position:__.data(ww),silentPosition:__.data(vy({},ww,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,e){_w(t,e,!0)}})),positions:function(t,e){if(Qv(t))e?this.silentPosition(t):this.position(t);else if(Zv(t)){var n=t,r=this.cy();r.startBatch();for(var i=0;i<this.length;i++){var o,a=this[i];(o=n(a,i))&&(e?a.silentPosition(o):a.position(o))}r.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,e,n){var r;if(Qv(t)?(r={x:ty(t.x)?t.x:0,y:ty(t.y)?t.y:0},n=e):$v(t)&&ty(e)&&((r={x:0,y:0})[t]=e),null!=r){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var a=this[o],s=a.position(),l={x:s.x+r.x,y:s.y+r.y};n?a.silentPosition(l):a.position(l)}i.endBatch()}return this},silentShift:function(t,e){return Qv(t)?this.shift(t,!0):$v(t)&&ty(e)&&this.shift(t,e,!0),this},renderedPosition:function(t,e){var n=this[0],r=this.cy(),i=r.zoom(),o=r.pan(),a=Qv(t)?t:void 0,s=void 0!==a||void 0!==e&&$v(t);if(n&&n.isNode()){if(!s){var l=n.position();return a=_m(l,i,o),void 0===t?a:a[t]}for(var u=0;u<this.length;u++){var c=this[u];void 0!==e?c.position(t,(e-o[t])/i):void 0!==a&&c.position(wm(a,i,o))}}else if(!s)return;return this},relativePosition:function(t,e){var n=this[0],r=this.cy(),i=Qv(t)?t:void 0,o=void 0!==i||void 0!==e&&$v(t),a=r.hasCompoundNodes();if(n&&n.isNode()){if(!o){var s=n.position(),l=a?n.parent():null,u=l&&l.length>0,c=u;u&&(l=l[0]);var d=c?l.position():{x:0,y:0};return i={x:s.x-d.x,y:s.y-d.y},void 0===t?i:i[t]}for(var h=0;h<this.length;h++){var f=this[h],p=a?f.parent():null,g=p&&p.length>0,v=g;g&&(p=p[0]);var y=v?p.position():{x:0,y:0};void 0!==e?f.position(t,e+y[t]):void 0!==i&&f.position({x:i.x+y.x,y:i.y+y.y})}}else if(!o)return;return this}}).modelPosition=pw.point=pw.position,pw.modelPositions=pw.points=pw.positions,pw.renderedPoint=pw.renderedPosition,pw.relativePoint=pw.relativePosition;var xw,Ew,kw=gw;xw=Ew={},Ew.renderedBoundingBox=function(t){var e=this.boundingBox(t),n=this.cy(),r=n.zoom(),i=n.pan(),o=e.x1*r+i.x,a=e.x2*r+i.x,s=e.y1*r+i.y,l=e.y2*r+i.y;return{x1:o,x2:a,y1:s,y2:l,w:a-o,h:l-s}},Ew.dirtyCompoundBoundsCache=function(){var t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp((function(t){if(t.isParent()){var e=t._private;e.compoundBoundsClean=!1,e.bbCache=null,t.emitAndNotify("bounds")}})),this):this},Ew.updateCompoundBounds=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function n(t){if(t.isParent()){var e=t._private,n=t.children(),r="include"===t.pstyle("compound-sizing-wrt-labels").value,i={width:{val:t.pstyle("min-width").pfValue,left:t.pstyle("min-width-bias-left"),right:t.pstyle("min-width-bias-right")},height:{val:t.pstyle("min-height").pfValue,top:t.pstyle("min-height-bias-top"),bottom:t.pstyle("min-height-bias-bottom")}},o=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),a=e.position;0!==o.w&&0!==o.h||((o={w:t.pstyle("width").pfValue,h:t.pstyle("height").pfValue}).x1=a.x-o.w/2,o.x2=a.x+o.w/2,o.y1=a.y-o.h/2,o.y2=a.y+o.h/2);var s=i.width.left.value;"px"===i.width.left.units&&i.width.val>0&&(s=100*s/i.width.val);var l=i.width.right.value;"px"===i.width.right.units&&i.width.val>0&&(l=100*l/i.width.val);var u=i.height.top.value;"px"===i.height.top.units&&i.height.val>0&&(u=100*u/i.height.val);var c=i.height.bottom.value;"px"===i.height.bottom.units&&i.height.val>0&&(c=100*c/i.height.val);var d=y(i.width.val-o.w,s,l),h=d.biasDiff,f=d.biasComplementDiff,p=y(i.height.val-o.h,u,c),g=p.biasDiff,v=p.biasComplementDiff;e.autoPadding=function(t,e,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return t>0?n.pfValue*t:0;case"height":return e>0?n.pfValue*e:0;case"average":return t>0&&e>0?n.pfValue*(t+e)/2:0;case"min":return t>0&&e>0?t>e?n.pfValue*e:n.pfValue*t:0;case"max":return t>0&&e>0?t>e?n.pfValue*t:n.pfValue*e:0;default:return 0}}(o.w,o.h,t.pstyle("padding"),t.pstyle("padding-relative-to").value),e.autoWidth=Math.max(o.w,i.width.val),a.x=(-h+o.x1+o.x2+f)/2,e.autoHeight=Math.max(o.h,i.height.val),a.y=(-g+o.y1+o.y2+v)/2}function y(t,e,n){var r=0,i=0,o=e+n;return t>0&&o>0&&(r=e/o*t,i=n/o*t),{biasDiff:r,biasComplementDiff:i}}}for(var r=0;r<this.length;r++){var i=this[r],o=i._private;o.compoundBoundsClean||(n(i),e.batching()||(o.compoundBoundsClean=!0))}return this};var Sw=function(t){return t===1/0||t===-1/0?0:t},Cw=function(t,e,n,r,i){r-e!=0&&i-n!=0&&null!=e&&null!=n&&null!=r&&null!=i&&(t.x1=e<t.x1?e:t.x1,t.x2=r>t.x2?r:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=i>t.y2?i:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},Tw=function(t,e){return null==e?t:Cw(t,e.x1,e.y1,e.x2,e.y2)},Nw=function(t,e,n){return Qy(t,e,n)},Aw=function(t,e,n){if(!e.cy().headless()){var r,i,o=e._private,a=o.rstyle,s=a.arrowWidth/2;if("none"!==e.pstyle(n+"-arrow-shape").value){"source"===n?(r=a.srcX,i=a.srcY):"target"===n?(r=a.tgtX,i=a.tgtY):(r=a.midX,i=a.midY);var l=o.arrowBounds=o.arrowBounds||{},u=l[n]=l[n]||{};u.x1=r-s,u.y1=i-s,u.x2=r+s,u.y2=i+s,u.w=u.x2-u.x1,u.h=u.y2-u.y1,Lm(u,1),Cw(t,u.x1,u.y1,u.x2,u.y2)}}},Ow=function(t,e,n){if(!e.cy().headless()){var r;r=n?n+"-":"";var i=e._private,o=i.rstyle;if(e.pstyle(r+"label").strValue){var a,s,l,u,c=e.pstyle("text-halign"),d=e.pstyle("text-valign"),h=Nw(o,"labelWidth",n),f=Nw(o,"labelHeight",n),p=Nw(o,"labelX",n),g=Nw(o,"labelY",n),v=e.pstyle(r+"text-margin-x").pfValue,y=e.pstyle(r+"text-margin-y").pfValue,m=e.isEdge(),b=e.pstyle(r+"text-rotation"),_=e.pstyle("text-outline-width").pfValue,w=e.pstyle("text-border-width").pfValue/2,x=e.pstyle("text-background-padding").pfValue,E=f,k=h,S=k/2,C=E/2;if(m)a=p-S,s=p+S,l=g-C,u=g+C;else{switch(c.value){case"left":a=p-k,s=p;break;case"center":a=p-S,s=p+S;break;case"right":a=p,s=p+k}switch(d.value){case"top":l=g-E,u=g;break;case"center":l=g-C,u=g+C;break;case"bottom":l=g,u=g+E}}a+=v-Math.max(_,w)-x,s+=v+Math.max(_,w)+x,l+=y-Math.max(_,w)-x,u+=y+Math.max(_,w)+x;var T=n||"main",N=i.labelBounds,A=N[T]=N[T]||{};A.x1=a,A.y1=l,A.x2=s,A.y2=u,A.w=s-a,A.h=u-l,Lm(A,1);var O=m&&"autorotate"===b.strValue,P=null!=b.pfValue&&0!==b.pfValue;if(O||P){var D=O?Nw(i.rstyle,"labelAngle",n):b.pfValue,M=Math.cos(D),L=Math.sin(D),I=(a+s)/2,R=(l+u)/2;if(!m){switch(c.value){case"left":I=s;break;case"right":I=a}switch(d.value){case"top":R=u;break;case"bottom":R=l}}var B=function(t,e){return{x:(t-=I)*M-(e-=R)*L+I,y:t*L+e*M+R}},j=B(a,l),F=B(a,u),z=B(s,l),V=B(s,u);a=Math.min(j.x,F.x,z.x,V.x),s=Math.max(j.x,F.x,z.x,V.x),l=Math.min(j.y,F.y,z.y,V.y),u=Math.max(j.y,F.y,z.y,V.y)}var q=T+"Rot",H=N[q]=N[q]||{};H.x1=a,H.y1=l,H.x2=s,H.y2=u,H.w=s-a,H.h=u-l,Cw(t,a,l,s,u),Cw(i.labelBounds.all,a,l,s,u)}return t}},Pw=function(t){var e=0,n=function(t){return(t?1:0)<<e++},r=0;return r+=n(t.incudeNodes),r+=n(t.includeEdges),r+=n(t.includeLabels),r+=n(t.includeMainLabels),r+=n(t.includeSourceLabels),r+=n(t.includeTargetLabels),r+=n(t.includeOverlays)},Dw=function(t){if(t.isEdge()){var e=t.source().position(),n=t.target().position(),r=function(t){return Math.round(t)};return function(t,e){var n={value:0,done:!1},r=0,i=t.length;return Ty({next:function(){return r<i?n.value=t[r++]:n.done=!0,n}},e)}([r(e.x),r(e.y),r(n.x),r(n.y)])}return 0},Mw=function(t,e){var n,r=t._private,i=t.isEdge(),o=(null==e?Iw:Pw(e))===Iw,a=Dw(t),s=r.bbCachePosKey===a,l=function(t){return null==t._private.bbCache},u=!(e.useCache&&s)||l(t)||i&&l(t.source())||l(t.target());if(u?(s||t.recalculateRenderedStyle(),n=function(t,e){var n,r,i,o,a,s,l,u=t._private.cy,c=u.styleEnabled(),d=u.headless(),h=Dm(),f=t._private,p=t.isNode(),g=t.isEdge(),v=f.rstyle,y=p&&c?t.pstyle("bounds-expansion").pfValue:[0],m=function(t){return"none"!==t.pstyle("display").value},b=!c||m(t)&&(!g||m(t.source())&&m(t.target()));if(b){var _=0;c&&e.includeOverlays&&0!==t.pstyle("overlay-opacity").value&&(_=t.pstyle("overlay-padding").value);var w=0;if(c&&(w=t.pstyle("width").pfValue/2),p&&e.includeNodes){var x=t.position();a=x.x,s=x.y;var E=t.outerWidth()/2,k=t.outerHeight()/2;Cw(h,n=a-E,i=s-k,r=a+E,o=s+k)}else if(g&&e.includeEdges)if(c&&!d){var S=t.pstyle("curve-style").strValue;if(n=Math.min(v.srcX,v.midX,v.tgtX),r=Math.max(v.srcX,v.midX,v.tgtX),i=Math.min(v.srcY,v.midY,v.tgtY),o=Math.max(v.srcY,v.midY,v.tgtY),Cw(h,n-=w,i-=w,r+=w,o+=w),"haystack"===S){var C=v.haystackPts;if(C&&2===C.length){if(n=C[0].x,i=C[0].y,n>(r=C[1].x)){var T=n;n=r,r=T}if(i>(o=C[1].y)){var N=i;i=o,o=N}Cw(h,n-w,i-w,r+w,o+w)}}else if("bezier"===S||"unbundled-bezier"===S||"segments"===S||"taxi"===S){var A;switch(S){case"bezier":case"unbundled-bezier":A=v.bezierPts;break;case"segments":case"taxi":A=v.linePts}if(null!=A)for(var O=0;O<A.length;O++){var P=A[O];n=P.x-w,r=P.x+w,i=P.y-w,o=P.y+w,Cw(h,n,i,r,o)}}}else{var D=t.source().position(),M=t.target().position();if((n=D.x)>(r=M.x)){var L=n;n=r,r=L}if((i=D.y)>(o=M.y)){var I=i;i=o,o=I}Cw(h,n-=w,i-=w,r+=w,o+=w)}if(c&&e.includeEdges&&g&&(Aw(h,t,"mid-source"),Aw(h,t,"mid-target"),Aw(h,t,"source"),Aw(h,t,"target")),c)if("yes"===t.pstyle("ghost").value){var R=t.pstyle("ghost-offset-x").pfValue,B=t.pstyle("ghost-offset-y").pfValue;Cw(h,h.x1+R,h.y1+B,h.x2+R,h.y2+B)}var j=f.bodyBounds=f.bodyBounds||{};Rm(j,h),Im(j,y),Lm(j,1),c&&(n=h.x1,r=h.x2,i=h.y1,o=h.y2,Cw(h,n-_,i-_,r+_,o+_));var F=f.overlayBounds=f.overlayBounds||{};Rm(F,h),Im(F,y),Lm(F,1);var z=f.labelBounds=f.labelBounds||{};null!=z.all?((l=z.all).x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0):z.all=Dm(),c&&e.includeLabels&&(e.includeMainLabels&&Ow(h,t,null),g&&(e.includeSourceLabels&&Ow(h,t,"source"),e.includeTargetLabels&&Ow(h,t,"target")))}return h.x1=Sw(h.x1),h.y1=Sw(h.y1),h.x2=Sw(h.x2),h.y2=Sw(h.y2),h.w=Sw(h.x2-h.x1),h.h=Sw(h.y2-h.y1),h.w>0&&h.h>0&&b&&(Im(h,y),Lm(h,1)),h}(t,Lw),r.bbCache=n,r.bbCacheShift.x=r.bbCacheShift.y=0,r.bbCachePosKey=a):n=r.bbCache,!u&&(0!==r.bbCacheShift.x||0!==r.bbCacheShift.y)){var c=Bm,d=r.bbCacheShift,h=function(t,e){null!=t&&c(t,e)};c(n,d);var f=r.bodyBounds,p=r.overlayBounds,g=r.labelBounds,v=r.arrowBounds;h(f,d),h(p,d),null!=v&&(h(v.source,d),h(v.target,d),h(v["mid-source"],d),h(v["mid-target"],d)),null!=g&&(h(g.main,d),h(g.all,d),h(g.source,d),h(g.target,d))}if(r.bbCacheShift.x=r.bbCacheShift.y=0,!o){var y=t.isNode();n=Dm(),(e.includeNodes&&y||e.includeEdges&&!y)&&(e.includeOverlays?Tw(n,r.overlayBounds):Tw(n,r.bodyBounds)),e.includeLabels&&(e.includeMainLabels&&(!i||e.includeSourceLabels&&e.includeTargetLabels)?Tw(n,r.labelBounds.all):(e.includeMainLabels&&Tw(n,r.labelBounds.mainRot),e.includeSourceLabels&&Tw(n,r.labelBounds.sourceRot),e.includeTargetLabels&&Tw(n,r.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},Lw={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},Iw=Pw(Lw),Rw=$y(Lw);Ew.boundingBox=function(t){var e;if(1!==this.length||null==this[0]._private.bbCache||void 0!==t&&void 0!==t.useCache&&!0!==t.useCache){e=Dm();var n=Rw(t=t||Lw);if(this.cy().styleEnabled())for(var r=0;r<this.length;r++){var i=this[r],o=i._private,a=Dw(i),s=o.bbCachePosKey===a,l=n.useCache&&s;i.recalculateRenderedStyle(l)}this.updateCompoundBounds();for(var u=0;u<this.length;u++){var c=this[u];Tw(e,Mw(c,n))}}else t=void 0===t?Lw:Rw(t),e=Mw(this[0],t);return e.x1=Sw(e.x1),e.y1=Sw(e.y1),e.x2=Sw(e.x2),e.y2=Sw(e.y2),e.w=Sw(e.x2-e.x1),e.h=Sw(e.y2-e.y1),e},Ew.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCacheShift.x=e.bbCacheShift.y=0,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Ew.shiftCachedBoundingBox=function(t){for(var e=0;e<this.length;e++){var n=this[e]._private;null!=n.bbCache&&(n.bbCacheShift.x+=t.x,n.bbCacheShift.y+=t.y)}return this.emitAndNotify("bounds"),this},Ew.boundingBoxAt=function(t){var e=this.nodes(),n=this.cy(),r=n.hasCompoundNodes();if(r&&(e=e.filter((function(t){return!t.isParent()}))),Qv(t)){var i=t;t=function(){return i}}n.startBatch(),e.forEach((function(e,n){return e._private.bbAtOldPos=t(e,n)})).silentPositions(t),r&&this.updateCompoundBounds(!0);var o=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}}(this.boundingBox({useCache:!1}));return e.silentPositions((function(t){return t._private.bbAtOldPos})),n.endBatch(),o},xw.boundingbox=xw.bb=xw.boundingBox,xw.renderedBoundingbox=xw.renderedBoundingBox;var Bw,jw,Fw=Ew;Bw=jw={};var zw=function(t){t.uppercaseName=fy(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=fy(t.outerName),Bw[t.name]=function(){var e=this[0],n=e._private,r=n.cy._private.styleEnabled;if(e){if(!r)return 1;if(e.isParent())return e.updateCompoundBounds(),n[t.autoName]||0;var i=e.pstyle(t.name);switch(i.strValue){case"label":return e.recalculateRenderedStyle(),n.rstyle[t.labelName]||0;default:return i.pfValue}}},Bw["outer"+t.uppercaseName]=function(){var e=this[0],n=e._private.cy._private.styleEnabled;if(e)return n?e[t.name]()+e.pstyle("border-width").pfValue+2*e.padding():1},Bw["rendered"+t.uppercaseName]=function(){var e=this[0];if(e)return e[t.name]()*this.cy().zoom()},Bw["rendered"+t.uppercaseOuterName]=function(){var e=this[0];if(e)return e[t.outerName]()*this.cy().zoom()}};zw({name:"width"}),zw({name:"height"}),jw.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),void 0!==e.autoPadding?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue},jw.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()},jw.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var Vw=jw,qw={controlPoints:{get:function(t){return t.renderer().getControlPoints(t)},mult:!0},segmentPoints:{get:function(t){return t.renderer().getSegmentPoints(t)},mult:!0},sourceEndpoint:{get:function(t){return t.renderer().getSourceEndpoint(t)}},targetEndpoint:{get:function(t){return t.renderer().getTargetEndpoint(t)}},midpoint:{get:function(t){return t.renderer().getEdgeMidpoint(t)}}},Hw=Object.keys(qw).reduce((function(t,e){var n=qw[e],r=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)}(e);return t[e]=function(){return function(t,e){if(t.isEdge())return e(t)}(this,n.get)},n.mult?t[r]=function(){return function(t,e){if(t.isEdge()){var n=t.cy(),r=n.pan(),i=n.zoom();return e(t).map((function(t){return _m(t,i,r)}))}}(this,n.get)}:t[r]=function(){return function(t,e){if(t.isEdge()){var n=t.cy();return _m(e(t),n.zoom(),n.pan())}}(this,n.get)},t}),{}),Uw=vy({},kw,Fw,Vw,Hw),Gw=function(t,e){this.recycle(t,e)};function Ww(){return!1}function Yw(){return!0}Gw.prototype={instanceString:function(){return"event"},recycle:function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ww,null!=t&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?Yw:Ww):null!=t&&t.type?e=t:this.type=t,null!=e&&(this.originalEvent=e.originalEvent,this.type=null!=e.type?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*r+i.x,y:n.y*r+i.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Yw;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Yw;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Yw,this.stopPropagation()},isDefaultPrevented:Ww,isPropagationStopped:Ww,isImmediatePropagationStopped:Ww};var Xw=/^([^.]+)(\.(?:[^.]+))?$/,Kw={qualifierCompare:function(t,e){return t===e},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},$w=Object.keys(Kw),Zw={};function Jw(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zw,e=arguments.length>1?arguments[1]:void 0,n=0;n<$w.length;n++){var r=$w[n];this[r]=t[r]||Kw[r]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Qw=Jw.prototype,tx=function(t,e,n,r,i,o,a){Zv(r)&&(i=r,r=null),a&&(o=null==o?a:vy({},o,a));for(var s=Jv(n)?n:n.split(/\s+/),l=0;l<s.length;l++){var u=s[l];if(!sy(u)){var c=u.match(Xw);if(c)if(!1===e(t,u,c[1],c[2]?c[2]:null,r,i,o))break}}},ex=function(t,e){return t.addEventFields(t.context,e),new Gw(e.type,e)},nx=function(t,e,n){if("event"!==Kv(n))if(Qv(n))e(t,ex(t,n));else for(var r=Jv(n)?n:n.split(/\s+/),i=0;i<r.length;i++){var o=r[i];if(!sy(o)){var a=o.match(Xw);if(a){var s=a[1],l=a[2]?a[2]:null;e(t,ex(t,{type:s,namespace:l,target:t.context}))}}}else e(t,n)};Qw.on=Qw.addListener=function(t,e,n,r,i){return tx(this,(function(t,e,n,r,i,o,a){Zv(o)&&t.listeners.push({event:e,callback:o,type:n,namespace:r,qualifier:i,conf:a})}),t,e,n,r,i),this},Qw.one=function(t,e,n,r){return this.on(t,e,n,r,{one:!0})},Qw.removeListener=Qw.off=function(t,e,n,r){var i=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var o=this.listeners,a=function(a){var s=o[a];tx(i,(function(e,n,r,i,l,u){if((s.type===r||"*"===t)&&(!i&&".*"!==s.namespace||s.namespace===i)&&(!l||e.qualifierCompare(s.qualifier,l))&&(!u||s.callback===u))return o.splice(a,1),!1}),t,e,n,r)},s=o.length-1;s>=0;s--)a(s);return this},Qw.removeAllListeners=function(){return this.removeListener("*")},Qw.emit=Qw.trigger=function(t,e,n){var r=this.listeners,i=r.length;return this.emitting++,Jv(e)||(e=[e]),nx(this,(function(t,o){null!=n&&(r=[{event:o.event,type:o.type,namespace:o.namespace,callback:n}],i=r.length);for(var a=function(n){var i=r[n];if(i.type===o.type&&(!i.namespace||i.namespace===o.namespace||".*"===i.namespace)&&t.eventMatches(t.context,i,o)){var a=[o];null!=e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.push(r)}}(a,e),t.beforeEmit(t.context,i,o),i.conf&&i.conf.one&&(t.listeners=t.listeners.filter((function(t){return t!==i})));var s=t.callbackContext(t.context,i,o),l=i.callback.apply(s,a);t.afterEmit(t.context,i,o),!1===l&&(o.stopPropagation(),o.preventDefault())}},s=0;s<i;s++)a(s);t.bubble(t.context)&&!o.isPropagationStopped()&&t.parent(t.context).emit(o,e)}),t),this.emitting--,this};var rx={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var r=e.qualifier;return null==r||t!==n.target&&ry(n.target)&&r.matches(n.target)},addEventFields:function(t,e){e.cy=t.cy(),e.target=t},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t},beforeEmit:function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},ix=function(t){return $v(t)?new rw(t):t},ox={createEmitter:function(){for(var t=0;t<this.length;t++){var e=this[t],n=e._private;n.emitter||(n.emitter=new Jw(rx,e))}return this},emitter:function(){return this._private.emitter},on:function(t,e,n){for(var r=ix(e),i=0;i<this.length;i++){this[i].emitter().on(t,r,n)}return this},removeListener:function(t,e,n){for(var r=ix(e),i=0;i<this.length;i++){this[i].emitter().removeListener(t,r,n)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){this[t].emitter().removeAllListeners()}return this},one:function(t,e,n){for(var r=ix(e),i=0;i<this.length;i++){this[i].emitter().one(t,r,n)}return this},once:function(t,e,n){for(var r=ix(e),i=0;i<this.length;i++){this[i].emitter().on(t,r,n,{once:!0,onceCollection:this})}},emit:function(t,e){for(var n=0;n<this.length;n++){this[n].emitter().emit(t,e)}return this},emitAndNotify:function(t,e){if(0!==this.length)return this.cy().notify(t,this),this.emit(t,e),this}};__.eventAliasesOn(ox);var ax={nodes:function(t){return this.filter((function(t){return t.isNode()})).filter(t)},edges:function(t){return this.filter((function(t){return t.isEdge()})).filter(t)},byGroup:function(){for(var t=this.spawn(),e=this.spawn(),n=0;n<this.length;n++){var r=this[n];r.isNode()?t.merge(r):e.merge(r)}return{nodes:t,edges:e}},filter:function(t,e){if(void 0===t)return this;if($v(t)||ny(t))return new rw(t).filter(this);if(Zv(t)){for(var n=this.spawn(),r=0;r<this.length;r++){var i=this[r];(e?t.apply(e,[i,r,this]):t(i,r,this))&&n.merge(i)}return n}return this.spawn()},not:function(t){if(t){$v(t)&&(t=this.filter(t));for(var e=[],n=t._private.map,r=0;r<this.length;r++){var i=this[r];n.has(i.id())||e.push(i)}return this.spawn(e)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(t){if($v(t)){var e=t;return this.filter(e)}for(var n=[],r=t,i=this.length<t.length,o=i?r._private.map:this._private.map,a=i?this:r,s=0;s<a.length;s++){var l=a[s]._private.data.id,u=o.get(l);u&&n.push(u.ele)}return this.spawn(n)},xor:function(t){var e=this._private.cy;$v(t)&&(t=e.$(t));var n=[],r=t,i=function(t,e){for(var r=0;r<t.length;r++){var i=t[r],o=i._private.data.id;e.hasElementWithId(o)||n.push(i)}};return i(this,r),i(r,this),this.spawn(n)},diff:function(t){var e=this._private.cy;$v(t)&&(t=e.$(t));var n=[],r=[],i=[],o=t,a=function(t,e,n){for(var r=0;r<t.length;r++){var o=t[r],a=o._private.data.id;e.hasElementWithId(a)?i.push(o):n.push(o)}};return a(this,o,n),a(o,this,r),{left:this.spawn(n,{unique:!0}),right:this.spawn(r,{unique:!0}),both:this.spawn(i,{unique:!0})}},add:function(t){var e=this._private.cy;if(!t)return this;if($v(t)){var n=t;t=e.mutableElements().filter(n)}for(var r=[],i=0;i<this.length;i++)r.push(this[i]);for(var o=this._private.map,a=0;a<t.length;a++){var s=!o.has(t[a].id());s&&r.push(t[a])}return this.spawn(r)},merge:function(t){var e=this._private,n=e.cy;if(!t)return this;if(t&&$v(t)){var r=t;t=n.mutableElements().filter(r)}for(var i=e.map,o=0;o<t.length;o++){var a=t[o],s=a._private.data.id;if(!i.has(s)){var l=this.length++;this[l]=a,i.set(s,{ele:a,index:l})}else{var u=i.get(s).index;this[u]=a,i.set(s,{ele:a,index:u})}}return this},unmergeAt:function(t){var e=this[t].id(),n=this._private.map;this[t]=void 0,n.delete(e);var r=t===this.length-1;if(this.length>1&&!r){var i=this.length-1,o=this[i],a=o._private.data.id;this[i]=void 0,this[t]=o,n.set(a,{ele:o,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var e=this._private,n=t._private.data.id,r=e.map.get(n);if(!r)return this;var i=r.index;return this.unmergeAt(i),this},unmerge:function(t){var e=this._private.cy;if(!t)return this;if(t&&$v(t)){var n=t;t=e.mutableElements().filter(n)}for(var r=0;r<t.length;r++)this.unmergeOne(t[r]);return this},unmergeBy:function(t){for(var e=this.length-1;e>=0;e--){t(this[e])&&this.unmergeAt(e)}return this},map:function(t,e){for(var n=[],r=0;r<this.length;r++){var i=this[r],o=e?t.apply(e,[i,r,this]):t(i,r,this);n.push(o)}return n},reduce:function(t,e){for(var n=e,r=0;r<this.length;r++)n=t(n,this[r],r,this);return n},max:function(t,e){for(var n,r=-1/0,i=0;i<this.length;i++){var o=this[i],a=e?t.apply(e,[o,i,this]):t(o,i,this);a>r&&(r=a,n=o)}return{value:r,ele:n}},min:function(t,e){for(var n,r=1/0,i=0;i<this.length;i++){var o=this[i],a=e?t.apply(e,[o,i,this]):t(o,i,this);a<r&&(r=a,n=o)}return{value:r,ele:n}}},sx=ax;sx.u=sx["|"]=sx["+"]=sx.union=sx.or=sx.add,sx["\\"]=sx["!"]=sx["-"]=sx.difference=sx.relativeComplement=sx.subtract=sx.not,sx.n=sx["&"]=sx["."]=sx.and=sx.intersection=sx.intersect,sx["^"]=sx["(+)"]=sx["(-)"]=sx.symmetricDifference=sx.symdiff=sx.xor,sx.fnFilter=sx.filterFn=sx.stdFilter=sx.filter,sx.complement=sx.abscomp=sx.absoluteComplement;var lx=function(t,e){var n=t.cy().hasCompoundNodes();function r(t){var e=t.pstyle("z-compound-depth");return"auto"===e.value?n?t.zDepth():0:"bottom"===e.value?-1:"top"===e.value?jy:0}var i=r(t)-r(e);if(0!==i)return i;function o(t){return"auto"===t.pstyle("z-index-compare").value&&t.isNode()?1:0}var a=o(t)-o(e);if(0!==a)return a;var s=t.pstyle("z-index").value-e.pstyle("z-index").value;return 0!==s?s:t.poolIndex()-e.poolIndex()},ux={forEach:function(t,e){if(Zv(t))for(var n=this.length,r=0;r<n;r++){var i=this[r];if(!1===(e?t.apply(e,[i,r,this]):t(i,r,this)))break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(t,e){var n=[],r=this.length;null==e&&(e=r),null==t&&(t=0),t<0&&(t=r+t),e<0&&(e=r+e);for(var i=t;i>=0&&i<e&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!Zv(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},sortByZIndex:function(){return this.sort(lx)},zDepth:function(){var t=this[0];if(t){var e=t._private;if("nodes"===e.group){var n=e.data.parent?t.parents().size():0;return t.isParent()?n:jy-1}var r=e.source,i=e.target,o=r.zDepth(),a=i.zDepth();return Math.max(o,a,0)}}};ux.each=ux.forEach;"undefined"!=("undefined"==typeof Symbol?"undefined":Bv(Symbol))&&"undefined"!=Bv(Symbol.iterator)&&(ux[Symbol.iterator]=function(){var t=this,e={value:void 0,done:!1},n=0,r=this.length;return Vv({next:function(){return n<r?e.value=t[n++]:(e.value=void 0,e.done=!0),e}},Symbol.iterator,(function(){return this}))});var cx=$y({nodeDimensionsIncludeLabels:!1}),dx={layoutDimensions:function(t){var e;if(t=cx(t),this.takesUpSpace())if(t.nodeDimensionsIncludeLabels){var n=this.boundingBox();e={w:n.w,h:n.h}}else e={w:this.outerWidth(),h:this.outerHeight()};else e={w:0,h:0};return 0!==e.w&&0!==e.h||(e.w=e.h=1),e},layoutPositions:function(t,e,n){var r=this.nodes(),i=this.cy(),o=e.eles,a=function(t){return t.id()},s=uy(n,a);t.emit({type:"layoutstart",layout:t}),t.animations=[];var l=e.spacingFactor&&1!==e.spacingFactor,u=function(){if(!l)return null;for(var t=Dm(),e=0;e<r.length;e++){var n=r[e],i=s(n,e);Mm(t,i.x,i.y)}return t}(),c=uy((function(t,n){var r=s(t,n);l&&(r=function(t,e,n){var r=e.x1+e.w/2,i=e.y1+e.h/2;return{x:r+(n.x-r)*t,y:i+(n.y-i)*t}}(Math.abs(e.spacingFactor),u,r));return null!=e.transform&&(r=e.transform(t,r)),r}),a);if(e.animate){for(var d=0;d<r.length;d++){var h=r[d],f=c(h,d);if(null==e.animateFilter||e.animateFilter(h,d)){var p=h.animation({position:f,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(p)}else h.position(f)}if(e.fit){var g=i.animation({fit:{boundingBox:o.boundingBoxAt(c),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(g)}else if(void 0!==e.zoom&&void 0!==e.pan){var v=i.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(v)}t.animations.forEach((function(t){return t.play()})),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),y_.all(t.animations.map((function(t){return t.promise()}))).then((function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})}))}else r.positions(c),e.fit&&i.fit(e.eles,e.padding),null!=e.zoom&&i.zoom(e.zoom),e.pan&&i.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){return this.cy().makeLayout(vy({},t,{eles:this}))}};function hx(t,e,n){var r,i=n._private,o=i.styleCache=i.styleCache||[];return null!=(r=o[t])?r:r=o[t]=e(n)}function fx(t,e){return t=Dy(t),function(n){return hx(t,e,n)}}function px(t,e){t=Dy(t);var n=function(t){return e.call(t)};return function(){var e=this[0];if(e)return hx(t,n,e)}}dx.createLayout=dx.makeLayout=dx.layout;var gx={recalculateRenderedStyle:function(t){var e=this.cy(),n=e.renderer(),r=e.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t,e=this.cy(),n=function(t){return t._private.styleCache=null};e.hasCompoundNodes()?((t=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(t.connectedEdges()),t.forEach(n)):this.forEach((function(t){n(t),t.connectedEdges().forEach(n)}));return this},updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e.batching())return e._private.batchStyleEles.merge(this),this;var n=e.hasCompoundNodes(),r=e.style(),i=this;t=!(!t&&void 0!==t),n&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=r.apply(i);return t?o.emitAndNotify("style"):o.emit("style"),this},parsedStyle:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],r=n.cy();if(r.styleEnabled()&&n){var i=n._private.style[t];return null!=i?i:e?r.style().getDefaultProperty(t):null}},numericStyle:function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var n=e.pstyle(t);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(t){var e=this[0];if(e.cy().styleEnabled())return e?e.pstyle(t).units:void 0},renderedStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=this[0];return n?e.style().getRenderedStyle(n,t):void 0},style:function(t,e){var n=this.cy();if(!n.styleEnabled())return this;var r=n.style();if(Qv(t)){var i=t;r.applyBypass(this,i,!1),this.emitAndNotify("style")}else if($v(t)){if(void 0===e){var o=this[0];return o?r.getStylePropertyValue(o,t):void 0}r.applyBypass(this,t,e,!1),this.emitAndNotify("style")}else if(void 0===t){var a=this[0];return a?r.getRawStyle(a):void 0}return this},removeStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=e.style();if(void 0===t)for(var r=0;r<this.length;r++){var i=this[r];n.removeAllBypasses(i,!1)}else{t=t.split(/\s+/);for(var o=0;o<this.length;o++){var a=this[o];n.removeBypasses(a,t,!1)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!e)return i;var o=r.data.parent?n.parents():null;if(o)for(var a=0;a<o.length;a++){i*=o[a].pstyle("opacity").value}return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var t=this[0],e=t.cy().hasCompoundNodes();return t?e?0===t.effectiveOpacity():0===t.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function vx(t,e){var n=t._private.data.parent?t.parents():null;if(n)for(var r=0;r<n.length;r++){if(!e(n[r]))return!1}return!0}function yx(t){var e=t.ok,n=t.edgeOkViaNode||t.ok,r=t.parentOk||t.ok;return function(){var t=this.cy();if(!t.styleEnabled())return!0;var i=this[0],o=t.hasCompoundNodes();if(i){var a=i._private;if(!e(i))return!1;if(i.isNode())return!o||vx(i,r);var s=a.source,l=a.target;return n(s)&&(!o||vx(s,n))&&(s===l||n(l)&&(!o||vx(l,n)))}}}var mx=fx("eleTakesUpSpace",(function(t){return"element"===t.pstyle("display").value&&0!==t.width()&&(!t.isNode()||0!==t.height())}));gx.takesUpSpace=px("takesUpSpace",yx({ok:mx}));var bx=fx("eleInteractive",(function(t){return"yes"===t.pstyle("events").value&&"visible"===t.pstyle("visibility").value&&mx(t)})),_x=fx("parentInteractive",(function(t){return"visible"===t.pstyle("visibility").value&&mx(t)}));gx.interactive=px("interactive",yx({ok:bx,parentOk:_x,edgeOkViaNode:mx})),gx.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var wx=fx("eleVisible",(function(t){return"visible"===t.pstyle("visibility").value&&0!==t.pstyle("opacity").pfValue&&mx(t)})),xx=mx;gx.visible=px("visible",yx({ok:wx,edgeOkViaNode:xx})),gx.hidden=function(){var t=this[0];if(t)return!t.visible()},gx.isBundledBezier=px("isBundledBezier",(function(){return!!this.cy().styleEnabled()&&(!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace())})),gx.bypass=gx.css=gx.style,gx.renderedCss=gx.renderedStyle,gx.removeBypass=gx.removeCss=gx.removeStyle,gx.pstyle=gx.parsedStyle;var Ex={};function kx(t){return function(){var e=arguments,n=[];if(2===e.length){var r=e[0],i=e[1];this.on(t.event,r,i)}else if(1===e.length&&Zv(e[0])){var o=e[0];this.on(t.event,o)}else if(0===e.length||1===e.length&&Jv(e[0])){for(var a=1===e.length?e[0]:null,s=0;s<this.length;s++){var l=this[s],u=!t.ableField||l._private[t.ableField],c=l._private[t.field]!=t.value;if(t.overrideAble){var d=t.overrideAble(l);if(void 0!==d&&(u=d,!d))return this}u&&(l._private[t.field]=t.value,c&&n.push(l))}var h=this.spawn(n);h.updateStyle(),h.emit(t.event),a&&h.emit(a)}return this}}function Sx(t){Ex[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var n=t.overrideField(e);if(void 0!==n)return n}return e._private[t.field]}},Ex[t.on]=kx({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Ex[t.off]=kx({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Sx({field:"locked",overrideField:function(t){return!!t.cy().autolock()||void 0},on:"lock",off:"unlock"}),Sx({field:"grabbable",overrideField:function(t){return!t.cy().autoungrabify()&&!t.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Sx({field:"selected",ableField:"selectable",overrideAble:function(t){return!t.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Sx({field:"selectable",overrideField:function(t){return!t.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Ex.deselect=Ex.unselect,Ex.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},Sx({field:"active",on:"activate",off:"unactivate"}),Sx({field:"pannable",on:"panify",off:"unpanify"}),Ex.inactive=function(){var t=this[0];if(t)return!t._private.active};var Cx={},Tx=function(t){return function(e){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode()){for(var o=!1,a=i.connectedEdges(),s=0;s<a.length;s++){var l=a[s],u=l.source(),c=l.target();if(t.noIncomingEdges&&c===i&&u!==i||t.noOutgoingEdges&&u===i&&c!==i){o=!0;break}}o||n.push(i)}}return this.spawn(n,{unique:!0}).filter(e)}},Nx=function(t){return function(e){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode())for(var o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target();t.outgoing&&l===i?(n.push(s),n.push(u)):t.incoming&&u===i&&(n.push(s),n.push(l))}}return this.spawn(n,{unique:!0}).filter(e)}},Ax=function(t){return function(e){for(var n=this,r=[],i={};;){var o=t.outgoing?n.outgoers():n.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],u=l.id();i[u]||(i[u]=!0,r.push(l),a=!0)}if(!a)break;n=o}return this.spawn(r,{unique:!0}).filter(e)}};function Ox(t){return function(e){for(var n=[],r=0;r<this.length;r++){var i=this[r]._private[t.attr];i&&n.push(i)}return this.spawn(n,{unique:!0}).filter(e)}}function Px(t){return function(e){var n=[],r=this._private.cy,i=t||{};$v(e)&&(e=r.$(e));for(var o=0;o<e.length;o++)for(var a=e[o]._private.edges,s=0;s<a.length;s++){var l=a[s],u=l._private.data,c=this.hasElementWithId(u.source)&&e.hasElementWithId(u.target),d=e.hasElementWithId(u.source)&&this.hasElementWithId(u.target);if(c||d){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!c)continue;if(i.thisIsTgt&&!d)continue}n.push(l)}}return this.spawn(n,{unique:!0})}}function Dx(t){return t=vy({},{codirected:!1},t),function(e){for(var n=[],r=this.edges(),i=t,o=0;o<r.length;o++)for(var a=r[o]._private,s=a.source,l=s._private.data.id,u=a.data.target,c=s._private.edges,d=0;d<c.length;d++){var h=c[d],f=h._private.data,p=f.target,g=f.source,v=p===u&&g===l,y=l===p&&u===g;(i.codirected&&v||!i.codirected&&(v||y))&&n.push(h)}return this.spawn(n,{unique:!0}).filter(e)}}Cx.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},vy(Cx,{roots:Tx({noIncomingEdges:!0}),leaves:Tx({noOutgoingEdges:!0}),outgoers:lw(Nx({outgoing:!0}),"outgoers"),successors:Ax({outgoing:!0}),incomers:lw(Nx({incoming:!0}),"incomers"),predecessors:Ax({incoming:!0})}),vy(Cx,{neighborhood:lw((function(t){for(var e=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&e.push(c[0]),e.push(s[0])}return this.spawn(e,{unique:!0}).filter(t)}),"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),Cx.neighbourhood=Cx.neighborhood,Cx.closedNeighbourhood=Cx.closedNeighborhood,Cx.openNeighbourhood=Cx.openNeighborhood,vy(Cx,{source:lw((function(t){var e,n=this[0];return n&&(e=n._private.source||n.cy().collection()),e&&t?e.filter(t):e}),"source"),target:lw((function(t){var e,n=this[0];return n&&(e=n._private.target||n.cy().collection()),e&&t?e.filter(t):e}),"target"),sources:Ox({attr:"source"}),targets:Ox({attr:"target"})}),vy(Cx,{edgesWith:lw(Px(),"edgesWith"),edgesTo:lw(Px({thisIsSrc:!0}),"edgesTo")}),vy(Cx,{connectedEdges:lw((function(t){for(var e=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r._private.edges,o=0;o<i.length;o++){var a=i[o];e.push(a)}}return this.spawn(e,{unique:!0}).filter(t)}),"connectedEdges"),connectedNodes:lw((function(t){for(var e=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(e.push(r.source()[0]),e.push(r.target()[0]))}return this.spawn(e,{unique:!0}).filter(t)}),"connectedNodes"),parallelEdges:lw(Dx(),"parallelEdges"),codirectedEdges:lw(Dx({codirected:!0}),"codirectedEdges")}),vy(Cx,{components:function(t){var e=this,n=e.cy(),r=n.collection(),i=null==t?e.nodes():t.nodes(),o=[];null!=t&&i.empty()&&(i=t.sources());var a=function(t,e){r.merge(t),i.unmerge(t),e.merge(t)};if(i.empty())return e.spawn();var s=function(){var t=n.collection();o.push(t);var r=i[0];a(r,t),e.bfs({directed:!1,roots:r,visit:function(e){return a(e,t)}}),t.forEach((function(n){n.connectedEdges().forEach((function(n){e.has(n)&&t.has(n.source())&&t.has(n.target())&&t.merge(n)}))}))};do{s()}while(i.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}}),Cx.componentsOf=Cx.components;var Mx=function(t,e,n){for(var r=null!=n?n:Yy();t.hasElementWithId(r);)r=Yy();return r},Lx=function(t,e,n){if(void 0!==t&&oy(t)){var r=new em,i=!1;if(e){if(e.length>0&&Qv(e[0])&&!ry(e[0])){i=!0;for(var o=[],a=new rm,s=0,l=e.length;s<l;s++){var u=e[s];null==u.data&&(u.data={});var c=u.data;if(null==c.id)c.id=Mx(t,u);else if(t.hasElementWithId(c.id)||a.has(c.id))continue;var d=new im(t,u,!1);o.push(d),a.add(c.id)}e=o}}else e=[];this.length=0;for(var h=0,f=e.length;h<f;h++){var p=e[h][0];if(null!=p){var g=p._private.data.id;(null==n||n.unique&&!r.has(g))&&(r.set(g,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={cy:t,map:r},i&&this.restore()}else Hy("A collection must have a reference to the core")},Ix=im.prototype=Lx.prototype;Ix.instanceString=function(){return"collection"},Ix.spawn=function(t,e,n){return oy(t)||(n=e,e=t,t=this.cy()),new Lx(t,e,n)},Ix.spawnSelf=function(){return this.spawn(this)},Ix.cy=function(){return this._private.cy},Ix.renderer=function(){return this._private.cy.renderer()},Ix.element=function(){return this[0]},Ix.collection=function(){return iy(this)?this:new Lx(this._private.cy,[this])},Ix.unique=function(){return new Lx(this._private.cy,this,{unique:!0})},Ix.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)},Ix.getElementById=function(t){t=""+t;var e=this._private.cy,n=this._private.map.get(t);return n?n.ele:new Lx(e)},Ix.$id=Ix.getElementById,Ix.poolIndex=function(){var t=this._private.cy._private.elements,e=this[0]._private.data.id;return t._private.map.get(e).index},Ix.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index},Ix.indexOfId=function(t){return t=""+t,this._private.map.get(t).index},Ix.json=function(t){var e=this.element(),n=this.cy();if(null==e&&t)return this;if(null!=e){var r=e._private;if(Qv(t)){if(n.startBatch(),t.data){e.data(t.data);var i=r.data;if(e.isEdge()){var o=!1,a={},s=t.data.source,l=t.data.target;null!=s&&s!=i.source&&(a.source=""+s,o=!0),null!=l&&l!=i.target&&(a.target=""+l,o=!0),o&&(e=e.move(a))}else{var u="parent"in t.data,c=t.data.parent;!u||null==c&&null==i.parent||c==i.parent||(void 0===c&&(c=null),null!=c&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var d=function(n,i,o){var a=t[n];null!=a&&a!==r[n]&&(a?e[i]():e[o]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),null!=t.classes&&e.classes(t.classes),n.endBatch(),this}if(void 0===t){var h={data:Wy(r.data),position:Wy(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};h.classes="";var f=0;return r.classes.forEach((function(t){return h.classes+=0==f++?t:" "+t})),h}}},Ix.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e].json();t.push(n)}return t},Ix.clone=function(){for(var t=this.cy(),e=[],n=0;n<this.length;n++){var r=this[n].json(),i=new im(t,r,!1);e.push(i)}return new Lx(t,e)},Ix.copy=Ix.clone,Ix.restore=function(){for(var t,e,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this,o=i.cy(),a=o._private,s=[],l=[],u=0,c=i.length;u<c;u++){var d=i[u];r&&!d.removed()||(d.isNode()?s.push(d):l.push(d))}t=s.concat(l);var h=function(){t.splice(e,1),e--};for(e=0;e<t.length;e++){var f=t[e],p=f._private,g=p.data;if(f.clearTraversalCache(),r||p.removed)if(void 0===g.id)g.id=Mx(o,f);else if(ty(g.id))g.id=""+g.id;else{if(sy(g.id)||!$v(g.id)){Hy("Can not create element with invalid string ID `"+g.id+"`"),h();continue}if(o.hasElementWithId(g.id)){Hy("Can not create second element with ID `"+g.id+"`"),h();continue}}else;var v=g.id;if(f.isNode()){var y=p.position;null==y.x&&(y.x=0),null==y.y&&(y.y=0)}if(f.isEdge()){for(var m=f,b=["source","target"],_=b.length,w=!1,x=0;x<_;x++){var E=b[x],k=g[E];ty(k)&&(k=g[E]=""+g[E]),null==k||""===k?(Hy("Can not create edge `"+v+"` with unspecified "+E),w=!0):o.hasElementWithId(k)||(Hy("Can not create edge `"+v+"` with nonexistant "+E+" `"+k+"`"),w=!0)}if(w){h();continue}var S=o.getElementById(g.source),C=o.getElementById(g.target);S.same(C)?S._private.edges.push(m):(S._private.edges.push(m),C._private.edges.push(m)),m._private.source=S,m._private.target=C}p.map=new em,p.map.set(v,{ele:f,index:0}),p.removed=!1,r&&o.addToPool(f)}for(var T=0;T<s.length;T++){var N=s[T],A=N._private.data;ty(A.parent)&&(A.parent=""+A.parent);var O=A.parent,P=null!=O;if(P){var D=o.getElementById(O);if(D.empty())A.parent=void 0;else{for(var M=!1,L=D;!L.empty();){if(N.same(L)){M=!0,A.parent=void 0;break}L=L.parent()}M||(D[0]._private.children.push(N),N._private.parent=D[0],a.hasCompoundNodes=!0)}}}if(t.length>0){for(var I=new Lx(o,t),R=0;R<I.length;R++){var B=I[R];B.isNode()||(B.parallelEdges().clearTraversalCache(),B.source().clearTraversalCache(),B.target().clearTraversalCache())}(a.hasCompoundNodes?o.collection().merge(I).merge(I.connectedNodes()).merge(I.parent()):I).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?I.emitAndNotify("add"):r&&I.emit("add")}return i},Ix.removed=function(){var t=this[0];return t&&t._private.removed},Ix.inside=function(){var t=this[0];return t&&!t._private.removed},Ix.remove=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=[],i={},o=n._private.cy;function a(t){for(var e=t._private.edges,n=0;n<e.length;n++)l(e[n])}function s(t){for(var e=t._private.children,n=0;n<e.length;n++)l(e[n])}function l(t){var n=i[t.id()];e&&t.removed()||n||(i[t.id()]=!0,t.isNode()?(r.push(t),a(t),s(t)):r.unshift(t))}for(var u=0,c=n.length;u<c;u++){var d=n[u];l(d)}function h(t,e){var n=t._private.edges;Zy(n,e),t.clearTraversalCache()}function f(t){t.clearTraversalCache()}var p=[];function g(t,e){e=e[0];var n=(t=t[0])._private.children,r=t.id();Zy(n,e),e._private.parent=null,p.ids[r]||(p.ids[r]=!0,p.push(t))}p.ids={},n.dirtyCompoundBoundsCache(),e&&o.removeFromPool(r);for(var v=0;v<r.length;v++){var y=r[v];if(y.isEdge()){var m=y.source()[0],b=y.target()[0];h(m,y),h(b,y);for(var _=y.parallelEdges(),w=0;w<_.length;w++){var x=_[w];f(x),x.isBundledBezier()&&x.dirtyBoundingBoxCache()}}else{var E=y.parent();0!==E.length&&g(E,y)}e&&(y._private.removed=!0)}var k=o._private.elements;o._private.hasCompoundNodes=!1;for(var S=0;S<k.length;S++){var C=k[S];if(C.isParent()){o._private.hasCompoundNodes=!0;break}}var T=new Lx(this.cy(),r);T.size()>0&&(t?T.emitAndNotify("remove"):e&&T.emit("remove"));for(var N=0;N<p.length;N++){var A=p[N];e&&A.removed()||A.updateStyle()}return T},Ix.move=function(t){var e=this._private.cy,n=this,r=function(t){return null==t?t:""+t};if(void 0!==t.source||void 0!==t.target){var i=r(t.source),o=r(t.target),a=null!=i&&e.hasElementWithId(i),s=null!=o&&e.hasElementWithId(o);(a||s)&&(e.batch((function(){n.remove(!1,!1),n.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var e=n[t],r=e._private.data;e.isEdge()&&(a&&(r.source=i),s&&(r.target=o))}n.restore(!1,!1)})),n.emitAndNotify("move"))}else if(void 0!==t.parent){var l=r(t.parent);if(null===l||e.hasElementWithId(l)){var u=null===l?void 0:l;e.batch((function(){var t=n.remove(!1,!1);t.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var r=n[e],i=r._private.data;r.isNode()&&(i.parent=u)}t.restore(!1,!1)})),n.emitAndNotify("move")}}return this},[c_,w_,x_,ow,uw,vw,yw,Uw,ox,ax,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},ux,dx,gx,Ex,Cx].forEach((function(t){vy(Ix,t)}));var Rx={add:function(t){var e,n=this;if(ny(t)){var r=t;if(r._private.cy===n)e=r.restore();else{for(var i=[],o=0;o<r.length;o++){var a=r[o];i.push(a.json())}e=new Lx(n,i)}}else if(Jv(t)){e=new Lx(n,t)}else if(Qv(t)&&(Jv(t.nodes)||Jv(t.edges))){for(var s=t,l=[],u=["nodes","edges"],c=0,d=u.length;c<d;c++){var h=u[c],f=s[h];if(Jv(f))for(var p=0,g=f.length;p<g;p++){var v=vy({group:h},f[p]);l.push(v)}}e=new Lx(n,l)}else{e=new im(n,t).collection()}return e},remove:function(t){if(ny(t));else if($v(t)){var e=t;t=this.$(e)}return t.remove()}};
/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */
/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */
var Bx=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,r){var i={x:e.x+r.dx*n,v:e.v+r.dv*n,tension:e.tension,friction:e.friction};return{dx:i.v,dv:t(i)}}function n(n,r){var i={dx:n.v,dv:t(n)},o=e(n,.5*r,i),a=e(n,.5*r,o),s=e(n,r,a),l=1/6*(i.dx+2*(o.dx+a.dx)+s.dx),u=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+l*r,n.v=n.v+u*r,n}return function t(e,r,i){var o,a,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0;for(e=parseFloat(e)||500,r=parseFloat(r)||20,i=i||null,l.tension=e,l.friction=r,a=(o=null!==i)?(c=t(e,r))/i*.016:.016;s=n(s||l,a),u.push(1+s.x),c+=16,Math.abs(s.x)>1e-4&&Math.abs(s.v)>1e-4;);return o?function(t){return u[t*(u.length-1)|0]}:c}}(),jx=function(t,e,n,r){var i=function(t,e,n,r){var i=4,o=.001,a=1e-7,s=10,l=11,u=1/(l-1),c="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var d=0;d<4;++d)if("number"!=typeof arguments[d]||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var h=c?new Float32Array(l):new Array(l);function f(t,e){return 1-3*e+3*t}function p(t,e){return 3*e-6*t}function g(t){return 3*t}function v(t,e,n){return((f(e,n)*t+p(e,n))*t+g(e))*t}function y(t,e,n){return 3*f(e,n)*t*t+2*p(e,n)*t+g(e)}function m(e,r){for(var o=0;o<i;++o){var a=y(r,t,n);if(0===a)return r;r-=(v(r,t,n)-e)/a}return r}function b(){for(var e=0;e<l;++e)h[e]=v(e*u,t,n)}function _(e,r,i){var o,l,u=0;do{(o=v(l=r+(i-r)/2,t,n)-e)>0?i=l:r=l}while(Math.abs(o)>a&&++u<s);return l}function w(e){for(var r=0,i=1,a=l-1;i!==a&&h[i]<=e;++i)r+=u;--i;var s=r+(e-h[i])/(h[i+1]-h[i])*u,c=y(s,t,n);return c>=o?m(e,s):0===c?s:_(e,r,r+u)}var x=!1;function E(){x=!0,t===e&&n===r||b()}var k=function(i){return x||E(),t===e&&n===r?i:0===i?0:1===i?1:v(w(i),e,r)};k.getControlPoints=function(){return[{x:t,y:e},{x:n,y:r}]};var S="generateBezier("+[t,e,n,r]+")";return k.toString=function(){return S},k}(t,e,n,r);return function(t,e,n){return t+(e-t)*i(n)}},Fx={linear:function(t,e,n){return t+(e-t)*n},ease:jx(.25,.1,.25,1),"ease-in":jx(.42,0,1,1),"ease-out":jx(0,0,.58,1),"ease-in-out":jx(.42,0,.58,1),"ease-in-sine":jx(.47,0,.745,.715),"ease-out-sine":jx(.39,.575,.565,1),"ease-in-out-sine":jx(.445,.05,.55,.95),"ease-in-quad":jx(.55,.085,.68,.53),"ease-out-quad":jx(.25,.46,.45,.94),"ease-in-out-quad":jx(.455,.03,.515,.955),"ease-in-cubic":jx(.55,.055,.675,.19),"ease-out-cubic":jx(.215,.61,.355,1),"ease-in-out-cubic":jx(.645,.045,.355,1),"ease-in-quart":jx(.895,.03,.685,.22),"ease-out-quart":jx(.165,.84,.44,1),"ease-in-out-quart":jx(.77,0,.175,1),"ease-in-quint":jx(.755,.05,.855,.06),"ease-out-quint":jx(.23,1,.32,1),"ease-in-out-quint":jx(.86,0,.07,1),"ease-in-expo":jx(.95,.05,.795,.035),"ease-out-expo":jx(.19,1,.22,1),"ease-in-out-expo":jx(1,0,0,1),"ease-in-circ":jx(.6,.04,.98,.335),"ease-out-circ":jx(.075,.82,.165,1),"ease-in-out-circ":jx(.785,.135,.15,.86),spring:function(t,e,n){if(0===n)return Fx.linear;var r=Bx(t,e,n);return function(t,e,n){return t+(e-t)*r(n)}},"cubic-bezier":jx};function zx(t,e,n,r,i){if(1===r)return n;if(e===n)return n;var o=i(e,n,r);return null==t||((t.roundValue||t.color)&&(o=Math.round(o)),void 0!==t.min&&(o=Math.max(o,t.min)),void 0!==t.max&&(o=Math.min(o,t.max))),o}function Vx(t,e){return null!=t.pfValue||null!=t.value?null==t.pfValue||null!=e&&"%"===e.type.units?t.value:t.pfValue:t}function qx(t,e,n,r,i){var o=null!=i?i.type:null;n<0?n=0:n>1&&(n=1);var a=Vx(t,i),s=Vx(e,i);if(ty(a)&&ty(s))return zx(o,a,s,n,r);if(Jv(a)&&Jv(s)){for(var l=[],u=0;u<s.length;u++){var c=a[u],d=s[u];if(null!=c&&null!=d){var h=zx(o,c,d,n,r);l.push(h)}else l.push(d)}return l}}function Hx(t,e,n,r){var i=!r,o=t._private,a=e._private,s=a.easing,l=a.startTime,u=(r?t:t.cy()).style();if(!a.easingImpl)if(null==s)a.easingImpl=Fx.linear;else{var c,d,h;if($v(s))c=u.parse("transition-timing-function",s).value;else c=s;$v(c)?(d=c,h=[]):(d=c[1],h=c.slice(2).map((function(t){return+t}))),h.length>0?("spring"===d&&h.push(a.duration),a.easingImpl=Fx[d].apply(null,h)):a.easingImpl=Fx[d]}var f,p=a.easingImpl;if(f=0===a.duration?1:(n-l)/a.duration,a.applying&&(f=a.progress),f<0?f=0:f>1&&(f=1),null==a.delay){var g=a.startPosition,v=a.position;if(v&&i&&!t.locked()){var y={};Ux(g.x,v.x)&&(y.x=qx(g.x,v.x,f,p)),Ux(g.y,v.y)&&(y.y=qx(g.y,v.y,f,p)),t.position(y)}var m=a.startPan,b=a.pan,_=o.pan,w=null!=b&&r;w&&(Ux(m.x,b.x)&&(_.x=qx(m.x,b.x,f,p)),Ux(m.y,b.y)&&(_.y=qx(m.y,b.y,f,p)),t.emit("pan"));var x=a.startZoom,E=a.zoom,k=null!=E&&r;k&&(Ux(x,E)&&(o.zoom=Pm(o.minZoom,qx(x,E,f,p),o.maxZoom)),t.emit("zoom")),(w||k)&&t.emit("viewport");var S=a.style;if(S&&S.length>0&&i){for(var C=0;C<S.length;C++){var T=S[C],N=T.name,A=T,O=a.startStyle[N],P=qx(O,A,f,p,u.properties[O.name]);u.overrideBypass(t,N,P)}t.emit("style")}}return a.progress=f,f}function Ux(t,e){return null!=t&&null!=e&&(!(!ty(t)||!ty(e))||!(!t||!e))}function Gx(t,e,n,r){var i=e._private;i.started=!0,i.startTime=n-i.progress*i.duration}function Wx(t,e){var n=e._private.aniEles,r=[];function i(e,n){var i=e._private,o=i.animation.current,a=i.animation.queue,s=!1;if(0===o.length){var l=a.shift();l&&o.push(l)}for(var u=function(t){for(var e=t.length-1;e>=0;e--){(0,t[e])()}t.splice(0,t.length)},c=o.length-1;c>=0;c--){var d=o[c],h=d._private;h.stopped?(o.splice(c,1),h.hooked=!1,h.playing=!1,h.started=!1,u(h.frames)):(h.playing||h.applying)&&(h.playing&&h.applying&&(h.applying=!1),h.started||Gx(0,d,t),Hx(e,d,t,n),h.applying&&(h.applying=!1),u(h.frames),null!=h.step&&h.step(t),d.completed()&&(o.splice(c,1),h.hooked=!1,h.playing=!1,h.started=!1,u(h.completes)),s=!0)}return n||0!==o.length||0!==a.length||r.push(e),s}for(var o=!1,a=0;a<n.length;a++){var s=i(n[a]);o=o||s}var l=i(e,!0);(o||l)&&(n.length>0?e.notify("draw",n):e.notify("draw")),n.unmerge(r),e.emit("step")}var Yx={animate:__.animate(),animation:__.animation(),animated:__.animated(),clearQueue:__.clearQueue(),delay:__.delay(),delayAnimation:__.delayAnimation(),stop:__.stop(),addToAnimationPool:function(t){this.styleEnabled()&&this._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var e=t.renderer();e&&e.beforeRender?e.beforeRender((function(e,n){Wx(n,t)}),e.beforeRenderPriorities.animations):function e(){t._private.animationsRunning&&ky((function(n){Wx(n,t),e()}))}()}}},Xx={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var r=e.qualifier;return null==r||t!==n.target&&ry(n.target)&&r.matches(n.target)},addEventFields:function(t,e){e.cy=t,e.target=t},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t}},Kx=function(t){return $v(t)?new rw(t):t},$x={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new Jw(Xx,this)),this},emitter:function(){return this._private.emitter},on:function(t,e,n){return this.emitter().on(t,Kx(e),n),this},removeListener:function(t,e,n){return this.emitter().removeListener(t,Kx(e),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,e,n){return this.emitter().one(t,Kx(e),n),this},once:function(t,e,n){return this.emitter().one(t,Kx(e),n),this},emit:function(t,e){return this.emitter().emit(t,e),this},emitAndNotify:function(t,e){return this.emit(t),this.notify(t,e),this}};__.eventAliasesOn($x);var Zx={png:function(t){return t=t||{},this._private.renderer.png(t)},jpg:function(t){var e=this._private.renderer;return(t=t||{}).bg=t.bg||"#fff",e.jpg(t)}};Zx.jpeg=Zx.jpg;var Jx={layout:function(t){if(null!=t)if(null!=t.name){var e=t.name,n=this.extension("layout",e);if(null!=n){var r;r=$v(t.eles)?this.$(t.eles):null!=t.eles?t.eles:this.$();var i=new n(vy({},t,{cy:this,eles:r}));return i}Hy("No such layout `"+e+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Hy("A `name` must be specified to make a layout");else Hy("Layout options must be specified to make a layout")}};Jx.createLayout=Jx.makeLayout=Jx.layout;var Qx={notify:function(t,e){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var r=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();null!=e&&r.merge(e)}else if(n.notificationsEnabled){var i=this.renderer();!this.destroyed()&&i&&i.notify(t,e)}},notifications:function(t){var e=this._private;return void 0===t?e.notificationsEnabled:(e.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return null==t.batchCount&&(t.batchCount=0),0===t.batchCount&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(0===t.batchCount)return this;if(t.batchCount--,0===t.batchCount){t.batchStyleEles.updateStyle();var e=this.renderer();Object.keys(t.batchNotifications).forEach((function(n){var r=t.batchNotifications[n];r.empty()?e.notify(n):e.notify(n,r)}))}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch((function(){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];e.getElementById(i).data(o)}}))}},tE=$y({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),eE={renderTo:function(t,e,n,r){return this._private.renderer.renderTo(t,e,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var e=this.extension("renderer",t.name);if(null!=e){void 0!==t.wheelSensitivity&&Gy("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=tE(t);n.cy=this,this._private.renderer=new e(n),this.notify("init")}else Hy("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){this.notify("destroy");var t=this.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);this._private.renderer=null,this.mutableElements().forEach((function(t){var e=t._private;e.rscratch={},e.rstyle={},e.animation.current=[],e.animation.queue=[]}))},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};eE.invalidateDimensions=eE.resize;var nE={collection:function(t,e){return $v(t)?this.$(t):ny(t)?t.collection():Jv(t)?new Lx(this,t,e):new Lx(this)},nodes:function(t){var e=this.$((function(t){return t.isNode()}));return t?e.filter(t):e},edges:function(t){var e=this.$((function(t){return t.isEdge()}));return t?e.filter(t):e},$:function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},mutableElements:function(){return this._private.elements}};nE.elements=nE.filter=nE.$;var rE={};rE.apply=function(t){var e=this._private,n=e.cy.collection();e.newStyle&&(e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0));for(var r=0;r<t.length;r++){var i=t[r],o=this.getContextMeta(i);if(!o.empty){var a=this.getContextStyle(o),s=this.applyContextStyle(o,a,i);e.newStyle||this.updateTransitions(i,s.diffProps),this.updateStyleHints(i)&&n.merge(i)}}return e.newStyle=!1,n},rE.getPropertiesDiff=function(t,e){var n=this._private.propDiffs=this._private.propDiffs||{},r=t+"-"+e,i=n[r];if(i)return i;for(var o=[],a={},s=0;s<this.length;s++){var l=this[s],u="t"===t[s],c="t"===e[s],d=u!==c,h=l.mappedProperties.length>0;if(d||c&&h){var f=void 0;d&&h||d?f=l.properties:h&&(f=l.mappedProperties);for(var p=0;p<f.length;p++){for(var g=f[p],v=g.name,y=!1,m=s+1;m<this.length;m++){var b=this[m];if("t"===e[m]&&(y=null!=b.properties[g.name]))break}a[v]||y||(a[v]=!0,o.push(v))}}}return n[r]=o,o},rE.getContextMeta=function(t){var e,n="",r=t._private.styleCxtKey||"";this._private.newStyle&&(r="");for(var i=0;i<this.length;i++){var o=this[i];n+=o.selector&&o.selector.matches(t)?"t":"f"}return e=this.getPropertiesDiff(r,n),t._private.styleCxtKey=n,{key:n,diffPropNames:e,empty:0===e.length}},rE.getContextStyle=function(t){var e=t.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var r={_private:{key:e}},i=0;i<this.length;i++){var o=this[i];if("t"===e[i])for(var a=0;a<o.properties.length;a++){var s=o.properties[a];r[s.name]=s}}return n[e]=r,r},rE.applyContextStyle=function(t,e,n){for(var r=t.diffPropNames,i={},o=this.types,a=0;a<r.length;a++){var s=r[a],l=e[s],u=n.pstyle(s);if(!l){if(!u)continue;l=u.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(u!==l){if(l.mapped===o.fn&&null!=u&&null!=u.mapping&&u.mapping.value===l.value){var c=u.mapping;if((c.fnValue=l.value(n))===c.prevFnValue)continue}var d=i[s]={prev:u};this.applyParsedProperty(n,l),d.next=n.pstyle(s),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:i}},rE.updateStyleHints=function(t){var e=t._private,n=this,r=n.propertyGroupNames,i=n.propertyGroupKeys,o=function(t,e,r){return n.getPropertiesHash(t,e,r)},a=e.styleKey;if(t.removed())return!1;var s="nodes"===e.group,l=t._private.style;r=Object.keys(l);for(var u=0;u<i.length;u++){var c=i[u];e.styleKeys[c]=[9261,5381]}for(var d,h=function(t,n){return e.styleKeys[n][0]=Ny(t,e.styleKeys[n][0])},f=function(t,n){return e.styleKeys[n][1]=Ay(t,e.styleKeys[n][1])},p=function(t,e){h(t,e),f(t,e)},g=function(t,e){for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);h(r,e),f(r,e)}},v=0;v<r.length;v++){var y=r[v],m=l[y];if(null!=m){var b=this.properties[y],_=b.type,w=b.groupKey,x=void 0;null!=b.hashOverride?x=b.hashOverride(t,m):null!=m.pfValue&&(x=m.pfValue);var E=null==b.enums?m.value:null,k=null!=x,S=k||null!=E,C=m.units;if(_.number&&S&&!_.multiple)p(-128<(d=k?x:E)&&d<128&&Math.floor(d)!==d?2e9-(1024*d|0):d,w),k||null==C||g(C,w);else g(m.strValue,w)}}for(var T,N,A=[9261,5381],O=0;O<i.length;O++){var P=i[O],D=e.styleKeys[P];A[0]=Ny(D[0],A[0]),A[1]=Ay(D[1],A[1])}e.styleKey=(T=A[0],N=A[1],2097152*T+N);var M=e.styleKeys;e.labelDimsKey=Oy(M.labelDimensions);var L=o(t,["label"],M.labelDimensions);if(e.labelKey=Oy(L),e.labelStyleKey=Oy(Py(M.commonLabel,L)),!s){var I=o(t,["source-label"],M.labelDimensions);e.sourceLabelKey=Oy(I),e.sourceLabelStyleKey=Oy(Py(M.commonLabel,I));var R=o(t,["target-label"],M.labelDimensions);e.targetLabelKey=Oy(R),e.targetLabelStyleKey=Oy(Py(M.commonLabel,R))}if(s){var B=e.styleKeys,j=B.nodeBody,F=B.nodeBorder,z=B.backgroundImage,V=B.compound,q=B.pie,H=[j,F,z,V,q].reduce(Py,[9261,5381]);e.nodeKey=Oy(H),e.hasPie=9261!==q[0]&&5381!==q[1]}return a!==e.styleKey},rE.clearStyleHints=function(t){var e=t._private;e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null},rE.applyParsedProperty=function(t,e){var n,r=this,i=e,o=t._private.style,a=r.types,s=r.properties[i.name].type,l=i.bypass,u=o[i.name],c=u&&u.bypass,d=t._private,h=function(t){return null==t?null:null!=t.pfValue?t.pfValue:t.value},f=function(){var e=h(u),n=h(i);r.checkTriggers(t,i.name,e,n)};if("curve-style"===e.name&&t.isEdge()&&("bezier"!==e.value&&t.isLoop()||"haystack"===e.value&&(t.source().isParent()||t.target().isParent()))&&(i=e=this.parse(e.name,"bezier",l)),i.delete)return o[i.name]=void 0,f(),!0;if(i.deleteBypassed)return u?!!u.bypass&&(u.bypassed=void 0,f(),!0):(f(),!0);if(i.deleteBypass)return u?!!u.bypass&&(o[i.name]=u.bypassed,f(),!0):(f(),!0);var p=function(){Gy("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")};switch(i.mapped){case a.mapData:for(var g,v=i.field.split("."),y=d.data,m=0;m<v.length&&y;m++){y=y[v[m]]}if(null==y)return p(),!1;if(!ty(y))return Gy("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+y+"` for `"+t.id()+"` is non-numeric)"),!1;var b=i.fieldMax-i.fieldMin;if((g=0===b?0:(y-i.fieldMin)/b)<0?g=0:g>1&&(g=1),s.color){var _=i.valueMin[0],w=i.valueMax[0],x=i.valueMin[1],E=i.valueMax[1],k=i.valueMin[2],S=i.valueMax[2],C=null==i.valueMin[3]?1:i.valueMin[3],T=null==i.valueMax[3]?1:i.valueMax[3],N=[Math.round(_+(w-_)*g),Math.round(x+(E-x)*g),Math.round(k+(S-k)*g),Math.round(C+(T-C)*g)];n={bypass:i.bypass,name:i.name,value:N,strValue:"rgb("+N[0]+", "+N[1]+", "+N[2]+")"}}else{if(!s.number)return!1;var A=i.valueMin+(i.valueMax-i.valueMin)*g;n=this.parse(i.name,A,i.bypass,"mapping")}if(!n)return p(),!1;n.mapping=i,i=n;break;case a.data:for(var O=i.field.split("."),P=d.data,D=0;D<O.length&&P;D++){P=P[O[D]]}if(null!=P&&(n=this.parse(i.name,P,i.bypass,"mapping")),!n)return p(),!1;n.mapping=i,i=n;break;case a.fn:var M=i.value,L=null!=i.fnValue?i.fnValue:M(t);if(i.prevFnValue=L,null==L)return Gy("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+t.id()+"` is null)"),!1;if(!(n=this.parse(i.name,L,i.bypass,"mapping")))return Gy("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+t.id()+"` is invalid)"),!1;n.mapping=Wy(i),i=n;break;case void 0:break;default:return!1}return l?(i.bypassed=c?u.bypassed:u,o[i.name]=i):c?u.bypassed=i:o[i.name]=i,f(),!0},rE.cleanElements=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),e)for(var i=r._private.style,o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],l=i[s];null!=l&&(l.bypass?l.bypassed=null:i[s]=null)}else r._private.style={}}},rE.update=function(){this._private.cy.mutableElements().updateStyle()},rE.updateTransitions=function(t,e){var n=this,r=t._private,i=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,a=t.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var s={},l=!1,u=0;u<i.length;u++){var c=i[u],d=t.pstyle(c),h=e[c];if(h){var f=h.prev,p=null!=h.next?h.next:d,g=!1,v=void 0;f&&(ty(f.pfValue)&&ty(p.pfValue)?(g=p.pfValue-f.pfValue,v=f.pfValue+1e-6*g):ty(f.value)&&ty(p.value)?(g=p.value-f.value,v=f.value+1e-6*g):Jv(f.value)&&Jv(p.value)&&(g=f.value[0]!==p.value[0]||f.value[1]!==p.value[1]||f.value[2]!==p.value[2],v=f.strValue),g&&(s[c]=p.strValue,this.applyBypass(t,c,v),l=!0))}}if(!l)return;r.transitioning=!0,new y_((function(e){a>0?t.delayAnimation(a).play().promise().then(e):e()})).then((function(){return t.animation({style:s,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){n.removeBypasses(t,i),t.emitAndNotify("style"),r.transitioning=!1}))}else r.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),r.transitioning=!1)},rE.checkTrigger=function(t,e,n,r,i,o){var a=this.properties[e],s=i(a);null!=s&&s(n,r)&&o(a)},rE.checkZOrderTrigger=function(t,e,n,r){var i=this;this.checkTrigger(t,e,n,r,(function(t){return t.triggersZOrder}),(function(){i._private.cy.notify("zorder",t)}))},rE.checkBoundsTrigger=function(t,e,n,r){this.checkTrigger(t,e,n,r,(function(t){return t.triggersBounds}),(function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),"bezier"!==t.pstyle("curve-style").value&&("curve-style"!==e||"bezier"!==n&&"bezier"!==r)||!i.triggersBoundsOfParallelBeziers||t.parallelEdges().forEach((function(t){t.isBundledBezier()&&t.dirtyBoundingBoxCache()}))}))},rE.checkTriggers=function(t,e,n,r){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,n,r),this.checkBoundsTrigger(t,e,n,r)};var iE={applyBypass:function(t,e,n,r){var i=[];if("*"===e||"**"===e){if(void 0!==n)for(var o=0;o<this.properties.length;o++){var a=this.properties[o].name,s=this.parse(a,n,!0);s&&i.push(s)}}else if($v(e)){var l=this.parse(e,n,!0);l&&i.push(l)}else{if(!Qv(e))return!1;var u=e;r=n;for(var c=Object.keys(u),d=0;d<c.length;d++){var h=c[d],f=u[h];if(void 0===f&&(f=u[dy(h)]),void 0!==f){var p=this.parse(h,f,!0);p&&i.push(p)}}}if(0===i.length)return!1;for(var g=!1,v=0;v<t.length;v++){for(var y=t[v],m={},b=void 0,_=0;_<i.length;_++){var w=i[_];if(r){var x=y.pstyle(w.name);b=m[w.name]={prev:x}}g=this.applyParsedProperty(y,w)||g,r&&(b.next=y.pstyle(w.name))}g&&this.updateStyleHints(y),r&&this.updateTransitions(y,m,!0)}return g},overrideBypass:function(t,e,n){e=cy(e);for(var r=0;r<t.length;r++){var i=t[r],o=i._private.style[e],a=this.properties[e].type,s=a.color,l=a.mutiple,u=o?null!=o.pfValue?o.pfValue:o.value:null;o&&o.bypass?(o.value=n,null!=o.pfValue&&(o.pfValue=n),o.strValue=s?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.updateStyleHints(i)):this.applyBypass(i,e,n),this.checkTriggers(i,e,u,n)}},removeAllBypasses:function(t,e){return this.removeBypasses(t,this.propertyNames,e)},removeBypasses:function(t,e,n){for(var r=0;r<t.length;r++){for(var i=t[r],o={},a=0;a<e.length;a++){var s=e[a],l=this.properties[s],u=i.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),d=o[l.name]={prev:u};this.applyParsedProperty(i,c),d.next=i.pstyle(l.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,o,!0)}}},oE={getEmSizeInPixels:function(){var t=this.containerCss("font-size");return null!=t?parseFloat(t):1},containerCss:function(t){var e=this._private.cy.container();if(Hv&&e&&Hv.getComputedStyle)return Hv.getComputedStyle(e).getPropertyValue(t)}},aE={getRenderedStyle:function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},getRawStyle:function(t,e){if(t=t[0]){for(var n={},r=0;r<this.properties.length;r++){var i=this.properties[r],o=this.getStylePropertyValue(t,i.name,e);null!=o&&(n[i.name]=o,n[dy(i.name)]=o)}return n}},getIndexedStyle:function(t,e,n,r){var i=t.pstyle(e)[n][r];return null!=i?i:t.cy().style().getDefaultProperty(e)[n][0]},getStylePropertyValue:function(t,e,n){if(t=t[0]){var r=this.properties[e];r.alias&&(r=r.pointsTo);var i=r.type,o=t.pstyle(r.name);if(o){var a=o.value,s=o.units,l=o.strValue;if(n&&i.number&&null!=a&&ty(a)){var u=t.cy().zoom(),c=function(t){return t*u},d=function(t,e){return c(t)+e},h=Jv(a);return(h?s.every((function(t){return null!=t})):null!=s)?h?a.map((function(t,e){return d(t,s[e])})).join(" "):d(a,s):h?a.map((function(t){return $v(t)?t:""+c(t)})).join(" "):""+c(a)}if(null!=l)return l}return null}},getAnimationStartStyle:function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r].name,o=t.pstyle(i);void 0!==o&&(o=Qv(o)?this.parse(i,o.strValue):this.parse(i,o)),o&&(n[i]=o)}return n},getPropsList:function(t){var e=[],n=t,r=this.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var a=i[o],s=n[a],l=r[a]||r[cy(a)],u=this.parse(l.name,s);u&&e.push(u)}return e},getNonDefaultPropertiesHash:function(t,e,n){var r,i,o,a,s,l,u=n.slice();for(s=0;s<e.length;s++)if(r=e[s],null!=(i=t.pstyle(r,!1)))if(null!=i.pfValue)u[0]=Ny(a,u[0]),u[1]=Ay(a,u[1]);else for(o=i.strValue,l=0;l<o.length;l++)a=o.charCodeAt(l),u[0]=Ny(a,u[0]),u[1]=Ay(a,u[1]);return u}};aE.getPropertiesHash=aE.getNonDefaultPropertiesHash;var sE={appendFromJson:function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.selector,i=n.style||n.css,o=Object.keys(i);this.selector(r);for(var a=0;a<o.length;a++){var s=o[a],l=i[s];this.css(s,l)}}return this},fromJson:function(t){return this.resetToDefault(),this.appendFromJson(t),this},json:function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var n=this[e],r=n.selector,i=n.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}t.push({selector:r?r.toString():"core",style:o})}return t}},lE={appendFromString:function(t){var e,n,r,i=""+t;function o(){i=i.length>e.length?i.substr(e.length):""}function a(){n=n.length>r.length?n.substr(r.length):""}for(i=i.replace(/[/][*](\s|.)+?[*][/]/g,"");;){if(i.match(/^\s*$/))break;var s=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!s){Gy("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}e=s[0];var l=s[1];if("core"!==l)if(new rw(l).invalid){Gy("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),o();continue}var u=s[2],c=!1;n=u;for(var d=[];;){if(n.match(/^\s*$/))break;var h=n.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!h){Gy("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+u),c=!0;break}r=h[0];var f=h[1],p=h[2];if(this.properties[f])this.parse(f,p)?(d.push({name:f,val:p}),a()):(Gy("Skipping property: Invalid property definition in: "+r),a());else Gy("Skipping property: Invalid property name in: "+r),a()}if(c){o();break}this.selector(l);for(var g=0;g<d.length;g++){var v=d[g];this.css(v.name,v.val)}o()}return this},fromString:function(t){return this.resetToDefault(),this.appendFromString(t),this}},uE={};!function(){var t=py,e=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(e){var n=t+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},r=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];uE.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:e("data")},layoutData:{mapping:!0,regex:e("layoutData")},scratch:{mapping:!0,regex:e("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:r,singleRegexMatchValue:!0},urls:{regexes:r,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(t,e){switch(t.length){case 2:return"deg"!==e[0]&&"rad"!==e[0]&&"deg"!==e[1]&&"rad"!==e[1];case 1:return $v(t[0])||"deg"===e[0]||"rad"===e[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(t){var e=t.length;return 1===e||2===e||4===e}}};var i={zeroNonZero:function(t,e){return(null==t||null==e)&&t!==e||(0==t&&0!=e||0!=t&&0==e)},any:function(t,e){return t!=e},emptyNonEmpty:function(t,e){var n=sy(t),r=sy(e);return n&&!r||!n&&r}},o=uE.types,a=[{name:"label",type:o.text,triggersBounds:i.any,triggersZOrder:i.emptyNonEmpty},{name:"text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any}],s=[{name:"source-label",type:o.text,triggersBounds:i.any},{name:"source-text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"source-text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"source-text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"source-text-offset",type:o.size,triggersBounds:i.any}],l=[{name:"target-label",type:o.text,triggersBounds:i.any},{name:"target-text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"target-text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"target-text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"target-text-offset",type:o.size,triggersBounds:i.any}],u=[{name:"font-family",type:o.fontFamily,triggersBounds:i.any},{name:"font-style",type:o.fontStyle,triggersBounds:i.any},{name:"font-weight",type:o.fontWeight,triggersBounds:i.any},{name:"font-size",type:o.size,triggersBounds:i.any},{name:"text-transform",type:o.textTransform,triggersBounds:i.any},{name:"text-wrap",type:o.textWrap,triggersBounds:i.any},{name:"text-overflow-wrap",type:o.textOverflowWrap,triggersBounds:i.any},{name:"text-max-width",type:o.size,triggersBounds:i.any},{name:"text-outline-width",type:o.size,triggersBounds:i.any},{name:"line-height",type:o.positiveNumber,triggersBounds:i.any}],c=[{name:"text-valign",type:o.valign,triggersBounds:i.any},{name:"text-halign",type:o.halign,triggersBounds:i.any},{name:"color",type:o.color},{name:"text-outline-color",type:o.color},{name:"text-outline-opacity",type:o.zeroOneNumber},{name:"text-background-color",type:o.color},{name:"text-background-opacity",type:o.zeroOneNumber},{name:"text-background-padding",type:o.size,triggersBounds:i.any},{name:"text-border-opacity",type:o.zeroOneNumber},{name:"text-border-color",type:o.color},{name:"text-border-width",type:o.size,triggersBounds:i.any},{name:"text-border-style",type:o.borderStyle,triggersBounds:i.any},{name:"text-background-shape",type:o.textBackgroundShape,triggersBounds:i.any},{name:"text-justification",type:o.justification}],d=[{name:"events",type:o.bool},{name:"text-events",type:o.bool}],h=[{name:"display",type:o.display,triggersZOrder:i.any,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:o.visibility,triggersZOrder:i.any},{name:"opacity",type:o.zeroOneNumber,triggersZOrder:i.zeroNonZero},{name:"text-opacity",type:o.zeroOneNumber},{name:"min-zoomed-font-size",type:o.size},{name:"z-compound-depth",type:o.zCompoundDepth,triggersZOrder:i.any},{name:"z-index-compare",type:o.zIndexCompare,triggersZOrder:i.any},{name:"z-index",type:o.nonNegativeInt,triggersZOrder:i.any}],f=[{name:"overlay-padding",type:o.size,triggersBounds:i.any},{name:"overlay-color",type:o.color},{name:"overlay-opacity",type:o.zeroOneNumber,triggersBounds:i.zeroNonZero}],p=[{name:"transition-property",type:o.propList},{name:"transition-duration",type:o.time},{name:"transition-delay",type:o.time},{name:"transition-timing-function",type:o.easing}],g=function(t,e){return"label"===e.value?-t.poolIndex():e.pfValue},v=[{name:"height",type:o.nodeSize,triggersBounds:i.any,hashOverride:g},{name:"width",type:o.nodeSize,triggersBounds:i.any,hashOverride:g},{name:"shape",type:o.nodeShape,triggersBounds:i.any},{name:"shape-polygon-points",type:o.polygonPointList,triggersBounds:i.any},{name:"background-color",type:o.color},{name:"background-fill",type:o.fill},{name:"background-opacity",type:o.zeroOneNumber},{name:"background-blacken",type:o.nOneOneNumber},{name:"background-gradient-stop-colors",type:o.colors},{name:"background-gradient-stop-positions",type:o.percentages},{name:"background-gradient-direction",type:o.gradientDirection},{name:"padding",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"padding-relative-to",type:o.paddingRelativeTo,triggersBounds:i.any},{name:"bounds-expansion",type:o.boundsExpansion,triggersBounds:i.any}],y=[{name:"border-color",type:o.color},{name:"border-opacity",type:o.zeroOneNumber},{name:"border-width",type:o.size,triggersBounds:i.any},{name:"border-style",type:o.borderStyle}],m=[{name:"background-image",type:o.urls},{name:"background-image-crossorigin",type:o.bgCrossOrigin},{name:"background-image-opacity",type:o.zeroOneNumbers},{name:"background-position-x",type:o.bgPos},{name:"background-position-y",type:o.bgPos},{name:"background-width-relative-to",type:o.bgRelativeTo},{name:"background-height-relative-to",type:o.bgRelativeTo},{name:"background-repeat",type:o.bgRepeat},{name:"background-fit",type:o.bgFit},{name:"background-clip",type:o.bgClip},{name:"background-width",type:o.bgWH},{name:"background-height",type:o.bgWH},{name:"background-offset-x",type:o.bgPos},{name:"background-offset-y",type:o.bgPos}],b=[{name:"position",type:o.position,triggersBounds:i.any},{name:"compound-sizing-wrt-labels",type:o.compoundIncludeLabels,triggersBounds:i.any},{name:"min-width",type:o.size,triggersBounds:i.any},{name:"min-width-bias-left",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-width-bias-right",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-height",type:o.size,triggersBounds:i.any},{name:"min-height-bias-top",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-height-bias-bottom",type:o.sizeMaybePercent,triggersBounds:i.any}],_=[{name:"line-style",type:o.lineStyle},{name:"line-color",type:o.color},{name:"line-fill",type:o.fill},{name:"line-cap",type:o.lineCap},{name:"line-dash-pattern",type:o.numbers},{name:"line-dash-offset",type:o.number},{name:"line-gradient-stop-colors",type:o.colors},{name:"line-gradient-stop-positions",type:o.percentages},{name:"curve-style",type:o.curveStyle,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:o.zeroOneNumber,triggersBounds:i.any},{name:"source-endpoint",type:o.edgeEndpoint,triggersBounds:i.any},{name:"target-endpoint",type:o.edgeEndpoint,triggersBounds:i.any},{name:"control-point-step-size",type:o.size,triggersBounds:i.any},{name:"control-point-distances",type:o.bidirectionalSizes,triggersBounds:i.any},{name:"control-point-weights",type:o.numbers,triggersBounds:i.any},{name:"segment-distances",type:o.bidirectionalSizes,triggersBounds:i.any},{name:"segment-weights",type:o.numbers,triggersBounds:i.any},{name:"taxi-turn",type:o.bidirectionalSizeMaybePercent,triggersBounds:i.any},{name:"taxi-turn-min-distance",type:o.size,triggersBounds:i.any},{name:"taxi-direction",type:o.axisDirection,triggersBounds:i.any},{name:"edge-distances",type:o.edgeDistances,triggersBounds:i.any},{name:"arrow-scale",type:o.positiveNumber,triggersBounds:i.any},{name:"loop-direction",type:o.angle,triggersBounds:i.any},{name:"loop-sweep",type:o.angle,triggersBounds:i.any},{name:"source-distance-from-node",type:o.size,triggersBounds:i.any},{name:"target-distance-from-node",type:o.size,triggersBounds:i.any}],w=[{name:"ghost",type:o.bool,triggersBounds:i.any},{name:"ghost-offset-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"ghost-offset-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"ghost-opacity",type:o.zeroOneNumber}],x=[{name:"selection-box-color",type:o.color},{name:"selection-box-opacity",type:o.zeroOneNumber},{name:"selection-box-border-color",type:o.color},{name:"selection-box-border-width",type:o.size},{name:"active-bg-color",type:o.color},{name:"active-bg-opacity",type:o.zeroOneNumber},{name:"active-bg-size",type:o.size},{name:"outside-texture-bg-color",type:o.color},{name:"outside-texture-bg-opacity",type:o.zeroOneNumber}],E=[];uE.pieBackgroundN=16,E.push({name:"pie-size",type:o.sizeMaybePercent});for(var k=1;k<=uE.pieBackgroundN;k++)E.push({name:"pie-"+k+"-background-color",type:o.color}),E.push({name:"pie-"+k+"-background-size",type:o.percent}),E.push({name:"pie-"+k+"-background-opacity",type:o.zeroOneNumber});var S=[],C=uE.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:o.arrowShape,triggersBounds:i.any},{name:"arrow-color",type:o.color},{name:"arrow-fill",type:o.arrowFill}].forEach((function(t){C.forEach((function(e){var n=e+"-"+t.name,r=t.type,i=t.triggersBounds;S.push({name:n,type:r,triggersBounds:i})}))}),{});var T=uE.properties=[].concat(d,p,h,f,w,c,u,a,s,l,v,y,m,E,b,_,S,x),N=uE.propertyGroups={behavior:d,transition:p,visibility:h,overlay:f,ghost:w,commonLabel:c,labelDimensions:u,mainLabel:a,sourceLabel:s,targetLabel:l,nodeBody:v,nodeBorder:y,backgroundImage:m,pie:E,compound:b,edgeLine:_,edgeArrow:S,core:x},A=uE.propertyGroupNames={};(uE.propertyGroupKeys=Object.keys(N)).forEach((function(t){A[t]=N[t].map((function(t){return t.name})),N[t].forEach((function(e){return e.groupKey=t}))}));var O=uE.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];uE.propertyNames=T.map((function(t){return t.name}));for(var P=0;P<T.length;P++){var D=T[P];T[D.name]=D}for(var M=0;M<O.length;M++){var L=O[M],I=T[L.pointsTo],R={name:L.name,alias:!0,pointsTo:I};T.push(R),T[L.name]=R}}(),uE.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},uE.getDefaultProperties=function(){var t=this._private;if(null!=t.defaultProperties)return t.defaultProperties;for(var e=vy({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(t,e){for(var n=1;n<=uE.pieBackgroundN;n++){var r=e.name.replace("{{i}}",n),i=e.value;t[r]=i}return t}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(t,e){return uE.arrowPrefixes.forEach((function(n){var r=n+"-"+e.name,i=e.value;t[r]=i})),t}),{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var o=i.name,a=e[o],s=this.parse(o,a);n[o]=s}}return t.defaultProperties=n,t.defaultProperties},uE.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var cE={parse:function(t,e,n,r){if(Zv(e))return this.parseImplWarn(t,e,n,r);var i,o=My(t,""+e,n?"t":"f","mapping"===r||!0===r||!1===r||null==r?"dontcare":r),a=this.propCache=this.propCache||[];return(i=a[o])||(i=a[o]=this.parseImplWarn(t,e,n,r)),(n||"mapping"===r)&&(i=Wy(i))&&(i.value=Wy(i.value)),i},parseImplWarn:function(t,e,n,r){var i=this.parseImpl(t,e,n,r);return i||null==e||Gy("The style property `".concat(t,": ").concat(e,"` is invalid")),i}};cE.parseImpl=function(t,e,n,r){t=cy(t);var i=this.properties[t],o=e,a=this.types;if(!i)return null;if(void 0===e)return null;i.alias&&(i=i.pointsTo,t=i.name);var s=$v(e);s&&(e=e.trim());var l,u,c=i.type;if(!c)return null;if(n&&(""===e||null===e))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Zv(e))return{name:t,value:e,strValue:"fn",mapped:a.fn,bypass:n};if(!s||r||e.length<7||"a"!==e[1]);else{if(e.length>=7&&"d"===e[0]&&(l=new RegExp(a.data.regex).exec(e))){if(n)return!1;var d=a.data;return{name:t,value:l,strValue:""+e,mapped:d,field:l[1],bypass:n}}if(e.length>=10&&"m"===e[0]&&(u=new RegExp(a.mapData.regex).exec(e))){if(n)return!1;if(c.multiple)return!1;var h=a.mapData;if(!c.color&&!c.number)return!1;var f=this.parse(t,u[4]);if(!f||f.mapped)return!1;var p=this.parse(t,u[5]);if(!p||p.mapped)return!1;if(f.pfValue===p.pfValue||f.strValue===p.strValue)return Gy("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+f.strValue+"`"),this.parse(t,f.strValue);if(c.color){var g=f.value,v=p.value;if(!(g[0]!==v[0]||g[1]!==v[1]||g[2]!==v[2]||g[3]!==v[3]&&(null!=g[3]&&1!==g[3]||null!=v[3]&&1!==v[3])))return!1}return{name:t,value:u,strValue:""+e,mapped:h,field:u[1],fieldMin:parseFloat(u[2]),fieldMax:parseFloat(u[3]),valueMin:f.value,valueMax:p.value,bypass:n}}}if(c.multiple&&"multiple"!==r){var y;if(y=s?e.split(/\s+/):Jv(e)?e:[e],c.evenMultiple&&y.length%2!=0)return null;for(var m=[],b=[],_=[],w="",x=!1,E=0;E<y.length;E++){var k=this.parse(t,y[E],n,"multiple");x=x||$v(k.value),m.push(k.value),_.push(null!=k.pfValue?k.pfValue:k.value),b.push(k.units),w+=(E>0?" ":"")+k.strValue}return c.validate&&!c.validate(m,b)?null:c.singleEnum&&x?1===m.length&&$v(m[0])?{name:t,value:m[0],strValue:m[0],bypass:n}:null:{name:t,value:m,pfValue:_,strValue:w,bypass:n,units:b}}var S,C,T=function(){for(var r=0;r<c.enums.length;r++){if(c.enums[r]===e)return{name:t,value:e,strValue:""+e,bypass:n}}return null};if(c.number){var N,A="px";if(c.units&&(N=c.units),c.implicitUnits&&(A=c.implicitUnits),!c.unitless)if(s){var O="px|em"+(c.allowPercent?"|\\%":"");N&&(O=N);var P=e.match("^("+py+")("+O+")?$");P&&(e=P[1],N=P[2]||A)}else N&&!c.implicitUnits||(N=A);if(e=parseFloat(e),isNaN(e)&&void 0===c.enums)return null;if(isNaN(e)&&void 0!==c.enums)return e=o,T();if(c.integer&&(!ty(C=e)||Math.floor(C)!==C))return null;if(void 0!==c.min&&(e<c.min||c.strictMin&&e===c.min)||void 0!==c.max&&(e>c.max||c.strictMax&&e===c.max))return null;var D={name:t,value:e,strValue:""+e+(N||""),units:N,bypass:n};return c.unitless||"px"!==N&&"em"!==N?D.pfValue=e:D.pfValue="px"!==N&&N?this.getEmSizeInPixels()*e:e,"ms"!==N&&"s"!==N||(D.pfValue="ms"===N?e:1e3*e),"deg"!==N&&"rad"!==N||(D.pfValue="rad"===N?e:(S=e,Math.PI*S/180)),"%"===N&&(D.pfValue=e/100),D}if(c.propList){var M=[],L=""+e;if("none"===L);else{for(var I=L.split(/\s*,\s*|\s+/),R=0;R<I.length;R++){var B=I[R].trim();this.properties[B]?M.push(B):Gy("`"+B+"` is not a valid property name")}if(0===M.length)return null}return{name:t,value:M,strValue:0===M.length?"none":M.join(" "),bypass:n}}if(c.color){var j=yy(e);return j?{name:t,value:j,pfValue:j,strValue:"rgb("+j[0]+","+j[1]+","+j[2]+")",bypass:n}:null}if(c.regex||c.regexes){if(c.enums){var F=T();if(F)return F}for(var z=c.regexes?c.regexes:[c.regex],V=0;V<z.length;V++){var q=new RegExp(z[V]).exec(e);if(q)return{name:t,value:c.singleRegexMatchValue?q[1]:q,strValue:""+e,bypass:n}}return null}return c.string?{name:t,value:""+e,strValue:""+e,bypass:n}:c.enums?T():null};var dE=function t(e){if(!(this instanceof t))return new t(e);oy(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):Hy("A style must have a core reference")},hE=dE.prototype;hE.instanceString=function(){return"style"},hE.clear=function(){for(var t=0;t<this.length;t++)this[t]=void 0;return this.length=0,this._private.newStyle=!0,this},hE.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},hE.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)},hE.selector=function(t){var e="core"===t?null:new rw(t),n=this.length++;return this[n]={selector:e,properties:[],mappedProperties:[],index:n},this},hE.css=function(){var t=this,e=arguments;if(1===e.length)for(var n=e[0],r=0;r<t.properties.length;r++){var i=t.properties[r],o=n[i.name];void 0===o&&(o=n[dy(i.name)]),void 0!==o&&this.cssRule(i.name,o)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},hE.style=hE.css,hE.cssRule=function(t,e){var n=this.parse(t,e);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},hE.append=function(t){return ay(t)?t.appendToStyle(this):Jv(t)?this.appendFromJson(t):$v(t)&&this.appendFromString(t),this},dE.fromJson=function(t,e){var n=new dE(t);return n.fromJson(e),n},dE.fromString=function(t,e){return new dE(t).fromString(e)},[rE,iE,oE,aE,sE,lE,uE,cE].forEach((function(t){vy(hE,t)})),dE.types=hE.types,dE.properties=hE.properties,dE.propertyGroups=hE.propertyGroups,dE.propertyGroupNames=hE.propertyGroupNames,dE.propertyGroupKeys=hE.propertyGroupKeys;var fE={style:function(t){t&&this.setStyle(t).update();return this._private.style},setStyle:function(t){var e=this._private;return ay(t)?e.style=t.generateStyle(this):Jv(t)?e.style=dE.fromJson(this,t):$v(t)?e.style=dE.fromString(this,t):e.style=dE(this),e.style}},pE={autolock:function(t){return void 0===t?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return void 0===t?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return void 0===t?this._private.autounselectify:(this._private.autounselectify=!!t,this)},selectionType:function(t){var e=this._private;return null==e.selectionType&&(e.selectionType="single"),void 0===t?e.selectionType:("additive"!==t&&"single"!==t||(e.selectionType=t),this)},panningEnabled:function(t){return void 0===t?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return void 0===t?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return void 0===t?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return void 0===t?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return void 0===t?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var t,e,n,r,i,o=arguments,a=this._private.pan;switch(o.length){case 0:return a;case 1:if($v(o[0]))return a[t=o[0]];if(Qv(o[0])){if(!this._private.panningEnabled)return this;r=(n=o[0]).x,i=n.y,ty(r)&&(a.x=r),ty(i)&&(a.y=i),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=o[0],e=o[1],"x"!==t&&"y"!==t||!ty(e)||(a[t]=e),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(t,e){var n,r,i,o,a,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:Qv(t)&&(o=(i=s[0]).x,a=i.y,ty(o)&&(l.x+=o),ty(a)&&(l.y+=a),this.emit("pan viewport"));break;case 2:r=e,"x"!==(n=t)&&"y"!==n||!ty(r)||(l[n]+=r),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(t,e){var n=this.getFitViewport(t,e);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,e){if(ty(t)&&void 0===e&&(e=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n,r;if($v(t)){var i=t;t=this.$(i)}else if(Qv(r=t)&&ty(r.x1)&&ty(r.x2)&&ty(r.y1)&&ty(r.y2)){var o=t;(n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else ny(t)||(t=this.mutableElements());if(!ny(t)||!t.empty()){n=n||t.boundingBox();var a,s=this.width(),l=this.height();if(e=ty(e)?e:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:a=(a=(a=Math.min((s-2*e)/n.w,(l-2*e)/n.h))>this._private.maxZoom?this._private.maxZoom:a)<this._private.minZoom?this._private.minZoom:a,pan:{x:(s-a*(n.x1+n.x2))/2,y:(l-a*(n.y1+n.y2))/2}}}}},zoomRange:function(t,e){var n=this._private;if(null==e){var r=t;t=r.min,e=r.max}return ty(t)&&ty(e)&&t<=e?(n.minZoom=t,n.maxZoom=e):ty(t)&&void 0===e&&t<=n.maxZoom?n.minZoom=t:ty(e)&&void 0===t&&e>=n.minZoom&&(n.maxZoom=e),this},minZoom:function(t){return void 0===t?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return void 0===t?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var e,n,r=this._private,i=r.pan,o=r.zoom,a=!1;if(r.zoomingEnabled||(a=!0),ty(t)?n=t:Qv(t)&&(n=t.level,null!=t.position?e=_m(t.position,o,i):null!=t.renderedPosition&&(e=t.renderedPosition),null==e||r.panningEnabled||(a=!0)),n=(n=n>r.maxZoom?r.maxZoom:n)<r.minZoom?r.minZoom:n,a||!ty(n)||n===o||null!=e&&(!ty(e.x)||!ty(e.y)))return null;if(null!=e){var s=i,l=o,u=n;return{zoomed:!0,panned:!0,zoom:u,pan:{x:-u/l*(e.x-s.x)+e.x,y:-u/l*(e.y-s.y)+e.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:i}},zoom:function(t){if(void 0===t)return this._private.zoom;var e=this.getZoomedViewport(t),n=this._private;return null!=e&&e.zoomed?(n.zoom=e.zoom,e.panned&&(n.pan.x=e.pan.x,n.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(t){var e=this._private,n=!0,r=!0,i=[],o=!1,a=!1;if(!t)return this;if(ty(t.zoom)||(n=!1),Qv(t.pan)||(r=!1),!n&&!r)return this;if(n){var s=t.zoom;s<e.minZoom||s>e.maxZoom||!e.zoomingEnabled?o=!0:(e.zoom=s,i.push("zoom"))}if(r&&(!o||!t.cancelOnFailedZoom)&&e.panningEnabled){var l=t.pan;ty(l.x)&&(e.pan.x=l.x,a=!1),ty(l.y)&&(e.pan.y=l.y,a=!1),a||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,e){if(this._private.panningEnabled){if($v(t)){var n=t;t=this.mutableElements().filter(n)}else ny(t)||(t=this.mutableElements());if(0!==t.length){var r=t.boundingBox(),i=this.width(),o=this.height();return{x:(i-(e=void 0===e?this._private.zoom:e)*(r.x1+r.x2))/2,y:(o-e*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,e=t.container;return t.sizeCache=t.sizeCache||(e?function(){var t=Hv.getComputedStyle(e),n=function(e){return parseFloat(t.getPropertyValue(e))};return{width:e.clientWidth-n("padding-left")-n("padding-right"),height:e.clientHeight-n("padding-top")-n("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,e=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-t.x)/e,x2:(n.x2-t.x)/e,y1:(n.y1-t.y)/e,y2:(n.y2-t.y)/e};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}}};pE.centre=pE.center,pE.autolockNodes=pE.autolock,pE.autoungrabifyNodes=pE.autoungrabify;var gE={data:__.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:__.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:__.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:__.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})};gE.attr=gE.data,gE.removeAttr=gE.removeData;var vE=function(t){var e=this,n=(t=vy({},t)).container;n&&!ey(n)&&ey(n[0])&&(n=n[0]);var r=n?n._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var i=r.readies=r.readies||[];n&&(n._cyreg=r),r.cy=e;var o=void 0!==Hv&&void 0!==n&&!t.headless,a=t;a.layout=vy({name:o?"grid":"null"},a.layout),a.renderer=vy({name:o?"canvas":"null"},a.renderer);var s=function(t,e,n){return void 0!==e?e:void 0!==n?n:t},l=this._private={container:n,ready:!1,options:a,elements:new Lx(this),listeners:[],aniEles:new Lx(this),data:{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,a.zoomingEnabled),userZoomingEnabled:s(!0,a.userZoomingEnabled),panningEnabled:s(!0,a.panningEnabled),userPanningEnabled:s(!0,a.userPanningEnabled),boxSelectionEnabled:s(!0,a.boxSelectionEnabled),autolock:s(!1,a.autolock,a.autolockNodes),autoungrabify:s(!1,a.autoungrabify,a.autoungrabifyNodes),autounselectify:s(!1,a.autounselectify),styleEnabled:void 0===a.styleEnabled?o:a.styleEnabled,zoom:ty(a.zoom)?a.zoom:1,pan:{x:Qv(a.pan)&&ty(a.pan.x)?a.pan.x:0,y:Qv(a.pan)&&ty(a.pan.y)?a.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(a.selectionType),this.zoomRange({min:a.minZoom,max:a.maxZoom});l.styleEnabled&&e.setStyle([]);var u=vy({},a,a.renderer);e.initRenderer(u);!function(t,e){if(t.some(ly))return y_.all(t).then(e);e(t)}([a.style,a.elements],(function(t){var n=t[0],o=t[1];l.styleEnabled&&e.style().append(n),function(t,n,r){e.notifications(!1);var i=e.mutableElements();i.length>0&&i.remove(),null!=t&&(Qv(t)||Jv(t))&&e.add(t),e.one("layoutready",(function(t){e.notifications(!0),e.emit(t),e.one("load",n),e.emitAndNotify("load")})).one("layoutstop",(function(){e.one("done",r),e.emit("done")}));var o=vy({},e._private.options.layout);o.eles=e.elements(),e.layout(o).run()}(o,(function(){e.startAnimationLoop(),l.ready=!0,Zv(a.ready)&&e.on("ready",a.ready);for(var t=0;t<i.length;t++){var n=i[t];e.on("ready",n)}r&&(r.readies=[]),e.emit("ready")}),a.done)}))},yE=vE.prototype;vy(yE,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},mount:function(t){if(null!=t){var e=this,n=e._private,r=n.options;return!ey(t)&&ey(t[0])&&(t=t[0]),e.stopAnimationLoop(),e.destroyRenderer(),n.container=t,n.styleEnabled=!0,e.invalidateSize(),e.initRenderer(vy({},r,r.renderer,{name:"null"===r.renderer.name?"canvas":r.renderer.name})),e.startAnimationLoop(),e.style(r.style),e.emit("mount"),e}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return Wy(this._private.options)},json:function(t){var e=this,n=e._private,r=e.mutableElements();if(Qv(t)){if(e.startBatch(),t.elements){var i={},o=function(t,n){for(var r=[],o=[],a=0;a<t.length;a++){var s=t[a],l=""+s.data.id,u=e.getElementById(l);i[l]=!0,0!==u.length?o.push({ele:u,json:s}):n?(s.group=n,r.push(s)):r.push(s)}e.add(r);for(var c=0;c<o.length;c++){var d=o[c],h=d.ele,f=d.json;h.json(f)}};if(Jv(t.elements))o(t.elements);else for(var a=["nodes","edges"],s=0;s<a.length;s++){var l=a[s],u=t.elements[l];Jv(u)&&o(u,l)}var c=e.collection();r.filter((function(t){return!i[t.id()]})).forEach((function(t){t.isParent()?c.merge(t):t.remove()})),c.forEach((function(t){return t.children().move({parent:null})})),c.forEach((function(t){return function(t){return e.getElementById(t.id())}(t).remove()}))}t.style&&e.style(t.style),null!=t.zoom&&t.zoom!==n.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x===n.pan.x&&t.pan.y===n.pan.y||e.pan(t.pan)),t.data&&e.data(t.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],h=0;h<d.length;h++){var f=d[h];null!=t[f]&&e[f](t[f])}return e.endBatch(),this}var p={};!!t?p.elements=this.elements().map((function(t){return t.json()})):(p.elements={},r.forEach((function(t){var e=t.group();p.elements[e]||(p.elements[e]=[]),p.elements[e].push(t.json())}))),this._private.styleEnabled&&(p.style=e.style().json()),p.data=Wy(e.data());var g=n.options;return p.zoomingEnabled=n.zoomingEnabled,p.userZoomingEnabled=n.userZoomingEnabled,p.zoom=n.zoom,p.minZoom=n.minZoom,p.maxZoom=n.maxZoom,p.panningEnabled=n.panningEnabled,p.userPanningEnabled=n.userPanningEnabled,p.pan=Wy(n.pan),p.boxSelectionEnabled=n.boxSelectionEnabled,p.renderer=Wy(g.renderer),p.hideEdgesOnViewport=g.hideEdgesOnViewport,p.textureOnViewport=g.textureOnViewport,p.wheelSensitivity=g.wheelSensitivity,p.motionBlur=g.motionBlur,p}}),yE.$id=yE.getElementById,[Rx,Yx,$x,Zx,Jx,Qx,eE,nE,fE,pE,gE].forEach((function(t){vy(yE,t)}));var mE={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}},bE=function(t){return t.scratch("breadthfirst")},_E=function(t,e){return t.scratch("breadthfirst",e)};function wE(t){this.options=vy({},mE,t)}wE.prototype.run=function(){var t,e=this.options,n=e,r=e.cy,i=n.eles,o=i.nodes().filter((function(t){return!t.isParent()})),a=i,s=n.directed,l=n.maximal||n.maximalAdjustments>0,u=Dm(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(ny(n.roots))t=n.roots;else if(Jv(n.roots)){for(var c=[],d=0;d<n.roots.length;d++){var h=n.roots[d],f=r.getElementById(h);c.push(f)}t=r.collection(c)}else if($v(n.roots))t=r.$(n.roots);else if(s)t=o.roots();else{var p=i.components();t=r.collection();for(var g=function(e){var n=p[e],r=n.maxDegree(!1),i=n.filter((function(t){return t.degree(!1)===r}));t=t.add(i)},v=0;v<p.length;v++)g(v)}var y=[],m={},b=function(t,e){null==y[e]&&(y[e]=[]);var n=y[e].length;y[e].push(t),_E(t,{index:n,depth:e})};a.bfs({roots:t,directed:n.directed,visit:function(t,e,n,r,i){var o=t[0],a=o.id();b(o,i),m[a]=!0}});for(var _=[],w=0;w<o.length;w++){var x=o[w];m[x.id()]||_.push(x)}var E=function(t){for(var e=y[t],n=0;n<e.length;n++){var r=e[n];null!=r?_E(r,{depth:t,index:n}):(e.splice(n,1),n--)}},k=function(){for(var t=0;t<y.length;t++)E(t)},S=function(t,e){for(var n=bE(t),r=t.incomers().filter((function(t){return t.isNode()&&i.has(t)})),o=-1,a=t.id(),s=0;s<r.length;s++){var l=r[s],u=bE(l);o=Math.max(o,u.depth)}return n.depth<=o&&(e[a]?null:(function(t,e){var n=bE(t),r=n.depth,i=n.index;y[r][i]=null,b(t,e)}(t,o+1),e[a]=!0,!0))};if(s&&l){var C=[],T={},N=function(t){return C.push(t)};for(o.forEach((function(t){return C.push(t)}));C.length>0;){var A=C.shift(),O=S(A,T);if(O)A.outgoers().filter((function(t){return t.isNode()&&i.has(t)})).forEach(N);else if(null===O){Gy("Detected double maximal shift for node `"+A.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}k();var P=0;if(n.avoidOverlap)for(var D=0;D<o.length;D++){var M=o[D].layoutDimensions(n),L=M.w,I=M.h;P=Math.max(P,L,I)}for(var R={},B=function(t){if(R[t.id()])return R[t.id()];for(var e=bE(t).depth,n=t.neighborhood(),r=0,i=0,a=0;a<n.length;a++){var s=n[a];if(!s.isEdge()&&!s.isParent()&&o.has(s)){var l=bE(s),u=l.index,c=l.depth;if(null!=u&&null!=c){var d=y[c].length;c<e&&(r+=u/d,i++)}}}return r/=i=Math.max(1,i),0===i&&(r=0),R[t.id()]=r,r},j=function(t,e){var n=B(t)-B(e);return 0===n?gy(t.id(),e.id()):n},F=0;F<y.length;F++)y[F].sort(j),E(F);for(var z=[],V=0;V<_.length;V++)z.push(_[V]);y.unshift(z),k();for(var q=0,H=0;H<y.length;H++)q=Math.max(y[H].length,q);var U=u.x1+u.w/2,G=u.x1+u.h/2,W=y.reduce((function(t,e){return Math.max(t,e.length)}),0);return o.layoutPositions(this,n,(function(t){var e=bE(t),r=e.depth,i=e.index,o=y[r].length,a=Math.max(u.w/((n.grid?W:o)+1),P),s=Math.max(u.h/(y.length+1),P),l=Math.min(u.w/2/y.length,u.h/2/y.length);if(l=Math.max(l,P),n.circle){var c=l*r+l-(y.length>0&&y[0].length<=3?l/2:0),d=2*Math.PI/y[r].length*i;return 0===r&&1===y[0].length&&(c=1),{x:U+c*Math.cos(d),y:G+c*Math.sin(d)}}return{x:U+(i+1-(o+1)/2)*a,y:(r+1)*s}})),this};var xE={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function EE(t){this.options=vy({},xE,t)}EE.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,i=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,o=r.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var a,s=Dm(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l=s.x1+s.w/2,u=s.y1+s.h/2,c=(void 0===e.sweep?2*Math.PI-2*Math.PI/o.length:e.sweep)/Math.max(1,o.length-1),d=0,h=0;h<o.length;h++){var f=o[h].layoutDimensions(e),p=f.w,g=f.h;d=Math.max(d,p,g)}if(a=ty(e.radius)?e.radius:o.length<=1?0:Math.min(s.h,s.w)/2-d,o.length>1&&e.avoidOverlap){d*=1.75;var v=Math.cos(c)-Math.cos(0),y=Math.sin(c)-Math.sin(0),m=Math.sqrt(d*d/(v*v+y*y));a=Math.max(m,a)}return o.layoutPositions(this,e,(function(t,n){var r=e.startAngle+n*c*(i?1:-1),o=a*Math.cos(r),s=a*Math.sin(r);return{x:l+o,y:u+s}})),this};var kE,SE={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function CE(t){this.options=vy({},SE,t)}CE.prototype.run=function(){for(var t=this.options,e=t,n=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,r=t.cy,i=e.eles.nodes().not(":parent"),o=Dm(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),a=o.x1+o.w/2,s=o.y1+o.h/2,l=[],u=0,c=0;c<i.length;c++){var d,h=i[c];d=e.concentric(h),l.push({value:d,node:h}),h._private.scratch.concentric=d}i.updateStyle();for(var f=0;f<i.length;f++){var p=i[f].layoutDimensions(e);u=Math.max(u,p.w,p.h)}l.sort((function(t,e){return e.value-t.value}));for(var g=e.levelWidth(i),v=[[]],y=v[0],m=0;m<l.length;m++){var b=l[m];if(y.length>0)Math.abs(y[0].value-b.value)>=g&&(y=[],v.push(y));y.push(b)}var _=u+e.minNodeSpacing;if(!e.avoidOverlap){var w=v.length>0&&v[0].length>1,x=(Math.min(o.w,o.h)/2-_)/(v.length+w?1:0);_=Math.min(_,x)}for(var E=0,k=0;k<v.length;k++){var S=v[k],C=void 0===e.sweep?2*Math.PI-2*Math.PI/S.length:e.sweep,T=S.dTheta=C/Math.max(1,S.length-1);if(S.length>1&&e.avoidOverlap){var N=Math.cos(T)-Math.cos(0),A=Math.sin(T)-Math.sin(0),O=Math.sqrt(_*_/(N*N+A*A));E=Math.max(O,E)}S.r=E,E+=_}if(e.equidistant){for(var P=0,D=0,M=0;M<v.length;M++){var L=v[M].r-D;P=Math.max(P,L)}D=0;for(var I=0;I<v.length;I++){var R=v[I];0===I&&(D=R.r),R.r=D,D+=P}}for(var B={},j=0;j<v.length;j++)for(var F=v[j],z=F.dTheta,V=F.r,q=0;q<F.length;q++){var H=F[q],U=e.startAngle+(n?1:-1)*z*q,G={x:a+V*Math.cos(U),y:s+V*Math.sin(U)};B[H.node.id()]=G}return i.layoutPositions(this,e,(function(t){var e=t.id();return B[e]})),this};var TE={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,e){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function NE(t){this.options=vy({},TE,t),this.options.layout=this}NE.prototype.run=function(){var t=this.options,e=t.cy,n=this;n.stopped=!1,!0!==t.animate&&!1!==t.animate||n.emit({type:"layoutstart",layout:n}),kE=!0===t.debug;var r=AE(e,n,t);kE&&(void 0)(r),t.randomize&&DE(r);var i=Sy(),o=function(){LE(r,e,t),!0===t.fit&&e.fit(t.padding)},a=function(e){return!(n.stopped||e>=t.numIter)&&(IE(r,t),r.temperature=r.temperature*t.coolingFactor,!(r.temperature<t.minTemp))},s=function(){if(!0===t.animate||!1===t.animate)o(),n.one("layoutstop",t.stop),n.emit({type:"layoutstop",layout:n});else{var e=t.eles.nodes(),i=ME(r,t,e);e.layoutPositions(n,t,i)}},l=0,u=!0;if(!0===t.animate){!function e(){for(var n=0;u&&n<t.refresh;)u=a(l),l++,n++;u?(Sy()-i>=t.animationThreshold&&o(),ky(e)):(YE(r,t),s())}()}else{for(;u;)u=a(l),l++;YE(r,t),s()}return this},NE.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},NE.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var AE=function(t,e,n){for(var r=n.eles.edges(),i=n.eles.nodes(),o={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:Dm(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},a=n.eles.components(),s={},l=0;l<a.length;l++)for(var u=a[l],c=0;c<u.length;c++){s[u[c].id()]=l}for(l=0;l<o.nodeSize;l++){var d=(v=i[l]).layoutDimensions(n);(D={}).isLocked=v.locked(),D.id=v.data("id"),D.parentId=v.data("parent"),D.cmptId=s[v.id()],D.children=[],D.positionX=v.position("x"),D.positionY=v.position("y"),D.offsetX=0,D.offsetY=0,D.height=d.w,D.width=d.h,D.maxX=D.positionX+D.width/2,D.minX=D.positionX-D.width/2,D.maxY=D.positionY+D.height/2,D.minY=D.positionY-D.height/2,D.padLeft=parseFloat(v.style("padding")),D.padRight=parseFloat(v.style("padding")),D.padTop=parseFloat(v.style("padding")),D.padBottom=parseFloat(v.style("padding")),D.nodeRepulsion=Zv(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,o.layoutNodes.push(D),o.idToIndex[D.id]=l}var h=[],f=0,p=-1,g=[];for(l=0;l<o.nodeSize;l++){var v,y=(v=o.layoutNodes[l]).parentId;null!=y?o.layoutNodes[o.idToIndex[y]].children.push(v.id):(h[++p]=v.id,g.push(v.id))}for(o.graphSet.push(g);f<=p;){var m=h[f++],b=o.idToIndex[m],_=o.layoutNodes[b].children;if(_.length>0){o.graphSet.push(_);for(l=0;l<_.length;l++)h[++p]=_[l]}}for(l=0;l<o.graphSet.length;l++){var w=o.graphSet[l];for(c=0;c<w.length;c++){var x=o.idToIndex[w[c]];o.indexToGraph[x]=l}}for(l=0;l<o.edgeSize;l++){var E=r[l],k={};k.id=E.data("id"),k.sourceId=E.data("source"),k.targetId=E.data("target");var S=Zv(n.idealEdgeLength)?n.idealEdgeLength(E):n.idealEdgeLength,C=Zv(n.edgeElasticity)?n.edgeElasticity(E):n.edgeElasticity,T=o.idToIndex[k.sourceId],N=o.idToIndex[k.targetId];if(o.indexToGraph[T]!=o.indexToGraph[N]){for(var A=OE(k.sourceId,k.targetId,o),O=o.graphSet[A],P=0,D=o.layoutNodes[T];-1===O.indexOf(D.id);)D=o.layoutNodes[o.idToIndex[D.parentId]],P++;for(D=o.layoutNodes[N];-1===O.indexOf(D.id);)D=o.layoutNodes[o.idToIndex[D.parentId]],P++;S*=P*n.nestingFactor}k.idealLength=S,k.elasticity=C,o.layoutEdges.push(k)}return o},OE=function(t,e,n){var r=PE(t,e,0,n);return 2>r.count?0:r.graph},PE=function t(e,n,r,i){var o=i.graphSet[r];if(-1<o.indexOf(e)&&-1<o.indexOf(n))return{count:2,graph:r};for(var a=0,s=0;s<o.length;s++){var l=o[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(0!==c.length){var d=t(e,n,i.indexToGraph[i.idToIndex[c[0]]],i);if(0!==d.count){if(1!==d.count)return d;if(2===++a)break}}}return{count:a,graph:r}},DE=function(t,e){for(var n=t.clientWidth,r=t.clientHeight,i=0;i<t.nodeSize;i++){var o=t.layoutNodes[i];0!==o.children.length||o.isLocked||(o.positionX=Math.random()*n,o.positionY=Math.random()*r)}},ME=function(t,e,n){var r=t.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return e.boundingBox&&(n.forEach((function(e){var n=t.layoutNodes[t.idToIndex[e.data("id")]];i.x1=Math.min(i.x1,n.positionX),i.x2=Math.max(i.x2,n.positionX),i.y1=Math.min(i.y1,n.positionY),i.y2=Math.max(i.y2,n.positionY)})),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(n,o){var a=t.layoutNodes[t.idToIndex[n.data("id")]];if(e.boundingBox){var s=(a.positionX-i.x1)/i.w,l=(a.positionY-i.y1)/i.h;return{x:r.x1+s*r.w,y:r.y1+l*r.h}}return{x:a.positionX,y:a.positionY}}},LE=function(t,e,n){var r=n.layout,i=n.eles.nodes(),o=ME(t,n,i);i.positions(o),!0!==t.ready&&(t.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))},IE=function(t,e,n){RE(t,e),VE(t),qE(t,e),HE(t),UE(t)},RE=function(t,e){for(var n=0;n<t.graphSet.length;n++)for(var r=t.graphSet[n],i=r.length,o=0;o<i;o++)for(var a=t.layoutNodes[t.idToIndex[r[o]]],s=o+1;s<i;s++){var l=t.layoutNodes[t.idToIndex[r[s]]];jE(a,l,t,e)}},BE=function(t){return-t+2*t*Math.random()},jE=function(t,e,n,r){if(t.cmptId===e.cmptId||n.isCompound){var i=e.positionX-t.positionX,o=e.positionY-t.positionY;0===i&&0===o&&(i=BE(1),o=BE(1));var a=FE(t,e,i,o);if(a>0)var s=(u=r.nodeOverlap*a)*i/(g=Math.sqrt(i*i+o*o)),l=u*o/g;else{var u,c=zE(t,i,o),d=zE(e,-1*i,-1*o),h=d.x-c.x,f=d.y-c.y,p=h*h+f*f,g=Math.sqrt(p);s=(u=(t.nodeRepulsion+e.nodeRepulsion)/p)*h/g,l=u*f/g}t.isLocked||(t.offsetX-=s,t.offsetY-=l),e.isLocked||(e.offsetX+=s,e.offsetY+=l)}},FE=function(t,e,n,r){if(n>0)var i=t.maxX-e.minX;else i=e.maxX-t.minX;if(r>0)var o=t.maxY-e.minY;else o=e.maxY-t.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},zE=function(t,e,n){var r=t.positionX,i=t.positionY,o=t.height||1,a=t.width||1,s=n/e,l=o/a,u={};return 0===e&&0<n||0===e&&0>n?(u.x=r,u.y=i+o/2,u):0<e&&-1*l<=s&&s<=l?(u.x=r+a/2,u.y=i+a*n/2/e,u):0>e&&-1*l<=s&&s<=l?(u.x=r-a/2,u.y=i-a*n/2/e,u):0<n&&(s<=-1*l||s>=l)?(u.x=r+o*e/2/n,u.y=i+o/2,u):0>n&&(s<=-1*l||s>=l)?(u.x=r-o*e/2/n,u.y=i-o/2,u):u},VE=function(t,e){for(var n=0;n<t.edgeSize;n++){var r=t.layoutEdges[n],i=t.idToIndex[r.sourceId],o=t.layoutNodes[i],a=t.idToIndex[r.targetId],s=t.layoutNodes[a],l=s.positionX-o.positionX,u=s.positionY-o.positionY;if(0!==l||0!==u){var c=zE(o,l,u),d=zE(s,-1*l,-1*u),h=d.x-c.x,f=d.y-c.y,p=Math.sqrt(h*h+f*f),g=Math.pow(r.idealLength-p,2)/r.elasticity;if(0!==p)var v=g*h/p,y=g*f/p;else v=0,y=0;o.isLocked||(o.offsetX+=v,o.offsetY+=y),s.isLocked||(s.offsetX-=v,s.offsetY-=y)}}},qE=function(t,e){for(var n=0;n<t.graphSet.length;n++){var r=t.graphSet[n],i=r.length;if(0===n)var o=t.clientHeight/2,a=t.clientWidth/2;else{var s=t.layoutNodes[t.idToIndex[r[0]]],l=t.layoutNodes[t.idToIndex[s.parentId]];o=l.positionX,a=l.positionY}for(var u=0;u<i;u++){var c=t.layoutNodes[t.idToIndex[r[u]]];if(!c.isLocked){var d=o-c.positionX,h=a-c.positionY,f=Math.sqrt(d*d+h*h);if(f>1){var p=e.gravity*d/f,g=e.gravity*h/f;c.offsetX+=p,c.offsetY+=g}}}}},HE=function(t,e){var n=[],r=0,i=-1;for(n.push.apply(n,t.graphSet[0]),i+=t.graphSet[0].length;r<=i;){var o=n[r++],a=t.idToIndex[o],s=t.layoutNodes[a],l=s.children;if(0<l.length&&!s.isLocked){for(var u=s.offsetX,c=s.offsetY,d=0;d<l.length;d++){var h=t.layoutNodes[t.idToIndex[l[d]]];h.offsetX+=u,h.offsetY+=c,n[++i]=l[d]}s.offsetX=0,s.offsetY=0}}},UE=function(t,e){for(var n=0;n<t.nodeSize;n++){0<(i=t.layoutNodes[n]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(n=0;n<t.nodeSize;n++){if(!(0<(i=t.layoutNodes[n]).children.length||i.isLocked)){var r=GE(i.offsetX,i.offsetY,t.temperature);i.positionX+=r.x,i.positionY+=r.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,WE(i,t)}}for(n=0;n<t.nodeSize;n++){var i;0<(i=t.layoutNodes[n]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},GE=function(t,e,n){var r=Math.sqrt(t*t+e*e);if(r>n)var i={x:n*t/r,y:n*e/r};else i={x:t,y:e};return i},WE=function t(e,n){var r=e.parentId;if(null!=r){var i=n.layoutNodes[n.idToIndex[r]],o=!1;return(null==i.maxX||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(null==i.minX||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(null==i.maxY||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(null==i.minY||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o?t(i,n):void 0}},YE=function(t,e){for(var n=t.layoutNodes,r=[],i=0;i<n.length;i++){var o=n[i],a=o.cmptId;(r[a]=r[a]||[]).push(o)}var s=0;for(i=0;i<r.length;i++){if(g=r[i]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var l=0;l<g.length;l++){var u=g[l];g.x1=Math.min(g.x1,u.positionX-u.width/2),g.x2=Math.max(g.x2,u.positionX+u.width/2),g.y1=Math.min(g.y1,u.positionY-u.height/2),g.y2=Math.max(g.y2,u.positionY+u.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,s+=g.w*g.h}}r.sort((function(t,e){return e.w*e.h-t.w*t.h}));var c=0,d=0,h=0,f=0,p=Math.sqrt(s)*t.clientWidth/t.clientHeight;for(i=0;i<r.length;i++){var g;if(g=r[i]){for(l=0;l<g.length;l++){(u=g[l]).isLocked||(u.positionX+=c-g.x1,u.positionY+=d-g.y1)}c+=g.w+e.componentSpacing,h+=g.w+e.componentSpacing,f=Math.max(f,g.h),h>p&&(d+=f+e.componentSpacing,c=0,h=0,f=0)}}},XE={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function KE(t){this.options=vy({},XE,t)}KE.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles.nodes().not(":parent");e.sort&&(r=r.sort(e.sort));var i=Dm(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===i.h||0===i.w)r.layoutPositions(this,e,(function(t){return{x:i.x1,y:i.y1}}));else{var o=r.size(),a=Math.sqrt(o*i.h/i.w),s=Math.round(a),l=Math.round(i.w/i.h*a),u=function(t){if(null==t)return Math.min(s,l);Math.min(s,l)==s?s=t:l=t},c=function(t){if(null==t)return Math.max(s,l);Math.max(s,l)==s?s=t:l=t},d=e.rows,h=null!=e.cols?e.cols:e.columns;if(null!=d&&null!=h)s=d,l=h;else if(null!=d&&null==h)s=d,l=Math.ceil(o/s);else if(null==d&&null!=h)l=h,s=Math.ceil(o/l);else if(l*s>o){var f=u(),p=c();(f-1)*p>=o?u(f-1):(p-1)*f>=o&&c(p-1)}else for(;l*s<o;){var g=u(),v=c();(v+1)*g>=o?c(v+1):u(g+1)}var y=i.w/l,m=i.h/s;if(e.condense&&(y=0,m=0),e.avoidOverlap)for(var b=0;b<r.length;b++){var _=r[b],w=_._private.position;null!=w.x&&null!=w.y||(w.x=0,w.y=0);var x=_.layoutDimensions(e),E=e.avoidOverlapPadding,k=x.w+E,S=x.h+E;y=Math.max(y,k),m=Math.max(m,S)}for(var C={},T=function(t,e){return!!C["c-"+t+"-"+e]},N=function(t,e){C["c-"+t+"-"+e]=!0},A=0,O=0,P=function(){++O>=l&&(O=0,A++)},D={},M=0;M<r.length;M++){var L=r[M],I=e.position(L);if(I&&(void 0!==I.row||void 0!==I.col)){var R={row:I.row,col:I.col};if(void 0===R.col)for(R.col=0;T(R.row,R.col);)R.col++;else if(void 0===R.row)for(R.row=0;T(R.row,R.col);)R.row++;D[L.id()]=R,N(R.row,R.col)}}r.layoutPositions(this,e,(function(t,e){var n,r;if(t.locked()||t.isParent())return!1;var o=D[t.id()];if(o)n=o.col*y+y/2+i.x1,r=o.row*m+m/2+i.y1;else{for(;T(A,O);)P();n=O*y+y/2+i.x1,r=A*m+m/2+i.y1,N(A,O),P()}return{x:n,y:r}}))}return this};var $E={ready:function(){},stop:function(){}};function ZE(t){this.options=vy({},$E,t)}ZE.prototype.run=function(){var t=this.options,e=t.eles;t.cy;return this.emit("layoutstart"),e.nodes().positions((function(){return{x:0,y:0}})),this.one("layoutready",t.ready),this.emit("layoutready"),this.one("layoutstop",t.stop),this.emit("layoutstop"),this},ZE.prototype.stop=function(){return this};var JE={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function QE(t){this.options=vy({},JE,t)}QE.prototype.run=function(){var t=this.options,e=t.eles.nodes(),n=Zv(t.positions);return e.layoutPositions(this,t,(function(e,r){var i=function(e){if(null==t.positions)return function(t){return{x:t.x,y:t.y}}(e.position());if(n)return t.positions(e);var r=t.positions[e._private.data.id];return null==r?null:r}(e);return!e.locked()&&null!=i&&i})),this};var tk={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function ek(t){this.options=vy({},tk,t)}ek.prototype.run=function(){var t=this.options,e=t.cy,n=t.eles.nodes().not(":parent"),r=Dm(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()});return n.layoutPositions(this,t,(function(t,e){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}})),this};var nk=[{name:"breadthfirst",impl:wE},{name:"circle",impl:EE},{name:"concentric",impl:CE},{name:"cose",impl:NE},{name:"grid",impl:KE},{name:"null",impl:ZE},{name:"preset",impl:QE},{name:"random",impl:ek}];function rk(t){this.options=t,this.notifications=0}var ik=function(){},ok=function(){throw new Error("A headless instance can not render images")};rk.prototype={recalculateRenderedStyle:ik,notify:function(){this.notifications++},init:ik,isHeadless:function(){return!0},png:ok,jpg:ok};var ak={arrowShapeWidth:.3,registerArrowShapes:function(){var t=this.arrowShapes={},e=this,n=function(t,e,n,r,i,o,a){var s=i.x-n/2-a,l=i.x+n/2+a,u=i.y-n/2-a,c=i.y+n/2+a;return s<=t&&t<=l&&u<=e&&e<=c},r=function(t,e,n,r,i){var o=t*Math.cos(r)-e*Math.sin(r),a=(t*Math.sin(r)+e*Math.cos(r))*n;return{x:o*n+i.x,y:a+i.y}},i=function(t,e,n,i){for(var o=[],a=0;a<t.length;a+=2){var s=t[a],l=t[a+1];o.push(r(s,l,e,n,i))}return o},o=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r.x,r.y)}return e},a=function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").pfValue*2},s=function(r,s){$v(s)&&(s=t[s]),t[r]=vy({name:r,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(t,e,n,r,a,s){var l=o(i(this.points,n+2*s,r,a));return Wm(t,e,l)},roughCollide:n,draw:function(t,n,r,o){var a=i(this.points,n,r,o);e.arrowShapeImpl("polygon")(t,a)},spacing:function(t){return 0},gap:a},s)};s("none",{collide:zy,roughCollide:zy,draw:qy,spacing:Vy,gap:Vy}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(t,n,o,a,s){var l=i(this.points,n,o,a),u=this.controlPoint,c=r(u[0],u[1],n,o,a);e.arrowShapeImpl(this.name)(t,l,c)},gap:function(t){return.8*a(t)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,e,n,r,a,s,l){var u=o(i(this.points,n+2*l,r,a)),c=o(i(this.pointsTee,n+2*l,r,a));return Wm(t,e,u)||Wm(t,e,c)},draw:function(t,n,r,o,a){var s=i(this.points,n,r,o),l=i(this.pointsTee,n,r,o);e.arrowShapeImpl(this.name)(t,s,l)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(t,e,n,r,a,s,l){var u=a,c=Math.pow(u.x-t,2)+Math.pow(u.y-e,2)<=Math.pow((n+2*l)*this.radius,2),d=o(i(this.points,n+2*l,r,a));return Wm(t,e,d)||c},draw:function(t,n,r,o,a){var s=i(this.pointsTr,n,r,o);e.arrowShapeImpl(this.name)(t,s,o.x,o.y,this.radius*n)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(t,e){var n=this.baseCrossLinePts.slice(),r=e/t;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(t,e,n,r,a,s,l){var u=o(i(this.points,n+2*l,r,a)),c=o(i(this.crossLinePts(n,s),n+2*l,r,a));return Wm(t,e,u)||Wm(t,e,c)},draw:function(t,n,r,o,a){var s=i(this.points,n,r,o),l=i(this.crossLinePts(n,a),n,r,o);e.arrowShapeImpl(this.name)(t,s,l)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(t){return.525*a(t)}}),s("circle",{radius:.15,collide:function(t,e,n,r,i,o,a){var s=i;return Math.pow(s.x-t,2)+Math.pow(s.y-e,2)<=Math.pow((n+2*a)*this.radius,2)},draw:function(t,n,r,i,o){e.arrowShapeImpl(this.name)(t,i.x,i.y,this.radius*n)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(t){return 1},gap:function(t){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(t){return.95*t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}})}},sk={projectIntoViewport:function(t,e){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],o=r[1],a=r[4],s=n.pan(),l=n.zoom();return[((t-i)/a-s.x)/l,((e-o)/a-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),n=Hv.getComputedStyle(t),r=function(t){return parseFloat(n.getPropertyValue(t))},i=r("padding-left"),o=r("padding-right"),a=r("padding-top"),s=r("padding-bottom"),l=r("border-left-width"),u=r("border-right-width"),c=r("border-top-width"),d=(r("border-bottom-width"),t.clientWidth),h=t.clientHeight,f=i+o,p=a+s,g=l+u,v=e.width/(d+g),y=d-f,m=h-p,b=e.left+i+l,_=e.top+a+c;return this.containerBB=[b,_,y,m,v]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(t,e,n,r){return this.findNearestElements(t,e,n,r)[0]},findNearestElements:function(t,e,n,r){var i,o,a=this,s=this,l=s.getCachedZSortedEles(),u=[],c=s.cy.zoom(),d=s.cy.hasCompoundNodes(),h=(r?24:8)/c,f=(r?8:2)/c,p=(r?8:2)/c,g=1/0;function v(t,e){if(t.isNode()){if(o)return;o=t,u.push(t)}if(t.isEdge()&&(null==e||e<g))if(i){if(i.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value&&i.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value)for(var n=0;n<u.length;n++)if(u[n].isEdge()){u[n]=t,i=t,g=null!=e?e:g;break}}else u.push(t),i=t,g=null!=e?e:g}function y(n){var r=n.outerWidth()+2*f,i=n.outerHeight()+2*f,o=r/2,l=i/2,u=n.position();if(u.x-o<=t&&t<=u.x+o&&u.y-l<=e&&e<=u.y+l&&s.nodeShapes[a.getNodeShape(n)].checkPoint(t,e,0,r,i,u.x,u.y))return v(n,0),!0}function m(n){var r,i=n._private,o=i.rscratch,l=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,f=l/2+h,p=f*f,g=2*f,m=i.source,b=i.target;if("segments"===o.edgeType||"straight"===o.edgeType||"haystack"===o.edgeType){for(var _=o.allpts,w=0;w+3<_.length;w+=2)if(qm(t,e,_[w],_[w+1],_[w+2],_[w+3],g)&&p>(r=Gm(t,e,_[w],_[w+1],_[w+2],_[w+3])))return v(n,r),!0}else if("bezier"===o.edgeType||"multibezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType)for(_=o.allpts,w=0;w+5<o.allpts.length;w+=4)if(Hm(t,e,_[w],_[w+1],_[w+2],_[w+3],_[w+4],_[w+5],g)&&p>(r=Um(t,e,_[w],_[w+1],_[w+2],_[w+3],_[w+4],_[w+5])))return v(n,r),!0;m=m||i.source,b=b||i.target;var x=a.getArrowWidth(l,c),E=[{name:"source",x:o.arrowStartX,y:o.arrowStartY,angle:o.srcArrowAngle},{name:"target",x:o.arrowEndX,y:o.arrowEndY,angle:o.tgtArrowAngle},{name:"mid-source",x:o.midX,y:o.midY,angle:o.midsrcArrowAngle},{name:"mid-target",x:o.midX,y:o.midY,angle:o.midtgtArrowAngle}];for(w=0;w<E.length;w++){var k=E[w],S=s.arrowShapes[n.pstyle(k.name+"-arrow-shape").value],C=n.pstyle("width").pfValue;if(S.roughCollide(t,e,x,k.angle,{x:k.x,y:k.y},C,h)&&S.collide(t,e,x,k.angle,{x:k.x,y:k.y},C,h))return v(n),!0}d&&u.length>0&&(y(m),y(b))}function b(t,e,n){return Qy(t,e,n)}function _(n,r){var i,o=n._private,a=p;i=r?r+"-":"",n.boundingBox();var s=o.labelBounds[r||"main"],l=n.pstyle(i+"label").value;if("yes"===n.pstyle("text-events").strValue&&l){var u=o.rstyle,c=b(u,"labelX",r),d=b(u,"labelY",r),h=b(o.rscratch,"labelAngle",r),f=s.x1-a,g=s.x2+a,y=s.y1-a,m=s.y2+a;if(h){var _=Math.cos(h),w=Math.sin(h),x=function(t,e){return{x:(t-=c)*_-(e-=d)*w+c,y:t*w+e*_+d}},E=x(f,y),k=x(f,m),S=x(g,y),C=x(g,m),T=[E.x,E.y,S.x,S.y,C.x,C.y,k.x,k.y];if(Wm(t,e,T))return v(n),!0}else if(Fm(s,t,e))return v(n),!0}}n&&(l=l.interactive);for(var w=l.length-1;w>=0;w--){var x=l[w];x.isNode()?y(x)||_(x):m(x)||_(x)||_(x,"source")||_(x,"target")}return u},getAllInBox:function(t,e,n,r){for(var i,o,a=this.getCachedZSortedEles().interactive,s=[],l=Math.min(t,n),u=Math.max(t,n),c=Math.min(e,r),d=Math.max(e,r),h=Dm({x1:t=l,y1:e=c,x2:n=u,y2:r=d}),f=0;f<a.length;f++){var p=a[f];if(p.isNode()){var g=p,v=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});jm(h,v)&&!zm(v,h)&&s.push(g)}else{var y=p,m=y._private,b=m.rscratch;if(null!=b.startX&&null!=b.startY&&!Fm(h,b.startX,b.startY))continue;if(null!=b.endX&&null!=b.endY&&!Fm(h,b.endX,b.endY))continue;if("bezier"===b.edgeType||"multibezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType||"segments"===b.edgeType||"haystack"===b.edgeType){for(var _=m.rstyle.bezierPts||m.rstyle.linePts||m.rstyle.haystackPts,w=!0,x=0;x<_.length;x++)if(i=h,o=_[x],!Fm(i,o.x,o.y)){w=!1;break}w&&s.push(y)}else"haystack"!==b.edgeType&&"straight"!==b.edgeType||s.push(y)}}return s}},lk={calculateArrowAngles:function(t){var e,n,r,i,o,a,s=t._private.rscratch,l="haystack"===s.edgeType,u="bezier"===s.edgeType,c="multibezier"===s.edgeType,d="segments"===s.edgeType,h="compound"===s.edgeType,f="self"===s.edgeType;if(l?(r=s.haystackPts[0],i=s.haystackPts[1],o=s.haystackPts[2],a=s.haystackPts[3]):(r=s.arrowStartX,i=s.arrowStartY,o=s.arrowEndX,a=s.arrowEndY),g=s.midX,v=s.midY,d)e=r-s.segpts[0],n=i-s.segpts[1];else if(c||h||f||u){var p=s.allpts;e=r-Am(p[0],p[2],p[4],.1),n=i-Am(p[1],p[3],p[5],.1)}else e=r-g,n=i-v;s.srcArrowAngle=Em(e,n);var g=s.midX,v=s.midY;if(l&&(g=(r+o)/2,v=(i+a)/2),e=o-r,n=a-i,d)if((p=s.allpts).length/2%2==0){var y=(m=p.length/2)-2;e=p[m]-p[y],n=p[m+1]-p[y+1]}else{y=(m=p.length/2-1)-2;var m,b=m+2;e=p[m]-p[y],n=p[m+1]-p[y+1]}else if(c||h||f){var _,w,x,E,p=s.allpts;if(s.ctrlpts.length/2%2==0){var k=(S=(C=p.length/2-1)+2)+2;_=Am(p[C],p[S],p[k],0),w=Am(p[C+1],p[S+1],p[k+1],0),x=Am(p[C],p[S],p[k],1e-4),E=Am(p[C+1],p[S+1],p[k+1],1e-4)}else{var S,C;k=(S=p.length/2-1)+2;_=Am(p[C=S-2],p[S],p[k],.4999),w=Am(p[C+1],p[S+1],p[k+1],.4999),x=Am(p[C],p[S],p[k],.5),E=Am(p[C+1],p[S+1],p[k+1],.5)}e=x-_,n=E-w}(s.midtgtArrowAngle=Em(e,n),s.midDispX=e,s.midDispY=n,e*=-1,n*=-1,d)&&((p=s.allpts).length/2%2==0||(e=-(p[b=(m=p.length/2-1)+2]-p[m]),n=-(p[b+1]-p[m+1])));if(s.midsrcArrowAngle=Em(e,n),d)e=o-s.segpts[s.segpts.length-2],n=a-s.segpts[s.segpts.length-1];else if(c||h||f||u){var T=(p=s.allpts).length;e=o-Am(p[T-6],p[T-4],p[T-2],.9),n=a-Am(p[T-5],p[T-3],p[T-1],.9)}else e=o-g,n=a-v;s.tgtArrowAngle=Em(e,n)}};lk.getArrowWidth=lk.getArrowHeight=function(t,e){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[t+", "+e];return r||(r=Math.max(Math.pow(13.37*t,.9),29)*e,n[t+", "+e]=r,r)};var uk={};function ck(t){var e=[];if(null!=t){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e.push({x:r,y:i})}return e}}uk.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n._private,i=r.rscratch;if(!i.haystack){var o=2*Math.random()*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=2*Math.random()*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var a=r.source,s=r.target,l=a.position(),u=s.position(),c=a.width(),d=s.width(),h=a.height(),f=s.height(),p=n.pstyle("haystack-radius").value/2;i.haystackPts=i.allpts=[i.source.x*c*p+l.x,i.source.y*h*p+l.y,i.target.x*d*p+u.x,i.target.y*f*p+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},uk.findSegmentsPoints=function(t,e){var n=t._private.rscratch,r=e.posPts,i=e.intersectionPts,o=e.vectorNormInverse,a=t.pstyle("edge-distances").value,s=t.pstyle("segment-weights"),l=t.pstyle("segment-distances"),u=Math.min(s.pfValue.length,l.pfValue.length);n.edgeType="segments",n.segpts=[];for(var c=0;c<u;c++){var d=s.pfValue[c],h=l.pfValue[c],f=1-d,p=d,g="node-position"===a?r:i,v={x:g.x1*f+g.x2*p,y:g.y1*f+g.y2*p};n.segpts.push(v.x+o.x*h,v.y+o.y*h)}},uk.findLoopPoints=function(t,e,n,r){var i=t._private.rscratch,o=e.dirCounts,a=e.srcPos,s=t.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,d=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var h=n,f=d;r&&(h=0,f=l);var p=u-Math.PI/2,g=p-c/2,v=p+c/2,y=String(u+"_"+c);h=void 0===o[y]?o[y]=0:++o[y],i.ctrlpts=[a.x+1.4*Math.cos(g)*f*(h/3+1),a.y+1.4*Math.sin(g)*f*(h/3+1),a.x+1.4*Math.cos(v)*f*(h/3+1),a.y+1.4*Math.sin(v)*f*(h/3+1)]},uk.findCompoundLoopPoints=function(t,e,n,r){var i=t._private.rscratch;i.edgeType="compound";var o=e.srcPos,a=e.tgtPos,s=e.srcW,l=e.srcH,u=e.tgtW,c=e.tgtH,d=t.pstyle("control-point-step-size").pfValue,h=t.pstyle("control-point-distances"),f=h?h.pfValue[0]:void 0,p=n,g=d;r&&(p=0,g=f);var v={x:o.x-s/2,y:o.y-l/2},y={x:a.x-u/2,y:a.y-c/2},m={x:Math.min(v.x,y.x),y:Math.min(v.y,y.y)},b=Math.max(.5,Math.log(.01*s)),_=Math.max(.5,Math.log(.01*u));i.ctrlpts=[m.x,m.y-(1+Math.pow(50,1.12)/100)*g*(p/3+1)*b,m.x-(1+Math.pow(50,1.12)/100)*g*(p/3+1)*_,m.y]},uk.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"},uk.findBezierPoints=function(t,e,n,r,i){var o=t._private.rscratch,a=e.vectorNormInverse,s=e.posPts,l=e.intersectionPts,u=t.pstyle("edge-distances").value,c=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),h=t.pstyle("control-point-weights"),f=d&&h?Math.min(d.value.length,h.value.length):1,p=d?d.pfValue[0]:void 0,g=h.value[0],v=r;o.edgeType=v?"multibezier":"bezier",o.ctrlpts=[];for(var y=0;y<f;y++){var m=(.5-e.eles.length/2+n)*c*(i?-1:1),b=void 0,_=Sm(m);v&&(p=d?d.pfValue[y]:c,g=h.value[y]);var w=void 0!==(b=r?p:void 0!==p?_*p:void 0)?b:m,x=1-g,E=g,k="node-position"===u?s:l,S={x:k.x1*x+k.x2*E,y:k.y1*x+k.y2*E};o.ctrlpts.push(S.x+a.x*w,S.y+a.y*w)}},uk.findTaxiPoints=function(t,e){var n=t._private.rscratch;n.edgeType="segments";var r=e.posPts,i=e.srcW,o=e.srcH,a=e.tgtW,s=e.tgtH,l="node-position"!==t.pstyle("edge-distances").value,u=t.pstyle("taxi-direction").value,c=u,d=t.pstyle("taxi-turn"),h="%"===d.units,f=d.pfValue,p=f<0,g=t.pstyle("taxi-turn-min-distance").pfValue,v=l?(i+a)/2:0,y=l?(o+s)/2:0,m=r.x2-r.x1,b=r.y2-r.y1,_=function(t,e){return t>0?Math.max(t-e,0):Math.min(t+e,0)},w=_(m,v),x=_(b,y),E=!1;"auto"===c?u=Math.abs(w)>Math.abs(x)?"horizontal":"vertical":"upward"===c||"downward"===c?(u="vertical",E=!0):"leftward"!==c&&"rightward"!==c||(u="horizontal",E=!0);var k,S="vertical"===u,C=S?x:w,T=S?b:m,N=Sm(T),A=!1;(E&&(h||p)||!("downward"===c&&T<0||"upward"===c&&T>0||"leftward"===c&&T>0||"rightward"===c&&T<0)||(C=(N*=-1)*Math.abs(C),A=!0),h)?k=(f<0?1+f:f)*C:k=(f<0?C:0)+f*N;var O=function(t){return Math.abs(t)<g||Math.abs(t)>=Math.abs(C)},P=O(k),D=O(Math.abs(C)-Math.abs(k));if((P||D)&&!A)if(S){var M=Math.abs(T)<=o/2,L=Math.abs(m)<=a/2;if(M){var I=(r.x1+r.x2)/2,R=r.y1,B=r.y2;n.segpts=[I,R,I,B]}else if(L){var j=(r.y1+r.y2)/2,F=r.x1,z=r.x2;n.segpts=[F,j,z,j]}else n.segpts=[r.x1,r.y2]}else{var V=Math.abs(T)<=i/2,q=Math.abs(b)<=s/2;if(V){var H=(r.y1+r.y2)/2,U=r.x1,G=r.x2;n.segpts=[U,H,G,H]}else if(q){var W=(r.x1+r.x2)/2,Y=r.y1,X=r.y2;n.segpts=[W,Y,W,X]}else n.segpts=[r.x2,r.y1]}else if(S){var K=r.y1+k+(l?o/2*N:0),$=r.x1,Z=r.x2;n.segpts=[$,K,Z,K]}else{var J=r.x1+k+(l?i/2*N:0),Q=r.y1,tt=r.y2;n.segpts=[J,Q,J,tt]}},uk.tryToCorrectInvalidPoints=function(t,e){var n=t._private.rscratch;if("bezier"===n.edgeType){var r=e.srcPos,i=e.tgtPos,o=e.srcW,a=e.srcH,s=e.tgtW,l=e.tgtH,u=e.srcShape,c=e.tgtShape,d=!ty(n.startX)||!ty(n.startY),h=!ty(n.arrowStartX)||!ty(n.arrowStartY),f=!ty(n.endX)||!ty(n.endY),p=!ty(n.arrowEndX)||!ty(n.arrowEndY),g=3*(this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth),v=Cm({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),y=v<g,m=Cm({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),b=m<g,_=!1;if(d||h||y){_=!0;var w={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},x=Math.sqrt(w.x*w.x+w.y*w.y),E={x:w.x/x,y:w.y/x},k=Math.max(o,a),S={x:n.ctrlpts[0]+2*E.x*k,y:n.ctrlpts[1]+2*E.y*k},C=u.intersectLine(r.x,r.y,o,a,S.x,S.y,0);y?(n.ctrlpts[0]=n.ctrlpts[0]+E.x*(g-v),n.ctrlpts[1]=n.ctrlpts[1]+E.y*(g-v)):(n.ctrlpts[0]=C[0]+E.x*g,n.ctrlpts[1]=C[1]+E.y*g)}if(f||p||b){_=!0;var T={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},N=Math.sqrt(T.x*T.x+T.y*T.y),A={x:T.x/N,y:T.y/N},O=Math.max(o,a),P={x:n.ctrlpts[0]+2*A.x*O,y:n.ctrlpts[1]+2*A.y*O},D=c.intersectLine(i.x,i.y,s,l,P.x,P.y,0);b?(n.ctrlpts[0]=n.ctrlpts[0]+A.x*(g-m),n.ctrlpts[1]=n.ctrlpts[1]+A.y*(g-m)):(n.ctrlpts[0]=D[0]+A.x*g,n.ctrlpts[1]=D[1]+A.y*g)}_&&this.findEndpoints(t)}},uk.storeAllpts=function(t){var e=t._private.rscratch;if("multibezier"===e.edgeType||"bezier"===e.edgeType||"self"===e.edgeType||"compound"===e.edgeType){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var n=0;n+1<e.ctrlpts.length;n+=2)e.allpts.push(e.ctrlpts[n],e.ctrlpts[n+1]),n+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[n]+e.ctrlpts[n+2])/2,(e.ctrlpts[n+1]+e.ctrlpts[n+3])/2);var r;e.allpts.push(e.endX,e.endY),e.ctrlpts.length/2%2==0?(r=e.allpts.length/2-1,e.midX=e.allpts[r],e.midY=e.allpts[r+1]):(r=e.allpts.length/2-3,.5,e.midX=Am(e.allpts[r],e.allpts[r+2],e.allpts[r+4],.5),e.midY=Am(e.allpts[r+1],e.allpts[r+3],e.allpts[r+5],.5))}else if("straight"===e.edgeType)e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if("segments"===e.edgeType)if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4==0){var i=e.segpts.length/2,o=i-2;e.midX=(e.segpts[o]+e.segpts[i])/2,e.midY=(e.segpts[o+1]+e.segpts[i+1])/2}else{var a=e.segpts.length/2-1;e.midX=e.segpts[a],e.midY=e.segpts[a+1]}},uk.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||ty(e.startX)&&ty(e.startY)&&ty(e.endX)&&ty(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Gy("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},uk.findEdgeControlPoints=function(t){var e=this;if(t&&0!==t.length){for(var n=this,r=n.cy.hasCompoundNodes(),i={map:new em,get:function(t){var e=this.map.get(t[0]);return null!=e?e.get(t[1]):null},set:function(t,e){var n=this.map.get(t[0]);null==n&&(n=new em,this.map.set(t[0],n)),n.set(t[1],e)}},o=[],a=[],s=0;s<t.length;s++){var l=t[s],u=l._private,c=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==c){var d="unbundled-bezier"===c||"segments"===c||"straight"===c||"taxi"===c,h="unbundled-bezier"===c||"bezier"===c,f=u.source,p=u.target,g=[f.poolIndex(),p.poolIndex()].sort(),v=i.get(g);null==v&&(v={eles:[]},i.set(g,v),o.push(g)),v.eles.push(l),d&&(v.hasUnbundled=!0),h&&(v.hasBezier=!0)}else a.push(l)}for(var y=function(t){var a=o[t],s=i.get(a),l=void 0;if(!s.hasUnbundled){var u=s.eles[0].parallelEdges().filter((function(t){return t.isBundledBezier()}));Jy(s.eles),u.forEach((function(t){return s.eles.push(t)})),s.eles.sort((function(t,e){return t.poolIndex()-e.poolIndex()}))}var c=s.eles[0],d=c.source(),h=c.target();if(d.poolIndex()>h.poolIndex()){var f=d;d=h,h=f}var p=s.srcPos=d.position(),g=s.tgtPos=h.position(),v=s.srcW=d.outerWidth(),y=s.srcH=d.outerHeight(),m=s.tgtW=h.outerWidth(),b=s.tgtH=h.outerHeight(),_=s.srcShape=n.nodeShapes[e.getNodeShape(d)],w=s.tgtShape=n.nodeShapes[e.getNodeShape(h)];s.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var x=0;x<s.eles.length;x++){var E=s.eles[x],k=E[0]._private.rscratch,S=E.pstyle("curve-style").value,C="unbundled-bezier"===S||"segments"===S||"taxi"===S,T=!d.same(E.source());if(!s.calculatedIntersection&&d!==h&&(s.hasBezier||s.hasUnbundled)){s.calculatedIntersection=!0;var N=_.intersectLine(p.x,p.y,v,y,g.x,g.y,0),A=s.srcIntn=N,O=w.intersectLine(g.x,g.y,m,b,p.x,p.y,0),P=s.tgtIntn=O,D=s.intersectionPts={x1:N[0],x2:O[0],y1:N[1],y2:O[1]},M=s.posPts={x1:p.x,x2:g.x,y1:p.y,y2:g.y},L=O[1]-N[1],I=O[0]-N[0],R=Math.sqrt(I*I+L*L),B=s.vector={x:I,y:L},j=s.vectorNorm={x:B.x/R,y:B.y/R},F={x:-j.y,y:j.x};s.nodesOverlap=!ty(R)||w.checkPoint(N[0],N[1],0,m,b,g.x,g.y)||_.checkPoint(O[0],O[1],0,v,y,p.x,p.y),s.vectorNormInverse=F,l={nodesOverlap:s.nodesOverlap,dirCounts:s.dirCounts,calculatedIntersection:!0,hasBezier:s.hasBezier,hasUnbundled:s.hasUnbundled,eles:s.eles,srcPos:g,tgtPos:p,srcW:m,srcH:b,tgtW:v,tgtH:y,srcIntn:P,tgtIntn:A,srcShape:w,tgtShape:_,posPts:{x1:M.x2,y1:M.y2,x2:M.x1,y2:M.y1},intersectionPts:{x1:D.x2,y1:D.y2,x2:D.x1,y2:D.y1},vector:{x:-B.x,y:-B.y},vectorNorm:{x:-j.x,y:-j.y},vectorNormInverse:{x:-F.x,y:-F.y}}}var z=T?l:s;k.nodesOverlap=z.nodesOverlap,k.srcIntn=z.srcIntn,k.tgtIntn=z.tgtIntn,r&&(d.isParent()||d.isChild()||h.isParent()||h.isChild())&&(d.parents().anySame(h)||h.parents().anySame(d)||d.same(h)&&d.isParent())?e.findCompoundLoopPoints(E,z,x,C):d===h?e.findLoopPoints(E,z,x,C):"segments"===S?e.findSegmentsPoints(E,z):"taxi"===S?e.findTaxiPoints(E,z):"straight"===S||!C&&s.eles.length%2==1&&x===Math.floor(s.eles.length/2)?e.findStraightEdgePoints(E):e.findBezierPoints(E,z,x,C,T),e.findEndpoints(E),e.tryToCorrectInvalidPoints(E,z),e.checkForInvalidEdgeWarning(E),e.storeAllpts(E),e.storeEdgeProjections(E),e.calculateArrowAngles(E),e.recalculateEdgeLabelProjections(E),e.calculateLabelAngles(E)}},m=0;m<o.length;m++)y(m);this.findHaystackPoints(a)}},uk.getSegmentPoints=function(t){var e=t[0]._private.rscratch;if("segments"===e.edgeType)return this.recalculateRenderedStyle(t),ck(e.segpts)},uk.getControlPoints=function(t){var e=t[0]._private.rscratch,n=e.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(t),ck(e.ctrlpts)},uk.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var dk={manualEndptToPx:function(t,e){var n=t.position(),r=t.outerWidth(),i=t.outerHeight();if(2===e.value.length){var o=[e.pfValue[0],e.pfValue[1]];return"%"===e.units[0]&&(o[0]=o[0]*r),"%"===e.units[1]&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}var a=e.pfValue[0];a=-Math.PI/2+a;var s=2*Math.max(r,i),l=[n.x+Math.cos(a)*s,n.y+Math.sin(a)*s];return this.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,r,i,l[0],l[1],0)},findEndpoints:function(t){var e,n,r,i,o,a=this,s=t.source()[0],l=t.target()[0],u=s.position(),c=l.position(),d=t.pstyle("target-arrow-shape").value,h=t.pstyle("source-arrow-shape").value,f=t.pstyle("target-distance-from-node").pfValue,p=t.pstyle("source-distance-from-node").pfValue,g=t.pstyle("curve-style").value,v=t._private.rscratch,y=v.edgeType,m="self"===y||"compound"===y,b="bezier"===y||"multibezier"===y||m,_="bezier"!==y,w="straight"===y||"segments"===y,x="segments"===y,E=b||_||w,k=m||"taxi"===g,S=t.pstyle("source-endpoint"),C=k?"outside-to-node":S.value,T=t.pstyle("target-endpoint"),N=k?"outside-to-node":T.value;if(v.srcManEndpt=S,v.tgtManEndpt=T,b){var A=[v.ctrlpts[0],v.ctrlpts[1]];n=_?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:A,r=A}else if(w){var O=x?v.segpts.slice(0,2):[c.x,c.y];n=x?v.segpts.slice(v.segpts.length-2):[u.x,u.y],r=O}if("inside-to-node"===N)e=[c.x,c.y];else if(T.units)e=this.manualEndptToPx(l,T);else if("outside-to-line"===N)e=v.tgtIntn;else if("outside-to-node"===N||"outside-to-node-or-label"===N?i=n:"outside-to-line"!==N&&"outside-to-line-or-label"!==N||(i=[u.x,u.y]),e=a.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),i[0],i[1],0),"outside-to-node-or-label"===N||"outside-to-line-or-label"===N){var P=l._private.rscratch,D=P.labelWidth,M=P.labelHeight,L=P.labelX,I=P.labelY,R=D/2,B=M/2,j=l.pstyle("text-valign").value;"top"===j?I-=B:"bottom"===j&&(I+=B);var F=l.pstyle("text-halign").value;"left"===F?L-=R:"right"===F&&(L+=R);var z=tb(i[0],i[1],[L-R,I-B,L+R,I-B,L+R,I+B,L-R,I+B],c.x,c.y);if(z.length>0){var V=u,q=Tm(V,xm(e)),H=Tm(V,xm(z)),U=q;if(H<q&&(e=z,U=H),z.length>2)Tm(V,{x:z[2],y:z[3]})<U&&(e=[z[2],z[3]])}}var G=eb(e,n,a.arrowShapes[d].spacing(t)+f),W=eb(e,n,a.arrowShapes[d].gap(t)+f);if(v.endX=W[0],v.endY=W[1],v.arrowEndX=G[0],v.arrowEndY=G[1],"inside-to-node"===C)e=[u.x,u.y];else if(S.units)e=this.manualEndptToPx(s,S);else if("outside-to-line"===C)e=v.srcIntn;else if("outside-to-node"===C||"outside-to-node-or-label"===C?o=r:"outside-to-line"!==C&&"outside-to-line-or-label"!==C||(o=[c.x,c.y]),e=a.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,s.outerWidth(),s.outerHeight(),o[0],o[1],0),"outside-to-node-or-label"===C||"outside-to-line-or-label"===C){var Y=s._private.rscratch,X=Y.labelWidth,K=Y.labelHeight,$=Y.labelX,Z=Y.labelY,J=X/2,Q=K/2,tt=s.pstyle("text-valign").value;"top"===tt?Z-=Q:"bottom"===tt&&(Z+=Q);var et=s.pstyle("text-halign").value;"left"===et?$-=J:"right"===et&&($+=J);var nt=tb(o[0],o[1],[$-J,Z-Q,$+J,Z-Q,$+J,Z+Q,$-J,Z+Q],u.x,u.y);if(nt.length>0){var rt=c,it=Tm(rt,xm(e)),ot=Tm(rt,xm(nt)),at=it;if(ot<it&&(e=[nt[0],nt[1]],at=ot),nt.length>2)Tm(rt,{x:nt[2],y:nt[3]})<at&&(e=[nt[2],nt[3]])}}var st=eb(e,r,a.arrowShapes[h].spacing(t)+p),lt=eb(e,r,a.arrowShapes[h].gap(t)+p);v.startX=lt[0],v.startY=lt[1],v.arrowStartX=st[0],v.arrowStartY=st[1],E&&(ty(v.startX)&&ty(v.startY)&&ty(v.endX)&&ty(v.endY)?v.badLine=!1:v.badLine=!0)},getSourceEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}},getTargetEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}}},hk={};function fk(t,e,n){for(var r=function(t,e,n,r){return Am(t,e,n,r)},i=e._private.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var a=t.bezierProjPcts[o];i.push({x:r(n[0],n[2],n[4],a),y:r(n[1],n[3],n[5],a)})}}hk.storeEdgeProjections=function(t){var e=t._private,n=e.rscratch,r=n.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){e.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)fk(this,t,n.allpts.slice(i,i+6))}else if("segments"===r){var o=e.rstyle.linePts=[];for(i=0;i+1<n.allpts.length;i+=2)o.push({x:n.allpts[i],y:n.allpts[i+1]})}else if("haystack"===r){var a=n.haystackPts;e.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},hk.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var pk={recalculateNodeLabelProjection:function(t){var e=t.pstyle("label").strValue;if(!sy(e)){var n,r,i=t._private,o=t.width(),a=t.height(),s=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,d=i.rscratch,h=i.rstyle;switch(u){case"left":n=l.x-o/2-s;break;case"right":n=l.x+o/2+s;break;default:n=l.x}switch(c){case"top":r=l.y-a/2-s;break;case"bottom":r=l.y+a/2+s;break;default:r=l.y}d.labelX=n,d.labelY=r,h.labelX=n,h.labelY=r,this.applyLabelDimensions(t)}}},gk=function(t,e){var n=Math.atan(e/t);return 0===t&&n<0&&(n*=-1),n},vk=function(t,e){var n=e.x-t.x,r=e.y-t.y;return gk(n,r)};pk.recalculateEdgeLabelProjections=function(t){var e,n=t._private,r=n.rscratch,i=this,o={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:r.midX,y:r.midY};var a=function(t,e,r){tm(n.rscratch,t,e,r),tm(n.rstyle,t,e,r)};a("labelX",null,e.x),a("labelY",null,e.y);var s=gk(r.midDispX,r.midDispY);a("labelAutoAngle",null,s);var l=function(s){var l,u="source"===s;if(o[s]){var c=t.pstyle(s+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var d,h=function t(){if(t.cache)return t.cache;for(var e=[],o=0;o+5<r.allpts.length;o+=4){var a={x:r.allpts[o],y:r.allpts[o+1]},s={x:r.allpts[o+2],y:r.allpts[o+3]},l={x:r.allpts[o+4],y:r.allpts[o+5]};e.push({p0:a,p1:s,p2:l,startDist:0,length:0,segments:[]})}var u=n.rstyle.bezierPts,c=i.bezierProjPcts.length;function d(t,e,n,r,i){var o=Cm(e,n),a=t.segments[t.segments.length-1],s={p0:e,p1:n,t0:r,t1:i,startDist:a?a.startDist+a.length:0,length:o};t.segments.push(s),t.length+=o}for(var h=0;h<e.length;h++){var f=e[h],p=e[h-1];p&&(f.startDist=p.startDist+p.length),d(f,f.p0,u[h*c],0,i.bezierProjPcts[0]);for(var g=0;g<c-1;g++)d(f,u[h*c+g],u[h*c+g+1],i.bezierProjPcts[g],i.bezierProjPcts[g+1]);d(f,u[h*c+c-1],f.p2,i.bezierProjPcts[c-1],1)}return t.cache=e}(),f=0,p=0,g=0;g<h.length;g++){for(var v=h[u?g:h.length-1-g],y=0;y<v.segments.length;y++){var m=v.segments[u?y:v.segments.length-1-y],b=g===h.length-1&&y===v.segments.length-1;if(f=p,(p+=m.length)>=c||b){d={cp:v,segment:m};break}}if(d)break}var _=d.cp,w=d.segment,x=(c-f)/w.length,E=w.t1-w.t0,k=u?w.t0+E*x:w.t1-E*x;k=Pm(0,k,1),e=Om(_.p0,_.p1,_.p2,k),l=function(t,e,n,r){var i=Pm(0,r-.001,1),o=Pm(0,r+.001,1),a=Om(t,e,n,i),s=Om(t,e,n,o);return vk(a,s)}(_.p0,_.p1,_.p2,k);break;case"straight":case"segments":case"haystack":for(var S,C,T,N,A=0,O=r.allpts.length,P=0;P+3<O&&(u?(T={x:r.allpts[P],y:r.allpts[P+1]},N={x:r.allpts[P+2],y:r.allpts[P+3]}):(T={x:r.allpts[O-2-P],y:r.allpts[O-1-P]},N={x:r.allpts[O-4-P],y:r.allpts[O-3-P]}),C=A,!((A+=S=Cm(T,N))>=c));P+=2);var D=(c-C)/S;D=Pm(0,D,1),e=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=Cm(t,e),s=i/a,l=o/a;return n=null==n?0:n,r=null!=r?r:n*a,{x:t.x+s*r,y:t.y+l*r}}(T,N,D),l=vk(T,N)}a("labelX",s,e.x),a("labelY",s,e.y),a("labelAutoAngle",s,l)}};l("source"),l("target"),this.applyLabelDimensions(t)}},pk.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},pk.applyPrefixedLabelDimensions=function(t,e){var n=t._private,r=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,r),o=t.pstyle("line-height").pfValue,a=t.pstyle("text-wrap").strValue,s=Qy(n.rscratch,"labelWrapCachedLines",e)||[],l="wrap"!==a?1:Math.max(s.length,1),u=i.height/l,c=u*o,d=i.width,h=i.height+(l-1)*(o-1)*u;tm(n.rstyle,"labelWidth",e,d),tm(n.rscratch,"labelWidth",e,d),tm(n.rstyle,"labelHeight",e,h),tm(n.rscratch,"labelHeight",e,h),tm(n.rscratch,"labelLineHeight",e,c)},pk.getLabelText=function(t,e){var n=t._private,r=e?e+"-":"",i=t.pstyle(r+"label").strValue,o=t.pstyle("text-transform").value,a=function(t,r){return r?(tm(n.rscratch,t,e,r),r):Qy(n.rscratch,t,e)};if(!i)return"";"none"==o||("uppercase"==o?i=i.toUpperCase():"lowercase"==o&&(i=i.toLowerCase()));var s=t.pstyle("text-wrap").value;if("wrap"===s){var l=a("labelKey");if(null!=l&&a("labelWrapKey")===l)return a("labelWrapCachedText");for(var u=i.split("\n"),c=t.pstyle("text-max-width").pfValue,d="anywhere"===t.pstyle("text-overflow-wrap").value,h=[],f=/[\s\u200b]+/,p=d?"":" ",g=0;g<u.length;g++){var v=u[g],y=this.calculateLabelDimensions(t,v).width;if(d){var m=v.split("").join("â");v=m}if(y>c){for(var b=v.split(f),_="",w=0;w<b.length;w++){var x=b[w],E=0===_.length?x:_+p+x;this.calculateLabelDimensions(t,E).width<=c?_+=x+p:(_&&h.push(_),_=x+p)}_.match(/^[\s\u200b]+$/)||h.push(_)}else h.push(v)}a("labelWrapCachedLines",h),i=a("labelWrapCachedText",h.join("\n")),a("labelWrapKey",l)}else if("ellipsis"===s){for(var k=t.pstyle("text-max-width").pfValue,S="",C=!1,T=0;T<i.length;T++){if(this.calculateLabelDimensions(t,S+i[T]+"â¦").width>k)break;S+=i[T],T===i.length-1&&(C=!0)}return C||(S+="â¦"),S}return i},pk.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,n=t.pstyle("text-halign").strValue;if("auto"!==e)return e;if(!t.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},pk.calculateLabelDimensions=function(t,e){var n=Dy(e,t._private.labelDimsKey),r=this.labelDimCache||(this.labelDimCache=[]),i=r[n];if(null!=i)return i;var o=t.pstyle("font-style").strValue,a=1*t.pstyle("font-size").pfValue+"px",s=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,u=this.labelCalcDiv;u||(u=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(u));var c=u.style;return c.fontFamily=s,c.fontStyle=o,c.fontSize=a,c.fontWeight=l,c.position="absolute",c.left="-9999px",c.top="-9999px",c.zIndex="-1",c.visibility="hidden",c.pointerEvents="none",c.padding="0",c.lineHeight="1",c.whiteSpace="pre",u.textContent=e,r[n]={width:Math.ceil(u.clientWidth/1),height:Math.ceil(u.clientHeight/1)}},pk.calculateLabelAngle=function(t,e){var n=t._private.rscratch,r=t.isEdge(),i=e?e+"-":"",o=t.pstyle(i+"text-rotation"),a=o.strValue;return"none"===a?0:r&&"autorotate"===a?n.labelAutoAngle:"autorotate"===a?0:o.pfValue},pk.calculateLabelAngles=function(t){var e=this,n=t.isEdge(),r=t._private.rscratch;r.labelAngle=e.calculateLabelAngle(t),n&&(r.sourceLabelAngle=e.calculateLabelAngle(t,"source"),r.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var yk={},mk=!1;yk.getNodeShape=function(t){var e=t.pstyle("shape").value;if("cutrectangle"===e&&(t.width()<28||t.height()<28))return mk||(Gy("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),mk=!0),"rectangle";if(t.isParent())return"rectangle"===e||"roundrectangle"===e||"round-rectangle"===e||"cutrectangle"===e||"cut-rectangle"===e||"barrel"===e?e:"rectangle";if("polygon"===e){var n=t.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return e};var bk={registerCalculationListeners:function(){var t=this.cy,e=t.collection(),n=this,r=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.merge(t),n)for(var r=0;r<t.length;r++){var i=t[r],o=i._private,a=o.rstyle;a.clean=!1,a.cleanConnected=!1}};n.binder(t).on("bounds.* dirty.*",(function(t){var e=t.target;r(e)})).on("style.* background.*",(function(t){var e=t.target;r(e,!1)}));var i=function(i){if(i){for(var o=n.onUpdateEleCalcsFns,a=0;a<e.length;a++){var s=e[a],l=s._private.rstyle;s.isNode()&&!l.cleanConnected&&(r(s.connectedEdges()),l.cleanConnected=!0)}if(o)for(var u=0;u<o.length;u++){(0,o[u])(i,e)}n.recalculateRenderedStyle(e),e=t.collection()}};n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(t){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(t)},recalculateRenderedStyle:function(t,e){var n=function(t){return t._private.rstyle.cleanConnected},r=[],i=[];if(!this.destroyed){void 0===e&&(e=!0);for(var o=0;o<t.length;o++){var a=t[o],s=a._private,l=s.rstyle;!a.isEdge()||n(a.source())&&n(a.target())||(l.clean=!1),e&&l.clean||a.removed()||"none"!==a.pstyle("display").value&&("nodes"===s.group?i.push(a):r.push(a),l.clean=!0)}for(var u=0;u<i.length;u++){var c=i[u],d=c._private.rstyle,h=c.position();this.recalculateNodeLabelProjection(c),d.nodeX=h.x,d.nodeY=h.y,d.nodeW=c.pstyle("width").pfValue,d.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var f=0;f<r.length;f++){var p=r[f]._private,g=p.rstyle,v=p.rscratch;g.srcX=v.arrowStartX,g.srcY=v.arrowStartY,g.tgtX=v.arrowEndX,g.tgtY=v.arrowEndY,g.midX=v.midX,g.midY=v.midY,g.labelAngle=v.labelAngle,g.sourceLabelAngle=v.sourceLabelAngle,g.targetLabelAngle=v.targetLabelAngle}}}},_k={updateCachedGrabbedEles:function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],n=0;n<t.length;n++){var r=(i=t[n])._private.rscratch;i.grabbed()&&!i.isParent()?e.push(i):r.inDragLayer?t.drag.push(i):t.nondrag.push(i)}for(n=0;n<e.length;n++){var i=e[n];t.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(lx),e.interactive=e.filter((function(t){return t.interactive()})),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e}},wk={};[sk,lk,uk,dk,hk,pk,yk,bk,_k].forEach((function(t){vy(wk,t)}));var xk={getCachedImage:function(t,e,n){var r=this.imageCache=this.imageCache||{},i=r[t];if(i)return i.image.complete||i.image.addEventListener("load",n),i.image;var o=(i=r[t]=r[t]||{}).image=new Image;o.addEventListener("load",n),o.addEventListener("error",(function(){o.error=!0}));return"data:"===t.substring(0,"data:".length).toLowerCase()||(o.crossOrigin=e),o.src=t,o}},Ek={registerBinding:function(t,e,n,r){var i=Array.prototype.slice.apply(arguments,[1]),o=this.binder(t);return o.on.apply(o,i)}};Ek.binder=function(t){var e,n=this,r=t===window||t===document||t===document.body||(e=t,"undefined"!=typeof HTMLElement&&e instanceof HTMLElement);if(null==n.supportsPassiveEvents){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});window.addEventListener("test",null,o)}catch(t){}n.supportsPassiveEvents=i}var a=function(e,i,o){var a=Array.prototype.slice.call(arguments);return r&&n.supportsPassiveEvents&&(a[2]={capture:null!=o&&o,passive:!1,once:!1}),n.bindings.push({target:t,args:a}),(t.addEventListener||t.on).apply(t,a),this};return{on:a,addEventListener:a,addListener:a,bind:a}},Ek.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},Ek.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()},Ek.load=function(){var t=this,e=function(t){return t.selected()},n=function(e,n,r,i){null==e&&(e=t.cy);for(var o=0;o<n.length;o++){var a=n[o];e.emit({originalEvent:r,type:a,position:i})}},r=function(t){return t.shiftKey||t.metaKey||t.ctrlKey},i=function(e,n){var r=!0;if(t.cy.hasCompoundNodes()&&e&&e.pannable())for(var i=0;n&&i<n.length;i++){if((e=n[i]).isNode()&&e.isParent()){r=!1;break}}else r=!0;return r},o=function(t){t[0]._private.rscratch.inDragLayer=!0},a=function(t){t[0]._private.rscratch.isGrabTarget=!0},s=function(t,e){var n=e.addToList;n.has(t)||(n.merge(t),function(t){t[0]._private.grabbed=!0}(t))},l=function(e,n){n=n||{};var r=e.cy().hasCompoundNodes();n.inDragLayer&&(e.forEach(o),e.neighborhood().stdFilter((function(t){return!r||t.isEdge()})).forEach(o)),n.addToList&&e.forEach((function(t){s(t,n)})),function(t,e){if(t.cy().hasCompoundNodes()&&(null!=e.inDragLayer||null!=e.addToList)){var n=t.descendants();e.inDragLayer&&(n.forEach(o),n.connectedEdges().forEach(o)),e.addToList&&e.addToList.unmerge(n)}}(e,n),d(e,{inDragLayer:n.inDragLayer}),t.updateCachedGrabbedEles()},u=l,c=function(e){e&&(t.getCachedZSortedEles().forEach((function(t){!function(t){t[0]._private.grabbed=!1}(t),function(t){t[0]._private.rscratch.inDragLayer=!1}(t),function(t){t[0]._private.rscratch.isGrabTarget=!1}(t)})),t.updateCachedGrabbedEles())},d=function(t,e){if((null!=e.inDragLayer||null!=e.addToList)&&t.cy().hasCompoundNodes()){var n=t.ancestors().orphans();if(!n.same(t)){var r=n.descendants().spawnSelf().merge(n).unmerge(t).unmerge(t.descendants()),i=r.connectedEdges();e.inDragLayer&&(i.forEach(o),r.forEach(o)),e.addToList&&r.forEach((function(t){s(t,e)}))}}},h=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},f="undefined"!=typeof MutationObserver,p="undefined"!=typeof ResizeObserver;f?(t.removeObserver=new MutationObserver((function(e){for(var n=0;n<e.length;n++){var r=e[n].removedNodes;if(r)for(var i=0;i<r.length;i++){if(r[i]===t.container){t.destroy();break}}}})),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",(function(e){t.destroy()}));var g=Iv((function(){t.cy.resize()}),100);f&&(t.styleObserver=new MutationObserver(g),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",g),p&&(t.resizeObserver=new ResizeObserver(g),t.resizeObserver.observe(t.container));var v=function(){t.invalidateContainerClientCoordsCache()};!function(t,e){for(;null!=t;)e(t),t=t.parentNode}(t.container,(function(e){t.registerBinding(e,"transitionend",v),t.registerBinding(e,"animationend",v),t.registerBinding(e,"scroll",v)})),t.registerBinding(t.container,"contextmenu",(function(t){t.preventDefault()}));var y=function(e){for(var n=t.findContainerClientCoords(),r=n[0],i=n[1],o=n[2],a=n[3],s=e.touches?e.touches:[e],l=!1,u=0;u<s.length;u++){var c=s[u];if(r<=c.clientX&&c.clientX<=r+o&&i<=c.clientY&&c.clientY<=i+a){l=!0;break}}if(!l)return!1;for(var d=t.container,h=e.target.parentNode,f=!1;h;){if(h===d){f=!0;break}h=h.parentNode}return!!f};t.registerBinding(t.container,"mousedown",(function(e){if(y(e)){e.preventDefault(),h(),t.hoverData.capture=!0,t.hoverData.which=e.which;var r=t.cy,i=[e.clientX,e.clientY],o=t.projectIntoViewport(i[0],i[1]),s=t.selection,c=t.findNearestElements(o[0],o[1],!0,!1),d=c[0],f=t.dragData.possibleDragElements;t.hoverData.mdownPos=o,t.hoverData.mdownGPos=i;if(3==e.which){t.hoverData.cxtStarted=!0;var p={originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}};d?(d.activate(),d.emit(p),t.hoverData.down=d):r.emit(p),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==e.which){if(d&&d.activate(),null!=d&&t.nodeIsGrabbable(d)){var g=function(t){return{originalEvent:e,type:t,position:{x:o[0],y:o[1]}}};if(a(d),d.selected()){f=t.dragData.possibleDragElements=r.collection();var v=r.$((function(e){return e.isNode()&&e.selected()&&t.nodeIsGrabbable(e)}));l(v,{addToList:f}),d.emit(g("grabon")),v.forEach((function(t){t.emit(g("grab"))}))}else f=t.dragData.possibleDragElements=r.collection(),u(d,{addToList:f}),d.emit(g("grabon")).emit(g("grab"));t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=d,t.hoverData.downs=c,t.hoverData.downTime=(new Date).getTime(),n(d,["mousedown","tapstart","vmousedown"],e,{x:o[0],y:o[1]}),null==d?(s[4]=1,t.data.bgActivePosistion={x:o[0],y:o[1]},t.redrawHint("select",!0),t.redraw()):d.pannable()&&(s[4]=1),t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout((function(){if(!t.hoverData.tapholdCancelled){var n=t.hoverData.down;n?n.emit({originalEvent:e,type:"taphold",position:{x:o[0],y:o[1]}}):r.emit({originalEvent:e,type:"taphold",position:{x:o[0],y:o[1]}})}}),t.tapholdDuration)}s[0]=s[2]=o[0],s[1]=s[3]=o[1]}}),!1),t.registerBinding(window,"mousemove",(function(e){if(t.hoverData.capture||y(e)){var o=!1,a=t.cy,s=a.zoom(),u=[e.clientX,e.clientY],d=t.projectIntoViewport(u[0],u[1]),h=t.hoverData.mdownPos,f=t.hoverData.mdownGPos,p=t.selection,g=null;t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.selecting||(g=t.findNearestElement(d[0],d[1],!0,!1));var v,m=t.hoverData.last,b=t.hoverData.down,_=[d[0]-p[2],d[1]-p[3]],w=t.dragData.possibleDragElements;if(f){var x=u[0]-f[0],E=x*x,k=u[1]-f[1],S=E+k*k;t.hoverData.isOverThresholdDrag=v=S>=t.desktopTapThreshold2}var C=r(e);v&&(t.hoverData.tapholdCancelled=!0);o=!0,n(g,["mousemove","vmousemove","tapdrag"],e,{x:d[0],y:d[1]});var T=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||a.emit({originalEvent:e,type:"boxstart",position:{x:d[0],y:d[1]}}),p[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(3===t.hoverData.which){if(v){var N={originalEvent:e,type:"cxtdrag",position:{x:d[0],y:d[1]}};b?b.emit(N):a.emit(N),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&g===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:d[0],y:d[1]}}),t.hoverData.cxtOver=g,g&&g.emit({originalEvent:e,type:"cxtdragover",position:{x:d[0],y:d[1]}}))}}else if(t.hoverData.dragging){if(o=!0,a.panningEnabled()&&a.userPanningEnabled()){var A;if(t.hoverData.justStartedPan){var O=t.hoverData.mdownPos;A={x:(d[0]-O[0])*s,y:(d[1]-O[1])*s},t.hoverData.justStartedPan=!1}else A={x:_[0]*s,y:_[1]*s};a.panBy(A),t.hoverData.dragged=!0}d=t.projectIntoViewport(e.clientX,e.clientY)}else if(1!=p[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),b&&b.grabbed()||g==m||(m&&n(m,["mouseout","tapdragout"],e,{x:d[0],y:d[1]}),g&&n(g,["mouseover","tapdragover"],e,{x:d[0],y:d[1]}),t.hoverData.last=g),b)if(v){if(a.boxSelectionEnabled()&&C)b&&b.grabbed()&&(c(w),b.emit("freeon"),w.emit("free"),t.dragData.didDrag&&(b.emit("dragfreeon"),w.emit("dragfree"))),T();else if(b&&b.grabbed()&&t.nodeIsDraggable(b)){var P=!t.dragData.didDrag;P&&t.redrawHint("eles",!0),t.dragData.didDrag=!0;var D=a.collection();t.hoverData.draggingEles||l(w,{inDragLayer:!0});var M={x:0,y:0};if(ty(_[0])&&ty(_[1])&&(M.x+=_[0],M.y+=_[1],P)){var L=t.hoverData.dragDelta;L&&ty(L[0])&&ty(L[1])&&(M.x+=L[0],M.y+=L[1])}for(var I=0;I<w.length;I++){var R=w[I];t.nodeIsDraggable(R)&&R.grabbed()&&D.merge(R)}t.hoverData.draggingEles=!0,D.silentShift(M).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else!function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];0===e.length?(e.push(_[0]),e.push(_[1])):(e[0]+=_[0],e[1]+=_[1])}();o=!0}else if(v){if(t.hoverData.dragging||!a.boxSelectionEnabled()||!C&&a.panningEnabled()&&a.userPanningEnabled()){if(!t.hoverData.selecting&&a.panningEnabled()&&a.userPanningEnabled()){i(b,t.hoverData.downs)&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,p[4]=0,t.data.bgActivePosistion=xm(h),t.redrawHint("select",!0),t.redraw())}}else T();b&&b.pannable()&&b.active()&&b.unactivate()}return p[2]=d[0],p[3]=d[1],o?(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1):void 0}}),!1),t.registerBinding(window,"mouseup",(function(i){if(t.hoverData.capture){t.hoverData.capture=!1;var o=t.cy,a=t.projectIntoViewport(i.clientX,i.clientY),s=t.selection,l=t.findNearestElement(a[0],a[1],!0,!1),u=t.dragData.possibleDragElements,d=t.hoverData.down,h=r(i);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,d&&d.unactivate(),3===t.hoverData.which){var f={originalEvent:i,type:"cxttapend",position:{x:a[0],y:a[1]}};if(d?d.emit(f):o.emit(f),!t.hoverData.cxtDragged){var p={originalEvent:i,type:"cxttap",position:{x:a[0],y:a[1]}};d?d.emit(p):o.emit(p)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(1===t.hoverData.which){if(n(l,["mouseup","tapend","vmouseup"],i,{x:a[0],y:a[1]}),t.dragData.didDrag||t.hoverData.dragged||t.hoverData.selecting||t.hoverData.isOverThresholdDrag||n(d,["click","tap","vclick"],i,{x:a[0],y:a[1]}),null!=d||t.dragData.didDrag||t.hoverData.selecting||t.hoverData.dragged||r(i)||(o.$(e).unselect(["tapunselect"]),u.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=u=o.collection()),l!=d||t.dragData.didDrag||t.hoverData.selecting||null!=l&&l._private.selectable&&(t.hoverData.dragging||("additive"===o.selectionType()||h?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):h||(o.$(e).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var g=o.collection(t.getAllInBox(s[0],s[1],s[2],s[3]));t.redrawHint("select",!0),g.length>0&&t.redrawHint("eles",!0),o.emit({type:"boxend",originalEvent:i,position:{x:a[0],y:a[1]}});var v=function(t){return t.selectable()&&!t.selected()};"additive"===o.selectionType()||h||o.$(e).unmerge(g).unselect(),g.emit("box").stdFilter(v).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!s[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var y=d&&d.grabbed();c(u),y&&(d.emit("freeon"),u.emit("free"),t.dragData.didDrag&&(d.emit("dragfreeon"),u.emit("dragfree")))}}s[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}}),!1);var m,b,_,w,x,E,k,S,C,T,N,A,O,P=function(e){if(!t.scrollingPage){var n=t.cy,r=n.zoom(),i=n.pan(),o=t.projectIntoViewport(e.clientX,e.clientY),a=[o[0]*r+i.x,o[1]*r+i.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||0!==t.selection[4])e.preventDefault();else if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){var s;e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout((function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()}),150),s=null!=e.deltaY?e.deltaY/-250:null!=e.wheelDeltaY?e.wheelDeltaY/1e3:e.wheelDelta/1e3,s*=t.wheelSensitivity,1===e.deltaMode&&(s*=33);var l=n.zoom()*Math.pow(10,s);"gesturechange"===e.type&&(l=t.gestureStartZoom*e.scale),n.zoom({level:l,renderedPosition:{x:a[0],y:a[1]}})}}};t.registerBinding(t.container,"wheel",P,!0),t.registerBinding(window,"scroll",(function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout((function(){t.scrollingPage=!1}),250)}),!0),t.registerBinding(t.container,"gesturestart",(function(e){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||e.preventDefault()}),!0),t.registerBinding(t.container,"gesturechange",(function(e){t.hasTouchStarted||P(e)}),!0),t.registerBinding(t.container,"mouseout",(function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseout",position:{x:n[0],y:n[1]}})}),!1),t.registerBinding(t.container,"mouseover",(function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseover",position:{x:n[0],y:n[1]}})}),!1);var D,M,L,I,R=function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))},B=function(t,e,n,r){return(n-t)*(n-t)+(r-e)*(r-e)};if(t.registerBinding(t.container,"touchstart",D=function(e){if(t.hasTouchStarted=!0,y(e)){h(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var r=t.cy,i=t.touchData.now,o=t.touchData.earlier;if(e.touches[0]){var s=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);i[0]=s[0],i[1]=s[1]}if(e.touches[1]){s=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);i[2]=s[0],i[3]=s[1]}if(e.touches[2]){s=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);i[4]=s[0],i[5]=s[1]}if(e.touches[1]){t.touchData.singleTouchMoved=!0,c(t.dragData.touchDragEles);var d=t.findContainerClientCoords();C=d[0],T=d[1],N=d[2],A=d[3],m=e.touches[0].clientX-C,b=e.touches[0].clientY-T,_=e.touches[1].clientX-C,w=e.touches[1].clientY-T,O=0<=m&&m<=N&&0<=_&&_<=N&&0<=b&&b<=A&&0<=w&&w<=A;var f=r.pan(),p=r.zoom();x=R(m,b,_,w),E=B(m,b,_,w),S=[((k=[(m+_)/2,(b+w)/2])[0]-f.x)/p,(k[1]-f.y)/p];if(E<4e4&&!e.touches[2]){var g=t.findNearestElement(i[0],i[1],!0,!0),v=t.findNearestElement(i[2],i[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start=g):v&&v.isNode()?(v.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start=v):r.emit({originalEvent:e,type:"cxttapstart",position:{x:i[0],y:i[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(e.touches[2])r.boxSelectionEnabled()&&e.preventDefault();else if(e.touches[1]);else if(e.touches[0]){var P=t.findNearestElements(i[0],i[1],!0,!0),D=P[0];if(null!=D&&(D.activate(),t.touchData.start=D,t.touchData.starts=P,t.nodeIsGrabbable(D))){var M=t.dragData.touchDragEles=r.collection(),L=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),D.selected()?(L=r.$((function(e){return e.selected()&&t.nodeIsGrabbable(e)})),l(L,{addToList:M})):u(D,{addToList:M}),a(D);var I=function(t){return{originalEvent:e,type:t,position:{x:i[0],y:i[1]}}};D.emit(I("grabon")),L?L.forEach((function(t){t.emit(I("grab"))})):D.emit(I("grab"))}n(D,["touchstart","tapstart","vmousedown"],e,{x:i[0],y:i[1]}),null==D&&(t.data.bgActivePosistion={x:s[0],y:s[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout((function(){!1!==t.touchData.singleTouchMoved||t.pinching||t.touchData.selecting||n(t.touchData.start,["taphold"],e,{x:i[0],y:i[1]})}),t.tapholdDuration)}if(e.touches.length>=1){for(var j=t.touchData.startPosition=[],F=0;F<i.length;F++)j[F]=o[F]=i[F];var z=e.touches[0];t.touchData.startGPosition=[z.clientX,z.clientY]}}},!1),t.registerBinding(window,"touchmove",M=function(e){var r=t.touchData.capture;if(r||y(e)){var o=t.selection,a=t.cy,s=t.touchData.now,u=t.touchData.earlier,d=a.zoom();if(e.touches[0]){var h=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);s[0]=h[0],s[1]=h[1]}if(e.touches[1]){h=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);s[2]=h[0],s[3]=h[1]}if(e.touches[2]){h=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);s[4]=h[0],s[5]=h[1]}var f,p=t.touchData.startGPosition;if(r&&e.touches[0]&&p){for(var g=[],v=0;v<s.length;v++)g[v]=s[v]-u[v];var k=e.touches[0].clientX-p[0],N=k*k,A=e.touches[0].clientY-p[1];f=N+A*A>=t.touchTapThreshold2}if(r&&t.touchData.cxt){e.preventDefault();var P=e.touches[0].clientX-C,D=e.touches[0].clientY-T,M=e.touches[1].clientX-C,L=e.touches[1].clientY-T,I=B(P,D,M,L);if(I/E>=2.25||I>=22500){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var j={originalEvent:e,type:"cxttapend",position:{x:s[0],y:s[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(j),t.touchData.start=null):a.emit(j)}}if(r&&t.touchData.cxt){j={originalEvent:e,type:"cxtdrag",position:{x:s[0],y:s[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(j):a.emit(j),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var F=t.findNearestElement(s[0],s[1],!0,!0);t.touchData.cxtOver&&F===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:s[0],y:s[1]}}),t.touchData.cxtOver=F,F&&F.emit({originalEvent:e,type:"cxtdragover",position:{x:s[0],y:s[1]}}))}else if(r&&e.touches[2]&&a.boxSelectionEnabled())e.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||a.emit({originalEvent:e,type:"boxstart",position:{x:s[0],y:s[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,o[4]=1,o&&0!==o.length&&void 0!==o[0]?(o[2]=(s[0]+s[2]+s[4])/3,o[3]=(s[1]+s[3]+s[5])/3):(o[0]=(s[0]+s[2]+s[4])/3,o[1]=(s[1]+s[3]+s[5])/3,o[2]=(s[0]+s[2]+s[4])/3+1,o[3]=(s[1]+s[3]+s[5])/3+1),t.redrawHint("select",!0),t.redraw();else if(r&&e.touches[1]&&!t.touchData.didSelect&&a.zoomingEnabled()&&a.panningEnabled()&&a.userZoomingEnabled()&&a.userPanningEnabled()){if(e.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),Q=t.dragData.touchDragEles){t.redrawHint("drag",!0);for(var z=0;z<Q.length;z++){var V=Q[z]._private;V.grabbed=!1,V.rscratch.inDragLayer=!1}}var q=t.touchData.start,H=(P=e.touches[0].clientX-C,D=e.touches[0].clientY-T,M=e.touches[1].clientX-C,L=e.touches[1].clientY-T,R(P,D,M,L)),U=H/x;if(O){var G=(P-m+(M-_))/2,W=(D-b+(L-w))/2,Y=a.zoom(),X=Y*U,K=a.pan(),$=S[0]*Y+K.x,Z=S[1]*Y+K.y,J={x:-X/Y*($-K.x-G)+$,y:-X/Y*(Z-K.y-W)+Z};if(q&&q.active()){var Q=t.dragData.touchDragEles;c(Q),t.redrawHint("drag",!0),t.redrawHint("eles",!0),q.unactivate().emit("freeon"),Q.emit("free"),t.dragData.didDrag&&(q.emit("dragfreeon"),Q.emit("dragfree"))}a.viewport({zoom:X,pan:J,cancelOnFailedZoom:!0}),x=H,m=P,b=D,_=M,w=L,t.pinching=!0}if(e.touches[0]){h=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);s[0]=h[0],s[1]=h[1]}if(e.touches[1]){h=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);s[2]=h[0],s[3]=h[1]}if(e.touches[2]){h=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);s[4]=h[0],s[5]=h[1]}}else if(e.touches[0]&&!t.touchData.didSelect){var tt=t.touchData.start,et=t.touchData.last;if(t.hoverData.draggingEles||t.swipePanning||(F=t.findNearestElement(s[0],s[1],!0,!0)),r&&null!=tt&&e.preventDefault(),r&&null!=tt&&t.nodeIsDraggable(tt))if(f){Q=t.dragData.touchDragEles;var nt=!t.dragData.didDrag;nt&&l(Q,{inDragLayer:!0}),t.dragData.didDrag=!0;var rt={x:0,y:0};if(ty(g[0])&&ty(g[1]))if(rt.x+=g[0],rt.y+=g[1],nt)t.redrawHint("eles",!0),(it=t.touchData.dragDelta)&&ty(it[0])&&ty(it[1])&&(rt.x+=it[0],rt.y+=it[1]);t.hoverData.draggingEles=!0,Q.silentShift(rt).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==u[0]&&t.touchData.startPosition[1]==u[1]&&t.redrawHint("eles",!0),t.redraw()}else{var it;0===(it=t.touchData.dragDelta=t.touchData.dragDelta||[]).length?(it.push(g[0]),it.push(g[1])):(it[0]+=g[0],it[1]+=g[1])}if(n(tt||F,["touchmove","tapdrag","vmousemove"],e,{x:s[0],y:s[1]}),tt&&tt.grabbed()||F==et||(et&&et.emit({originalEvent:e,type:"tapdragout",position:{x:s[0],y:s[1]}}),F&&F.emit({originalEvent:e,type:"tapdragover",position:{x:s[0],y:s[1]}})),t.touchData.last=F,r)for(z=0;z<s.length;z++)s[z]&&t.touchData.startPosition[z]&&f&&(t.touchData.singleTouchMoved=!0);if(r&&(null==tt||tt.pannable())&&a.panningEnabled()&&a.userPanningEnabled()){i(tt,t.touchData.starts)&&(e.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=xm(t.touchData.startPosition)),t.swipePanning?a.panBy({x:g[0]*d,y:g[1]*d}):f&&(t.swipePanning=!0,a.panBy({x:k*d,y:A*d}),tt&&(tt.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));h=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);s[0]=h[0],s[1]=h[1]}}for(v=0;v<s.length;v++)u[v]=s[v];r&&e.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&null!=t.data.bgActivePosistion&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1),t.registerBinding(window,"touchcancel",L=function(e){var n=t.touchData.start;t.touchData.capture=!1,n&&n.unactivate()}),t.registerBinding(window,"touchend",I=function(r){var i=t.touchData.start;if(t.touchData.capture){0===r.touches.length&&(t.touchData.capture=!1),r.preventDefault();var o=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var a,s=t.cy,l=s.zoom(),u=t.touchData.now,d=t.touchData.earlier;if(r.touches[0]){var h=t.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);u[0]=h[0],u[1]=h[1]}if(r.touches[1]){h=t.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);u[2]=h[0],u[3]=h[1]}if(r.touches[2]){h=t.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);u[4]=h[0],u[5]=h[1]}if(i&&i.unactivate(),t.touchData.cxt){if(a={originalEvent:r,type:"cxttapend",position:{x:u[0],y:u[1]}},i?i.emit(a):s.emit(a),!t.touchData.cxtDragged){var f={originalEvent:r,type:"cxttap",position:{x:u[0],y:u[1]}};i?i.emit(f):s.emit(f)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!r.touches[2]&&s.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var p=s.collection(t.getAllInBox(o[0],o[1],o[2],o[3]));o[0]=void 0,o[1]=void 0,o[2]=void 0,o[3]=void 0,o[4]=0,t.redrawHint("select",!0),s.emit({type:"boxend",originalEvent:r,position:{x:u[0],y:u[1]}});p.emit("box").stdFilter((function(t){return t.selectable()&&!t.selected()})).select().emit("boxselect"),p.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(null!=i&&i.unactivate(),r.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(r.touches[1]);else if(r.touches[0]);else if(!r.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var g=t.dragData.touchDragEles;if(null!=i){var v=i._private.grabbed;c(g),t.redrawHint("drag",!0),t.redrawHint("eles",!0),v&&(i.emit("freeon"),g.emit("free"),t.dragData.didDrag&&(i.emit("dragfreeon"),g.emit("dragfree"))),n(i,["touchend","tapend","vmouseup","tapdragout"],r,{x:u[0],y:u[1]}),i.unactivate(),t.touchData.start=null}else{var y=t.findNearestElement(u[0],u[1],!0,!0);n(y,["touchend","tapend","vmouseup","tapdragout"],r,{x:u[0],y:u[1]})}var m=t.touchData.startPosition[0]-u[0],b=m*m,_=t.touchData.startPosition[1]-u[1],w=(b+_*_)*l*l;t.touchData.singleTouchMoved||(i||s.$(":selected").unselect(["tapunselect"]),n(i,["tap","vclick"],r,{x:u[0],y:u[1]})),null!=i&&!t.dragData.didDrag&&i._private.selectable&&w<t.touchTapThreshold2&&!t.pinching&&("single"===s.selectionType()?(s.$(e).unmerge(i).unselect(["tapunselect"]),i.select(["tapselect"])):i.selected()?i.unselect(["tapunselect"]):i.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}for(var x=0;x<u.length;x++)d[x]=u[x];t.dragData.didDrag=!1,0===r.touches.length&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null,t.touchData.didSelect=!1),r.touches.length<2&&(1===r.touches.length&&(t.touchData.startGPosition=[r.touches[0].clientX,r.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())}},!1),"undefined"==typeof TouchEvent){var j=[],F=function(t){return{clientX:t.clientX,clientY:t.clientY,force:1,identifier:t.pointerId,pageX:t.pageX,pageY:t.pageY,radiusX:t.width/2,radiusY:t.height/2,screenX:t.screenX,screenY:t.screenY,target:t.target}},z=function(t){j.push(function(t){return{event:t,touch:F(t)}}(t))},V=function(t){for(var e=0;e<j.length;e++){if(j[e].event.pointerId===t.pointerId)return void j.splice(e,1)}},q=function(t){t.touches=j.map((function(t){return t.touch}))},H=function(t){return"mouse"===t.pointerType||4===t.pointerType};t.registerBinding(t.container,"pointerdown",(function(t){H(t)||(t.preventDefault(),z(t),q(t),D(t))})),t.registerBinding(t.container,"pointerup",(function(t){H(t)||(V(t),q(t),I(t))})),t.registerBinding(t.container,"pointercancel",(function(t){H(t)||(V(t),q(t),L())})),t.registerBinding(t.container,"pointermove",(function(t){H(t)||(t.preventDefault(),function(t){var e=j.filter((function(e){return e.event.pointerId===t.pointerId}))[0];e.event=t,e.touch=F(t)}(t),q(t),M(t))}))}};var kk={generatePolygon:function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl("polygon",t,e,n,r,i,this.points)},intersectLine:function(t,e,n,r,i,o,a){return tb(i,o,this.points,t,e,n/2,r/2,a)},checkPoint:function(t,e,n,r,i,o,a){return Ym(t,e,this.points,o,a,r,i,[0,-1],n)}}}};kk.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,r,i,o,a){return function(t,e,n,r,i,o){var a=n-t,s=r-e;a/=i,s/=o;var l=Math.sqrt(a*a+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(n-t)*c+t,(r-e)*c+e]}(i,o,t,e,n/2+a,r/2+a)},checkPoint:function(t,e,n,r,i,o,a){return $m(t,e,r,i,o,a,n)}}},kk.generateRoundPolygon=function(t,e){for(var n=new Array(2*e.length),r=0;r<e.length/2;r++){var i=2*r,o=void 0;o=r<e.length/2-1?2*(r+1):0,n[4*r]=e[i],n[4*r+1]=e[i+1];var a=e[o]-e[i],s=e[o+1]-e[i+1],l=Math.sqrt(a*a+s*s);n[4*r+2]=a/l,n[4*r+3]=s/l}return this.nodeShapes[t]={renderer:this,name:t,points:n,draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl("round-polygon",t,e,n,r,i,this.points)},intersectLine:function(t,e,n,r,i,o,a){return function(t,e,n,r,i,o,a,s){for(var l,u=[],c=new Array(n.length),d=o/2,h=a/2,f=ab(o,a),p=0;p<n.length/4;p++){var g,v=void 0;v=0===p?n.length-2:4*p-2,g=4*p+2;var y=r+d*n[4*p],m=i+h*n[4*p+1],b=-n[v]*n[g]-n[v+1]*n[g+1],_=f/Math.tan(Math.acos(b)/2),w=y-_*n[v],x=m-_*n[v+1],E=y+_*n[g],k=m+_*n[g+1];0===p?(c[n.length-2]=w,c[n.length-1]=x):(c[4*p-2]=w,c[4*p-1]=x),c[4*p]=E,c[4*p+1]=k;var S=n[v+1],C=-n[v];S*n[g]+C*n[g+1]<0&&(S*=-1,C*=-1),0!==(l=Zm(t,e,r,i,w+S*f,x+C*f,f)).length&&u.push(l[0],l[1])}for(var T=0;T<c.length/4;T++)0!==(l=Qm(t,e,r,i,c[4*T],c[4*T+1],c[4*T+2],c[4*T+3],!1)).length&&u.push(l[0],l[1]);if(u.length>2){for(var N=[u[0],u[1]],A=Math.pow(N[0]-t,2)+Math.pow(N[1]-e,2),O=1;O<u.length/2;O++){var P=Math.pow(u[2*O]-t,2)+Math.pow(u[2*O+1]-e,2);P<=A&&(N[0]=u[2*O],N[1]=u[2*O+1],A=P)}return N}return u}(i,o,this.points,t,e,n,r)},checkPoint:function(t,e,n,r,i,o,a){return function(t,e,n,r,i,o,a){for(var s=new Array(n.length),l=o/2,u=a/2,c=ab(o,a),d=c*c,h=0;h<n.length/4;h++){var f,p=void 0;p=0===h?n.length-2:4*h-2,f=4*h+2;var g=r+l*n[4*h],v=i+u*n[4*h+1],y=-n[p]*n[f]-n[p+1]*n[f+1],m=c/Math.tan(Math.acos(y)/2),b=g-m*n[p],_=v-m*n[p+1],w=g+m*n[f],x=v+m*n[f+1];s[4*h]=b,s[4*h+1]=_,s[4*h+2]=w,s[4*h+3]=x;var E=n[p+1],k=-n[p];E*n[f]+k*n[f+1]<0&&(E*=-1,k*=-1);var S=b+E*c,C=_+k*c;if(Math.pow(S-t,2)+Math.pow(C-e,2)<=d)return!0}return Wm(t,e,s)}(t,e,this.points,o,a,r,i)}}},kk.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:nb(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,r,i,o,a){return Vm(i,o,t,e,n,r,a)},checkPoint:function(t,e,n,r,i,o,a){var s=ob(r,i),l=2*s;return!!Ym(t,e,this.points,o,a,r,i-l,[0,-1],n)||(!!Ym(t,e,this.points,o,a,r-l,i,[0,-1],n)||(!!$m(t,e,l,l,o-r/2+s,a-i/2+s,n)||(!!$m(t,e,l,l,o+r/2-s,a-i/2+s,n)||(!!$m(t,e,l,l,o+r/2-s,a+i/2-s,n)||!!$m(t,e,l,l,o-r/2+s,a+i/2-s,n)))))}}},kk.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:nb(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},generateCutTrianglePts:function(t,e,n,r){var i=this.cornerLength,o=e/2,a=t/2,s=n-a,l=n+a,u=r-o,c=r+o;return{topLeft:[s,u+i,s+i,u,s+i,u+i],topRight:[l-i,u,l,u+i,l-i,u+i],bottomRight:[l,c-i,l-i,c,l-i,c-i],bottomLeft:[s+i,c,s,c-i,s+i,c-i]}},intersectLine:function(t,e,n,r,i,o,a){var s=this.generateCutTrianglePts(n+2*a,r+2*a,t,e),l=[].concat.apply([],[s.topLeft.splice(0,4),s.topRight.splice(0,4),s.bottomRight.splice(0,4),s.bottomLeft.splice(0,4)]);return tb(i,o,l,t,e)},checkPoint:function(t,e,n,r,i,o,a){if(Ym(t,e,this.points,o,a,r,i-2*this.cornerLength,[0,-1],n))return!0;if(Ym(t,e,this.points,o,a,r-2*this.cornerLength,i,[0,-1],n))return!0;var s=this.generateCutTrianglePts(r,i,o,a);return Wm(t,e,s.topLeft)||Wm(t,e,s.topRight)||Wm(t,e,s.bottomRight)||Wm(t,e,s.bottomLeft)}}},kk.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:nb(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,r,i,o,a){var s=this.generateBarrelBezierPts(n+2*a,r+2*a,t,e),l=function(t){var e=Om({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.15),n=Om({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.5),r=Om({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.85);return[t[0],t[1],e.x,e.y,n.x,n.y,r.x,r.y,t[4],t[5]]},u=[].concat(l(s.topLeft),l(s.topRight),l(s.bottomRight),l(s.bottomLeft));return tb(i,o,u,t,e)},generateBarrelBezierPts:function(t,e,n,r){var i=e/2,o=t/2,a=n-o,s=n+o,l=r-i,u=r+i,c=sb(t,e),d=c.heightOffset,h=c.widthOffset,f=c.ctrlPtOffsetPct*t,p={topLeft:[a,l+d,a+f,l,a+h,l],topRight:[s-h,l,s-f,l,s,l+d],bottomRight:[s,u-d,s-f,u,s-h,u],bottomLeft:[a+h,u,a+f,u,a,u-d]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(t,e,n,r,i,o,a){var s=sb(r,i),l=s.heightOffset,u=s.widthOffset;if(Ym(t,e,this.points,o,a,r,i-2*l,[0,-1],n))return!0;if(Ym(t,e,this.points,o,a,r-2*u,i,[0,-1],n))return!0;for(var c=this.generateBarrelBezierPts(r,i,o,a),d=function(t,e,n){var r,i,o=n[4],a=n[2],s=n[0],l=n[5],u=n[1],c=Math.min(o,s),d=Math.max(o,s),h=Math.min(l,u),f=Math.max(l,u);if(c<=t&&t<=d&&h<=e&&e<=f){var p=[(r=o)-2*(i=a)+s,2*(i-r),r],g=function(t,e,n,r){var i=e*e-4*t*(n-=r);if(i<0)return[];var o=Math.sqrt(i),a=2*t;return[(-e+o)/a,(-e-o)/a]}(p[0],p[1],p[2],t).filter((function(t){return 0<=t&&t<=1}));if(g.length>0)return g[0]}return null},h=Object.keys(c),f=0;f<h.length;f++){var p=c[h[f]],g=d(t,e,p);if(null!=g){var v=p[5],y=p[3],m=p[1],b=Am(v,y,m,g);if(p.isTop&&b<=e)return!0;if(p.isBottom&&e<=b)return!0}}return!1}}},kk.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:nb(4,0),draw:function(t,e,n,r,i){this.renderer.nodeShapeImpl(this.name,t,e,n,r,i)},intersectLine:function(t,e,n,r,i,o,a){var s=e-(r/2+a),l=Qm(i,o,t,e,t-(n/2+a),s,t+(n/2+a),s,!1);return l.length>0?l:Vm(i,o,t,e,n,r,a)},checkPoint:function(t,e,n,r,i,o,a){var s=ob(r,i),l=2*s;if(Ym(t,e,this.points,o,a,r,i-l,[0,-1],n))return!0;if(Ym(t,e,this.points,o,a,r-l,i,[0,-1],n))return!0;var u=r/2+2*n,c=i/2+2*n;return!!Wm(t,e,[o-u,a-c,o-u,a,o+u,a,o+u,a-c])||(!!$m(t,e,l,l,o+r/2-s,a+i/2-s,n)||!!$m(t,e,l,l,o-r/2+s,a+i/2-s,n))}}},kk.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",nb(3,0)),this.generateRoundPolygon("round-triangle",nb(3,0)),this.generatePolygon("rectangle",nb(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",nb(5,0)),this.generateRoundPolygon("round-pentagon",nb(5,0)),this.generatePolygon("hexagon",nb(6,0)),this.generateRoundPolygon("round-hexagon",nb(6,0)),this.generatePolygon("heptagon",nb(7,0)),this.generateRoundPolygon("round-heptagon",nb(7,0)),this.generatePolygon("octagon",nb(8,0)),this.generateRoundPolygon("round-octagon",nb(8,0));var r=new Array(20),i=ib(5,0),o=ib(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<o.length/2;s++)o[2*s]*=a,o[2*s+1]*=a;for(s=0;s<5;s++)r[4*s]=i[2*s],r[4*s+1]=i[2*s+1],r[4*s+2]=o[2*s],r[4*s+3]=o[2*s+1];r=rb(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l),t.makePolygon=function(t){var n,r="polygon-"+t.join("$");return(n=this[r])?n:e.generatePolygon(r,t)}};var Sk={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(t){t=t||Ky();var e=this;void 0===e.averageRedrawTime&&(e.averageRedrawTime=0),void 0===e.lastRedrawTime&&(e.lastRedrawTime=0),void 0===e.lastDrawTime&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},beforeRender:function(t,e){if(!this.destroyed){null==e&&Hy("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:t,priority:e}),n.sort((function(t,e){return e.priority-t.priority}))}}},Ck=function(t,e,n){for(var r=t.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(e,n)};Sk.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;ky((function n(r){if(!t.destroyed){if(e.batching());else if(t.requestedFrame&&!t.skipFrame){Ck(t,!0,r);var i=Sy();t.render(t.renderOptions);var o=t.lastDrawTime=Sy();void 0===t.averageRedrawTime&&(t.averageRedrawTime=o-i),void 0===t.redrawCount&&(t.redrawCount=0),t.redrawCount++,void 0===t.redrawTotalTime&&(t.redrawTotalTime=0);var a=o-i;t.redrawTotalTime+=a,t.lastRedrawTime=a,t.averageRedrawTime=t.averageRedrawTime/2+a/2,t.requestedFrame=!1}else Ck(t,!1,r);t.skipFrame=!1,ky(n)}}))}};var Tk=function(t){this.init(t)},Nk=Tk.prototype;Nk.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Nk.init=function(t){var e=this;e.options=t,e.cy=t.cy;var n=e.container=t.cy.container();if(Hv){var r=Hv.document,i=r.head,o="__________cytoscape_container",a=null!=r.getElementById("__________cytoscape_stylesheet");if(n.className.indexOf(o)<0&&(n.className=(n.className||"")+" "+o),!a){var s=r.createElement("style");s.id="__________cytoscape_stylesheet",s.innerHTML="."+o+" { position: relative; }",i.insertBefore(s,i.children[0])}"static"===Hv.getComputedStyle(n).getPropertyValue("position")&&Gy("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=ty(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},Nk.notify=function(t,e){var n=this,r=n.cy;this.destroyed||("init"!==t?"destroy"!==t?(("add"===t||"remove"===t||"move"===t&&r.hasCompoundNodes()||"load"===t||"zorder"===t||"mount"===t)&&n.invalidateCachedZSortedEles(),"viewport"===t&&n.redrawHint("select",!0),"load"!==t&&"resize"!==t&&"mount"!==t||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},Nk.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var n=t.bindings[e],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch(t){}},Nk.isHeadless=function(){return!1},[ak,wk,xk,Ek,kk,Sk].forEach((function(t){vy(Nk,t)}));var Ak=function(t){return function(){var e=this,n=this.renderer;if(!e.dequeueingSetup){e.dequeueingSetup=!0;var r=Iv((function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()}),t.deqRedrawThreshold),i=t.priority||qy;n.beforeRender((function(i,o){var a=Sy(),s=n.averageRedrawTime,l=n.lastRedrawTime,u=[],c=n.cy.extent(),d=n.getPixelRatio();for(i||n.flushRenderedStyleQueue();;){var h=Sy(),f=h-a,p=h-o;if(l<1e3/60){var g=1e3/60-(i?s:0);if(p>=t.deqFastCost*g)break}else if(i){if(f>=t.deqCost*l||f>=t.deqAvgCost*s)break}else if(p>=t.deqNoDrawCost*(1e3/60))break;var v=t.deq(e,d,c);if(!(v.length>0))break;for(var y=0;y<v.length;y++)u.push(v[y])}u.length>0&&(t.onDeqd(e,u),!i&&t.shouldRedraw(e,u,d,c)&&r())}),i(e))}}},Ok=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zy;jv(this,t),this.idsByKey=new em,this.keyForId=new em,this.cachesByLvl=new em,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=n}return zv(t,[{key:"getIdsFor",value:function(t){null==t&&Hy("Can not get id list for null key");var e=this.idsByKey,n=this.idsByKey.get(t);return n||(n=new rm,e.set(t,n)),n}},{key:"addIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).add(e)}},{key:"deleteIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).delete(e)}},{key:"getNumberOfIdsForKey",value:function(t){return null==t?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var e=t.id(),n=this.keyForId.get(e),r=this.getKey(t);this.deleteIdForKey(n,e),this.addIdForKey(r,e),this.keyForId.set(e,r)}},{key:"deleteKeyMappingFor",value:function(t){var e=t.id(),n=this.keyForId.get(e);this.deleteIdForKey(n,e),this.keyForId.delete(e)}},{key:"keyHasChangedFor",value:function(t){var e=t.id();return this.keyForId.get(e)!==this.getKey(t)}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var e=this.cachesByLvl,n=this.lvls,r=e.get(t);return r||(r=new em,e.set(t,r),n.push(t)),r}},{key:"getCache",value:function(t,e){return this.getCachesAt(e).get(t)}},{key:"get",value:function(t,e){var n=this.getKey(t),r=this.getCache(n,e);return null!=r&&this.updateKeyMappingFor(t),r}},{key:"getForCachedKey",value:function(t,e){var n=this.keyForId.get(t.id());return this.getCache(n,e)}},{key:"hasCache",value:function(t,e){return this.getCachesAt(e).has(t)}},{key:"has",value:function(t,e){var n=this.getKey(t);return this.hasCache(n,e)}},{key:"setCache",value:function(t,e,n){n.key=t,this.getCachesAt(e).set(t,n)}},{key:"set",value:function(t,e,n){var r=this.getKey(t);this.setCache(r,e,n),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,e){this.getCachesAt(e).delete(t)}},{key:"delete",value:function(t,e){var n=this.getKey(t);this.deleteCache(n,e)}},{key:"invalidateKey",value:function(t){var e=this;this.lvls.forEach((function(n){return e.deleteCache(t,n)}))}},{key:"invalidate",value:function(t){var e=t.id(),n=this.keyForId.get(e);this.deleteKeyMappingFor(t);var r=this.doesEleInvalidateKey(t);return r&&this.invalidateKey(n),r||0===this.getNumberOfIdsForKey(n)}}]),t}(),Pk={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Dk=$y({getKey:null,doesEleInvalidateKey:zy,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Fy,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Mk=function(t,e){this.renderer=t,this.onDequeues=[];var n=Dk(e);vy(this,n),this.lookup=new Ok(n.getKey,n.doesEleInvalidateKey),this.setupDequeueing()},Lk=Mk.prototype;Lk.reasons=Pk,Lk.getTextureQueue=function(t){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[t]=this.eleImgCaches[t]||[]},Lk.getRetiredTextureQueue=function(t){var e=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return e[t]=e[t]||[]},Lk.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new Rv((function(t,e){return e.reqs-t.reqs}))},Lk.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Lk.getElement=function(t,e,n,r,i){var o=this,a=this.renderer,s=a.cy.zoom(),l=this.lookup;if(0===e.w||0===e.h||isNaN(e.w)||isNaN(e.h)||!t.visible())return null;if(!o.allowEdgeTxrCaching&&t.isEdge()||!o.allowParentTxrCaching&&t.isParent())return null;if(null==r&&(r=Math.ceil(km(s*n))),r<-4)r=-4;else if(s>=7.99||r>3)return null;var u=Math.pow(2,r),c=e.h*u,d=e.w*u,h=a.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,h))return null;var f,p=l.get(t,r);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;if(f=c<=25?25:c<=50?50:50*Math.ceil(c/50),c>1024||d>1024)return null;var g=o.getTextureQueue(f),v=g[g.length-2],y=function(){return o.recycleTexture(f,d)||o.addTexture(f,d)};v||(v=g[g.length-1]),v||(v=y()),v.width-v.usedWidth<d&&(v=y());for(var m,b=function(t){return t&&t.scaledLabelShown===h},_=i&&i===Pk.dequeue,w=i&&i===Pk.highQuality,x=i&&i===Pk.downscale,E=r+1;E<=3;E++){var k=l.get(t,E);if(k){m=k;break}}var S=m&&m.level===r+1?m:null,C=function(){v.context.drawImage(S.texture.canvas,S.x,0,S.width,S.height,v.usedWidth,0,d,c)};if(v.context.setTransform(1,0,0,1,0,0),v.context.clearRect(v.usedWidth,0,d,f),b(S))C();else if(b(m)){if(!w)return o.queueElement(t,m.level-1),m;for(var T=m.level;T>r;T--)S=o.getElement(t,e,n,T,Pk.downscale);C()}else{var N;if(!_&&!w&&!x)for(var A=r-1;A>=-4;A--){var O=l.get(t,A);if(O){N=O;break}}if(b(N))return o.queueElement(t,r),N;v.context.translate(v.usedWidth,0),v.context.scale(u,u),this.drawElement(v.context,t,e,h,!1),v.context.scale(1/u,1/u),v.context.translate(-v.usedWidth,0)}return p={x:v.usedWidth,texture:v,level:r,scale:u,width:d,height:c,scaledLabelShown:h},v.usedWidth+=Math.ceil(d+8),v.eleCaches.push(p),l.set(t,r,p),o.checkTextureFullness(v),p},Lk.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])},Lk.invalidateElement=function(t){var e=this.lookup,n=[];if(e.isInvalid(t)){for(var r=-4;r<=3;r++){var i=e.getForCachedKey(t,r);i&&n.push(i)}if(e.invalidate(t))for(var o=0;o<n.length;o++){var a=n[o],s=a.texture;s.invalidatedWidth+=a.width,a.invalidated=!0,this.checkTextureUtility(s)}this.removeFromQueue(t)}},Lk.checkTextureUtility=function(t){t.invalidatedWidth>=.2*t.width&&this.retireTexture(t)},Lk.checkTextureFullness=function(t){var e=this.getTextureQueue(t.height);t.usedWidth/t.width>.8&&t.fullnessChecks>=10?Zy(e,t):t.fullnessChecks++},Lk.retireTexture=function(t){var e=t.height,n=this.getTextureQueue(e),r=this.lookup;Zy(n,t),t.retired=!0;for(var i=t.eleCaches,o=0;o<i.length;o++){var a=i[o];r.deleteCache(a.key,a.level)}Jy(i),this.getRetiredTextureQueue(e).push(t)},Lk.addTexture=function(t,e){var n={};return this.getTextureQueue(t).push(n),n.eleCaches=[],n.height=t,n.width=Math.max(1024,e),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Lk.recycleTexture=function(t,e){for(var n=this.getTextureQueue(t),r=this.getRetiredTextureQueue(t),i=0;i<r.length;i++){var o=r[i];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Jy(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Zy(r,o),n.push(o),o}},Lk.queueElement=function(t,e){var n=this.getElementQueue(),r=this.getElementKeyToQueue(),i=this.getKey(t),o=r[i];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,n.updateItem(o);else{var a={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(a),r[i]=a}},Lk.dequeue=function(t){for(var e=this.getElementQueue(),n=this.getElementKeyToQueue(),r=[],i=this.lookup,o=0;o<1&&e.size()>0;o++){var a=e.pop(),s=a.key,l=a.eles[0],u=i.hasCache(l,a.level);if(n[s]=null,!u){r.push(a);var c=this.getBoundingBox(l);this.getElement(l,c,t,a.level,Pk.dequeue)}}return r},Lk.removeFromQueue=function(t){var e=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(t),i=n[r];null!=i&&(1===i.eles.length?(i.reqs=jy,e.updateItem(i),e.pop(),n[r]=null):i.eles.unmerge(t))},Lk.onDequeue=function(t){this.onDequeues.push(t)},Lk.offDequeue=function(t){Zy(this.onDequeues,t)},Lk.setupDequeueing=Ak({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e,n){return t.dequeue(e,n)},onDeqd:function(t,e){for(var n=0;n<t.onDequeues.length;n++){(0,t.onDequeues[n])(e)}},shouldRedraw:function(t,e,n,r){for(var i=0;i<e.length;i++)for(var o=e[i].eles,a=0;a<o.length;a++){var s=o[a].boundingBox();if(jm(s,r))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var Ik=function(t){var e=this,n=e.renderer=t,r=n.cy;e.layersByLevel={},e.firstGet=!0,e.lastInvalidationTime=Sy()-500,e.skipping=!1,e.eleTxrDeqs=r.collection(),e.scheduleElementRefinement=Iv((function(){e.refineElementTextures(e.eleTxrDeqs),e.eleTxrDeqs.unmerge(e.eleTxrDeqs)}),50),n.beforeRender((function(t,n){n-e.lastInvalidationTime<=250?e.skipping=!0:e.skipping=!1}),n.beforeRenderPriorities.lyrTxrSkip);e.layersQueue=new Rv((function(t,e){return e.reqs-t.reqs})),e.setupDequeueing()},Rk=Ik.prototype,Bk=0,jk=Math.pow(2,53)-1;Rk.makeLayer=function(t,e){var n=Math.pow(2,e),r=Math.ceil(t.w*n),i=Math.ceil(t.h*n),o=this.renderer.makeOffscreenCanvas(r,i),a={id:Bk=++Bk%jk,bb:t,level:e,width:r,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,l=-a.bb.x1,u=-a.bb.y1;return s.scale(n,n),s.translate(l,u),a},Rk.getLayers=function(t,e,n){var r=this,i=r.renderer.cy.zoom(),o=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(km(i*e)))<-4)n=-4;else if(i>=3.99||n>2)return null;r.validateLayersElesOrdering(n,t);var a,s,l=r.layersByLevel,u=Math.pow(2,n),c=l[n]=l[n]||[];if(r.levelIsComplete(n,t))return c;!function(){var e=function(e){if(r.validateLayersElesOrdering(e,t),r.levelIsComplete(e,t))return s=l[e],!0},i=function(t){if(!s)for(var r=n+t;-4<=r&&r<=2&&!e(r);r+=t);};i(1),i(-1);for(var o=c.length-1;o>=0;o--){var a=c[o];a.invalid&&Zy(c,a)}}();var d=function(e){var i=(e=e||{}).after;if(function(){if(!a){a=Dm();for(var e=0;e<t.length;e++)n=a,r=t[e].boundingBox(),n.x1=Math.min(n.x1,r.x1),n.x2=Math.max(n.x2,r.x2),n.w=n.x2-n.x1,n.y1=Math.min(n.y1,r.y1),n.y2=Math.max(n.y2,r.y2),n.h=n.y2-n.y1}var n,r}(),a.w*u*(a.h*u)>16e6)return null;var o=r.makeLayer(a,n);if(null!=i){var s=c.indexOf(i)+1;c.splice(s,0,o)}else(void 0===e.insert||e.insert)&&c.unshift(o);return o};if(r.skipping&&!o)return null;for(var h=null,f=t.length/1,p=!o,g=0;g<t.length;g++){var v=t[g],y=v._private.rscratch,m=y.imgLayerCaches=y.imgLayerCaches||{},b=m[n];if(b)h=b;else{if((!h||h.eles.length>=f||!zm(h.bb,v.boundingBox()))&&!(h=d({insert:!0,after:h})))return null;s||p?r.queueLayer(h,v):r.drawEleInLayer(h,v,n,e),h.eles.push(v),m[n]=h}}return s||(p?null:c)},Rk.getEleLevelForLayerLevel=function(t,e){return t},Rk.drawEleInLayer=function(t,e,n,r){var i=this.renderer,o=t.context,a=e.boundingBox();0!==a.w&&0!==a.h&&e.visible()&&(n=this.getEleLevelForLayerLevel(n,r),i.setImgSmoothing(o,!1),i.drawCachedElement(o,e,null,null,n,!0),i.setImgSmoothing(o,!0))},Rk.levelIsComplete=function(t,e){var n=this.layersByLevel[t];if(!n||0===n.length)return!1;for(var r=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0)return!1;if(o.invalid)return!1;r+=o.eles.length}return r===e.length},Rk.validateLayersElesOrdering=function(t,e){var n=this.layersByLevel[t];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],o=-1,a=0;a<e.length;a++)if(i.eles[0]===e[a]){o=a;break}if(o<0)this.invalidateLayer(i);else{var s=o;for(a=0;a<i.eles.length;a++)if(i.eles[a]!==e[s+a]){this.invalidateLayer(i);break}}}},Rk.updateElementsInLayers=function(t,e){for(var n=ry(t[0]),r=0;r<t.length;r++)for(var i=n?null:t[r],o=n?t[r]:t[r].ele,a=o._private.rscratch,s=a.imgLayerCaches=a.imgLayerCaches||{},l=-4;l<=2;l++){var u=s[l];u&&(i&&this.getEleLevelForLayerLevel(u.level)!==i.level||e(u,o,i))}},Rk.haveLayers=function(){for(var t=!1,e=-4;e<=2;e++){var n=this.layersByLevel[e];if(n&&n.length>0){t=!0;break}}return t},Rk.invalidateElements=function(t){var e=this;0!==t.length&&(e.lastInvalidationTime=Sy(),0!==t.length&&e.haveLayers()&&e.updateElementsInLayers(t,(function(t,n,r){e.invalidateLayer(t)})))},Rk.invalidateLayer=function(t){if(this.lastInvalidationTime=Sy(),!t.invalid){var e=t.level,n=t.eles,r=this.layersByLevel[e];Zy(r,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<n.length;i++){var o=n[i]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}},Rk.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,(function(t,n,r){var i=t.replacement;if(i||((i=t.replacement=e.makeLayer(t.bb,t.level)).replaces=t,i.eles=t.eles),!i.reqs)for(var o=0;o<i.eles.length;o++)e.queueLayer(i,i.eles[o])}))},Rk.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()},Rk.queueLayer=function(t,e){var n=this.layersQueue,r=t.elesQueue,i=r.hasId=r.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;r.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}},Rk.dequeue=function(t){for(var e=this.layersQueue,n=[],r=0;r<1&&0!==e.size();){var i=e.peek();if(i.replacement)e.pop();else if(i.replaces&&i!==i.replaces.replacement)e.pop();else if(i.invalid)e.pop();else{var o=i.elesQueue.shift();o&&(this.drawEleInLayer(i,o,i.level,t),r++),0===n.length&&n.push(!0),0===i.elesQueue.length&&(e.pop(),i.reqs=0,i.replaces&&this.applyLayerReplacement(i),this.requestRedraw())}}return n},Rk.applyLayerReplacement=function(t){var e=this.layersByLevel[t.level],n=t.replaces,r=e.indexOf(n);if(!(r<0||n.invalid)){e[r]=t;for(var i=0;i<t.eles.length;i++){var o=t.eles[i]._private,a=o.imgLayerCaches=o.imgLayerCaches||{};a&&(a[t.level]=t)}this.requestRedraw()}},Rk.requestRedraw=Iv((function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()}),100),Rk.setupDequeueing=Ak({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e){return t.dequeue(e)},onDeqd:qy,shouldRedraw:Fy,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var Fk,zk={};function Vk(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.lineTo(r.x,r.y)}}function qk(t,e,n){for(var r,i=0;i<e.length;i++){var o=e[i];0===i&&(r=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(n.x,n.y,r.x,r.y)}function Hk(t,e,n){t.beginPath&&t.beginPath();for(var r=e,i=0;i<r.length;i++){var o=r[i];t.lineTo(o.x,o.y)}var a=n,s=n[0];t.moveTo(s.x,s.y);for(i=1;i<a.length;i++){o=a[i];t.lineTo(o.x,o.y)}t.closePath&&t.closePath()}function Uk(t,e,n,r,i){t.beginPath&&t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1);var o=e,a=o[0];t.moveTo(a.x,a.y);for(var s=0;s<o.length;s++){var l=o[s];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function Gk(t,e,n,r){t.arc(e,n,r,0,2*Math.PI,!1)}zk.arrowShapeImpl=function(t){return(Fk||(Fk={polygon:Vk,"triangle-backcurve":qk,"triangle-tee":Hk,"circle-triangle":Uk,"triangle-cross":Hk,circle:Gk}))[t]};var Wk={drawElement:function(t,e,n,r,i,o){e.isNode()?this.drawNode(t,e,n,r,i,o):this.drawEdge(t,e,n,r,i,o)},drawElementOverlay:function(t,e){e.isNode()?this.drawNodeOverlay(t,e):this.drawEdgeOverlay(t,e)},drawCachedElementPortion:function(t,e,n,r,i,o,a,s){var l=this,u=n.getBoundingBox(e);if(0!==u.w&&0!==u.h){var c=n.getElement(e,u,r,i,o);if(null!=c){var d=s(l,e);if(0===d)return;var h,f,p,g,v,y,m=a(l,e),b=u.x1,_=u.y1,w=u.w,x=u.h;if(0!==m){var E=n.getRotationPoint(e);p=E.x,g=E.y,t.translate(p,g),t.rotate(m),(v=l.getImgSmoothing(t))||l.setImgSmoothing(t,!0);var k=n.getRotationOffset(e);h=k.x,f=k.y}else h=b,f=_;1!==d&&(y=t.globalAlpha,t.globalAlpha=y*d),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,h,f,w,x),1!==d&&(t.globalAlpha=y),0!==m&&(t.rotate(-m),t.translate(-p,-g),v||l.setImgSmoothing(t,!1))}else n.drawElement(t,e)}}},Yk=function(){return 0},Xk=function(t,e){return t.getTextAngle(e,null)},Kk=function(t,e){return t.getTextAngle(e,"source")},$k=function(t,e){return t.getTextAngle(e,"target")},Zk=function(t,e){return e.effectiveOpacity()},Jk=function(t,e){return e.pstyle("text-opacity").pfValue*e.effectiveOpacity()};Wk.drawCachedElement=function(t,e,n,r,i,o){var a=this,s=a.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,d=s.tlbTxrCache,h=e.boundingBox(),f=!0===o?l.reasons.highQuality:null;if(0!==h.w&&0!==h.h&&e.visible()&&(!r||jm(h,r))){var p=e.isEdge(),g=e.element()._private.rscratch.badLine;a.drawCachedElementPortion(t,e,l,n,i,f,Yk,Zk),p&&g||a.drawCachedElementPortion(t,e,u,n,i,f,Xk,Jk),p&&!g&&(a.drawCachedElementPortion(t,e,c,n,i,f,Kk,Jk),a.drawCachedElementPortion(t,e,d,n,i,f,$k,Jk)),a.drawElementOverlay(t,e)}},Wk.drawElements=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];this.drawElement(t,r)}},Wk.drawCachedElements=function(t,e,n,r){for(var i=0;i<e.length;i++){var o=e[i];this.drawCachedElement(t,o,n,r)}},Wk.drawCachedNodes=function(t,e,n,r){for(var i=0;i<e.length;i++){var o=e[i];o.isNode()&&this.drawCachedElement(t,o,n,r)}},Wk.drawLayeredElements=function(t,e,n,r){var i=this.data.lyrTxrCache.getLayers(e,n);if(i)for(var o=0;o<i.length;o++){var a=i[o],s=a.bb;0!==s.w&&0!==s.h&&t.drawImage(a.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(t,e,n,r)};var Qk={drawEdge:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this,s=e._private.rscratch;if((!o||e.visible())&&!s.badLine&&null!=s.allpts&&!isNaN(s.allpts[0])){var l;n&&(l=n,t.translate(-l.x1,-l.y1));var u=o?e.pstyle("opacity").value:1,c=e.pstyle("line-style").value,d=e.pstyle("width").pfValue,h=e.pstyle("line-cap").value,f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;t.lineWidth=d,t.lineCap=h,a.eleStrokeStyle(t,e,n),a.drawEdgePath(e,t,s.allpts,c),t.lineCap="butt"},p=function(){i&&a.drawEdgeOverlay(t,e)},g=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;a.drawArrowheads(t,e,n)},v=function(){a.drawElementText(t,e,null,r)};t.lineJoin="round";var y="yes"===e.pstyle("ghost").value;if(y){var m=e.pstyle("ghost-offset-x").pfValue,b=e.pstyle("ghost-offset-y").pfValue,_=e.pstyle("ghost-opacity").value,w=u*_;t.translate(m,b),f(w),g(w),t.translate(-m,-b)}f(),g(),p(),v(),n&&t.translate(l.x1,l.y1)}},drawEdgeOverlay:function(t,e){if(e.visible()){var n=e.pstyle("overlay-opacity").value;if(0!==n){var r=this,i=r.usePaths(),o=e._private.rscratch,a=2*e.pstyle("overlay-padding").pfValue,s=e.pstyle("overlay-color").value;t.lineWidth=a,"self"!==o.edgeType||i?t.lineCap="round":t.lineCap="butt",r.colorStrokeStyle(t,s[0],s[1],s[2],n),r.drawEdgePath(e,t,o.allpts,"solid")}}},drawEdgePath:function(t,e,n,r){var i,o=t._private.rscratch,a=e,s=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(l){var d=n.join("$");o.pathCacheKey&&o.pathCacheKey===d?(i=e=o.pathCache,s=!0):(i=e=new Path2D,o.pathCacheKey=d,o.pathCache=i)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=c;break;case"solid":a.setLineDash([])}if(!s&&!o.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(n[0],n[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var h=2;h+3<n.length;h+=4)e.quadraticCurveTo(n[h],n[h+1],n[h+2],n[h+3]);break;case"straight":case"segments":case"haystack":for(var f=2;f+1<n.length;f+=2)e.lineTo(n[f],n[f+1])}e=a,l?e.stroke(i):e.stroke(),e.setLineDash&&e.setLineDash([])},drawArrowheads:function(t,e,n){var r=e._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(t,e,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(t,e,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(t,e,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(t,e,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},drawArrowhead:function(t,e,n,r,i,o,a){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(o)||null==o)){var s=e.pstyle(n+"-arrow-shape").value;if("none"!==s){var l="hollow"===e.pstyle(n+"-arrow-fill").value?"both":"filled",u=e.pstyle(n+"-arrow-fill").value,c=e.pstyle("width").pfValue,d=e.pstyle("opacity").value;void 0===a&&(a=d);var h=t.globalCompositeOperation;1===a&&"hollow"!==u||(t.globalCompositeOperation="destination-out",this.colorFillStyle(t,255,255,255,1),this.colorStrokeStyle(t,255,255,255,1),this.drawArrowShape(e,t,l,c,s,r,i,o),t.globalCompositeOperation=h);var f=e.pstyle(n+"-arrow-color").value;this.colorFillStyle(t,f[0],f[1],f[2],a),this.colorStrokeStyle(t,f[0],f[1],f[2],a),this.drawArrowShape(e,t,u,c,s,r,i,o)}}},drawArrowShape:function(t,e,n,r,i,o,a,s){var l,u=this,c=this.usePaths()&&"triangle-cross"!==i,d=!1,h=e,f={x:o,y:a},p=t.pstyle("arrow-scale").value,g=this.getArrowWidth(r,p),v=u.arrowShapes[i];if(c){var y=u.arrowPathCache=u.arrowPathCache||[],m=Dy(i),b=y[m];null!=b?(l=e=b,d=!0):(l=e=new Path2D,y[m]=l)}d||(e.beginPath&&e.beginPath(),c?v.draw(e,1,0,{x:0,y:0},1):v.draw(e,g,s,f,r),e.closePath&&e.closePath()),e=h,c&&(e.translate(o,a),e.rotate(s),e.scale(g,g)),"filled"!==n&&"both"!==n||(c?e.fill(l):e.fill()),"hollow"!==n&&"both"!==n||(e.lineWidth=(v.matchEdgeWidth?r:1)/(c?g:1),e.lineJoin="miter",c?e.stroke(l):e.stroke()),c&&(e.scale(1/g,1/g),e.rotate(-s),e.translate(-o,-a))}},tS={safeDrawImage:function(t,e,n,r,i,o,a,s,l,u){i<=0||o<=0||l<=0||u<=0||t.drawImage(e,n,r,i,o,a,s,l,u)},drawInscribedImage:function(t,e,n,r,i){var o=this,a=n.position(),s=a.x,l=a.y,u=n.cy().style(),c=u.getIndexedStyle.bind(u),d=c(n,"background-fit","value",r),h=c(n,"background-repeat","value",r),f=n.width(),p=n.height(),g=2*n.padding(),v=f+("inner"===c(n,"background-width-relative-to","value",r)?0:g),y=p+("inner"===c(n,"background-height-relative-to","value",r)?0:g),m=n._private.rscratch,b="node"===c(n,"background-clip","value",r),_=c(n,"background-image-opacity","value",r)*i,w=e.width||e.cachedW,x=e.height||e.cachedH;null!=w&&null!=x||(document.body.appendChild(e),w=e.cachedW=e.width||e.offsetWidth,x=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var E=w,k=x;if("auto"!==c(n,"background-width","value",r)&&(E="%"===c(n,"background-width","units",r)?c(n,"background-width","pfValue",r)*v:c(n,"background-width","pfValue",r)),"auto"!==c(n,"background-height","value",r)&&(k="%"===c(n,"background-height","units",r)?c(n,"background-height","pfValue",r)*y:c(n,"background-height","pfValue",r)),0!==E&&0!==k){if("contain"===d)E*=S=Math.min(v/E,y/k),k*=S;else if("cover"===d){var S;E*=S=Math.max(v/E,y/k),k*=S}var C=s-v/2,T=c(n,"background-position-x","units",r),N=c(n,"background-position-x","pfValue",r);C+="%"===T?(v-E)*N:N;var A=c(n,"background-offset-x","units",r),O=c(n,"background-offset-x","pfValue",r);C+="%"===A?(v-E)*O:O;var P=l-y/2,D=c(n,"background-position-y","units",r),M=c(n,"background-position-y","pfValue",r);P+="%"===D?(y-k)*M:M;var L=c(n,"background-offset-y","units",r),I=c(n,"background-offset-y","pfValue",r);P+="%"===L?(y-k)*I:I,m.pathCache&&(C-=s,P-=l,s=0,l=0);var R=t.globalAlpha;if(t.globalAlpha=_,"no-repeat"===h)b&&(t.save(),m.pathCache?t.clip(m.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(t,s,l,v,y),t.clip())),o.safeDrawImage(t,e,0,0,w,x,C,P,E,k),b&&t.restore();else{var B=t.createPattern(e,h);t.fillStyle=B,o.nodeShapes[o.getNodeShape(n)].draw(t,s,l,v,y),t.translate(C,P),t.fill(),t.translate(-C,-P)}t.globalAlpha=R}}},eS={};function nS(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.quadraticCurveTo(e+r,n,e+r,n+o),t.lineTo(e+r,n+i-o),t.quadraticCurveTo(e+r,n+i,e+r-o,n+i),t.lineTo(e+o,n+i),t.quadraticCurveTo(e,n+i,e,n+i-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath(),t.fill()}eS.eleTextBiggerThanMin=function(t,e){if(!e){var n=t.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(km(n*r));e=Math.pow(2,i)}return!(t.pstyle("font-size").pfValue*e<t.pstyle("min-zoomed-font-size").pfValue)},eS.drawElementText=function(t,e,n,r,i){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this;if(null==r){if(o&&!a.eleTextBiggerThanMin(e))return}else if(!1===r)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var l=a.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,c=e.pstyle("label"),d=e.pstyle("source-label"),h=e.pstyle("target-label");if(u||(!c||!c.value)&&(!d||!d.value)&&(!h||!h.value))return;t.textAlign="center",t.textBaseline="bottom"}var f,p=!n;n&&(f=n,t.translate(-f.x1,-f.y1)),null==i?(a.drawText(t,e,null,p,o),e.isEdge()&&(a.drawText(t,e,"source",p,o),a.drawText(t,e,"target",p,o))):a.drawText(t,e,i,p,o),n&&t.translate(f.x1,f.y1)},eS.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((e=this.fontCaches[n]).context===t)return e;return e={context:t},this.fontCaches.push(e),e},eS.setupTextStyle=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,a=e.pstyle("font-weight").strValue,s=n?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*s,u=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=r+" "+a+" "+i+" "+o,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],s),this.colorStrokeStyle(t,c[0],c[1],c[2],l)},eS.getTextAngle=function(t,e){var n=t._private.rscratch,r=e?e+"-":"",i=t.pstyle(r+"text-rotation"),o=Qy(n,"labelAngle",e);return"autorotate"===i.strValue?t.isEdge()?o:0:"none"===i.strValue?0:i.pfValue},eS.drawText=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=e._private,a=o.rscratch,s=i?e.effectiveOpacity():1;if(!i||0!==s&&0!==e.pstyle("text-opacity").value){"main"===n&&(n=null);var l,u,c=Qy(a,"labelX",n),d=Qy(a,"labelY",n),h=this.getLabelText(e,n);if(null!=h&&""!==h&&!isNaN(c)&&!isNaN(d)){this.setupTextStyle(t,e,i);var f,p=n?n+"-":"",g=Qy(a,"labelWidth",n),v=Qy(a,"labelHeight",n),y=e.pstyle(p+"text-margin-x").pfValue,m=e.pstyle(p+"text-margin-y").pfValue,b=e.isEdge(),_=e.pstyle("text-halign").value,w=e.pstyle("text-valign").value;switch(b&&(_="center",w="center"),c+=y,d+=m,0!==(f=r?this.getTextAngle(e,n):0)&&(l=c,u=d,t.translate(l,u),t.rotate(f),c=0,d=0),w){case"top":break;case"center":d+=v/2;break;case"bottom":d+=v}var x=e.pstyle("text-background-opacity").value,E=e.pstyle("text-border-opacity").value,k=e.pstyle("text-border-width").pfValue,S=e.pstyle("text-background-padding").pfValue;if(x>0||k>0&&E>0){var C=c-S;switch(_){case"left":C-=g;break;case"center":C-=g/2}var T=d-v-S,N=g+2*S,A=v+2*S;if(x>0){var O=t.fillStyle,P=e.pstyle("text-background-color").value;t.fillStyle="rgba("+P[0]+","+P[1]+","+P[2]+","+x*s+")";var D=e.pstyle("text-background-shape").strValue;0===D.indexOf("round")?nS(t,C,T,N,A,2):t.fillRect(C,T,N,A),t.fillStyle=O}if(k>0&&E>0){var M=t.strokeStyle,L=t.lineWidth,I=e.pstyle("text-border-color").value,R=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+E*s+")",t.lineWidth=k,t.setLineDash)switch(R){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=k/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(t.strokeRect(C,T,N,A),"double"===R){var B=k/2;t.strokeRect(C+B,T+B,N-2*B,A-2*B)}t.setLineDash&&t.setLineDash([]),t.lineWidth=L,t.strokeStyle=M}}var j=2*e.pstyle("text-outline-width").pfValue;if(j>0&&(t.lineWidth=j),"wrap"===e.pstyle("text-wrap").value){var F=Qy(a,"labelWrapCachedLines",n),z=Qy(a,"labelLineHeight",n),V=g/2,q=this.getLabelJustification(e);switch("auto"===q||("left"===_?"left"===q?c+=-g:"center"===q&&(c+=-V):"center"===_?"left"===q?c+=-V:"right"===q&&(c+=V):"right"===_&&("center"===q?c+=V:"right"===q&&(c+=g))),w){case"top":d-=(F.length-1)*z;break;case"center":case"bottom":d-=(F.length-1)*z}for(var H=0;H<F.length;H++)j>0&&t.strokeText(F[H],c,d),t.fillText(F[H],c,d),d+=z}else j>0&&t.strokeText(h,c,d),t.fillText(h,c,d);0!==f&&(t.rotate(-f),t.translate(-l,-u))}}};var rS={drawNode:function(t,e,n){var r,i,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,u=e._private,c=u.rscratch,d=e.position();if(ty(d.x)&&ty(d.y)&&(!s||e.visible())){var h,f,p=s?e.effectiveOpacity():1,g=l.usePaths(),v=!1,y=e.padding();r=e.width()+2*y,i=e.height()+2*y,n&&(f=n,t.translate(-f.x1,-f.y1));for(var m=e.pstyle("background-image"),b=m.value,_=new Array(b.length),w=new Array(b.length),x=0,E=0;E<b.length;E++){var k=b[E],S=_[E]=null!=k&&"none"!==k;if(S){var C=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",E);x++,w[E]=l.getCachedImage(k,C,(function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")}))}}var T=e.pstyle("background-blacken").value,N=e.pstyle("border-width").pfValue,A=e.pstyle("background-opacity").value*p,O=e.pstyle("border-color").value,P=e.pstyle("border-style").value,D=e.pstyle("border-opacity").value*p;t.lineJoin="miter";var M=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;l.eleFillStyle(t,e,n)},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;l.colorStrokeStyle(t,O[0],O[1],O[2],e)},I=e.pstyle("shape").strValue,R=e.pstyle("shape-polygon-points").pfValue;if(g){t.translate(d.x,d.y);var B=l.nodePathCache=l.nodePathCache||[],j=My("polygon"===I?I+","+R.join(","):I,""+i,""+r),F=B[j];null!=F?(h=F,v=!0,c.pathCache=h):(h=new Path2D,B[j]=c.pathCache=h)}var z=function(){if(!v){var n=d;g&&(n={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(h||t,n.x,n.y,r,i)}g?t.fill(h):t.fill()},V=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,r=u.backgrounding,i=0,o=0;o<w.length;o++)_[o]&&w[o].complete&&!w[o].error&&(i++,l.drawInscribedImage(t,w[o],e,o,n));u.backgrounding=!(i===x),r!==u.backgrounding&&e.updateStyle(!1)},q=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;l.hasPie(e)&&(l.drawPie(t,e,o),n&&(g||l.nodeShapes[l.getNodeShape(e)].draw(t,d.x,d.y,r,i)))},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=(T>0?T:-T)*e,r=T>0?0:255;0!==T&&(l.colorFillStyle(t,r,r,r,n),g?t.fill(h):t.fill())},U=function(){if(N>0){if(t.lineWidth=N,t.lineCap="butt",t.setLineDash)switch(P){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}if(g?t.stroke(h):t.stroke(),"double"===P){t.lineWidth=N/3;var e=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",g?t.stroke(h):t.stroke(),t.globalCompositeOperation=e}t.setLineDash&&t.setLineDash([])}},G=function(){a&&l.drawNodeOverlay(t,e,d,r,i)},W=function(){l.drawElementText(t,e,null,o)},Y="yes"===e.pstyle("ghost").value;if(Y){var X=e.pstyle("ghost-offset-x").pfValue,K=e.pstyle("ghost-offset-y").pfValue,$=e.pstyle("ghost-opacity").value,Z=$*p;t.translate(X,K),M($*A),z(),V(Z),q(0!==T||0!==N),H(Z),L($*D),U(),t.translate(-X,-K)}M(),z(),V(),q(0!==T||0!==N),H(),L(),U(),g&&t.translate(-d.x,-d.y),W(),G(),n&&t.translate(f.x1,f.y1)}},drawNodeOverlay:function(t,e,n,r,i){if(e.visible()){var o=e.pstyle("overlay-padding").pfValue,a=e.pstyle("overlay-opacity").value,s=e.pstyle("overlay-color").value;if(a>0){if(n=n||e.position(),null==r||null==i){var l=e.padding();r=e.width()+2*l,i=e.height()+2*l}this.colorFillStyle(t,s[0],s[1],s[2],a),this.nodeShapes.roundrectangle.draw(t,n.x,n.y,r+2*o,i+2*o),t.fill()}}},hasPie:function(t){return(t=t[0])._private.hasPie},drawPie:function(t,e,n,r){e=e[0],r=r||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),a=r.x,s=r.y,l=e.width(),u=e.height(),c=Math.min(l,u)/2,d=0;this.usePaths()&&(a=0,s=0),"%"===o.units?c*=o.pfValue:void 0!==o.pfValue&&(c=o.pfValue/2);for(var h=1;h<=i.pieBackgroundN;h++){var f=e.pstyle("pie-"+h+"-background-size").value,p=e.pstyle("pie-"+h+"-background-color").value,g=e.pstyle("pie-"+h+"-background-opacity").value*n,v=f/100;v+d>1&&(v=1-d);var y=1.5*Math.PI+2*Math.PI*d,m=y+2*Math.PI*v;0===f||d>=1||d+v>1||(t.beginPath(),t.moveTo(a,s),t.arc(a,s,c,y,m),t.closePath(),this.colorFillStyle(t,p[0],p[1],p[2],g),t.fill(),d+=v)}}},iS={};iS.getPixelRatio=function(){var t=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},iS.paintCache=function(t){for(var e,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if((e=n[i]).context===t){r=!1;break}return r&&(e={context:t},n.push(e)),e},iS.createGradientStyleFor=function(t,e,n,r,i){var o,a=this.usePaths(),s=n.pstyle(e+"-gradient-stop-colors").value,l=n.pstyle(e+"-gradient-stop-positions").pfValue;if("radial-gradient"===r)if(n.isEdge()){var u=n.sourceEndpoint(),c=n.targetEndpoint(),d=n.midpoint(),h=Cm(u,d),f=Cm(c,d);o=t.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(h,f))}else{var p=a?{x:0,y:0}:n.position(),g=n.paddedWidth(),v=n.paddedHeight();o=t.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(g,v))}else if(n.isEdge()){var y=n.sourceEndpoint(),m=n.targetEndpoint();o=t.createLinearGradient(y.x,y.y,m.x,m.y)}else{var b=a?{x:0,y:0}:n.position(),_=n.paddedWidth()/2,w=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":o=t.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":o=t.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":o=t.createLinearGradient(b.x+_,b.y,b.x-_,b.y);break;case"to-right":o=t.createLinearGradient(b.x-_,b.y,b.x+_,b.y);break;case"to-bottom-right":case"to-right-bottom":o=t.createLinearGradient(b.x-_,b.y-w,b.x+_,b.y+w);break;case"to-top-right":case"to-right-top":o=t.createLinearGradient(b.x-_,b.y+w,b.x+_,b.y-w);break;case"to-bottom-left":case"to-left-bottom":o=t.createLinearGradient(b.x+_,b.y-w,b.x-_,b.y+w);break;case"to-top-left":case"to-left-top":o=t.createLinearGradient(b.x+_,b.y+w,b.x-_,b.y-w)}}if(!o)return null;for(var x=l.length===s.length,E=s.length,k=0;k<E;k++)o.addColorStop(x?l[k]:k/(E-1),"rgba("+s[k][0]+","+s[k][1]+","+s[k][2]+","+i+")");return o},iS.gradientFillStyle=function(t,e,n,r){var i=this.createGradientStyleFor(t,"background",e,n,r);if(!i)return null;t.fillStyle=i},iS.colorFillStyle=function(t,e,n,r,i){t.fillStyle="rgba("+e+","+n+","+r+","+i+")"},iS.eleFillStyle=function(t,e,n){var r=e.pstyle("background-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientFillStyle(t,e,r,n);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],n)}},iS.gradientStrokeStyle=function(t,e,n,r){var i=this.createGradientStyleFor(t,"line",e,n,r);if(!i)return null;t.strokeStyle=i},iS.colorStrokeStyle=function(t,e,n,r,i){t.strokeStyle="rgba("+e+","+n+","+r+","+i+")"},iS.eleStrokeStyle=function(t,e,n){var r=e.pstyle("line-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientStrokeStyle(t,e,r,n);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],n)}},iS.matchCanvasSize=function(t){var e=this,n=e.data,r=e.findContainerClientCoords(),i=r[2],o=r[3],a=e.getPixelRatio(),s=e.motionBlurPxRatio;t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]&&t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG]||(a=s);var l,u=i*a,c=o*a;if(u!==e.canvasWidth||c!==e.canvasHeight){e.fontCaches=null;var d=n.canvasContainer;d.style.width=i+"px",d.style.height=o+"px";for(var h=0;h<e.CANVAS_LAYERS;h++)(l=n.canvases[h]).width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px";for(h=0;h<e.BUFFER_COUNT;h++)(l=n.bufferCanvases[h]).width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px";e.textureMult=1,a<=1&&(l=n.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,l.width=u*e.textureMult,l.height=c*e.textureMult),e.canvasWidth=u,e.canvasHeight=c}},iS.renderTo=function(t,e,n,r){this.render({forcedContext:t,forcedZoom:e,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},iS.render=function(t){var e=(t=t||Ky()).forcedContext,n=t.drawAllLayers,r=t.drawOnlyNodeLayer,i=t.forcedZoom,o=t.forcedPan,a=this,s=void 0===t.forcedPxRatio?this.getPixelRatio():t.forcedPxRatio,l=a.cy,u=a.data,c=u.canvasNeedsRedraw,d=a.textureOnViewport&&!e&&(a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming),h=void 0!==t.motionBlur?t.motionBlur:a.motionBlur,f=a.motionBlurPxRatio,p=l.hasCompoundNodes(),g=a.hoverData.draggingEles,v=!(!a.hoverData.selecting&&!a.touchData.selecting),y=h=h&&!e&&a.motionBlurEnabled&&!v;e||(a.prevPxRatio!==s&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container),a.redrawHint("eles",!0),a.redrawHint("drag",!0)),a.prevPxRatio=s),!e&&a.motionBlurTimeout&&clearTimeout(a.motionBlurTimeout),h&&(null==a.mbFrames&&(a.mbFrames=0),a.mbFrames++,a.mbFrames<3&&(y=!1),a.mbFrames>a.minMbLowQualFrames&&(a.motionBlurPxRatio=a.mbPxRBlurry)),a.clearingMotionBlur&&(a.motionBlurPxRatio=1),a.textureDrawLastFrame&&!d&&(c[a.NODE]=!0,c[a.SELECT_BOX]=!0);var m=l.style(),b=l.zoom(),_=void 0!==i?i:b,w=l.pan(),x={x:w.x,y:w.y},E={zoom:b,pan:{x:w.x,y:w.y}},k=a.prevViewport;void 0===k||E.zoom!==k.zoom||E.pan.x!==k.pan.x||E.pan.y!==k.pan.y||g&&!p||(a.motionBlurPxRatio=1),o&&(x=o),_*=s,x.x*=s,x.y*=s;var S=a.getCachedZSortedEles();function C(t,e,n,r,i){var o=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",a.colorFillStyle(t,255,255,255,a.motionBlurTransparency),t.fillRect(e,n,r,i),t.globalCompositeOperation=o}function T(t,r){var s,l,c,d;a.clearingMotionBlur||t!==u.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]&&t!==u.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]?(s=x,l=_,c=a.canvasWidth,d=a.canvasHeight):(s={x:w.x*f,y:w.y*f},l=b*f,c=a.canvasWidth*f,d=a.canvasHeight*f),t.setTransform(1,0,0,1,0,0),"motionBlur"===r?C(t,0,0,c,d):e||void 0!==r&&!r||t.clearRect(0,0,c,d),n||(t.translate(s.x,s.y),t.scale(l,l)),o&&t.translate(o.x,o.y),i&&t.scale(i,i)}if(d||(a.textureDrawLastFrame=!1),d){if(a.textureDrawLastFrame=!0,!a.textureCache){a.textureCache={},a.textureCache.bb=l.mutableElements().boundingBox(),a.textureCache.texture=a.data.bufferCanvases[a.TEXTURE_BUFFER];var N=a.data.bufferContexts[a.TEXTURE_BUFFER];N.setTransform(1,0,0,1,0,0),N.clearRect(0,0,a.canvasWidth*a.textureMult,a.canvasHeight*a.textureMult),a.render({forcedContext:N,drawOnlyNodeLayer:!0,forcedPxRatio:s*a.textureMult}),(E=a.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:a.canvasWidth,height:a.canvasHeight}).mpan={x:(0-E.pan.x)/E.zoom,y:(0-E.pan.y)/E.zoom}}c[a.DRAG]=!1,c[a.NODE]=!1;var A=u.contexts[a.NODE],O=a.textureCache.texture;E=a.textureCache.viewport;A.setTransform(1,0,0,1,0,0),h?C(A,0,0,E.width,E.height):A.clearRect(0,0,E.width,E.height);var P=m.core("outside-texture-bg-color").value,D=m.core("outside-texture-bg-opacity").value;a.colorFillStyle(A,P[0],P[1],P[2],D),A.fillRect(0,0,E.width,E.height);b=l.zoom();T(A,!1),A.clearRect(E.mpan.x,E.mpan.y,E.width/E.zoom/s,E.height/E.zoom/s),A.drawImage(O,E.mpan.x,E.mpan.y,E.width/E.zoom/s,E.height/E.zoom/s)}else a.textureOnViewport&&!e&&(a.textureCache=null);var M=l.extent(),L=a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming||a.hoverData.draggingEles||a.cy.animated(),I=a.hideEdgesOnViewport&&L,R=[];if(R[a.NODE]=!c[a.NODE]&&h&&!a.clearedForMotionBlur[a.NODE]||a.clearingMotionBlur,R[a.NODE]&&(a.clearedForMotionBlur[a.NODE]=!0),R[a.DRAG]=!c[a.DRAG]&&h&&!a.clearedForMotionBlur[a.DRAG]||a.clearingMotionBlur,R[a.DRAG]&&(a.clearedForMotionBlur[a.DRAG]=!0),c[a.NODE]||n||r||R[a.NODE]){var B=h&&!R[a.NODE]&&1!==f;T(A=e||(B?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]:u.contexts[a.NODE]),h&&!B?"motionBlur":void 0),I?a.drawCachedNodes(A,S.nondrag,s,M):a.drawLayeredElements(A,S.nondrag,s,M),a.debug&&a.drawDebugPoints(A,S.nondrag),n||h||(c[a.NODE]=!1)}if(!r&&(c[a.DRAG]||n||R[a.DRAG])){B=h&&!R[a.DRAG]&&1!==f;T(A=e||(B?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]:u.contexts[a.DRAG]),h&&!B?"motionBlur":void 0),I?a.drawCachedNodes(A,S.drag,s,M):a.drawCachedElements(A,S.drag,s,M),a.debug&&a.drawDebugPoints(A,S.drag),n||h||(c[a.DRAG]=!1)}if(a.showFps||!r&&c[a.SELECT_BOX]&&!n){if(T(A=e||u.contexts[a.SELECT_BOX]),1==a.selection[4]&&(a.hoverData.selecting||a.touchData.selecting)){b=a.cy.zoom();var j=m.core("selection-box-border-width").value/b;A.lineWidth=j,A.fillStyle="rgba("+m.core("selection-box-color").value[0]+","+m.core("selection-box-color").value[1]+","+m.core("selection-box-color").value[2]+","+m.core("selection-box-opacity").value+")",A.fillRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]),j>0&&(A.strokeStyle="rgba("+m.core("selection-box-border-color").value[0]+","+m.core("selection-box-border-color").value[1]+","+m.core("selection-box-border-color").value[2]+","+m.core("selection-box-opacity").value+")",A.strokeRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]))}if(u.bgActivePosistion&&!a.hoverData.selecting){b=a.cy.zoom();var F=u.bgActivePosistion;A.fillStyle="rgba("+m.core("active-bg-color").value[0]+","+m.core("active-bg-color").value[1]+","+m.core("active-bg-color").value[2]+","+m.core("active-bg-opacity").value+")",A.beginPath(),A.arc(F.x,F.y,m.core("active-bg-size").pfValue/b,0,2*Math.PI),A.fill()}var z=a.lastRedrawTime;if(a.showFps&&z){z=Math.round(z);var V=Math.round(1e3/z);A.setTransform(1,0,0,1,0,0),A.fillStyle="rgba(255, 0, 0, 0.75)",A.strokeStyle="rgba(255, 0, 0, 0.75)",A.lineWidth=1,A.fillText("1 frame = "+z+" ms = "+V+" fps",0,20);A.strokeRect(0,30,250,20),A.fillRect(0,30,250*Math.min(V/60,1),20)}n||(c[a.SELECT_BOX]=!1)}if(h&&1!==f){var q=u.contexts[a.NODE],H=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_NODE],U=u.contexts[a.DRAG],G=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_DRAG],W=function(t,e,n){t.setTransform(1,0,0,1,0,0),n||!y?t.clearRect(0,0,a.canvasWidth,a.canvasHeight):C(t,0,0,a.canvasWidth,a.canvasHeight);var r=f;t.drawImage(e,0,0,a.canvasWidth*r,a.canvasHeight*r,0,0,a.canvasWidth,a.canvasHeight)};(c[a.NODE]||R[a.NODE])&&(W(q,H,R[a.NODE]),c[a.NODE]=!1),(c[a.DRAG]||R[a.DRAG])&&(W(U,G,R[a.DRAG]),c[a.DRAG]=!1)}a.prevViewport=E,a.clearingMotionBlur&&(a.clearingMotionBlur=!1,a.motionBlurCleared=!0,a.motionBlur=!0),h&&(a.motionBlurTimeout=setTimeout((function(){a.motionBlurTimeout=null,a.clearedForMotionBlur[a.NODE]=!1,a.clearedForMotionBlur[a.DRAG]=!1,a.motionBlur=!1,a.clearingMotionBlur=!d,a.mbFrames=0,c[a.NODE]=!0,c[a.DRAG]=!0,a.redraw()}),100)),e||l.emit("render")};for(var oS={drawPolygonPath:function(t,e,n,r,i,o){var a=r/2,s=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+a*o[0],n+s*o[1]);for(var l=1;l<o.length/2;l++)t.lineTo(e+a*o[2*l],n+s*o[2*l+1]);t.closePath()},drawRoundPolygonPath:function(t,e,n,r,i,o){var a=r/2,s=i/2,l=ab(r,i);t.beginPath&&t.beginPath();for(var u=0;u<o.length/4;u++){var c,d=void 0;d=0===u?o.length-2:4*u-2,c=4*u+2;var h=e+a*o[4*u],f=n+s*o[4*u+1],p=-o[d]*o[c]-o[d+1]*o[c+1],g=l/Math.tan(Math.acos(p)/2),v=h-g*o[d],y=f-g*o[d+1],m=h+g*o[c],b=f+g*o[c+1];0===u?t.moveTo(v,y):t.lineTo(v,y),t.arcTo(h,f,m,b,l)}t.closePath()},drawRoundRectanglePath:function(t,e,n,r,i){var o=r/2,a=i/2,s=ob(r,i);t.beginPath&&t.beginPath(),t.moveTo(e,n-a),t.arcTo(e+o,n-a,e+o,n,s),t.arcTo(e+o,n+a,e,n+a,s),t.arcTo(e-o,n+a,e-o,n,s),t.arcTo(e-o,n-a,e,n-a,s),t.lineTo(e,n-a),t.closePath()},drawBottomRoundRectanglePath:function(t,e,n,r,i){var o=r/2,a=i/2,s=ob(r,i);t.beginPath&&t.beginPath(),t.moveTo(e,n-a),t.lineTo(e+o,n-a),t.lineTo(e+o,n),t.arcTo(e+o,n+a,e,n+a,s),t.arcTo(e-o,n+a,e-o,n,s),t.lineTo(e-o,n-a),t.lineTo(e,n-a),t.closePath()},drawCutRectanglePath:function(t,e,n,r,i){var o=r/2,a=i/2;t.beginPath&&t.beginPath(),t.moveTo(e-o+8,n-a),t.lineTo(e+o-8,n-a),t.lineTo(e+o,n-a+8),t.lineTo(e+o,n+a-8),t.lineTo(e+o-8,n+a),t.lineTo(e-o+8,n+a),t.lineTo(e-o,n+a-8),t.lineTo(e-o,n-a+8),t.closePath()},drawBarrelPath:function(t,e,n,r,i){var o=r/2,a=i/2,s=e-o,l=e+o,u=n-a,c=n+a,d=sb(r,i),h=d.widthOffset,f=d.heightOffset,p=d.ctrlPtOffsetPct*h;t.beginPath&&t.beginPath(),t.moveTo(s,u+f),t.lineTo(s,c-f),t.quadraticCurveTo(s+p,c,s+h,c),t.lineTo(l-h,c),t.quadraticCurveTo(l-p,c,l,c-f),t.lineTo(l,u+f),t.quadraticCurveTo(l-p,u,l-h,u),t.lineTo(s+h,u),t.quadraticCurveTo(s+p,u,s,u+f),t.closePath()}},aS=Math.sin(0),sS=Math.cos(0),lS={},uS={},cS=Math.PI/40,dS=0*Math.PI;dS<2*Math.PI;dS+=cS)lS[dS]=Math.sin(dS),uS[dS]=Math.cos(dS);oS.drawEllipsePath=function(t,e,n,r,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,n,r/2,i/2,0,0,2*Math.PI);else for(var o,a,s=r/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=cS)o=e-s*lS[u]*aS+s*uS[u]*sS,a=n+l*uS[u]*aS+l*lS[u]*sS,0===u?t.moveTo(o,a):t.lineTo(o,a);t.closePath()};var hS={};function fS(t){var e=t.indexOf(",");return t.substr(e+1)}function pS(t,e,n){var r=function(){return e.toDataURL(n,t.quality)};switch(t.output){case"blob-promise":return new y_((function(r,i){try{e.toBlob((function(t){null!=t?r(t):i(new Error("`canvas.toBlob()` sent a null value in its callback"))}),n,t.quality)}catch(t){i(t)}}));case"blob":return function(t,e){for(var n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([r],{type:e})}(fS(r()),n);case"base64":return fS(r());case"base64uri":default:return r()}}hS.createBuffer=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d")]},hS.bufferCanvasImage=function(t){var e=this.cy,n=e.mutableElements().boundingBox(),r=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):r[2],o=t.full?Math.ceil(n.h):r[3],a=ty(t.maxWidth)||ty(t.maxHeight),s=this.getPixelRatio(),l=1;if(void 0!==t.scale)i*=t.scale,o*=t.scale,l=t.scale;else if(a){var u=1/0,c=1/0;ty(t.maxWidth)&&(u=l*t.maxWidth/i),ty(t.maxHeight)&&(c=l*t.maxHeight/o),i*=l=Math.min(u,c),o*=l}a||(i*=s,o*=s,l*=s);var d=document.createElement("canvas");d.width=i,d.height=o,d.style.width=i+"px",d.style.height=o+"px";var h=d.getContext("2d");if(i>0&&o>0){h.clearRect(0,0,i,o),h.globalCompositeOperation="source-over";var f=this.getCachedZSortedEles();if(t.full)h.translate(-n.x1*l,-n.y1*l),h.scale(l,l),this.drawElements(h,f),h.scale(1/l,1/l),h.translate(n.x1*l,n.y1*l);else{var p=e.pan(),g={x:p.x*l,y:p.y*l};l*=e.zoom(),h.translate(g.x,g.y),h.scale(l,l),this.drawElements(h,f),h.scale(1/l,1/l),h.translate(-g.x,-g.y)}t.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=t.bg,h.rect(0,0,i,o),h.fill())}return d},hS.png=function(t){return pS(t,this.bufferCanvasImage(t),"image/png")},hS.jpg=function(t){return pS(t,this.bufferCanvasImage(t),"image/jpeg")};var gS={nodeShapeImpl:function(t,e,n,r,i,o,a){switch(t){case"ellipse":return this.drawEllipsePath(e,n,r,i,o);case"polygon":return this.drawPolygonPath(e,n,r,i,o,a);case"round-polygon":return this.drawRoundPolygonPath(e,n,r,i,o,a);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,n,r,i,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,n,r,i,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,n,r,i,o);case"barrel":return this.drawBarrelPath(e,n,r,i,o)}}},vS=mS,yS=mS.prototype;function mS(t){var e=this;e.data={canvases:new Array(yS.CANVAS_LAYERS),contexts:new Array(yS.CANVAS_LAYERS),canvasNeedsRedraw:new Array(yS.CANVAS_LAYERS),bufferCanvases:new Array(yS.BUFFER_COUNT),bufferContexts:new Array(yS.CANVAS_LAYERS)};e.data.canvasContainer=document.createElement("div");var n=e.data.canvasContainer.style;e.data.canvasContainer.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",n.position="relative",n.zIndex="0",n.overflow="hidden";var r=t.cy.container();r.appendChild(e.data.canvasContainer),r.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";var i={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Uv&&Uv.userAgent.match(/msie|trident|edge/i)&&(i["-ms-touch-action"]="none",i["touch-action"]="none");for(var o=0;o<yS.CANVAS_LAYERS;o++){var a=e.data.canvases[o]=document.createElement("canvas");e.data.contexts[o]=a.getContext("2d"),Object.keys(i).forEach((function(t){a.style[t]=i[t]})),a.style.position="absolute",a.setAttribute("data-id","layer"+o),a.style.zIndex=String(yS.CANVAS_LAYERS-o),e.data.canvasContainer.appendChild(a),e.data.canvasNeedsRedraw[o]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[yS.NODE].setAttribute("data-id","layer"+yS.NODE+"-node"),e.data.canvases[yS.SELECT_BOX].setAttribute("data-id","layer"+yS.SELECT_BOX+"-selectbox"),e.data.canvases[yS.DRAG].setAttribute("data-id","layer"+yS.DRAG+"-drag");for(o=0;o<yS.BUFFER_COUNT;o++)e.data.bufferCanvases[o]=document.createElement("canvas"),e.data.bufferContexts[o]=e.data.bufferCanvases[o].getContext("2d"),e.data.bufferCanvases[o].style.position="absolute",e.data.bufferCanvases[o].setAttribute("data-id","buffer"+o),e.data.bufferCanvases[o].style.zIndex=String(-o-1),e.data.bufferCanvases[o].style.visibility="hidden";e.pathsEnabled=!0;var s=Dm(),l=function(t){return{x:-t.w/2,y:-t.h/2}},u=function(t){return t.boundingBox(),t[0]._private.bodyBounds},c=function(t){return t.boundingBox(),t[0]._private.labelBounds.main||s},d=function(t){return t.boundingBox(),t[0]._private.labelBounds.source||s},h=function(t){return t.boundingBox(),t[0]._private.labelBounds.target||s},f=function(t,e){return e},p=function(t,e,n){var r=t?t+"-":"";return{x:e.x+n.pstyle(r+"text-margin-x").pfValue,y:e.y+n.pstyle(r+"text-margin-y").pfValue}},g=function(t,e,n){var r=t[0]._private.rscratch;return{x:r[e],y:r[n]}},v=e.data.eleTxrCache=new Mk(e,{getKey:function(t){return t[0]._private.nodeKey},doesEleInvalidateKey:function(t){var e=t[0]._private;return!(e.oldBackgroundTimestamp===e.backgroundTimestamp)},drawElement:function(t,n,r,i,o){return e.drawElement(t,n,r,!1,!1,o)},getBoundingBox:u,getRotationPoint:function(t){return{x:((e=u(t)).x1+e.x2)/2,y:(e.y1+e.y2)/2};var e},getRotationOffset:function(t){return l(u(t))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),y=e.data.lblTxrCache=new Mk(e,{getKey:function(t){return t[0]._private.labelStyleKey},drawElement:function(t,n,r,i,o){return e.drawElementText(t,n,r,i,"main",o)},getBoundingBox:c,getRotationPoint:function(t){return p("",g(t,"labelX","labelY"),t)},getRotationOffset:function(t){var e=c(t),n=l(c(t));if(t.isNode()){switch(t.pstyle("text-halign").value){case"left":n.x=-e.w;break;case"right":n.x=0}switch(t.pstyle("text-valign").value){case"top":n.y=-e.h;break;case"bottom":n.y=0}}return n},isVisible:f}),m=e.data.slbTxrCache=new Mk(e,{getKey:function(t){return t[0]._private.sourceLabelStyleKey},drawElement:function(t,n,r,i,o){return e.drawElementText(t,n,r,i,"source",o)},getBoundingBox:d,getRotationPoint:function(t){return p("source",g(t,"sourceLabelX","sourceLabelY"),t)},getRotationOffset:function(t){return l(d(t))},isVisible:f}),b=e.data.tlbTxrCache=new Mk(e,{getKey:function(t){return t[0]._private.targetLabelStyleKey},drawElement:function(t,n,r,i,o){return e.drawElementText(t,n,r,i,"target",o)},getBoundingBox:h,getRotationPoint:function(t){return p("target",g(t,"targetLabelX","targetLabelY"),t)},getRotationOffset:function(t){return l(h(t))},isVisible:f}),_=e.data.lyrTxrCache=new Ik(e);e.onUpdateEleCalcs((function(t,e){v.invalidateElements(e),y.invalidateElements(e),m.invalidateElements(e),b.invalidateElements(e),_.invalidateElements(e);for(var n=0;n<e.length;n++){var r=e[n]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}}));var w=function(t){for(var e=0;e<t.length;e++)_.enqueueElementRefinement(t[e].ele)};v.onDequeue(w),y.onDequeue(w),m.onDequeue(w),b.onDequeue(w)}yS.CANVAS_LAYERS=3,yS.SELECT_BOX=0,yS.DRAG=1,yS.NODE=2,yS.BUFFER_COUNT=3,yS.TEXTURE_BUFFER=0,yS.MOTIONBLUR_BUFFER_NODE=1,yS.MOTIONBLUR_BUFFER_DRAG=2,yS.redrawHint=function(t,e){var n=this;switch(t){case"eles":n.data.canvasNeedsRedraw[yS.NODE]=e;break;case"drag":n.data.canvasNeedsRedraw[yS.DRAG]=e;break;case"select":n.data.canvasNeedsRedraw[yS.SELECT_BOX]=e}};var bS="undefined"!=typeof Path2D;yS.path2dEnabled=function(t){if(void 0===t)return this.pathsEnabled;this.pathsEnabled=!!t},yS.usePaths=function(){return bS&&this.pathsEnabled},yS.setImgSmoothing=function(t,e){null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)},yS.getImgSmoothing=function(t){return null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled},yS.makeOffscreenCanvas=function(t,e){var n;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":Bv(OffscreenCanvas))?n=new OffscreenCanvas(t,e):((n=document.createElement("canvas")).width=t,n.height=e),n},[zk,Wk,Qk,tS,eS,rS,iS,oS,hS,gS].forEach((function(t){vy(yS,t)}));var _S=[{type:"layout",extensions:nk},{type:"renderer",extensions:[{name:"null",impl:rk},{name:"base",impl:Tk},{name:"canvas",impl:vS}]}],wS={},xS={};function ES(t,e,n){var r=n,i=function(n){Hy("Can not register `"+e+"` for `"+t+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===t){if(vE.prototype[e])return i(e);vE.prototype[e]=n}else if("collection"===t){if(Lx.prototype[e])return i(e);Lx.prototype[e]=n}else if("layout"===t){for(var o=function(t){this.options=t,n.call(this,t),Qv(this._private)||(this._private={}),this._private.cy=t.cy,this._private.listeners=[],this.createEmitter()},a=o.prototype=Object.create(n.prototype),s=[],l=0;l<s.length;l++){var u=s[l];a[u]=a[u]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var c=n.prototype.stop;a.stop=function(){var t=this.options;if(t&&t.animate){var e=this.animations;if(e)for(var n=0;n<e.length;n++)e[n].stop()}return c?c.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var d=function(t){return t._private.cy},h={addEventFields:function(t,e){e.layout=t,e.cy=d(t),e.target=t},bubble:function(){return!0},parent:function(t){return d(t)}};vy(a,{createEmitter:function(){return this._private.emitter=new Jw(h,this),this},emitter:function(){return this._private.emitter},on:function(t,e){return this.emitter().on(t,e),this},one:function(t,e){return this.emitter().one(t,e),this},once:function(t,e){return this.emitter().one(t,e),this},removeListener:function(t,e){return this.emitter().removeListener(t,e),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(t,e){return this.emitter().emit(t,e),this}}),__.eventAliasesOn(a),r=o}else if("renderer"===t&&"null"!==e&&"base"!==e){var f=kS("renderer","base"),p=f.prototype,g=n,v=n.prototype,y=function(){f.apply(this,arguments),g.apply(this,arguments)},m=y.prototype;for(var b in p){var _=p[b];if(null!=v[b])return i(b);m[b]=_}for(var w in v)m[w]=v[w];p.clientFunctions.forEach((function(t){m[t]=m[t]||function(){Hy("Renderer does not implement `renderer."+t+"()` on its prototype")}})),r=y}return by({map:wS,keys:[t,e],value:r})}function kS(t,e){return _y({map:wS,keys:[t,e]})}function SS(t,e,n,r,i){return by({map:xS,keys:[t,e,n,r],value:i})}function CS(t,e,n,r){return _y({map:xS,keys:[t,e,n,r]})}var TS=function(){return 2===arguments.length?kS.apply(null,arguments):3===arguments.length?ES.apply(null,arguments):4===arguments.length?CS.apply(null,arguments):5===arguments.length?SS.apply(null,arguments):void Hy("Invalid extension access syntax")};vE.prototype.extension=TS,_S.forEach((function(t){t.extensions.forEach((function(e){ES(t.type,e.name,e.impl)}))}));var NS=function t(){if(!(this instanceof t))return new t;this.length=0},AS=NS.prototype;AS.instanceString=function(){return"stylesheet"},AS.selector=function(t){return this[this.length++]={selector:t,properties:[]},this},AS.css=function(t,e){var n=this.length-1;if($v(t))this[n].properties.push({name:t,value:e});else if(Qv(t))for(var r=t,i=Object.keys(r),o=0;o<i.length;o++){var a=i[o],s=r[a];if(null!=s){var l=dE.properties[a]||dE.properties[dy(a)];if(null!=l){var u=l.name,c=s;this[n].properties.push({name:u,value:c})}}}return this},AS.style=AS.css,AS.generateStyle=function(t){var e=new dE(t);return this.appendToStyle(e)},AS.appendToStyle=function(t){for(var e=0;e<this.length;e++){var n=this[e],r=n.selector,i=n.properties;t.selector(r);for(var o=0;o<i.length;o++){var a=i[o];t.css(a.name,a.value)}}return t};var OS=function(t){return void 0===t&&(t={}),Qv(t)?new vE(t):$v(t)?TS.apply(TS,arguments):void 0};OS.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(OS),t.apply(null,e),this},OS.warnings=function(t){return Uy(t)},OS.version="3.15.2",OS.stylesheet=OS.Stylesheet=NS;var PS=OS,DS=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;$n(this,t),this.name=e,this.id=n,this.cy=PS(),r&&this.addElems(r)}return Jn(t,[{key:"addElems",value:function(t){this.cy.add(t)}},{key:"nodes",get:function(){return this.cy.nodes().jsons()}},{key:"edges",get:function(){return this.cy.edges().jsons()}}]),t}(),MS=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];$n(this,t),this.prefixes=e||[""],this.value=n,this.standard=r}return Jn(t,[{key:"isStandard",value:function(){return this.standard}}]),t}(),LS=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];$n(this,t),this.name=e,this.version=n,this.namespaces=r,this.diagrams=i}return Jn(t,[{key:"addIri",value:function(t){this.namespaces.push(t)}},{key:"getIriFromValue",value:function(t){var e,n=fr(this.namespaces);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.value==t)return r}}catch(t){n.e(t)}finally{n.f()}}},{key:"getIriFromPrefix",value:function(t){var e,n=fr(this.namespaces);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.prefixes&&r.prefixes.includes(t))return r}}catch(t){n.e(t)}finally{n.f()}}},{key:"destructureIri",value:function(t){var e,n={namespace:"",prefix:"",rem_chars:""},r=fr(this.namespaces);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(-1!=t.search(i.value)){n.namespace=i.value,n.prefix=i.prefixes[0],n.rem_chars=t.slice(i.value.length);break}}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"addDiagram",value:function(t){this.diagrams.push(t)}},{key:"getDiagram",value:function(t){if(!(t<0||t>this.diagrams.length)){if(this.diagrams[t])return this.diagrams[t];var e,n=fr(this.diagrams);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.name.toLowerCase()===t.toLowerCase())return r}}catch(t){n.e(t)}finally{n.f()}}}},{key:"getElem",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=fr(this.diagrams);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=i.cy.$id(t);if(o&&o.length>0)return n?o.json():o}}catch(t){r.e(t)}finally{r.f()}return!1}},{key:"getEntity",value:function(t){return this.getEntities().find((function(e){return e.data.iri.full_iri===t||e.data.iri.prefix+e.data.iri.remaining_chars===t}))}},{key:"getOccurrences",value:function(t){return this.getEntities().filter((function(e){return e.data.iri.full_iri===t||e.data.iri.prefix+e.data.iri.remaining_chars===t}))}},{key:"getElemByDiagramAndId",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.getDiagram(e);if(r){var i=r.cy.$('[id_xml = "'.concat(t,'"]'))||r.cy.$id(t);if(i.length>0)return n?i.json():i}return!1}},{key:"getEntities",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=PS().collection();return this.diagrams.forEach((function(t){e=e.union(t.cy.$(".predicate"))})),e=e.sort((function(t,e){return t.data("displayed_name").localeCompare(e.data("displayed_name"))})),t?e.jsons():e}}]),t}();function IS(t){if(null==t||null==t.nextSibling)return null;for(t=t.nextSibling;1!==t.nodeType;){if(null==t.nextSibling)return null;t=t.nextSibling}return t}function RS(t){switch(t.getAttribute("type")){case"concept":case"attribute":case"role":case"individual":return!0}return!1}function BS(t,e,n){var r=[];r.x=n.x-e.x,r.y=n.y-e.y;var i=[];i.x=t.x-e.x,i.y=t.y-e.y;var o,a=[];if(0==i.x)a.x=0,a.y=r.y;else if(0==i.y)a.x=r.x,a.y=0,o=0;else{o=i.y/i.x;var s=r.y+r.x/o;a.x=s*o/(Math.pow(o,2)+1),a.y=a.x*o}var l=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2)),u=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))/l;i.x>0&&a.x<0&&(u=-u),i.x<0&&a.x>0&&(u=-u);var c=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2));return i.x<0&&r.y>o*r.x&&(c=-c),i.x>0&&r.y<o*r.x&&(c=-c),0==i.x&&i.y>0&&r.x>0&&(c=-c),0==i.x&&i.y<0&&r.x<0&&(c=-c),[c,u]}function jS(t,e,n){var r=[];if(r.x=t.x-e.position("x"),r.y=t.y-e.position("y"),0==r.x&&0==r.y)return r;var i=[];if(i.x=n.x-e.position("x"),i.y=n.y-e.position("y"),r.x==i.x){if(i.y>0)return r.y=e.data("height")/2,r;if(i.y<0)return r.y=-e.data("height")/2,r}else if(r.y==i.y){if(i.x>0)return r.x=e.data("width")/2,r;if(i.x<0)return r.x=-e.data("width")/2,r}return r}var FS=new Set;var zS=Object.freeze({__proto__:null,warnings:FS,getOntologyInfo:function(t){var e=t.getElementsByTagName("ontology")[0];return{name:e.getElementsByTagName("name")[0].textContent,version:e.getElementsByTagName("version")[0]?e.getElementsByTagName("version")[0].textContent:"Undefined",languages:[""]}},getIriPrefixesDictionary:function(t){var e=[];if(0===t.getElementsByTagName("IRI_prefixes_nodes_dict").length)e.push({prefix:[""],value:t.getElementsByTagName("iri")[0].textContent,standard:!1});else{var n,r,i,o,a,s=fr(t.getElementsByTagName("iri"));try{for(s.s();!(a=s.n()).done;){var l=a.value;r=l.getAttribute("iri_value"),i=!1,o=l.getElementsByTagName("prefix"),n=[];var u,c=fr(o);try{for(c.s();!(u=c.n()).done;){var d=u.value;n.push(d.getAttribute("prefix_value"))}}catch(t){c.e(t)}finally{c.f()}0==n.length&&n.push("");var h,f=fr(l.getElementsByTagName("property"));try{for(f.s();!(h=f.n()).done;){i="Standard_IRI"==h.value.getAttribute("property_value")}}catch(t){f.e(t)}finally{f.f()}e.push({prefixes:n,value:r,standard:i})}}catch(t){s.e(t)}finally{s.f()}}return e},getIri:function(t,e){var n={},r=t.getElementsByTagName("label")[0];if(r){var i,o,a=(r=r.textContent.replace(/\n/g,"")).split(":"),s=a.length>1?a[0]:"";return-1!=s.search(/"[\w]+"\^\^[\w]+:/)?(o=r,i="",s=s.slice(s.lastIndexOf("^")+1,s.lastIndexOf(":")+1)):(o=a.length>1?r.slice(r.indexOf(":")+1):r,!(i=e.getIriFromPrefix(s))&&RS(t)&&this.warnings.add('The prefix "'.concat(s,'" is not associated to any namespace')),i=i?i.value:""),n.remaining_chars=o,n.prefix=s.length>0?s+":":s,n.full_iri=i+o,n}},getLabel:function(t){return t.getElementsByTagName("label")[0]?{"":t.getElementsByTagName("label")[0].textContent}:void 0},getPredicateInfo:function(t,e){var n,r,i,o,a={},s=t.getElementsByTagName("label")[0].textContent.replace(/\n/g,""),l=t.getAttribute("type"),u=fr(e.getElementsByTagName("predicate"));try{for(u.s();!(o=u.n()).done;){var c=o.value;if(s===c.getAttribute("name")&&l===c.getAttribute("type")){r=(n=(n=c.getElementsByTagName("description")[0].textContent).replace(/font-size:0pt/g,"")).indexOf("<p"),i=n.indexOf("</body"),n&&(a.description={"":[n.slice(r,i)]}),"attribute"!==l&&"role"!==l||(a.functional=parseInt(c.getElementsByTagName("functional")[0].textContent)),"role"===l&&(a.inverseFunctional=parseInt(c.getElementsByTagName("inverseFunctional")[0].textContent),a.asymmetric=parseInt(c.getElementsByTagName("asymmetric")[0].textContent),a.irreflexive=parseInt(c.getElementsByTagName("irreflexive")[0].textContent),a.reflexive=parseInt(c.getElementsByTagName("reflexive")[0].textContent),a.symmetric=parseInt(c.getElementsByTagName("symmetric")[0].textContent),a.transitive=parseInt(c.getElementsByTagName("transitive")[0].textContent));break}}}catch(t){u.e(t)}finally{u.f()}return a}}),VS=new Set;function qS(t){var e,n,r,i={description:{},annotations:{}},o=HS(t,"annotations");if(o){var a,s=fr(o.children);try{for(s.s();!(a=s.n()).done;){var l=a.value;n=WS(US(l,"property")),e=US(l,"language"),r=US(l,"lexicalForm"),"comment"==n?(i.description[e]||(i.description[e]=[]),i.description[e].push(r)):(i.annotations[n]||(i.annotations[n]={}),i.annotations[n][e]||(i.annotations[n][e]=r))}}catch(t){s.e(t)}finally{s.f()}}return i}function HS(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t&&t.getElementsByTagName(e[n]))return t.getElementsByTagName(e)[n]}function US(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t&&t.getElementsByTagName(e)[n])return t.getElementsByTagName(e)[n].textContent}function GS(t,e){var n=null;if(!(n="string"==typeof t?t:US(t,"iri")))return null;var r,i=fr(e.getElementsByTagName("iris")[0].children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(n==US(o,"value"))return o}}catch(t){i.e(t)}finally{i.f()}return null}function WS(t){var e=t.slice(t.lastIndexOf("#")+1);return e.length==t.length&&(e=t.slice(t.lastIndexOf("/")+1)),e}var YS=Object.freeze({__proto__:null,warnings:VS,getOntologyInfo:function(t){var e=t.getElementsByTagName("project")[0],n=t.getElementsByTagName("languages")[0].children,r=HS(t,"ontology").getAttribute("iri"),i=GS(r,t);return{name:e.getAttribute("name"),version:e.getAttribute("version"),iri:r,languages:cr(n).map((function(t){return t.textContent})),default_language:HS(t,"ontology").getAttribute("lang"),other_infos:qS(i)}},getIriPrefixesDictionary:function(t){var e,n=[],r=fr(HS(t,"prefixes").children);try{for(r.s();!(e=r.n()).done;){var i=e.value;n.push({prefixes:[US(i,"value")],value:US(i,"namespace"),standard:!1})}}catch(t){r.e(t)}finally{r.f()}return n},getIri:function(t,e){var n={},r=US(t,"iri")||"";if(r){n.full_iri=r;var i=e.destructureIri(r);i.namespace?(n.prefix=i.prefix.length>0?i.prefix+":":i.prefix,n.remaining_chars=i.rem_chars):(this.warnings.add("Namespace not found for [".concat(r,']. The prefix "undefined" has been assigned')),n.prefix="undefined:",n.remaining_chars=r)}return n},getLabel:function(t,e,n){if("facet"===t.getAttribute("type")){var r=e.destructureIri(US(t,"constrainingFacet"));return(r=r.prefix+":"+r.rem_chars)+'^^"'+US(t,"lexicalForm")+'"'}var i=US(t,"label");if(i)return i;var o=US(t,"iri");if(!o)return{union:"or",intersection:"and","role-chain":"chain","role-inverse":"inv",complement:"not","datatype-restriction":"data",enumeration:"oneOf","has-key":"key"}[t.getAttribute("type")];var a=e.destructureIri(o),s=a.rem_chars||o,l=(a.prefix||"undefined")+":"+s;if("value-domain"==t.getAttribute("type"))return l;var u=GS(t,n);if(!u)return o==s?o:l;var c=e.getIriFromPrefix("rdfs").value+"label",d=HS(u,"annotations"),h={};if(d){var f,p=fr(d.children);try{for(p.s();!(f=p.n()).done;){var g=f.value;US(g,"property")==c&&(h[US(g,"language")]=h[US(g,"language")]||US(g,"lexicalForm"))}}catch(t){p.e(t)}finally{p.f()}}return Object.keys(h).length?h:l},getPredicateInfo:function(t,e){var n={},r=GS(t,e);if(n=qS(r),r&&r.children){var i,o=fr(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;"value"!=a.tagName&&"annotations"!=a.tagName&&"0"!=a.textContent&&(n[a.tagName]=1)}}catch(t){o.e(t)}finally{o.f()}}return n},getTag:HS,getTagText:US}),XS=function(){function t(e){if($n(this,t),this.xmlDocument=e instanceof XMLDocument?e:(new DOMParser).parseFromString(e,"text/xml"),this.graphol_ver=this.xmlDocument.getElementsByTagName("graphol")[0].getAttribute("version")||-1,2==this.graphol_ver||-1==this.graphol_ver)this.graphol=zS;else{if(3!=this.graphol_ver)throw new Error("Graphol version [".concat(this.graphol_ver,"] not supported"));this.graphol=YS}}return Jn(t,[{key:"parseGraphol",value:function(){var t,e,n,r,i,o,a,s,l=this,u=this.graphol.getOntologyInfo(this.xmlDocument);this.ontology=new LS(u.name,u.version),this.ontology.languages=u.languages||[],this.ontology.default_language=u.default_language||u.languages[0],u.other_infos&&(this.ontology.annotations=u.other_infos.annotations,this.ontology.description=u.other_infos.description),this.graphol.getIriPrefixesDictionary(this.xmlDocument).forEach((function(t){l.ontology.addIri(new MS(t.prefixes,t.value,t.standard))}));var c=this.xmlDocument.getElementsByTagName("diagram");for(t=0;t<c.length;t++){for(a=new DS(c[t].getAttribute("name"),t),this.ontology.addDiagram(a),o=[],n=c[t].getElementsByTagName("node"),r=c[t].getElementsByTagName("edge"),i=0,e=0;e<n.length;e++){if((s=this.getBasicNodeInfos(n[e],t)).data.iri=this.graphol.getIri(n[e],this.ontology),s.data.label=this.graphol.getLabel(n[e],this.ontology,this.xmlDocument),"string"==typeof s.data.label){var d=s.data.label;s.data.label={},s.data.label[this.ontology.default_language]=d}if(s.data.label)if(s.data.label[this.ontology.default_language])s.data.displayed_name=s.data.label[this.ontology.default_language];else{var h,f=fr(this.ontology.languages);try{for(f.s();!(h=f.n()).done;){var p=h.value;if(s.data.label[p]){s.data.displayed_name=s.data.label[p];break}}}catch(t){f.e(t)}finally{f.f()}s.data.displayed_name||(s.data.displayed_name=s.data.label[Object.keys(s.data.label)[0]])}RS(n[e])&&function(){var t=l.graphol.getPredicateInfo(n[e],l.xmlDocument,l.ontology);t&&Object.keys(t).forEach((function(e){s.data[e]=t[e]}))}(),o.push(s),"property-assertion"===o[i].data.type||"facet"===o[i].data.type||o[i].data.functional&&o[i].data.inverseFunctional?(this.addFakeNodes(o),i+=o.length-i):i++}for(a.addElems(o),o=[],e=0;e<r.length;e++)o.push(this.EdgeXmlToJson(r[e],t));a.addElems(o)}if(0==t)throw new Error("The selected .graphol file has no defined diagram");if(this.getIdentityForNeutralNodes(),this.warnings=cr(this.graphol.warnings),this.warnings.length>10){var g=this.warnings.length;this.warnings=this.warnings.slice(0,9),this.warnings.push("...".concat(g-10," warnings not shown"))}return this.warnings.forEach((function(t){return console.warn(t)})),this.ontology}},{key:"getBasicNodeInfos",value:function(t,e){var n={data:{id_xml:t.getAttribute("id"),diagram_id:e,id:t.getAttribute("id")+"_"+e,fillColor:t.getAttribute("color"),type:t.getAttribute("type")},position:{},classes:t.getAttribute("type")},r=t.getElementsByTagName("geometry")[0];switch(n.data.width=parseInt(r.getAttribute("width")),n.data.height=parseInt(r.getAttribute("height")),n.data.width<0&&(n.data.width=-n.data.width),n.data.height<0&&(n.data.height=-n.data.height),"facet"===n.data.type&&(n.data.height=40),n.position.x=parseInt(r.getAttribute("x")),n.position.y=parseInt(r.getAttribute("y")),n.data.type){case"concept":case"domain-restriction":n.data.shape="rectangle",n.data.identity="concept";break;case"range-restriction":n.data.shape="rectangle",n.data.identity="neutral";break;case"role":n.data.shape="diamond",n.data.identity="role";break;case"attribute":n.data.shape="ellipse",n.data.identity="attribute";break;case"union":case"disjoint-union":case"complement":case"intersection":case"enumeration":case"has-key":n.data.shape="hexagon",n.data.identity="neutral";break;case"role-inverse":case"role-chain":n.data.shape="hexagon",n.data.identity="role","role-chain"===n.data.type&&""!==t.getAttribute("inputs")&&(n.data.inputs=t.getAttribute("inputs").split(","));break;case"datatype-restriction":n.data.shape="hexagon",n.data.identity="value_domain";break;case"value-domain":n.data.shape="roundrectangle",n.data.identity="value_domain";break;case"property-assertion":n.data.shape="roundrectangle",n.data.identity="neutral",n.data.inputs=t.getAttribute("inputs").split(",");break;case"literal":case"individual":n.data.shape="octagon",n.data.identity="individual"==n.data.type?"individual":"value";break;case"facet":n.data.shape="polygon",n.data.shape_points="-0.9 -1 1 -1 0.9 1 -1 1",n.data.fillColor="#ffffff",n.data.identity="facet";break;default:console.error("tipo di nodo sconosciuto"),console.log(n)}var i=t.getElementsByTagName("label")[0];return null!=i&&(n.data.labelXpos=parseInt(i.getAttribute("x"))-n.position.x+1,n.data.labelYpos=parseInt(i.getAttribute("y"))-n.position.y+(n.data.height+2)/2+parseInt(i.getAttribute("height"))/4,n.data.fontSize=parseInt(i.getAttribute("size"))||12),RS(t)&&(n.classes+=" predicate"),n}},{key:"EdgeXmlToJson",value:function(t,e){var n,r={data:{target:t.getAttribute("target")+"_"+e,source:t.getAttribute("source")+"_"+e,id:t.getAttribute("id")+"_"+e,id_xml:t.getAttribute("id"),diagram_id:e,type:t.getAttribute("type"),breakpoints:[]}};"membership"==r.data.type.toLowerCase()?r.data.displayed_name="instance Of":"same"!=r.data.type.toLowerCase()&&"different"!=r.data.type.toLowerCase()||(r.data.displayed_name=r.data.type.toLowerCase());var i=this.ontology.getDiagram(e).cy.$id(r.data.source),o=this.ontology.getDiagram(e).cy.$id(r.data.target);if("role-chain"===o.data("type")||"property-assertion"===o.data("type"))for(n=0;n<o.data("inputs").length;n++)if(o.data("inputs")[n]===r.data.id_xml){r.data.target_label=n+1;break}var a,s=function(t){return null==t||null==t.firstChild?null:(1!==(t=t.firstChild).nodeType&&(t=IS(t)),t)}(t),l=[],u=[],c=[],d=0;for(a=0;a<t.childNodes.length;a++)if(1==t.childNodes[a].nodeType){if(l[d]={x:parseInt(s.getAttribute("x")),y:parseInt(s.getAttribute("y"))},null==IS(s))break;if(s=IS(s),d>0){var h=BS(o.position(),i.position(),l[d]);c.push(h[0]),u.push(h[1])}d++}d>1&&(r.data.breakpoints=l.slice(1,d),r.data.segment_distances=c,r.data.segment_weights=u);var f=[];f.x=l[0].x,f.y=l[0].y,0==(f=jS(f,i,l[1])).x&&0==f.y||(r.data.source_endpoint=[],r.data.source_endpoint.push(f.x),r.data.source_endpoint.push(f.y));var p=[];return p.x=l[l.length-1].x,p.y=l[l.length-1].y,0==(p=jS(p,o,l[l.length-2])).x&&0==p.y||(r.data.target_endpoint=[],r.data.target_endpoint.push(p.x),r.data.target_endpoint.push(p.y)),r}},{key:"addFakeNodes",value:function(t){var e=t[t.length-1];if("facet"===e.data.type){e.data.displayed_name=e.data.displayed_name.replace("^^","\n\n"),e.data.labelYpos=e.data.height;var n={selectable:!1,data:{height:e.data.height,width:e.data.width,shape:"polygon",shape_points:"-0.9 -1 1 -1 0.95 0 -0.95 0",diagram_id:e.data.diagram_id,parent_node_id:e.data.id,type:e.data.type},position:{x:e.position.x,y:e.position.y},classes:"fake-top-rhomboid"},r={selectable:!1,data:{height:e.data.height,width:e.data.width,shape:"polygon",shape_points:"-0.95 0 0.95 0 0.9 1 -1 1",diagram_id:e.data.diagram_id,parent_node_id:e.data.id,type:e.data.type},position:{x:e.position.x,y:e.position.y}};return t[t.length-1]=n,t.push(r),void t.push(e)}if(1===e.data.functional&&1===e.data.inverseFunctional){var i={selectable:!1,data:{height:e.data.height,width:e.data.width,fillColor:"#000",shape:"polygon",shape_points:"0 -1 1 0 0 1",diagram_id:e.data.diagram_id,type:e.data.type},position:{x:e.position.x,y:e.position.y},classes:"fake-triangle fake-triangle-right"},o={selectable:!1,data:{height:e.data.height,width:e.data.width+2,fillColor:"#fcfcfc",shape:"polygon",shape_points:"0 -1 -1 0 0 1",diagram_id:e.data.diagram_id,type:e.data.type},position:{x:e.position.x,y:e.position.y},classes:"fake-triangle"};e.data.height-=8,e.data.width-=10,null!=e.data.displayed_name&&(e.data.labelYpos-=4),t[t.length-1]=o,t.push(i),t.push(e)}if("property-assertion"===e.data.type){var a={selectable:!1,classes:"no_overlay",data:{height:e.data.height,width:e.data.height,shape:"ellipse",diagram_id:e.data.diagram_id,fillColor:"#fff",parent_node_id:e.data.id,type:e.data.type},position:{x:e.position.x-(e.data.width-e.data.height)/2,y:e.position.y}},s={selectable:!1,classes:"no_overlay",data:{height:e.data.height,width:e.data.height,shape:"ellipse",diagram_id:e.data.diagram_id,fillColor:"#fff",parent_node_id:e.data.id,type:e.data.type},position:{x:e.position.x+(e.data.width-e.data.height)/2,y:e.position.y}},l={data:{selectable:!1,height:e.data.height,width:e.data.width-e.data.height,shape:"rectangle",diagram_id:e.data.diagram_id,fillColor:"#fff",parent_node_id:e.data.id,type:e.data.type},position:e.position};e.data.height-=1,e.data.width=e.data.width-e.data.height,e.data.shape="rectangle",e.classes="property-assertion no_border",t[t.length-1]=l,t.push(a),t.push(s),t.push(e)}}},{key:"getIdentityForNeutralNodes",value:function(){this.ontology.diagrams.forEach((function(t){t.cy.nodes('[identity = "neutral"]').forEach((function(t){t.data("identity",function t(e){var n=e.incomers('[type = "input"]').sources(),r=n.data("identity");if("neutral"===r)return t(n);switch(e.data("type")){case"range-restriction":return"role"===r?"concept":"attribute"===r?"value_domain":r;case"enumeration":return"individual"===r?"concept":r;default:return r}}(t))}))}))}}]),t}(),KS="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,$S=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e!==n;){var r=e.nextSibling;t.removeChild(e),e=r}},ZS="{{lit-".concat(String(Math.random()).slice(2),"}}"),JS="\x3c!--".concat(ZS,"--\x3e"),QS=new RegExp("".concat(ZS,"|").concat(JS)),tC=function t(e,n){$n(this,t),this.parts=[],this.element=n;for(var r=[],i=[],o=document.createTreeWalker(n.content,133,null,!1),a=0,s=-1,l=0,u=e.strings,c=e.values.length;l<c;){var d=o.nextNode();if(null!==d){if(s++,1===d.nodeType){if(d.hasAttributes()){for(var h=d.attributes,f=h.length,p=0,g=0;g<f;g++)eC(h[g].name,"$lit$")&&p++;for(;p-- >0;){var v=u[l],y=iC.exec(v)[2],m=y.toLowerCase()+"$lit$",b=d.getAttribute(m);d.removeAttribute(m);var _=b.split(QS);this.parts.push({type:"attribute",index:s,name:y,strings:_}),l+=_.length-1}}"TEMPLATE"===d.tagName&&(i.push(d),o.currentNode=d.content)}else if(3===d.nodeType){var w=d.data;if(w.indexOf(ZS)>=0){for(var x=d.parentNode,E=w.split(QS),k=E.length-1,S=0;S<k;S++){var C=void 0,T=E[S];if(""===T)C=rC();else{var N=iC.exec(T);null!==N&&eC(N[2],"$lit$")&&(T=T.slice(0,N.index)+N[1]+N[2].slice(0,-"$lit$".length)+N[3]),C=document.createTextNode(T)}x.insertBefore(C,d),this.parts.push({type:"node",index:++s})}""===E[k]?(x.insertBefore(rC(),d),r.push(d)):d.data=E[k],l+=k}}else if(8===d.nodeType)if(d.data===ZS){var A=d.parentNode;null!==d.previousSibling&&s!==a||(s++,A.insertBefore(rC(),d)),a=s,this.parts.push({type:"node",index:s}),null===d.nextSibling?d.data="":(r.push(d),s--),l++}else for(var O=-1;-1!==(O=d.data.indexOf(ZS,O+1));)this.parts.push({type:"node",index:-1}),l++}else o.currentNode=i.pop()}for(var P=0,D=r;P<D.length;P++){var M=D[P];M.parentNode.removeChild(M)}},eC=function(t,e){var n=t.length-e.length;return n>=0&&t.slice(n)===e},nC=function(t){return-1!==t.index},rC=function(){return document.createComment("")},iC=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function oC(t,e){for(var n=t.element.content,r=t.parts,i=document.createTreeWalker(n,133,null,!1),o=sC(r),a=r[o],s=-1,l=0,u=[],c=null;i.nextNode();){s++;var d=i.currentNode;for(d.previousSibling===c&&(c=null),e.has(d)&&(u.push(d),null===c&&(c=d)),null!==c&&l++;void 0!==a&&a.index===s;)a.index=null!==c?-1:a.index-l,a=r[o=sC(r,o)]}u.forEach((function(t){return t.parentNode.removeChild(t)}))}var aC=function(t){for(var e=11===t.nodeType?0:1,n=document.createTreeWalker(t,133,null,!1);n.nextNode();)e++;return e},sC=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e+1;n<t.length;n++){var r=t[n];if(nC(r))return n}return-1};
/**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
var lC=new WeakMap,uC=function(t){return"function"==typeof t&&lC.has(t)},cC={},dC={},hC=function(){function t(e,n,r){$n(this,t),this.__parts=[],this.template=e,this.processor=n,this.options=r}return Jn(t,[{key:"update",value:function(t){var e,n=0,r=fr(this.__parts);try{for(r.s();!(e=r.n()).done;){var i=e.value;void 0!==i&&i.setValue(t[n]),n++}}catch(t){r.e(t)}finally{r.f()}var o,a=fr(this.__parts);try{for(a.s();!(o=a.n()).done;){var s=o.value;void 0!==s&&s.commit()}}catch(t){a.e(t)}finally{a.f()}}},{key:"_clone",value:function(){for(var t,e=KS?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,i=document.createTreeWalker(e,133,null,!1),o=0,a=0,s=i.nextNode();o<r.length;)if(t=r[o],nC(t)){for(;a<t.index;)a++,"TEMPLATE"===s.nodeName&&(n.push(s),i.currentNode=s.content),null===(s=i.nextNode())&&(i.currentNode=n.pop(),s=i.nextNode());if("node"===t.type){var l=this.processor.handleTextExpression(this.options);l.insertAfterNode(s.previousSibling),this.__parts.push(l)}else{var u;(u=this.__parts).push.apply(u,cr(this.processor.handleAttributeExpressions(s,t.name,t.strings,this.options)))}o++}else this.__parts.push(void 0),o++;return KS&&(document.adoptNode(e),customElements.upgrade(e)),e}}]),t}(),fC=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:function(t){return t}}),pC=" ".concat(ZS," "),gC=function(){function t(e,n,r,i){$n(this,t),this.strings=e,this.values=n,this.type=r,this.processor=i}return Jn(t,[{key:"getHTML",value:function(){for(var t=this.strings.length-1,e="",n=!1,r=0;r<t;r++){var i=this.strings[r],o=i.lastIndexOf("\x3c!--");n=(o>-1||n)&&-1===i.indexOf("--\x3e",o+1);var a=iC.exec(i);e+=null===a?i+(n?pC:JS):i.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+ZS}return e+=this.strings[t]}},{key:"getTemplateElement",value:function(){var t=document.createElement("template"),e=this.getHTML();return void 0!==fC&&(e=fC.createHTML(e)),t.innerHTML=e,t}}]),t}(),vC=function(t){return null===t||!("object"===Yn(t)||"function"==typeof t)},yC=function(t){return Array.isArray(t)||!(!t||!t[Symbol.iterator])},mC=function(){function t(e,n,r){$n(this,t),this.dirty=!0,this.element=e,this.name=n,this.strings=r,this.parts=[];for(var i=0;i<r.length-1;i++)this.parts[i]=this._createPart()}return Jn(t,[{key:"_createPart",value:function(){return new bC(this)}},{key:"_getValue",value:function(){var t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){var r=n[0].value;if("symbol"===Yn(r))return String(r);if("string"==typeof r||!yC(r))return r}for(var i="",o=0;o<e;o++){i+=t[o];var a=n[o];if(void 0!==a){var s=a.value;if(vC(s)||!yC(s))i+="string"==typeof s?s:String(s);else{var l,u=fr(s);try{for(u.s();!(l=u.n()).done;){var c=l.value;i+="string"==typeof c?c:String(c)}}catch(t){u.e(t)}finally{u.f()}}}}return i+=t[e]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),t}(),bC=function(){function t(e){$n(this,t),this.value=void 0,this.committer=e}return Jn(t,[{key:"setValue",value:function(t){t===cC||vC(t)&&t===this.value||(this.value=t,uC(t)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;uC(this.value);){var t=this.value;this.value=cC,t(this)}this.value!==cC&&this.committer.commit()}}]),t}(),_C=function(){function t(e){$n(this,t),this.value=void 0,this.__pendingValue=void 0,this.options=e}return Jn(t,[{key:"appendInto",value:function(t){this.startNode=t.appendChild(rC()),this.endNode=t.appendChild(rC())}},{key:"insertAfterNode",value:function(t){this.startNode=t,this.endNode=t.nextSibling}},{key:"appendIntoPart",value:function(t){t.__insert(this.startNode=rC()),t.__insert(this.endNode=rC())}},{key:"insertAfterPart",value:function(t){t.__insert(this.startNode=rC()),this.endNode=t.endNode,t.endNode=this.startNode}},{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){if(null!==this.startNode.parentNode){for(;uC(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=cC,t(this)}var e=this.__pendingValue;e!==cC&&(vC(e)?e!==this.value&&this.__commitText(e):e instanceof gC?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):yC(e)?this.__commitIterable(e):e===dC?(this.value=dC,this.clear()):this.__commitText(e))}}},{key:"__insert",value:function(t){this.endNode.parentNode.insertBefore(t,this.endNode)}},{key:"__commitNode",value:function(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}},{key:"__commitText",value:function(t){var e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}},{key:"__commitTemplateResult",value:function(t){var e=this.options.templateFactory(t);if(this.value instanceof hC&&this.value.template===e)this.value.update(t.values);else{var n=new hC(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}},{key:"__commitIterable",value:function(e){Array.isArray(this.value)||(this.value=[],this.clear());var n,r,i=this.value,o=0,a=fr(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;void 0===(n=i[o])&&(n=new t(this.options),i.push(n),0===o?n.appendIntoPart(this):n.insertAfterPart(i[o-1])),n.setValue(s),n.commit(),o++}}catch(t){a.e(t)}finally{a.f()}o<i.length&&(i.length=o,this.clear(n&&n.endNode))}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;$S(this.startNode.parentNode,t.nextSibling,this.endNode)}}]),t}(),wC=function(){function t(e,n,r){if($n(this,t),this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=n,this.strings=r}return Jn(t,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;uC(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=cC,t(this)}if(this.__pendingValue!==cC){var e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=cC}}}]),t}(),xC=function(t){Qn(n,t);var e=sr(n);function n(t,r,i){var o;return $n(this,n),(o=e.call(this,t,r,i)).single=2===i.length&&""===i[0]&&""===i[1],o}return Jn(n,[{key:"_createPart",value:function(){return new EC(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:lr(tr(n.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),n}(mC),EC=function(t){Qn(n,t);var e=sr(n);function n(){return $n(this,n),e.apply(this,arguments)}return n}(bC),kC=!1;!function(){try{var t={get capture(){return kC=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}}();var SC=function(){function t(e,n,r){var i=this;$n(this,t),this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=function(t){return i.handleEvent(t)}}return Jn(t,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;uC(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=cC,t(this)}if(this.__pendingValue!==cC){var e=this.__pendingValue,n=this.value,r=null==e||null!=n&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),i=null!=e&&(null==n||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=CC(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=cC}}},{key:"handleEvent",value:function(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}]),t}(),CC=function(t){return t&&(kC?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)};function TC(t){var e=NC.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},NC.set(t.type,e));var n=e.stringsArray.get(t.strings);if(void 0!==n)return n;var r=t.strings.join(ZS);return void 0===(n=e.keyString.get(r))&&(n=new tC(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}var NC=new Map,AC=new WeakMap,OC=new(function(){function t(){$n(this,t)}return Jn(t,[{key:"handleAttributeExpressions",value:function(t,e,n,r){var i=e[0];return"."===i?new xC(t,e.slice(1),n).parts:"@"===i?[new SC(t,e.slice(1),r.eventContext)]:"?"===i?[new wC(t,e.slice(1),n)]:new mC(t,e,n).parts}},{key:"handleTextExpression",value:function(t){return new _C(t)}}]),t}());
/**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");var PC=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new gC(t,n,"html",OC)},DC=function(t,e){return"".concat(t,"--").concat(e)},MC=!0;void 0===window.ShadyCSS?MC=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),MC=!1);var LC=function(t){return function(e){var n=DC(e.type,t),r=NC.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},NC.set(n,r));var i=r.stringsArray.get(e.strings);if(void 0!==i)return i;var o=e.strings.join(ZS);if(void 0===(i=r.keyString.get(o))){var a=e.getTemplateElement();MC&&window.ShadyCSS.prepareTemplateDom(a,t),i=new tC(e,a),r.keyString.set(o,i)}return r.stringsArray.set(e.strings,i),i}},IC=["html","svg"],RC=new Set,BC=function(t,e,n){RC.add(t);var r=n?n.element:document.createElement("template"),i=e.querySelectorAll("style"),o=i.length;if(0!==o){for(var a=document.createElement("style"),s=0;s<o;s++){var l=i[s];l.parentNode.removeChild(l),a.textContent+=l.textContent}!function(t){IC.forEach((function(e){var n=NC.get(DC(e,t));void 0!==n&&n.keyString.forEach((function(t){var e=t.element.content,n=new Set;Array.from(e.querySelectorAll("style")).forEach((function(t){n.add(t)})),oC(t,n)}))}))}(t);var u=r.content;n?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.element.content,i=t.parts;if(null!=n)for(var o=document.createTreeWalker(r,133,null,!1),a=sC(i),s=0,l=-1;o.nextNode();){l++;var u=o.currentNode;for(u===n&&(s=aC(e),n.parentNode.insertBefore(e,n));-1!==a&&i[a].index===l;){if(s>0){for(;-1!==a;)i[a].index+=s,a=sC(i,a);return}a=sC(i,a)}}else r.appendChild(e)}(n,a,u.firstChild):u.insertBefore(a,u.firstChild),window.ShadyCSS.prepareTemplateStyles(r,t);var c=u.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==c)e.insertBefore(c.cloneNode(!0),e.firstChild);else if(n){u.insertBefore(a,u.firstChild);var d=new Set;d.add(a),oC(n,d)}}else window.ShadyCSS.prepareTemplateStyles(r,t)};window.JSCompiler_renameProperty=function(t,e){return t};var jC={toAttribute:function(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute:function(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},FC=function(t,e){return e!==t&&(e==e||t==t)},zC={attribute:!0,type:String,converter:jC,reflect:!1,hasChanged:FC},VC=function(t){Qn(r,t);var e,n=sr(r);function r(){var t;return $n(this,r),(t=n.call(this)).initialize(),t}return Jn(r,[{key:"initialize",value:function(){var t=this;this._updateState=0,this._updatePromise=new Promise((function(e){return t._enableUpdatingResolver=e})),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}},{key:"_saveInstanceProperties",value:function(){var t=this;this.constructor._classProperties.forEach((function(e,n){if(t.hasOwnProperty(n)){var r=t[n];delete t[n],t._instanceProperties||(t._instanceProperties=new Map),t._instanceProperties.set(n,r)}}))}},{key:"_applyInstanceProperties",value:function(){var t=this;this._instanceProperties.forEach((function(e,n){return t[n]=e})),this._instanceProperties=void 0}},{key:"connectedCallback",value:function(){this.enableUpdating()}},{key:"enableUpdating",value:function(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,n){e!==n&&this._attributeToProperty(t,n)}},{key:"_propertyToAttribute",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zC,r=this.constructor,i=r._attributeNameForProperty(t,n);if(void 0!==i){var o=r._propertyValueToAttribute(e,n);if(void 0===o)return;this._updateState=8|this._updateState,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._updateState=-9&this._updateState}}},{key:"_attributeToProperty",value:function(t,e){if(!(8&this._updateState)){var n=this.constructor,r=n._attributeToPropertyMap.get(t);if(void 0!==r){var i=n.getPropertyOptions(r);this._updateState=16|this._updateState,this[r]=n._propertyValueFromAttribute(e,i),this._updateState=-17&this._updateState}}}},{key:"requestUpdateInternal",value:function(t,e,n){var r=!0;if(void 0!==t){var i=this.constructor;n=n||i.getPropertyOptions(t),i._valueHasChanged(this[t],e,n.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,n))):r=!1}!this._hasRequestedUpdate&&r&&(this._updatePromise=this._enqueueUpdate())}},{key:"requestUpdate",value:function(t,e){return this.requestUpdateInternal(t,e),this.updateComplete}},{key:"_enqueueUpdate",value:(e=Kn(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._updateState=4|this._updateState,t.prev=1,t.next=4,this._updatePromise;case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:if(null==(e=this.performUpdate())){t.next=12;break}return t.next=12,e;case 12:return t.abrupt("return",!this._hasRequestedUpdate);case 13:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(){return e.apply(this,arguments)})},{key:"performUpdate",value:function(){if(this._hasRequestedUpdate){this._instanceProperties&&this._applyInstanceProperties();var t=!1,e=this._changedProperties;try{(t=this.shouldUpdate(e))?this.update(e):this._markUpdated()}catch(e){throw t=!1,this._markUpdated(),e}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}}},{key:"_markUpdated",value:function(){this._changedProperties=new Map,this._updateState=-5&this._updateState}},{key:"_getUpdateComplete",value:function(){return this._updatePromise}},{key:"shouldUpdate",value:function(t){return!0}},{key:"update",value:function(t){var e=this;void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((function(t,n){return e._propertyToAttribute(n,e[n],t)})),this._reflectingProperties=void 0),this._markUpdated()}},{key:"updated",value:function(t){}},{key:"firstUpdated",value:function(t){}},{key:"_hasRequestedUpdate",get:function(){return 4&this._updateState}},{key:"hasUpdated",get:function(){return 1&this._updateState}},{key:"updateComplete",get:function(){return this._getUpdateComplete()}}],[{key:"_ensureClassProperties",value:function(){var t=this;if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;var e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((function(e,n){return t._classProperties.set(n,e)}))}}},{key:"createProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zC;if(this._ensureClassProperties(),this._classProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){var n="symbol"===Yn(t)?Symbol():"__".concat(t),r=this.getPropertyDescriptor(t,n,e);void 0!==r&&Object.defineProperty(this.prototype,t,r)}}},{key:"getPropertyDescriptor",value:function(t,e,n){return{get:function(){return this[e]},set:function(r){var i=this[t];this[e]=r,this.requestUpdateInternal(t,i,n)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(t){return this._classProperties&&this._classProperties.get(t)||zC}},{key:"finalize",value:function(){var t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var e,n=this.properties,r=fr([].concat(cr(Object.getOwnPropertyNames(n)),cr("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[])));try{for(r.s();!(e=r.n()).done;){var i=e.value;this.createProperty(i,n[i])}}catch(t){r.e(t)}finally{r.f()}}}},{key:"_attributeNameForProperty",value:function(t,e){var n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}},{key:"_valueHasChanged",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:FC;return n(t,e)}},{key:"_propertyValueFromAttribute",value:function(t,e){var n=e.type,r=e.converter||jC,i="function"==typeof r?r:r.fromAttribute;return i?i(t,n):t}},{key:"_propertyValueToAttribute",value:function(t,e){if(void 0!==e.reflect){var n=e.type,r=e.converter;return(r&&r.toAttribute||jC.toAttribute)(t,n)}}},{key:"observedAttributes",get:function(){var t=this;this.finalize();var e=[];return this._classProperties.forEach((function(n,r){var i=t._attributeNameForProperty(r,n);void 0!==i&&(t._attributeToPropertyMap.set(i,r),e.push(i))})),e}}]),r}(ir(HTMLElement));VC.finalized=!0;
/**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
var qC=function(t){return function(e){return"function"==typeof e?function(t,e){return window.customElements.define(t,e),e}(t,e):function(t,e){return{kind:e.kind,elements:e.elements,finisher:function(e){window.customElements.define(t,e)}}}(t,e)}};function HC(t){return function(e,n){return void 0!==n?function(t,e,n){e.constructor.createProperty(n,t)}(t,e,n):function(t,e){return"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?Object.assign(Object.assign({},e),{finisher:function(n){n.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer:function(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher:function(n){n.createProperty(e.key,t)}}}(t,e)}}function UC(t){return HC({attribute:!1,hasChanged:null==t?void 0:t.hasChanged})}function GC(t,e){return function(n,r){var i={get:function(){return this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};if(e){var o="symbol"===Yn(r)?Symbol():"__".concat(r);i.get=function(){return void 0===this[o]&&(this[o]=this.renderRoot.querySelector(t)),this[o]}}return void 0!==r?WC(i,n,r):YC(i,n)}}var WC=function(t,e,n){Object.defineProperty(e,n,t)},YC=function(t,e){return{kind:"method",placement:"prototype",key:e.key,descriptor:t}};function XC(t){return function(e,n){return void 0!==n?function(t,e,n){Object.assign(e[n],t)}(t,e,n):function(t,e){return Object.assign(Object.assign({},e),{finisher:function(n){Object.assign(n.prototype[e.key],t)}})}(t,e)}}
/**
  @license
  Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at
  http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
  http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
  found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
  part of the polymer project is also subject to an additional IP rights grant
  found at http://polymer.github.io/PATENTS.txt
  */var KC=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,$C=Symbol(),ZC=function(){function t(e,n){if($n(this,t),n!==$C)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}return Jn(t,[{key:"toString",value:function(){return this.cssText}},{key:"styleSheet",get:function(){return void 0===this._styleSheet&&(KC?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}}]),t}(),JC=function(t){if(t instanceof ZC)return t.cssText;if("number"==typeof t)return t;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(t,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))},QC=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n.reduce((function(e,n,r){return e+JC(n)+t[r+1]}),t[0]);return new ZC(i,$C)};(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");var tT={},eT=function(t){Qn(n,t);var e=sr(n);function n(){return $n(this,n),e.apply(this,arguments)}return Jn(n,[{key:"initialize",value:function(){lr(tr(n.prototype),"initialize",this).call(this),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}},{key:"createRenderRoot",value:function(){return this.attachShadow({mode:"open"})}},{key:"adoptStyles",value:function(){var t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?KC?this.renderRoot.adoptedStyleSheets=t.map((function(t){return t instanceof CSSStyleSheet?t:t.styleSheet})):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map((function(t){return t.cssText})),this.localName))}},{key:"connectedCallback",value:function(){lr(tr(n.prototype),"connectedCallback",this).call(this),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}},{key:"update",value:function(t){var e=this,r=this.render();lr(tr(n.prototype),"update",this).call(this,t),r!==tT&&this.constructor.render(r,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((function(t){var n=document.createElement("style");n.textContent=t.cssText,e.renderRoot.appendChild(n)})))}},{key:"render",value:function(){return tT}}],[{key:"getStyles",value:function(){return this.styles}},{key:"_getUniqueStyles",value:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_styles",this))){var t=this.getStyles();if(Array.isArray(t)){var e=function t(e,n){return e.reduceRight((function(e,n){return Array.isArray(n)?t(n,e):(e.add(n),e)}),n)}(t,new Set),n=[];e.forEach((function(t){return n.unshift(t)})),this._styles=n}else this._styles=void 0===t?[]:[t];this._styles=this._styles.map((function(t){if(t instanceof CSSStyleSheet&&!KC){var e=Array.prototype.slice.call(t.cssRules).reduce((function(t,e){return t+e.cssText}),"");return new ZC(String(e),$C)}return t}))}}}]),n}(VC);function nT(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Yn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function rT(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Yn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}eT.finalized=!0,eT.render=function(t,e,n){if(!n||"object"!==Yn(n)||!n.scopeName)throw new Error("The `scopeName` option is required.");var r=n.scopeName,i=AC.has(e),o=MC&&11===e.nodeType&&!!e.host,a=o&&!RC.has(r),s=a?document.createDocumentFragment():e;if(function(t,e,n){var r=AC.get(e);void 0===r&&($S(e,e.firstChild),AC.set(e,r=new _C(Object.assign({templateFactory:TC},n))),r.appendInto(e)),r.setValue(t),r.commit()}(t,s,Object.assign({templateFactory:LC(r)},n)),a){var l=AC.get(s);AC.delete(s);var u=l.value instanceof hC?l.value.template:void 0;BC(r,s,u),$S(e,e.firstChild),e.appendChild(s),AC.set(e,l)}!i&&o&&window.ShadyCSS.styleElement(e.host)};var iT=function(){},oT={get passive(){return!1}};document.addEventListener("x",iT,oT),document.removeEventListener("x",iT);var aT=function(t){Qn(n,t);var e=sr(n);function n(){return $n(this,n),e.apply(this,arguments)}return Jn(n,[{key:"click",value:function(){if(this.mdcRoot)return this.mdcRoot.focus(),void this.mdcRoot.click();lr(tr(n.prototype),"click",this).call(this)}},{key:"createFoundation",value:function(){void 0!==this.mdcFoundation&&this.mdcFoundation.destroy(),this.mdcFoundationClass&&(this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init())}},{key:"firstUpdated",value:function(){this.createFoundation()}}]),n}(eT),sT=function(t,e){return(sT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var lT=function(){return(lT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},uT=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}(),cT={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},dT={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},hT={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var fT=["touchstart","pointerdown","mousedown","keydown"],pT=["touchend","pointerup","mouseup","contextmenu"],gT=[],vT=function(t){function e(n){var r=t.call(this,lT(lT({},e.defaultAdapter),n))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(t){return r.activate_(t)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return function(t,e){function n(){this.constructor=t}sT(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return cT},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return dT},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return hT},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this,n=this.supportsPressRipple_();if(this.registerRootHandlers_(n),n){var r=e.cssClasses,i=r.ROOT,o=r.UNBOUNDED;requestAnimationFrame((function(){t.adapter.addClass(i),t.adapter.isUnbounded()&&(t.adapter.addClass(o),t.layoutInternal_())}))}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var n=e.cssClasses,r=n.ROOT,i=n.UNBOUNDED;requestAnimationFrame((function(){t.adapter.removeClass(r),t.adapter.removeClass(i),t.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},e.prototype.activate=function(t){this.activate_(t)},e.prototype.deactivate=function(){this.deactivate_()},e.prototype.layout=function(){var t=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){t.layoutInternal_(),t.layoutFrame_=0}))},e.prototype.setUnbounded=function(t){var n=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame((function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame((function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers_=function(t){var e=this;t&&(fT.forEach((function(t){e.adapter.registerInteractionHandler(t,e.activateHandler_)})),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},e.prototype.registerDeactivationHandlers_=function(t){var e=this;"keydown"===t.type?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):pT.forEach((function(t){e.adapter.registerDocumentInteractionHandler(t,e.deactivateHandler_)}))},e.prototype.deregisterRootHandlers_=function(){var t=this;fT.forEach((function(e){t.adapter.deregisterInteractionHandler(e,t.activateHandler_)})),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},e.prototype.deregisterDeactivationHandlers_=function(){var t=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),pT.forEach((function(e){t.adapter.deregisterDocumentInteractionHandler(e,t.deactivateHandler_)}))},e.prototype.removeCssVars_=function(){var t=this,n=e.strings;Object.keys(n).forEach((function(e){0===e.indexOf("VAR_")&&t.adapter.updateCssVariable(n[e],null)}))},e.prototype.activate_=function(t){var e=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState_;if(!n.isActivated){var r=this.previousActivationEvent_;if(!(r&&void 0!==t&&r.type!==t.type))n.isActivated=!0,n.isProgrammatic=void 0===t,n.activationEvent=t,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type)),void 0!==t&&gT.length>0&&gT.some((function(t){return e.adapter.containsEventTarget(t)}))?this.resetActivationState_():(void 0!==t&&(gT.push(t.target),this.registerDeactivationHandlers_(t)),n.wasElementMadeActive=this.checkElementMadeActive_(t),n.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){gT=[],n.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(n.wasElementMadeActive=e.checkElementMadeActive_(t),n.wasElementMadeActive&&e.animateActivation_()),n.wasElementMadeActive||(e.activationState_=e.defaultActivationState_())})))}}},e.prototype.checkElementMadeActive_=function(t){return void 0===t||"keydown"!==t.type||this.adapter.isSurfaceActive()},e.prototype.animateActivation_=function(){var t=this,n=e.strings,r=n.VAR_FG_TRANSLATE_START,i=n.VAR_FG_TRANSLATE_END,o=e.cssClasses,a=o.FG_DEACTIVATION,s=o.FG_ACTIVATION,l=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var u="",c="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates_(),h=d.startPoint,f=d.endPoint;u=h.x+"px, "+h.y+"px",c=f.x+"px, "+f.y+"px"}this.adapter.updateCssVariable(r,u),this.adapter.updateCssVariable(i,c),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(a),this.adapter.computeBoundingRect(),this.adapter.addClass(s),this.activationTimer_=setTimeout((function(){return t.activationTimerCallback_()}),l)},e.prototype.getFgTranslationCoordinates_=function(){var t,e=this.activationState_,n=e.activationEvent;return{startPoint:t={x:(t=e.wasActivatedByPointer?function(t,e,n){if(!t)return{x:0,y:0};var r,i,o=e.x,a=e.y,s=o+n.left,l=a+n.top;if("touchstart"===t.type){var u=t;r=u.changedTouches[0].pageX-s,i=u.changedTouches[0].pageY-l}else{var c=t;r=c.pageX-s,i=c.pageY-l}return{x:r,y:i}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:t.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},e.prototype.runDeactivationUXLogicIfReady_=function(){var t=this,n=e.cssClasses.FG_DEACTIVATION,r=this.activationState_,i=r.hasDeactivationUXRun,o=r.isActivated;(i||!o)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer_=setTimeout((function(){t.adapter.removeClass(n)}),hT.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses_=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState_=function(){var t=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return t.previousActivationEvent_=void 0}),e.numbers.TAP_DELAY_MS)},e.prototype.deactivate_=function(){var t=this,e=this.activationState_;if(e.isActivated){var n=lT({},e);e.isProgrammatic?(requestAnimationFrame((function(){return t.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){t.activationState_.hasDeactivationUXRun=!0,t.animateDeactivation_(n),t.resetActivationState_()})))}},e.prototype.animateDeactivation_=function(t){var e=t.wasActivatedByPointer,n=t.wasElementMadeActive;(e||n)&&this.runDeactivationUXLogicIfReady_()},e.prototype.layoutInternal_=function(){var t=this;this.frame_=this.adapter.computeBoundingRect();var n=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(t.frame_.width,2)+Math.pow(t.frame_.height,2))+e.numbers.PADDING;var r=Math.floor(n*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&r%2!=0?this.initialSize_=r-1:this.initialSize_=r,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},e.prototype.updateLayoutCssVars_=function(){var t=e.strings,n=t.VAR_FG_SIZE,r=t.VAR_LEFT,i=t.VAR_TOP,o=t.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize_+"px"),this.adapter.updateCssVariable(o,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(r,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords_.top+"px"))},e}(uT),yT=new WeakMap,mT=function(t){return function(){var e=t.apply(void 0,arguments);return yT.set(e,!0),e}},bT=function(t){return"function"==typeof t&&yT.has(t)},_T="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,wT=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e!==n;){var r=e.nextSibling;t.removeChild(e),e=r}},xT={},ET={},kT="{{lit-".concat(String(Math.random()).slice(2),"}}"),ST="\x3c!--".concat(kT,"--\x3e"),CT=function(t){return-1!==t.index},TT=function(){return document.createComment("")},NT=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/,AT=function(){function t(e,n,r){$n(this,t),this.__parts=[],this.template=e,this.processor=n,this.options=r}return Jn(t,[{key:"update",value:function(t){var e,n=0,r=fr(this.__parts);try{for(r.s();!(e=r.n()).done;){var i=e.value;void 0!==i&&i.setValue(t[n]),n++}}catch(t){r.e(t)}finally{r.f()}var o,a=fr(this.__parts);try{for(a.s();!(o=a.n()).done;){var s=o.value;void 0!==s&&s.commit()}}catch(t){a.e(t)}finally{a.f()}}},{key:"_clone",value:function(){for(var t,e=_T?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,i=document.createTreeWalker(e,133,null,!1),o=0,a=0,s=i.nextNode();o<r.length;)if(t=r[o],CT(t)){for(;a<t.index;)a++,"TEMPLATE"===s.nodeName&&(n.push(s),i.currentNode=s.content),null===(s=i.nextNode())&&(i.currentNode=n.pop(),s=i.nextNode());if("node"===t.type){var l=this.processor.handleTextExpression(this.options);l.insertAfterNode(s.previousSibling),this.__parts.push(l)}else{var u;(u=this.__parts).push.apply(u,cr(this.processor.handleAttributeExpressions(s,t.name,t.strings,this.options)))}o++}else this.__parts.push(void 0),o++;return _T&&(document.adoptNode(e),customElements.upgrade(e)),e}}]),t}(),OT=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:function(t){return t}}),PT=" ".concat(kT," "),DT=function(){function t(e,n,r,i){$n(this,t),this.strings=e,this.values=n,this.type=r,this.processor=i}return Jn(t,[{key:"getHTML",value:function(){for(var t=this.strings.length-1,e="",n=!1,r=0;r<t;r++){var i=this.strings[r],o=i.lastIndexOf("\x3c!--");n=(o>-1||n)&&-1===i.indexOf("--\x3e",o+1);var a=NT.exec(i);e+=null===a?i+(n?PT:ST):i.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+kT}return e+=this.strings[t]}},{key:"getTemplateElement",value:function(){var t=document.createElement("template"),e=this.getHTML();return void 0!==OT&&(e=OT.createHTML(e)),t.innerHTML=e,t}}]),t}(),MT=function(t){return null===t||!("object"===Yn(t)||"function"==typeof t)},LT=function(t){return Array.isArray(t)||!(!t||!t[Symbol.iterator])},IT=function(){function t(e,n,r){$n(this,t),this.dirty=!0,this.element=e,this.name=n,this.strings=r,this.parts=[];for(var i=0;i<r.length-1;i++)this.parts[i]=this._createPart()}return Jn(t,[{key:"_createPart",value:function(){return new RT(this)}},{key:"_getValue",value:function(){var t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){var r=n[0].value;if("symbol"===Yn(r))return String(r);if("string"==typeof r||!LT(r))return r}for(var i="",o=0;o<e;o++){i+=t[o];var a=n[o];if(void 0!==a){var s=a.value;if(MT(s)||!LT(s))i+="string"==typeof s?s:String(s);else{var l,u=fr(s);try{for(u.s();!(l=u.n()).done;){var c=l.value;i+="string"==typeof c?c:String(c)}}catch(t){u.e(t)}finally{u.f()}}}}return i+=t[e]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),t}(),RT=function(){function t(e){$n(this,t),this.value=void 0,this.committer=e}return Jn(t,[{key:"setValue",value:function(t){t===xT||MT(t)&&t===this.value||(this.value=t,bT(t)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;bT(this.value);){var t=this.value;this.value=xT,t(this)}this.value!==xT&&this.committer.commit()}}]),t}(),BT=function(){function t(e){$n(this,t),this.value=void 0,this.__pendingValue=void 0,this.options=e}return Jn(t,[{key:"appendInto",value:function(t){this.startNode=t.appendChild(TT()),this.endNode=t.appendChild(TT())}},{key:"insertAfterNode",value:function(t){this.startNode=t,this.endNode=t.nextSibling}},{key:"appendIntoPart",value:function(t){t.__insert(this.startNode=TT()),t.__insert(this.endNode=TT())}},{key:"insertAfterPart",value:function(t){t.__insert(this.startNode=TT()),this.endNode=t.endNode,t.endNode=this.startNode}},{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){if(null!==this.startNode.parentNode){for(;bT(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=xT,t(this)}var e=this.__pendingValue;e!==xT&&(MT(e)?e!==this.value&&this.__commitText(e):e instanceof DT?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):LT(e)?this.__commitIterable(e):e===ET?(this.value=ET,this.clear()):this.__commitText(e))}}},{key:"__insert",value:function(t){this.endNode.parentNode.insertBefore(t,this.endNode)}},{key:"__commitNode",value:function(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}},{key:"__commitText",value:function(t){var e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}},{key:"__commitTemplateResult",value:function(t){var e=this.options.templateFactory(t);if(this.value instanceof AT&&this.value.template===e)this.value.update(t.values);else{var n=new AT(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}},{key:"__commitIterable",value:function(e){Array.isArray(this.value)||(this.value=[],this.clear());var n,r,i=this.value,o=0,a=fr(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;void 0===(n=i[o])&&(n=new t(this.options),i.push(n),0===o?n.appendIntoPart(this):n.insertAfterPart(i[o-1])),n.setValue(s),n.commit(),o++}}catch(t){a.e(t)}finally{a.f()}o<i.length&&(i.length=o,this.clear(n&&n.endNode))}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;wT(this.startNode.parentNode,t.nextSibling,this.endNode)}}]),t}(),jT=function(){function t(e,n,r){if($n(this,t),this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=n,this.strings=r}return Jn(t,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;bT(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=xT,t(this)}if(this.__pendingValue!==xT){var e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=xT}}}]),t}(),FT=function(t){Qn(n,t);var e=sr(n);function n(t,r,i){var o;return $n(this,n),(o=e.call(this,t,r,i)).single=2===i.length&&""===i[0]&&""===i[1],o}return Jn(n,[{key:"_createPart",value:function(){return new zT(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:lr(tr(n.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),n}(IT),zT=function(t){Qn(n,t);var e=sr(n);function n(){return $n(this,n),e.apply(this,arguments)}return n}(RT),VT=!1;!function(){try{var t={get capture(){return VT=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}}();var qT=function(){function t(e,n,r){var i=this;$n(this,t),this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=function(t){return i.handleEvent(t)}}return Jn(t,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;bT(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=xT,t(this)}if(this.__pendingValue!==xT){var e=this.__pendingValue,n=this.value,r=null==e||null!=n&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),i=null!=e&&(null==n||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=HT(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=xT}}},{key:"handleEvent",value:function(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}]),t}(),HT=function(t){return t&&(VT?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)};new(function(){function t(){$n(this,t)}return Jn(t,[{key:"handleAttributeExpressions",value:function(t,e,n,r){var i=e[0];return"."===i?new FT(t,e.slice(1),n).parts:"@"===i?[new qT(t,e.slice(1),r.eventContext)]:"?"===i?[new jT(t,e.slice(1),n)]:new IT(t,e,n).parts}},{key:"handleTextExpression",value:function(t){return new BT(t)}}]),t}());
/**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");var UT=function(){function t(e){$n(this,t),this.classes=new Set,this.changed=!1,this.element=e;var n,r=fr((e.getAttribute("class")||"").split(/\s+/));try{for(r.s();!(n=r.n()).done;){var i=n.value;this.classes.add(i)}}catch(t){r.e(t)}finally{r.f()}}return Jn(t,[{key:"add",value:function(t){this.classes.add(t),this.changed=!0}},{key:"remove",value:function(t){this.classes.delete(t),this.changed=!0}},{key:"commit",value:function(){if(this.changed){var t="";this.classes.forEach((function(e){return t+=e+" "})),this.element.setAttribute("class",t)}}}]),t}(),GT=new WeakMap,WT=mT((function(t){return function(e){if(!(e instanceof RT)||e instanceof zT||"class"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");var n=e.committer,r=n.element,i=GT.get(e);void 0===i&&(r.setAttribute("class",n.strings.join(" ")),GT.set(e,i=new Set));var o=r.classList||new UT(r);for(var a in i.forEach((function(e){e in t||(o.remove(e),i.delete(e))})),t){var s=t[a];s!=i.has(a)&&(s?(o.add(a),i.add(a)):(o.remove(a),i.delete(a)))}"function"==typeof o.commit&&o.commit()}})),YT=new WeakMap,XT=mT((function(t){return function(e){if(!(e instanceof RT)||e instanceof zT||"style"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");var n=e.committer,r=n.element.style,i=YT.get(e);for(var o in void 0===i&&(r.cssText=n.strings.join(" "),YT.set(e,i=new Set)),i.forEach((function(e){e in t||(i.delete(e),-1===e.indexOf("-")?r[e]=null:r.removeProperty(e))})),t)i.add(o),-1===o.indexOf("-")?r[o]=t[o]:r.setProperty(o,t[o])}}));function KT(){var t=ur(['\n        <div class="mdc-ripple-surface mdc-ripple-upgraded ','"\n          style="','"></div>']);return KT=function(){return t},t}var $T=function(t){Qn(n,t);var e=sr(n);function n(){var t;return $n(this,n),(t=e.apply(this,arguments)).primary=!1,t.accent=!1,t.unbounded=!1,t.disabled=!1,t.activated=!1,t.selected=!1,t.hovering=!1,t.bgFocused=!1,t.fgActivation=!1,t.fgDeactivation=!1,t.fgScale="",t.fgSize="",t.translateStart="",t.translateEnd="",t.leftPos="",t.topPos="",t.mdcFoundationClass=vT,t}return Jn(n,[{key:"createAdapter",value:function(){var t=this;return{browserSupportsCssVars:function(){return!0},isUnbounded:function(){return t.unbounded},isSurfaceActive:function(){return t.isActive},isSurfaceDisabled:function(){return t.disabled},addClass:function(e){switch(e){case"mdc-ripple-upgraded--background-focused":t.bgFocused=!0;break;case"mdc-ripple-upgraded--foreground-activation":t.fgActivation=!0;break;case"mdc-ripple-upgraded--foreground-deactivation":t.fgDeactivation=!0}},removeClass:function(e){switch(e){case"mdc-ripple-upgraded--background-focused":t.bgFocused=!1;break;case"mdc-ripple-upgraded--foreground-activation":t.fgActivation=!1;break;case"mdc-ripple-upgraded--foreground-deactivation":t.fgDeactivation=!1}},containsEventTarget:function(){return!0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},registerDocumentInteractionHandler:function(){},deregisterDocumentInteractionHandler:function(){},registerResizeHandler:function(){},deregisterResizeHandler:function(){},updateCssVariable:function(e,n){switch(e){case"--mdc-ripple-fg-scale":t.fgScale=n;break;case"--mdc-ripple-fg-size":t.fgSize=n;break;case"--mdc-ripple-fg-translate-end":t.translateEnd=n;break;case"--mdc-ripple-fg-translate-start":t.translateStart=n;break;case"--mdc-ripple-left":t.leftPos=n;break;case"--mdc-ripple-top":t.topPos=n}},computeBoundingRect:function(){return(t.parentElement||t).getBoundingClientRect()},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}}}}},{key:"startPress",value:function(t){var e=this;this.waitForFoundation((function(){e.mdcFoundation.activate(t)}))}},{key:"endPress",value:function(){var t=this;this.waitForFoundation((function(){t.mdcFoundation.deactivate()}))}},{key:"startFocus",value:function(){var t=this;this.waitForFoundation((function(){t.mdcFoundation.handleFocus()}))}},{key:"endFocus",value:function(){var t=this;this.waitForFoundation((function(){t.mdcFoundation.handleBlur()}))}},{key:"startHover",value:function(){this.hovering=!0}},{key:"endHover",value:function(){this.hovering=!1}},{key:"waitForFoundation",value:function(t){this.mdcFoundation?t():this.updateComplete.then(t)}},{key:"render",value:function(){var t=this.activated&&(this.primary||!this.accent),e=this.selected&&(this.primary||!this.accent),n={"mdc-ripple-surface--accent":this.accent,"mdc-ripple-surface--primary--activated":t,"mdc-ripple-surface--accent--activated":this.accent&&this.activated,"mdc-ripple-surface--primary--selected":e,"mdc-ripple-surface--accent--selected":this.accent&&this.selected,"mdc-ripple-surface--disabled":this.disabled,"mdc-ripple-surface--hover":this.hovering,"mdc-ripple-surface--primary":this.primary,"mdc-ripple-surface--selected":this.selected,"mdc-ripple-upgraded--background-focused":this.bgFocused,"mdc-ripple-upgraded--foreground-activation":this.fgActivation,"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation,"mdc-ripple-upgraded--unbounded":this.unbounded};return PC(KT(),WT(n),XT({"--mdc-ripple-fg-scale":this.fgScale,"--mdc-ripple-fg-size":this.fgSize,"--mdc-ripple-fg-translate-end":this.translateEnd,"--mdc-ripple-fg-translate-start":this.translateStart,"--mdc-ripple-left":this.leftPos,"--mdc-ripple-top":this.topPos}))}},{key:"isActive",get:function(){return(this.parentElement||this).matches(":active")}}]),n}(aT);function ZT(){var t=ur(['.mdc-ripple-surface{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;position:relative;outline:none;overflow:hidden}.mdc-ripple-surface::before,.mdc-ripple-surface::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-ripple-surface::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-ripple-surface::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-ripple-surface.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface::before,.mdc-ripple-surface::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-ripple-surface:hover::before,.mdc-ripple-surface.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface::before,.mdc-ripple-surface::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-ripple-surface.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded],.mdc-ripple-upgraded--unbounded{overflow:visible}.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::after,.mdc-ripple-upgraded--unbounded::before,.mdc-ripple-upgraded--unbounded::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::before,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;display:block}:host .mdc-ripple-surface{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;will-change:unset}.mdc-ripple-surface--primary::before,.mdc-ripple-surface--primary::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary:hover::before,.mdc-ripple-surface--primary.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface--primary.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--primary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--primary--activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}.mdc-ripple-surface--primary--activated::before,.mdc-ripple-surface--primary--activated::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary--activated:hover::before,.mdc-ripple-surface--primary--activated.mdc-ripple-surface--hover::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}.mdc-ripple-surface--primary--activated.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--primary--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--primary--selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-ripple-surface--primary--selected::before,.mdc-ripple-surface--primary--selected::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary--selected:hover::before,.mdc-ripple-surface--primary--selected.mdc-ripple-surface--hover::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}.mdc-ripple-surface--primary--selected.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--primary--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--accent::before,.mdc-ripple-surface--accent::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent:hover::before,.mdc-ripple-surface--accent.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface--accent.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--accent.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--accent--activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}.mdc-ripple-surface--accent--activated::before,.mdc-ripple-surface--accent--activated::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent--activated:hover::before,.mdc-ripple-surface--accent--activated.mdc-ripple-surface--hover::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}.mdc-ripple-surface--accent--activated.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--accent--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--accent--selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-ripple-surface--accent--selected::before,.mdc-ripple-surface--accent--selected::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent--selected:hover::before,.mdc-ripple-surface--accent--selected.mdc-ripple-surface--hover::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}.mdc-ripple-surface--accent--selected.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--accent--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--disabled{opacity:0}']);return ZT=function(){return t},t}rT([GC(".mdc-ripple-surface")],$T.prototype,"mdcRoot",void 0),rT([HC({type:Boolean})],$T.prototype,"primary",void 0),rT([HC({type:Boolean})],$T.prototype,"accent",void 0),rT([HC({type:Boolean})],$T.prototype,"unbounded",void 0),rT([HC({type:Boolean})],$T.prototype,"disabled",void 0),rT([HC({type:Boolean})],$T.prototype,"activated",void 0),rT([HC({type:Boolean})],$T.prototype,"selected",void 0),rT([UC()],$T.prototype,"hovering",void 0),rT([UC()],$T.prototype,"bgFocused",void 0),rT([UC()],$T.prototype,"fgActivation",void 0),rT([UC()],$T.prototype,"fgDeactivation",void 0),rT([UC()],$T.prototype,"fgScale",void 0),rT([UC()],$T.prototype,"fgSize",void 0),rT([UC()],$T.prototype,"translateStart",void 0),rT([UC()],$T.prototype,"translateEnd",void 0),rT([UC()],$T.prototype,"leftPos",void 0),rT([UC()],$T.prototype,"topPos",void 0);var JT=QC(ZT()),QT=function(t){Qn(n,t);var e=sr(n);function n(){return $n(this,n),e.apply(this,arguments)}return n}($T);QT.styles=JT,QT=rT([qC("mwc-ripple")],QT);
/**
  @license
  Copyright 2020 Google Inc. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
  */
var tN=function t(e){$n(this,t),this.startPress=function(t){e().then((function(e){e&&e.startPress(t)}))},this.endPress=function(){e().then((function(t){t&&t.endPress()}))},this.startFocus=function(){e().then((function(t){t&&t.startFocus()}))},this.endFocus=function(){e().then((function(t){t&&t.endFocus()}))},this.startHover=function(){e().then((function(t){t&&t.startHover()}))},this.endHover=function(){e().then((function(t){t&&t.endHover()}))}};function eN(){var t=ur(['<button\n        class="mdc-icon-button"\n        aria-label="','"\n        ?disabled="','"\n        @focus="','"\n        @blur="','"\n        @mousedown="','"\n        @mouseenter="','"\n        @mouseleave="','"\n        @touchstart="','"\n        @touchend="','"\n        @touchcancel="','">\n      ','\n    <i class="material-icons">','</i>\n    <span class="default-slot-container">\n        <slot></slot>\n    </span>\n  </button>']);return eN=function(){return t},t}function nN(){var t=ur(['\n            <mwc-ripple\n                .disabled="','"\n                unbounded>\n            </mwc-ripple>']);return nN=function(){return t},t}var rN,iN=function(t){Qn(n,t);var e=sr(n);function n(){var t;return $n(this,n),(t=e.apply(this,arguments)).disabled=!1,t.icon="",t.label="",t.shouldRenderRipple=!1,t.rippleHandlers=new tN((function(){return t.shouldRenderRipple=!0,t.ripple})),t}return Jn(n,[{key:"renderRipple",value:function(){return this.shouldRenderRipple?PC(nN(),this.disabled):""}},{key:"focus",value:function(){var t=this.buttonElement;t&&(this.rippleHandlers.startFocus(),t.focus())}},{key:"blur",value:function(){var t=this.buttonElement;t&&(this.rippleHandlers.endFocus(),t.blur())}},{key:"render",value:function(){return PC(eN(),this.label||this.icon,this.disabled,this.handleRippleFocus,this.handleRippleBlur,this.handleRippleMouseDown,this.handleRippleMouseEnter,this.handleRippleMouseLeave,this.handleRippleTouchStart,this.handleRippleDeactivate,this.handleRippleDeactivate,this.renderRipple(),this.icon)}},{key:"handleRippleMouseDown",value:function(t){var e=this;window.addEventListener("mouseup",(function t(){window.removeEventListener("mouseup",t),e.handleRippleDeactivate()})),this.rippleHandlers.startPress(t)}},{key:"handleRippleTouchStart",value:function(t){this.rippleHandlers.startPress(t)}},{key:"handleRippleDeactivate",value:function(){this.rippleHandlers.endPress()}},{key:"handleRippleMouseEnter",value:function(){this.rippleHandlers.startHover()}},{key:"handleRippleMouseLeave",value:function(){this.rippleHandlers.endHover()}},{key:"handleRippleFocus",value:function(){this.rippleHandlers.startFocus()}},{key:"handleRippleBlur",value:function(){this.rippleHandlers.endFocus()}}]),n}(eT);function oN(){var t=ur(['.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:transparent;fill:currentColor;color:inherit;font-size:24px;text-decoration:none;cursor:pointer;user-select:none;width:48px;height:48px;padding:12px}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button:disabled{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-disabled-on-light, rgba(0, 0, 0, 0.38))}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}:host{display:inline-block;outline:none;--mdc-ripple-color: currentcolor;-webkit-tap-highlight-color:transparent}:host([disabled]){pointer-events:none}:host,.mdc-icon-button{vertical-align:top}.mdc-icon-button{width:var(--mdc-icon-button-size, 48px);height:var(--mdc-icon-button-size, 48px);padding:calc( (var(--mdc-icon-button-size, 48px) - var(--mdc-icon-size, 24px)) / 2 )}.mdc-icon-button>i{position:absolute;top:0;padding-top:inherit}.mdc-icon-button i,.mdc-icon-button svg,.mdc-icon-button img,.mdc-icon-button ::slotted(*){display:block;width:var(--mdc-icon-size, 24px);height:var(--mdc-icon-size, 24px)}']);return oN=function(){return t},t}nT([HC({type:Boolean,reflect:!0})],iN.prototype,"disabled",void 0),nT([HC({type:String})],iN.prototype,"icon",void 0),nT([HC({type:String})],iN.prototype,"label",void 0),nT([GC("button")],iN.prototype,"buttonElement",void 0),nT([(rN="mwc-ripple",function(t,e){var n={get:function(){var t=this;return Kn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateComplete;case 2:return e.abrupt("return",t.renderRoot.querySelector(rN));case 3:case"end":return e.stop()}}),e)})))()},enumerable:!0,configurable:!0};return void 0!==e?WC(n,t,e):YC(n,t)})],iN.prototype,"ripple",void 0),nT([UC()],iN.prototype,"shouldRenderRipple",void 0),nT([XC({passive:!0})],iN.prototype,"handleRippleMouseDown",null),nT([XC({passive:!0})],iN.prototype,"handleRippleTouchStart",null);var aN=QC(oN()),sN=function(t){Qn(n,t);var e=sr(n);function n(){return $n(this,n),e.apply(this,arguments)}return n}(iN);function lN(){var t=ur(["#422D53"]);return lN=function(){return t},t}function uN(){var t=ur(["#9875b7"]);return uN=function(){return t},t}function cN(){var t=ur(["#423500"]);return cN=function(){return t},t}function dN(){var t=ur(["#b28f00"]);return dN=function(){return t},t}function hN(){var t=ur(["#4B7900"]);return hN=function(){return t},t}function fN(){var t=ur(["#C7DAAD"]);return fN=function(){return t},t}function pN(){var t=ur(["#7fb3d2"]);return pN=function(){return t},t}function gN(){var t=ur(["#043954"]);return gN=function(){return t},t}function vN(){var t=ur(["#a0a0a0"]);return vN=function(){return t},t}function yN(){var t=ur(["#a0a0a0"]);return yN=function(){return t},t}function mN(){var t=ur(["#010101"]);return mN=function(){return t},t}function bN(){var t=ur(["#a0a0a0"]);return bN=function(){return t},t}function _N(){var t=ur(["#a0a0a0"]);return _N=function(){return t},t}function wN(){var t=ur(["#181c22"]);return wN=function(){return t},t}function xN(){var t=ur(["#fff"]);return xN=function(){return t},t}function EN(){var t=ur(["#cc3b3b"]);return EN=function(){return t},t}function kN(){var t=ur(["rgba(255, 255, 255, 0.25)"]);return kN=function(){return t},t}function SN(){var t=ur(["#a0a0a0"]);return SN=function(){return t},t}function CN(){var t=ur(["#0099e6"]);return CN=function(){return t},t}function TN(){var t=ur(["#222831"]);return TN=function(){return t},t}function NN(){var t=ur(["#72c1f5"]);return NN=function(){return t},t}function AN(){var t=ur(["#a0a0a0"]);return AN=function(){return t},t}function ON(){var t=ur(["#1a1a1a"]);return ON=function(){return t},t}function PN(){var t=ur(["#a0a0a0"]);return PN=function(){return t},t}function DN(){var t=ur(["#222831"]);return DN=function(){return t},t}function MN(){var t=ur(["#9875b7"]);return MN=function(){return t},t}function LN(){var t=ur(["#666"]);return LN=function(){return t},t}function IN(){var t=ur(["#B08D00"]);return IN=function(){return t},t}function RN(){var t=ur(["#666"]);return RN=function(){return t},t}function BN(){var t=ur(["#4B7900"]);return BN=function(){return t},t}function jN(){var t=ur(["#666"]);return jN=function(){return t},t}function FN(){var t=ur(["#065A85"]);return FN=function(){return t},t}function zN(){var t=ur(["#666"]);return zN=function(){return t},t}function VN(){var t=ur(["#fcfcfc"]);return VN=function(){return t},t}function qN(){var t=ur(["#fcfcfc"]);return qN=function(){return t},t}function HN(){var t=ur(["#000"]);return HN=function(){return t},t}function UN(){var t=ur(["#333"]);return UN=function(){return t},t}function GN(){var t=ur(["#fff"]);return GN=function(){return t},t}function WN(){var t=ur(["#333"]);return WN=function(){return t},t}function YN(){var t=ur(["#fff"]);return YN=function(){return t},t}function XN(){var t=ur(["#cc3b3b"]);return XN=function(){return t},t}function KN(){var t=ur(["rgba(255, 255, 255, 0.5)"]);return KN=function(){return t},t}function $N(){var t=ur(["#fff"]);return $N=function(){return t},t}function ZN(){var t=ur(["#0099e6"]);return ZN=function(){return t},t}function JN(){var t=ur(["#333"]);return JN=function(){return t},t}function QN(){var t=ur(["#99ddff"]);return QN=function(){return t},t}function tA(){var t=ur(["#fff"]);return tA=function(){return t},t}function eA(){var t=ur(["#1a1a1a"]);return eA=function(){return t},t}function nA(){var t=ur(["#fff"]);return nA=function(){return t},t}function rA(){var t=ur(["#333"]);return rA=function(){return t},t}function iA(){var t=ur(["#fcfcfc"]);return iA=function(){return t},t}function oA(){var t=ur(["#000"]);return oA=function(){return t},t}function aA(){var t=ur(["#000"]);return aA=function(){return t},t}function sA(){var t=ur(["#000"]);return sA=function(){return t},t}function lA(){var t=ur(["#fcfcfc"]);return lA=function(){return t},t}function uA(){var t=ur(["#000"]);return uA=function(){return t},t}function cA(){var t=ur(["#fafafa"]);return cA=function(){return t},t}function dA(){var t=ur(["#fff"]);return dA=function(){return t},t}function hA(){var t=ur(["#cc3b3b"]);return hA=function(){return t},t}function fA(){var t=ur(["rgba(0,0,0,0.2)"]);return fA=function(){return t},t}function pA(){var t=ur(["#fff"]);return pA=function(){return t},t}function gA(){var t=ur(["#2c6187"]);return gA=function(){return t},t}function vA(){var t=ur(["#fff"]);return vA=function(){return t},t}function yA(){var t=ur(["rgb(81,149,199)"]);return yA=function(){return t},t}function mA(){var t=ur(["#888"]);return mA=function(){return t},t}function bA(){var t=ur(["#e6e6e6"]);return bA=function(){return t},t}function _A(){var t=ur(["#666"]);return _A=function(){return t},t}function wA(){var t=ur(["#fff"]);return wA=function(){return t},t}function xA(){var t=ur(["#9875b7"]);return xA=function(){return t},t}function EA(){var t=ur(["#d3b3ef"]);return EA=function(){return t},t}function kA(){var t=ur(["#B08D00"]);return kA=function(){return t},t}function SA(){var t=ur(["#F9F3A6"]);return SA=function(){return t},t}function CA(){var t=ur(["#4B7900"]);return CA=function(){return t},t}function TA(){var t=ur(["#C7DAAD"]);return TA=function(){return t},t}function NA(){var t=ur(["#065A85"]);return NA=function(){return t},t}function AA(){var t=ur(["#AACDE1"]);return AA=function(){return t},t}function OA(){var t=ur(["#fcfcfc"]);return OA=function(){return t},t}function PA(){var t=ur(["#000"]);return PA=function(){return t},t}function DA(){var t=ur(["#000"]);return DA=function(){return t},t}function MA(){var t=ur(["#000"]);return MA=function(){return t},t}function LA(){var t=ur(["#fcfcfc"]);return LA=function(){return t},t}function IA(){var t=ur(["#000"]);return IA=function(){return t},t}function RA(){var t=ur(["#fafafa"]);return RA=function(){return t},t}function BA(){var t=ur(["#fff"]);return BA=function(){return t},t}function jA(){var t=ur(["#D39F0A"]);return jA=function(){return t},t}function FA(){var t=ur(["#fff"]);return FA=function(){return t},t}function zA(){var t=ur(["#cc3b3b"]);return zA=function(){return t},t}function VA(){var t=ur(["rgba(0,0,0,0.2)"]);return VA=function(){return t},t}function qA(){var t=ur(["#fff"]);return qA=function(){return t},t}function HA(){var t=ur(["#2c6187"]);return HA=function(){return t},t}function UA(){var t=ur(["#fff"]);return UA=function(){return t},t}function GA(){var t=ur(["rgb(81,149,199)"]);return GA=function(){return t},t}function WA(){var t=ur(["#888"]);return WA=function(){return t},t}function YA(){var t=ur(["#e6e6e6"]);return YA=function(){return t},t}function XA(){var t=ur(["#666"]);return XA=function(){return t},t}function KA(){var t=ur(["#fff"]);return KA=function(){return t},t}sN.styles=aN,sN=nT([qC("mwc-icon-button")],sN);var $A={primary:QC(KA()),on_primary:QC(XA()),primary_dark:QC(YA()),on_primary_dark:QC(WA()),secondary:QC(GA()),on_secondary:QC(UA()),secondary_dark:QC(HA()),on_secondary_dark:QC(qA()),shadows:QC(VA()),error:QC(zA()),on_error:QC(FA()),warning:QC(jA()),on_warning:QC(BA()),background:QC(RA()),edge:QC(IA()),node_bg:QC(LA()),node_bg_contrast:QC(MA()),node_border:QC(DA()),label_color:QC(PA()),label_color_contrast:QC(OA()),role:QC(AA()),role_dark:QC(NA()),attribute:QC(TA()),attribute_dark:QC(CA()),concept:QC(SA()),concept_dark:QC(kA()),individual:QC(EA()),individual_dark:QC(xA())},ZA={primary:QC(wA()),on_primary:QC(_A()),primary_dark:QC(bA()),on_primary_dark:QC(mA()),secondary:QC(yA()),on_secondary:QC(vA()),secondary_dark:QC(gA()),on_secondary_dark:QC(pA()),shadows:QC(fA()),error:QC(hA()),on_error:QC(dA()),background:QC(cA()),edge:QC(uA()),node_bg:QC(lA()),node_bg_contrast:QC(sA()),node_border:QC(aA()),label_color:QC(oA()),label_color_contrast:QC(iA())},JA={primary:QC(rA()),on_primary:QC(nA()),primary_dark:QC(eA()),on_primary_dark:QC(tA()),secondary:QC(QN()),on_secondary:QC(JN()),secondary_dark:QC(ZN()),on_secondary_dark:QC($N()),shadows:QC(KN()),error:QC(XN()),on_error:QC(YN()),background:QC(WN()),edge:QC(GN()),node_bg:QC(UN()),node_bg_contrast:QC(HN()),node_border:QC(qN()),label_color:QC(VN()),role:QC(zN()),role_dark:QC(FN()),attribute:QC(jN()),attribute_dark:QC(BN()),concept:QC(RN()),concept_dark:QC(IN()),individual:QC(LN()),individual_dark:QC(MN())},QA={primary:QC(DN()),on_primary:QC(PN()),primary_dark:QC(ON()),on_primary_dark:QC(AN()),secondary:QC(NN()),on_secondary:QC(TN()),secondary_dark:QC(CN()),on_secondary_dark:QC(SN()),shadows:QC(kN()),error:QC(EN()),on_error:QC(xN()),background:QC(wN()),edge:QC(_N()),node_bg:QC(bN()),node_bg_contrast:QC(mN()),node_border:QC(yN()),label_color:QC(vN()),role:QC(gN()),role_dark:QC(pN()),attribute_dark:QC(fN()),attribute:QC(hN()),concept_dark:QC(dN()),concept:QC(cN()),individual_dark:QC(uN()),individual:QC(lN())},tO=Object.freeze({__proto__:null,gscape:$A,classic:ZA,dark_old:JA,dark:QA});function eO(){var t=ur([""]);return eO=function(){return t},t}function nO(){var t=ur(['\n      :host, .gscape-panel{\n        font-family : "Open Sans","Helvetica Neue",Helvetica,sans-serif;\n        display: block;\n        position: absolute;\n        color: var(--theme-gscape-on-primary, ',");\n        background-color:var(--theme-gscape-primary, ",");\n        box-shadow: 0 2px 4px 0 var(--theme-gscape-shadows, ",");\n        border-radius: 8px;\n        transition: opacity 0.2s;\n        scrollbar-width: thin;\n        --mdc-icon-button-size: 24px;\n      }\n\n      :host(:hover){\n        box-shadow: 0 4px 8px 0 var(--theme-gscape-shadows, ",");\n      }\n\n      .hide {\n        display:none;\n      }\n\n      .widget-body {\n        width: 100%;\n        max-height:450px;\n        border-top:solid 1px var(--theme-gscape-shadows, ",');\n        border-bottom-left-radius: inherit;\n        border-bottom-right-radius: inherit;\n        overflow:auto;\n        scrollbar-width: inherit;\n      }\n\n      .gscape-panel {\n        position: absolute;\n        bottom: 40px;\n        width: auto;\n        padding:10px;\n        overflow: unset;\n        border: none;\n      }\n\n      .gscape-panel::after {\n        content: "";\n        position: absolute;\n        top: 100%;\n        left: 16px;\n        margin-left: -8px;\n        border-width: 8px;\n        border-style: solid;\n        border-color: #ddd transparent transparent transparent;\n      }\n\n      .gscape-panel-title{\n        font-weight: bold;\n        text-align: center;\n        margin-bottom: 10px;\n      }\n\n      .widget-body .section:last-of-type {\n        margin-bottom: 12px;\n      }\n\n      .widget-body .section-header {\n        text-align: center;\n        font-weight: bold;\n        border-bottom: solid 1px var(--theme-gscape-shadows, ',");\n        color: var(--theme-gscape-secondary, ",");\n        width: 85%;\n        margin: auto;\n        margin-bottom: 10px;\n        padding-bottom: 5px;\n      }\n\n      .description {\n        margin-bottom: 20px;\n      }\n\n      .description:last-of-type {\n        margin-bottom: 0;\n      }\n\n      .description .language {\n        min-width: 50px;\n        display: inline-block;\n        font-weight: bold;\n        color: var(--theme-gscape-secondary, ",");\n        margin: 5px;\n      }\n\n      .section { padding: 10px; }\n\n      .details_table{\n        border-spacing: 0;\n      }\n\n      .details_table th {\n        color: var(--theme-gscape-secondary, ",");\n        border-right: solid 1px var(--theme-gscape-shadows, ",");\n        font-weight: bold;\n        text-align:left;\n        min-width: 50px;\n      }\n\n      .details_table th, td {\n        padding:5px 8px;\n        white-space: nowrap;\n      }\n\n      .highlight:hover {\n        color: var(--theme-gscape-on-secondary, ",");\n        background-color:var(--theme-gscape-secondary, ",");\n      }\n\n      /* width */\n      ::-webkit-scrollbar {\n        width: 5px;\n        height: 5px;\n      }\n\n      /* Track */\n      ::-webkit-scrollbar-track {\n        background: #f0f0f0;\n      }\n\n      /* Handle */\n      ::-webkit-scrollbar-thumb {\n        background: #cdcdcd;\n      }\n\n      /* Handle on hover */\n      ::-webkit-scrollbar-thumb:hover {\n        background: #888;\n      }\n\n      .clickable {\n        font-weight:bold;\n        text-decoration: underline;\n      }\n\n      .clickable:hover {\n        cursor:pointer;\n        color: var(--theme-gscape-secondary-dark, ",");\n      }\n\n    "]);return nO=function(){return t},t}var rO=function(t){Qn(n,t);var e=sr(n);function n(){var t;return $n(this,n),(t=e.call(this)).draggable=!1,t.collapsible=!1,t.isEnabled=!0,t._hiddenDefault=!1,t.onselectstart=function(){},t.onToggleBody=function(){},t}return Jn(n,null,[{key:"properties",get:function(){return{isEnabled:{type:Boolean},hiddenDefault:{type:Boolean}}}},{key:"styles",get:function(){var t=$A;return[[QC(nO(),t.on_primary,t.primary,t.shadows,t.shadows,t.shadows,t.shadows,t.secondary,t.secondary,t.secondary,t.shadows,t.on_secondary,t.secondary,t.secondary_dark)],t]}}]),Jn(n,[{key:"render",value:function(){return PC(eO())}},{key:"toggleBody",value:function(){this.collapsible&&(this.header&&this.header.toggleIcon(),this.body&&this.body.classList.toggle("hide"),this.onToggleBody())}},{key:"collapseBody",value:function(){this.collapsible&&(this.header&&!this.isCollapsed&&this.header.toggleIcon(),this.body&&this.body.classList.add("hide"))}},{key:"showBody",value:function(){this.collapsible&&(this.header&&this.isCollapsed&&this.header.toggleIcon(),this.body&&this.body.classList.remove("hide"))}},{key:"firstUpdated",value:function(){this.header=this.shadowRoot.querySelector("gscape-head"),this.body=this.shadowRoot.querySelector(".widget-body"),this.collapsible&&this.addEventListener("toggle-widget-body",this.toggleBody),this.draggable&&this.makeDraggable()}},{key:"makeDraggable",value:function(){var t=0,e=0,n=0,r=0,i=this,o=this.shadowRoot.querySelector(".drag-handler");function a(o){o=o||window.event,t=n-o.clientX,e=r-o.clientY,n=o.clientX,r=o.clientY,i.style.top=i.offsetTop-e+"px",i.style.left=i.offsetLeft-t+"px"}function s(){document.onmouseup=null,document.onmousemove=null}o?o.onmousedown=function(t){t=t||window.event,n=t.clientX,r=t.clientY,document.onmouseup=s,document.onmousemove=a}:console.log("No .drag-handler elem for a ".concat(this.constructor.name," draggable instance"))}},{key:"show",value:function(){this.isEnabled&&(this.style.display="initial")}},{key:"hide",value:function(){this.style.display="none"}},{key:"enable",value:function(){this.isEnabled=!0,this.hiddenDefault||this.show()}},{key:"disable",value:function(){this.isEnabled=!1,this.hide()}},{key:"blur",value:function(){this.collapseBody()}},{key:"isCustomIcon",value:function(t){return"string"!=typeof t}},{key:"isVisible",get:function(){return"none"!==this.style.display}},{key:"hiddenDefault",set:function(t){this._hiddenDefault=t,t?this.hide():this.show(),this.requestUpdate()},get:function(){return this._hiddenDefault}},{key:"isCollapsed",get:function(){return!this.body||this.body.classList.contains("hide")}}]),n}(eT);function iO(){var t=ur(["\n      :host {\n        display:flex;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: var(--header-padding, 8px);\n      }\n\n      .head-btn {\n        color:var(--theme-gscape-on-primary, ",");\n        right:0;\n        cursor:pointer;\n      }\n\n      .head-btn:hover{\n        color:var(--theme-gscape-secondary, ",");\n      }\n\n      .head-title {\n        padding: var(--title-padding, 0 10px);\n        box-sizing: border-box;\n        font-weight:bold;\n        cursor:grab;\n        width: var(--title-width, '');\n        text-align: var(--title-text-align, 'left');\n        justify-self: flex-start;\n      }\n\n    "]);return iO=function(){return t},t}function oO(){var t=ur(['\n        <mwc-icon-button class="left-icon" icon="','"></mwc-icon-button>\n      ']);return oO=function(){return t},t}function aO(){var t=ur(["",""]);return aO=function(){return t},t}function sO(){var t=ur(['\n        <mwc-icon-button class="left-icon">\n          ',"\n        </mwc-icon-button>\n      "]);return sO=function(){return t},t}function lO(){var t=ur(["\n    ",'\n\n      <div class="head-title">\n        ','\n      </div>\n      <slot></slot>\n      <mwc-icon class="head-btn" @click="','">\n        ',"\n      </mwc-icon>\n    "]);return lO=function(){return t},t}var uO=function(t){Qn(n,t);var e=sr(n);function n(){var t;return $n(this,n),(t=e.call(this)).title="header",t.initial_icon="arrow_drop_down",t.secondary_icon="arrow_drop_up",t.icon=t.initial_icon,t.left_icon="",t.onClick=function(){},t}return Jn(n,null,[{key:"properties",get:function(){return{title:{type:String},initial_icon:{type:String},secondary_icon:{type:String},icon:{type:String},left_icon:{type:String}}}}]),Jn(n,[{key:"render",value:function(){return PC(lO(),this.isCustomIcon(this.left_icon)?PC(sO(),this.isCustomIcon(this.left_icon)?PC(aO(),this.left_icon):""):PC(oO(),this.left_icon),this.title,this.iconClickHandler,this.icon)}},{key:"iconClickHandler",value:function(){this.onClick(),this.toggleBody()}},{key:"toggleBody",value:function(){var t=new CustomEvent("toggle-widget-body",{bubbles:!0,composed:!0});this.dispatchEvent(t)}},{key:"invertIcons",value:function(){var t=[this.secondary_icon,this.initial_icon];this.initial_icon=t[0],this.secondary_icon=t[1],this.toggleIcon()}},{key:"toggleIcon",value:function(){this.icon=this.icon==this.initial_icon?this.secondary_icon:this.initial_icon}}],[{key:"styles",get:function(){var t=lr(tr(n),"styles",this)[1];return QC(iO(),t.on_primary,t.secondary)}}]),n}(rO);function cO(){var t=ur(['\n        <div\n          @click="','"\n          name="','"\n          diagram-id="','"\n          class="diagram-item highlight ','"\n        >\n          ',"\n        </div>\n        "]);return cO=function(){return t},t}function dO(){var t=ur(['\n      <gscape-head title="','" left_icon="dns"\n        class="drag-handler"></gscape-head>\n\n      <div class="widget-body hide">\n        ',"\n      </div>\n    "]);return dO=function(){return t},t}function hO(){var t=ur(["\n        :host {\n          top: 10px;\n          left: 10px;\n        }\n\n        .diagram-item {\n          cursor:pointer;\n          padding:5px 10px;\n        }\n\n        .diagram-item:last-of-type {\n          border-radius: inherit;\n        }\n\n        .selected {\n          background-color: var(--theme-gscape-primary-dark, ",");\n          color: var(--theme-gscape-on-primary-dark, ",");\n          font-weight: bold;\n        }\n      "]);return hO=function(){return t},t}customElements.define("gscape-head",uO);var fO=function(t){Qn(n,t);var e=sr(n);function n(t){var r;return $n(this,n),(r=e.call(this)).draggable=!0,r.collapsible=!0,r.diagrams=t,r.actual_diagram_id=null,r.default_title="Select a Diagram",r._onDiagramChange=null,r}return Jn(n,null,[{key:"properties",get:function(){return[lr(tr(n),"properties",this),{actual_diagram_id:String}]}},{key:"styles",get:function(){var t=lr(tr(n),"styles",this),e=t[1];return[t[0],QC(hO(),e.primary_dark,e.on_primary_dark)]}}]),Jn(n,[{key:"render",value:function(){var t=this;return PC(dO(),this.default_title,this.diagrams.map((function(e,n){return PC(cO(),t.changeDiagram,e.name,n,n==t.actual_diagram_id?"selected":"",e.name)})))}},{key:"changeDiagram",value:function(t){this.shadowRoot.querySelector(".selected")&&this.shadowRoot.querySelector(".selected").classList.remove("selected"),t.target.classList.add("selected");var e=t.target.getAttribute("diagram-id");this.toggleBody(),this.actual_diagram_id=e,this._onDiagramChange(e)}},{key:"onDiagramChange",set:function(t){this._onDiagramChange=t}},{key:"actual_diagram_id",set:function(t){this._actual_diagram_id=t,null!=t&&(this.header.title=this.diagrams[t].name),this.requestUpdate()},get:function(){return this._actual_diagram_id}},{key:"actual_diagram",get:function(){return this._actual_diagram}}]),n}(rO);function pO(){var t=ur(['\n                <div class="sub-row highlight"\n                  diagram_id="','"\n                  node_id="','"\n                  @click="','"\n                >\n                  - '," - ","\n                </div>\n              "]);return pO=function(){return t},t}function gO(){var t=ur(['\n          <div>\n            <div\n              id="','"\n              class="row highlight"\n              type="','"\n              label = "',"\"\n            >\n              <span><mwc-icon @click='","'>keyboard_arrow_right</mwc-icon></span>\n              <span>",'</span>\n              <div class="row-label" @click=\'',"'>",'</div>\n            </div>\n\n            <div class="sub-rows-wrapper hide">\n            ',"\n            </div>\n          </div>\n        "]);return gO=function(){return t},t}function vO(){var t=ur(['\n      <gscape-head title="Explorer" left_icon="explore" class="drag-handler">\n        <input\n          type="text"\n          autocomplete="off"\n          @keyup="','"\n          placeholder="Search Entities"\n        />\n      </gscape-head>\n\n      <div class="widget-body hide">\n      ',"\n      </div>\n    "]);return vO=function(){return t},t}function yO(){var t=ur(['\n        <div class="type-img type-img-','">',"<div>\n      "]);return yO=function(){return t},t}function mO(){var t=ur(["\n        :host {\n          left:50%;\n          top:10px;\n          min-width:370px;\n          max-width:450px;\n          transform: translate(-50%, 0);\n        }\n\n        .widget-body {\n          overflow:auto;\n        }\n\n        .row{\n          line-height: 0;\n          display: flex;\n          align-items: center;\n          padding:4px 0;\n        }\n\n        .row-label{\n          padding-left:5px;\n          cursor:pointer;\n          width:100%;\n          white-space: nowrap;\n        }\n\n        mwc-icon:hover{\n          color: var(--theme-gscape-primary, ",");\n          cursor:pointer;\n        }\n\n        .type-img{\n          width: 20px;\n          height: 20px;\n          text-align: center;\n          line-height: 20px;\n        }\n\n        .type-img-A{\n          background-color: var(--theme-graph-attribute, ",");\n          color: var(--theme-graph-attribute-dark, ",");\n          border: solid 1px var(--theme-graph-attribute-dark, ",");\n        }\n\n        .type-img-R{\n          background-color: var(--theme-graph-role, ",");\n          color: var(--theme-graph-role-dark, ",");\n          border: solid 1px var(--theme-graph-role-dark, ",");\n        }\n\n        .type-img-C{\n          background-color: var(--theme-graph-concept, ",");\n          color: var(--theme-graph-concept-dark, ",");\n          border: solid 1px var(--theme-graph-concept-dark, ",");\n        }\n\n        .type-img-I{\n          background-color: var(--theme-graph-individual, ",");\n          color: var(--theme-graph-individual-dark, ",");\n          border: solid 1px var(--theme-graph-individual-dark, ",");\n        }\n\n        .sub-row{\n          background-color: var(--theme-gscape-primary-dark, ",");\n          padding: 4px 0 4px 34px;\n          cursor: pointer;\n        }\n\n        .sub-rows-wrapper{\n          padding: 2px 0;\n        }\n\n        .add-shadow{\n          box-shadow: 0 2px 2px 0 var(--theme-gscape-shadows, ",");\n        }\n\n        gscape-head input {\n          position:initial;\n          left: 30%;\n          width: 50%;\n          padding: 0 10px;\n          line-height:23px;\n          box-sizing: border-box;\n          background-color: var(--theme-gscape-primary, ",");\n          border:none;\n          border-bottom: 1px solid var(--theme-gscape-shadows, ",");\n          transition: width .35s ease-in-out;\n          color:inherit;\n          flex-grow:2;\n          font-size:inherit;\n        }\n\n        gscape-head input:focus {\n          position:absolute;\n          border-color: var(--theme-gscape-secondary, ",");\n          left: 34px;\n          margin: 0px 8px;\n          width:75%;\n        }\n      "]);return mO=function(){return t},t}customElements.define("gscape-diagram-selector",fO);var bO=function(t){Qn(n,t);var e=sr(n);function n(t,r){var i;return $n(this,n),(i=e.call(this)).draggable=!0,i.collapsible=!0,i.diagrams=r,i.predicates=t,i.onEntitySelect={},i.onNodeNavigation={},i}return Jn(n,null,[{key:"properties",get:function(){return[lr(tr(n),"properties",this),{predicates:Object}]}},{key:"styles",get:function(){var t=lr(tr(n),"styles",this),e=t[1];return[t[0],QC(mO(),e.primary,e.attribute,e.attribute_dark,e.attribute_dark,e.role,e.role_dark,e.role_dark,e.concept,e.concept_dark,e.concept_dark,e.individual,e.individual_dark,e.individual_dark,e.primary_dark,e.shadows,e.primary,e.shadows,e.secondary)]}}]),Jn(n,[{key:"render",value:function(){var t=this;return PC(vO(),this.search,Object.keys(this.predicates).map((function(e){var n,r,i=t.predicates[e];return PC(gO(),i.subrows[0].id,i.type,i.label,t.toggleSubRows,(n=i.type,r=n.charAt(0).toUpperCase(),PC(yO(),r,r)),t.handleEntitySelection,i.label,i.subrows.map((function(e){return PC(pO(),e.diagram.id,e.id,t.handleNodeSelection,e.diagram.name,e.id_xml)})))})))}},{key:"toggleSubRows",value:function(t){var e=t.target.parentNode.parentNode.parentNode;e.querySelector(".sub-rows-wrapper").classList.toggle("hide"),t.target.innerHTML="keyboard_arrow_right"==t.target.innerHTML?"keyboard_arrow_down":"keyboard_arrow_right",e.querySelector(".row").classList.toggle("add-shadow")}},{key:"search",value:function(t){27==t.keyCode&&t.target.blur();var e=t.target.value.toLowerCase();""===e?this.collapseBody():this.showBody(),this.shadowRoot.querySelectorAll(".row").forEach((function(t){e.split(" ").forEach((function(e){t.getAttribute("label").toLowerCase().indexOf(e)>-1||t.getAttribute("type").toLowerCase().indexOf(e)>-1?t.style.display="":t.style.display="none"}))})),t.target.focus()}},{key:"handleEntitySelection",value:function(t){var e=t.target.parentNode.getAttribute("id");this.onEntitySelect(e,!0)}},{key:"handleNodeSelection",value:function(t){this.collapseBody();var e=t.target.getAttribute("node_id");this.onNodeNavigation(e)}},{key:"blur",value:function(){lr(tr(n.prototype),"blur",this).call(this),this.shadowRoot.querySelector("input").blur()}},{key:"predicates",get:function(){return this._predicates},set:function(t){var e=function(t){return{id:t.id,id_xml:t.id_xml,diagram:{id:t.diagram_id,name:this.diagrams[t.diagram_id].name}}}.bind(this),n=[];t.forEach((function(t){var r=t.displayed_name.replace(/\r?\n|\r/g,""),i=r.concat(t.type);i in n||(n[i]={type:t.type,label:r,subrows:[]}),n[i].subrows.push(e(t))})),this._predicates=n}}]),n}(rO);function _O(){var t=ur([""]);return _O=function(){return t},t}function wO(){var t=ur(['<span class="language">',"</span>"]);return wO=function(){return t},t}function xO(){var t=ur(['\n            <div class="description" lang="','">\n              ','\n              <span class="descr-text"></span>\n            </div>\n          ']);return xO=function(){return t},t}function EO(){var t=ur(['\n      <div class="section">\n        <div class="section-header"> Description </div>\n        ',"\n      </div>\n    "]);return EO=function(){return t},t}function kO(){var t=ur(['<th rowspan="3">',"</th>"]);return kO=function(){return t},t}function SO(){var t=ur(["\n                  <tr>\n                    ",'\n                    <td class="language">',"</td>\n                    <td>","</td>\n                  </tr>\n                "]);return SO=function(){return t},t}function CO(){var t=ur(['\n            <tbody class="annotation-row">\n              ',"\n            </tbody>\n          "]);return CO=function(){return t},t}function TO(){var t=ur(['\n      <div class="section">\n        <div class="section-header">Annotations</div>\n        <table class="details_table annotations">\n        ',"\n        </table>\n      </div>\n    "]);return TO=function(){return t},t}function NO(){var t=ur(["\n    ","\n\n  ","\n  "]);return NO=function(){return t},t}customElements.define("gscape-explorer",bO);var AO=function(t){return PC(NO(),t.annotations&&Object.keys(t.annotations).length>0?PC(TO(),Object.keys(t.annotations).map((function(e){var n=t.annotations[e];return PC(CO(),Object.keys(n).map((function(t,r){return PC(SO(),0==r?PC(kO(),e.charAt(0).toUpperCase()+e.slice(1)):"",t,n[t])})))}))):"",t.description&&Object.keys(t.description).length>0?PC(EO(),Object.keys(t.description).map((function(t){return PC(xO(),t,""!=t?PC(wO(),t):"")}))):PC(_O()))};function OO(){var t=ur(["\n            <tr>\n              <th>",'</th>\n              <td node_id="','" class="clickable" @click="','">',"</td>\n            </tr>\n          "]);return OO=function(){return t},t}function PO(){var t=ur(['\n      <table class="details_table">\n        <tbody>\n        ',"\n        </tbody>\n      </table>\n    "]);return PO=function(){return t},t}function DO(){var t=ur(["",""]);return DO=function(){return t},t}function MO(){var t=ur([""]);return MO=function(){return t},t}function LO(){var t=ur([""]);return LO=function(){return t},t}function IO(){var t=ur(['<span class="chip">&#10003; ',"</span>"]);return IO=function(){return t},t}function RO(){var t=ur([""]);return RO=function(){return t},t}function BO(){var t=ur(["\n                <tr>\n                  <th>IRI</th>\n                  <td>","</td>\n                </tr>\n                "]);return BO=function(){return t},t}function jO(){var t=ur(['\n            <div class="section">\n              <table class="details_table">\n                <tr>\n                  <th>Name</th>\n                  <td class="wiki" @click="','">',"</td>\n                </tr>\n                <tr>\n                  <th>Type</th>\n                  <td>","</td>\n                </tr>\n                ",'\n              </table>\n            </div>\n\n            <div class="chips-wrapper">\n              ',"\n            </div>\n\n            ","\n          "]);return jO=function(){return t},t}function FO(){var t=ur(['\n      <gscape-head title="Entity Details" left_icon="info" class="drag-handler"></gscape-head>\n      <div class="widget-body">\n        ',"\n      </div>\n    "]);return FO=function(){return t},t}function zO(){var t=ur(["\n        :host {\n          top:10px;\n          right:62px;\n          width:400px;\n        }\n\n        .chips-wrapper {\n          padding: 0 10px;\n        }\n\n        .descr-header {\n          text-align: center;\n          padding: 12px;\n          font-weight: bold;\n          border-bottom: solid 1px var(--theme-gscape-shadows, ",");\n          color: var(--theme-gscape-secondary, ",");\n          width: 85%;\n          margin: auto;\n        }\n\n        gscape-head {\n          --title-text-align: center;\n          --title-width: 100%;\n        }\n\n        .chip {\n          display: inline-block;\n          margin: 4px;\n          padding: 3px 8px;\n          border-radius: 32px;\n          border: 1px solid var(--theme-gscape-secondary, ",");\n          color: var(--theme-gscape-secondary, ",");\n          font-size: 13px;\n        }\n\n        .language {\n          text-align: center;\n          font-size: 14px;\n        }\n\n        tbody:nth-child(n+2)::before {\n          content: '';\n          display: table-row;\n          height: 20px;\n        }\n      "]);return zO=function(){return t},t}var VO=function(t){Qn(n,t);var e=sr(n);function n(){var t;return $n(this,n),(t=e.call(this)).draggable=!0,t.collapsible=!0,t.hiddenDefault=!0,t._entity=null,t.properties={functional:"Functional",inverseFunctional:"Inverse Functional",symmetric:"Symmetric",asymmetric:"Asymmetric",reflexive:"Reflexive",irreflexive:"Irreflexive",transitive:"Transitive"},t.onNodeNavigation={},t}return Jn(n,null,[{key:"properties",get:function(){return[lr(tr(n),"properties",this),{entity:{type:Object}}]}},{key:"styles",get:function(){var t=lr(tr(n),"styles",this),e=t[1];return[t[0],QC(zO(),e.shadows,e.secondary,e.secondary,e.secondary)]}}]),Jn(n,[{key:"render",value:function(){var t=this;return PC(FO(),this.entity?PC(jO(),this.wikiClickHandler,this.entity.iri.remaining_chars,this.entity.type,"individual"!=this.entity.type?PC(BO(),this.entity.iri.full_iri):PC(RO()),Object.keys(this.properties).map((function(e){return t.entity[e]?PC(IO(),t.properties[e]):PC(LO())})),AO(this.entity)):PC(MO()))}},{key:"wikiClickHandler",value:function(t){this._onWikiClick&&this._onWikiClick(this.entity.iri.full_iri)}},{key:"updated",value:function(){this.entity&&this.entity.description&&this.renderDescription(this.entity.description),this._onWikiClick&&this.shadowRoot.querySelectorAll(".wiki").forEach((function(t){t.classList.add("clickable")}))}},{key:"renderDescription",value:function(t){var e,n,r=this;Object.keys(t).forEach((function(i){n="",e=r.shadowRoot.querySelector('[lang = "'.concat(i,'"] > .descr-text')),t[i].forEach((function(t,e){n+=e>0?"<p>"+t.replace(/(href=.)\/predicate\//g,"$1/documentation/predicate/")+"</p>":t.replace(/(href=.)\/predicate\//g,"$1/documentation/predicate/")})),e.innerHTML=n}))}},{key:"handleNodeSelection",value:function(t){var e=t.target.getAttribute("node_id");this.onNodeNavigation(e)}},{key:"firstUpdated",value:function(){lr(tr(n.prototype),"firstUpdated",this).call(this),this.header.invertIcons()}},{key:"blur",value:function(){this.hide()}},{key:"onWikiClick",set:function(t){this._onWikiClick=t}},{key:"entity",set:function(t){var e=this.entity;switch(this._entity=t,this._entity.type){case"concept":this._entity.type="Class";break;case"role":this._entity.type="Object Property";break;case"attribute":this._entity.type="Data Property"}this.requestUpdate("entity",e)},get:function(){return this._entity}}]),n}(rO);function qO(){var t=ur([':host{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}']);return qO=function(){return t},t}customElements.define("gscape-entity-details",VO);var HO=QC(qO()),UO=document.createElement("link");
/**
  @license
  Copyright 2018 Google Inc. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
  */function GO(){var t=ur(["<slot></slot>"]);return GO=function(){return t},t}UO.rel="stylesheet",UO.href="https://fonts.googleapis.com/icon?family=Material+Icons",document.head.appendChild(UO);var WO=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Yn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},YO=function(t){Qn(n,t);var e=sr(n);function n(){return $n(this,n),e.apply(this,arguments)}return Jn(n,[{key:"render",value:function(){return PC(GO())}}]),n}(eT);function XO(){var t=ur(['<span class="btn-label">',"<span>"]);return XO=function(){return t},t}function KO(){var t=ur(['\n      <div\n        class="btn"\n        ?active = "','"\n        @click="','"\n        title="','">\n\n        <mwc-icon>',"</mwc-icon>\n        ","\n      </div>\n    "]);return KO=function(){return t},t}function $O(){var t=ur(["\n\n        mwc-icon {\n          font-size: var(--gscape-button-font-size, 24px)\n        }\n\n        .btn {\n          padding:5px;\n          line-height:0;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n        }\n\n        .btn-label {\n          font-weight: var(--gscape-button-font-weight, 600);\n          padding: 0 5px 0 8px;\n        }\n\n        .btn:hover {\n          color: var(--theme-gscape-secondary, ",");\n        }\n\n        .btn[active] {\n          color: var(--theme-gscape-secondary, ",");\n        }\n      "]);return $O=function(){return t},t}YO.styles=HO,YO=WO([qC("mwc-icon")],YO);var ZO=function(t){Qn(n,t);var e=sr(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return $n(this,n),(i=e.call(this)).draggable=o,i.icon=t,i.alternate_icon=r||t,i.onClick=function(){},i.highlight=!1,i.active=!1,i.label="",i}return Jn(n,null,[{key:"properties",get:function(){return{icon:{type:String},active:{type:Boolean},label:{type:String}}}},{key:"styles",get:function(){var t=lr(tr(n),"styles",this),e=t[1];return[t[0],QC($O(),e.secondary,e.secondary)]}}]),Jn(n,[{key:"render",value:function(){return PC(KO(),this.active,this.clickHandler,this.icon,this.icon,this.label?PC(XO(),this.label):"")}},{key:"clickHandler",value:function(){this.highlight&&(this.active=!this.active),this.toggleIcon(),this._onClick()}},{key:"toggleIcon",value:function(){var t=this._icon;this.icon=this._alternate_icon,this.alternate_icon=t}},{key:"firstUpdated",value:function(){lr(tr(n.prototype),"firstUpdated",this).call(this),this.shadowRoot.querySelector("mwc-icon").onselectstart=function(){return!1}}},{key:"icon",set:function(t){var e=this._icon;this._icon=t,this.requestUpdate("icon",e)},get:function(){return this._icon}},{key:"alternate_icon",set:function(t){var e=this._alternate_icon;this._alternate_icon=t,this.requestUpdate("alternative_icon",e)}},{key:"onClick",set:function(t){this._onClick=t}}]),n}(rO);function JO(){var t=ur(['<span class="toggle-label">',"</span>"]);return JO=function(){return t},t}function QO(){var t=ur([""]);return QO=function(){return t},t}function tP(){var t=ur([""]);return tP=function(){return t},t}function eP(){var t=ur(['\n    <div class="toggle-container">\n      ','\n      <label class="toggle-wrap">\n        <input id="','" type="checkbox"\n          ?checked="','"\n          ?disabled="','"\n          @click="','"\n        />\n        <span class="toggle"></span>\n      </label>\n      ',"\n    </div>\n    "]);return eP=function(){return t},t}function nP(){var t=ur(['\n        :host {\n          display: flex;\n        }\n\n        .toggle-container {\n          white-space: nowrap;\n          display: flex;\n          align-items: center;\n        }\n\n        .toggle-wrap {\n          width: 33px;\n          height: 19px;\n          display: inline-block;\n          position: relative;\n        }\n\n        .toggle {\n          position: absolute;\n          cursor: pointer;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: #ccc;\n          transition: checked 0.2s;\n          border-radius: 19px;\n        }\n\n        .toggle::before {\n          position: absolute;\n          content: "";\n          height: 11px;\n          width: 11px;\n          left: 4px;\n          bottom: 4px;\n          background-color: var(--theme-gscape-primary, ',");\n          transition: .1s;\n          border-radius: 20px;\n        }\n\n        .toggle-wrap input {\n          display:none;\n        }\n\n        .toggle-wrap input:checked + .toggle {\n          background-color: var(--theme-gscape-secondary, ",");\n        }\n\n        .toggle-wrap input:checked + .toggle::before {\n          -webkit-transform: translateX(14px);\n          -ms-transform: translateX(14px);\n          transform: translateX(14px);\n        }\n\n        .toggle-wrap input:disabled + .toggle {\n          opacity:0.25;\n        }\n\n        .toggle-label {\n          margin: 0 15px;\n        }\n      "]);return nP=function(){return t},t}customElements.define("gscape-button",ZO);var rP=function(t){Qn(n,t);var e=sr(n);function n(t,r,i,o,a){var s,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return $n(this,n),(s=e.call(this)).key=t||"",s.inverse=l,s.state=r||!1,s.disabled=i||!1,s.onToggle=a||{},s.label=o||"",s.label_pos="left",s}return Jn(n,null,[{key:"properties",get:function(){return{state:{type:Boolean},disabled:{type:Boolean},label:{type:String},key:{type:String},checked:{type:Boolean}}}},{key:"styles",get:function(){var t=lr(tr(n),"styles",this)[1];return QC(nP(),t.primary,t.secondary)}}]),Jn(n,[{key:"render",value:function(){return PC(eP(),"left"==this.label_pos?this.label_span:PC(tP()),this.key,this.checked,this.disabled,this.clickHandler,"right"==this.label_pos?this.label_span:PC(QO()))}},{key:"clickHandler",value:function(t){this.state=!this.state,this.onToggle(t)}},{key:"updated",value:function(t){this.shadowRoot.querySelector("#".concat(this.key)).checked=this.checked}},{key:"state",set:function(t){this._state=t,this.checked=this.inverse?!t:t},get:function(){return this._state}},{key:"label_span",get:function(){return PC(JO(),this.label)}}]),n}(rO);function iP(){var t=ur(["\n              ","\n            "]);return iP=function(){return t},t}function oP(){var t=ur(["\n      ",'\n\n      <div class="widget-body hide gscape-panel">\n        <div class="gscape-panel-title">Filters</div>\n\n        <div class="filters-wrapper">\n          ',"\n        </div>\n      </div>\n    "]);return oP=function(){return t},t}function aP(){var t=ur(["\n        :host {\n          display:inline-block;\n          position: initial;\n          margin-right:10px;\n        }\n\n        gscape-button{\n          position: static;\n        }\n\n        gscape-toggle {\n          padding: 8px;\n        }\n\n        gscape-toggle[first]{\n          justify-content: center;\n          border-bottom: 1px solid #ccc;\n          margin-bottom: 10px;\n          padding: 10px;\n        }\n      "]);return aP=function(){return t},t}customElements.define("gscape-toggle",rP);var sP=function(t){Qn(n,t);var e=sr(n);function n(t){var r;return $n(this,n),(r=e.call(this)).collapsible=!0,r.filters=t,r.btn=new ZO("filter_list"),r.btn.onClick=r.toggleBody.bind(or(r)),r.btn.active=!1,r.onFilterOn=function(){},r.onFilterOff=function(){},r}return Jn(n,null,[{key:"properties",get:function(){return{filters:{type:Object,hasChanged:function(t,e){return!e||(Object.keys(t).map((function(n){if(t[n].active!=e[n].active||t[n].disabled!=e[n].disabled)return!0})),!1)}}}}},{key:"styles",get:function(){var t=lr(tr(n),"styles",this);t[1];return[t[0],QC(aP())]}}]),Jn(n,[{key:"render",value:function(){var t=this;return PC(oP(),this.btn,Object.keys(this.filters).map((function(e){var n=t.filters[e],r={};return"all"==e?(r=new rP(e,n.active,n.disabled,n.label,t.toggleFilter.bind(t))).setAttribute("first","true"):r=new rP(e,n.active,n.disabled,n.label,t.toggleFilter.bind(t),!0),r.label_pos="right",PC(iP(),r)})))}},{key:"toggleFilter",value:function(t){var e=t.target;"all"==e.id?e.checked?this.onFilterOn(e.id):this.onFilterOff(e.id):e.checked?this.onFilterOff(e.id):this.onFilterOn(e.id)}},{key:"updateTogglesState",value:function(){var t=this,e=this.shadowRoot.querySelectorAll("gscape-toggle"),n=!1;e.forEach((function(e){e.state=t.filters[e.key].active,e.disabled=t.filters[e.key].disabled,e.state&&(n=!0)})),this.btn.active=n,this.btn.requestUpdate()}},{key:"show",value:function(){this.isEnabled&&(this.style.display="inline-block")}}]),n}(rO);function lP(){var t=ur(["\n                    <tr>\n                      <th>","</th>\n                      <td>","</td>\n                    </tr>\n                  "]);return lP=function(){return t},t}function uP(){var t=ur(["\n      ",'\n\n      <div class="widget-body hide gscape-panel">\n        <div class="gscape-panel-title">Ontology Info</div>\n\n        <div class="wrapper">\n\n          <div class="section">\n            <table class="details_table">\n              <tr>\n                <th>Name</th>\n                <td>',"</td>\n              </tr>\n              <tr>\n                <th>Version</th>\n                <td>","</td>\n              </tr>\n            </table>\n          </div>\n\n          ",'\n\n          <div class="section">\n            <div class="section-header">IRI Prefixes Dictionary</div>\n            <table class="iri-dict details_table">\n              ',"\n            </table>\n          </div>\n        </div>\n      </div>\n    "]);return uP=function(){return t},t}function cP(){var t=ur(["\n        :host {\n          display:inline-block;\n          position: initial;\n          margin-right:10px;\n        }\n\n        .gscape-panel {\n          padding-right: 0;\n        }\n\n        gscape-button {\n          position: static;\n        }\n\n        .iri-dict th.table-header{\n          text-align: center;\n          padding: 12px;\n          font-weight: bold;\n          border-right: 0;\n          color: var(--theme-gscape-on-primary, ",");\n        }\n\n        .iri-dict th {\n          color: var(--theme-gscape-on-primary, ",");\n          border-right: solid 1px var(--theme-gscape-shadows, ",");\n          text-align: left;\n          font-weight: normal;\n        }\n\n        .wrapper {\n          overflow-y: auto;\n          scrollbar-width: inherit;\n          max-height: 420px;\n          overflow-x: hidden;\n          padding-right: 10px;\n        }\n\n        .section {\n          padding-left: 0;\n          padding-right: 0;\n        }\n      "]);return cP=function(){return t},t}customElements.define("gscape-filters",sP);var dP=function(t){Qn(n,t);var e=sr(n);function n(t){var r;return $n(this,n),(r=e.call(this)).collapsible=!0,r.ontology=t,r.btn=new ZO("info_outline"),r.btn.onClick=r.toggleBody.bind(or(r)),r}return Jn(n,null,[{key:"styles",get:function(){var t=lr(tr(n),"styles",this),e=t[1];return[t[0],QC(cP(),e.on_primary,e.on_primary,e.shadows)]}}]),Jn(n,[{key:"render",value:function(){return PC(uP(),this.btn,this.ontology.name,this.ontology.version,AO(this.ontology),cr(this.ontology.namespaces).map((function(t){if(!t.isStandard())return PC(lP(),t.prefixes[0],t.value)})))}},{key:"updated",value:function(){var t,e,n=this;this.ontology.description&&Object.keys(this.ontology.description).forEach((function(r){e="",t=n.shadowRoot.querySelector('[lang = "'.concat(r,'"] > .descr-text')),n.ontology.description[r].forEach((function(t,n){e+=n>0?"<p>"+t.replace(/(href=.)\/predicate\//g,"$1/documentation/predicate/")+"</p>":t.replace(/(href=.)\/predicate\//g,"$1/documentation/predicate/")})),t.innerHTML=e}))}},{key:"show",value:function(){this.isEnabled&&(this.style.display="inline-block")}}]),n}(rO);function hP(){var t=ur(['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\nstyle="height: 20px; width: auto; padding: 2px;" aria-hidden="true" focusable="false" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M12 16c.56.84 1.31 1.53 2.2 2L12 20.2L9.8 18c.89-.47 1.65-1.16 2.2-2m5-4.8a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2m-10 0a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2m10-2.5a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4m-10 0a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4M2.24 1c1.76 3.7.49 6.46-.69 9.2c-.36.8-.55 1.63-.55 2.5a6 6 0 0 0 6 6c.21-.01.42-.02.63-.05l2.96 2.96L12 23l1.41-1.39l2.96-2.96c.21.03.42.04.63.05a6 6 0 0 0 6-6c0-.87-.19-1.7-.55-2.5C21.27 7.46 20 4.7 21.76 1c-2.64 2.06-6.4 3.69-9.76 3.7C8.64 4.69 4.88 3.06 2.24 1z" fill="currentColor"/></svg>']);return hP=function(){return t},t}customElements.define("gscape-ontology-info",dP);var fP=PC(hP());function pP(){var t=ur(['\n      <div class="widget-body">\n        <div class="owl-text"></div>\n      </div>\n      ',"\n    "]);return pP=function(){return t},t}function gP(){var t=ur(["\n        :host {\n          left:50%;\n          bottom:10px;\n          transform: translate(-50%, 0);\n          max-width:60%;\n        }\n\n        gscape-head {\n          --title-text-align: center;\n          --title-width: 100%;\n        }\n\n        .widget-body {\n          margin:0;\n          border-top: none;\n          border-bottom: 1px solid var(--theme-gscape-shadows, ",');\n          border-bottom-left-radius:0;\n          border-bottom-right-radius:0;\n        }\n\n        .owl-text {\n          padding: 15px 10px;\n          font-family: "Lucida Console", Monaco, monospace;\n          overflow: auto;\n          white-space: nowrap;\n          line-height: 1.5;\n        }\n\n        .owl_concept{\n          color: #b58900;\n        }\n\n        .owl_role{\n          color: #268bd2;\n        }\n\n        .owl_attribute{\n          color: #859900;\n        }\n\n        .owl_value-domain{\n          color: #2aa198;\n        }\n\n        .owl_individual{\n          color: #6c71c4;\n        }\n\n        .owl_value {\n          color: #d33682;\n        }\n\n        .axiom_predicate_prefix{\n          color:#cb4b16;\n        }\n\n        .owl_error {\n          color: var(--theme-gscape-error, ',");\n        }\n\n        .axiom_predefinite_obj {\n          color: #00c0a0;\n        }\n\n      "]);return gP=function(){return t},t}var vP=function(t){Qn(n,t);var e=sr(n);function n(){var t;return $n(this,n),(t=e.call(this)).collapsible=!0,t.hiddenDefault=!0,t.owl_text="",t.header=new uO,t.header.title="Owl Translation",t.header.left_icon=fP,t}return Jn(n,null,[{key:"properties",get:function(){return{owl_text:String}}},{key:"styles",get:function(){var t=lr(tr(n),"styles",this)[1];return[lr(tr(n),"styles",this)[0],QC(gP(),t.shadows,t.error)]}}]),Jn(n,[{key:"render",value:function(){return PC(pP(),this.header)}},{key:"updated",value:function(){this.shadowRoot.querySelector(".owl-text").innerHTML=this.owl_text}},{key:"blur",value:function(){this.hide()}}]),n}(rO);function yP(){var t=ur(["\n      ",'\n      <div id="hr"></div>\n      ',"\n    "]);return yP=function(){return t},t}function mP(){var t=ur(["\n        :host {\n          position: absolute;\n          bottom:52px;\n          right:10px;\n        }\n\n        gscape-button{\n          position: static;\n          box-shadow: initial;\n        }\n\n        #hr {\n          height:1px;\n          width:90%;\n          margin: 2px auto 0 auto;\n          background-color: var(--theme-gscape-shadows, ",")\n        }\n\n      "]);return mP=function(){return t},t}customElements.define("gscape-owl-translator",vP);var bP=function(t){Qn(n,t);var e=sr(n);function n(){var t;return $n(this,n),(t=e.call(this)).btn_plus=new ZO("add"),t.btn_minus=new ZO("remove"),t._onZoomIn=null,t._onZoomOut=null,t}return Jn(n,null,[{key:"styles",get:function(){var t=lr(tr(n),"styles",this),e=t[1];return[t[0],QC(mP(),e.shadows)]}}]),Jn(n,[{key:"render",value:function(){return PC(yP(),this.btn_plus,this.btn_minus)}},{key:"onZoomIn",set:function(t){this._onZoomIn=t,this.btn_plus.onClick=this._onZoomIn}},{key:"onZoomOut",set:function(t){this._onZoomOut=t,this.btn_minus.onClick=this._onZoomOut}}]),n}(rO);customElements.define("gscape-zoom-tools",bP);var _P=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;$n(this,t),this.actual_diagram=null;var r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",n&&n.insertBefore(r,n.firstChild),this.cy=PS({container:r,autoungrabify:!0,wheelSensitivity:.4,maxZoom:2.5,minZoom:.02,layout:{name:"preset"}}),this.cy.on("select","node",(function(t){switch(t.target.data("type")){case"intersection":case"union":case"disjoint-union":t.target.neighborhood().select()}t.target.select(),e.onNodeSelection(t.target.data("id_xml"),t.target.data("diagram_id"))})),this.cy.on("select","edge",(function(t){e.onEdgeSelection(t.target.data("id_xml"),t.target.data("diagram_id"))})),this.cy.on("tap",(function(t){t.target===e.cy&&e.onBackgroundClick()})),this.cy.on("mouseover","*",(function(t){e.cy.container().style.cursor="pointer"})),this.cy.on("mouseout","*",(function(t){e.cy.container().style.cursor="inherit"}))}return Jn(t,[{key:"mount",value:function(t){this.cy.container().style.display="block"}},{key:"unmount",value:function(){this.cy.container().style.display="none"}},{key:"centerOnNode",value:function(t,e){var n=this.cy.getElementById(t);n&&(this.centerOnPosition(n.position("x"),n.position("y"),e),this.cy.$(":selected").unselect(),n.select())}},{key:"centerOnPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cy.zoom();this.cy.reset();var r=this.cy.width()/2,i=this.cy.height()/2;t-=r,e-=i,this.cy.pan({x:-t,y:-e}),this.cy.zoom({level:n,renderedPosition:{x:r,y:i}})}},{key:"centerOnRenderedPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cy.zoom();this.cy.viewport({zoom:n,pan:{x:t,y:e}})}},{key:"resetView",value:function(){this.cy.fit()}},{key:"drawDiagram",value:function(t){this.cy.remove("*"),this.cy.add(t.nodes),this.cy.add(t.edges),this.cy.fit(),this.actual_diagram=t.id}},{key:"zoomIn",value:function(){this.cy.zoom({level:this.cy.zoom()+.08,renderedPosition:{x:this.cy.width()/2,y:this.cy.height()/2}})}},{key:"zoomOut",value:function(){this.cy.zoom({level:this.cy.zoom()-.08,renderedPosition:{x:this.cy.width()/2,y:this.cy.height()/2}})}},{key:"filter",value:function(t,e){var n=this,r=e||this.cy,i="".concat(t.selector,", .").concat(t.class);r.$(i).forEach((function(e){n.filterElem(e,t.class,r)}))}},{key:"filterElem",value:function(t,e,n){var r=this,i=n||this.cy;function o(t){var e=t.outgoers("edge").size()+t.incomers('edge[type != "input"]').size();return t.outgoers().forEach((function(t){t.target().hasClass("filtered")&&e--})),t.incomers('[type != "input"]').forEach((function(t){t.source().hasClass("filtered")&&e--})),e}t.addClass("filtered "+e),i.nodes('[parent_node_id = "'.concat(t.id(),'"]')).addClass("filtered "+e),t.outgoers("edge").forEach((function(t){var n=o(t.target());!t.target().hasClass("filtered")&&(n<=0||"input"===t.data("type"))&&r.filterElem(t.target(),e,i)})),t.incomers("edge").forEach((function(t){var n=o(t.source());t.source().hasClass("filtered")||0!==n||r.filterElem(t.source(),e,i)}))}},{key:"unfilter",value:function(t,e){var n="".concat(t.selector,", .").concat(t.class),r=e||this.cy;r.$(n).removeClass("filtered"),r.$(n).removeClass(t.class)}},{key:"setTheme",value:function(t){this.theme=t,this.cy.style(function(t){return[{selector:"node",style:{height:"data(height)",width:"data(width)","background-color":t.node_bg,shape:"data(shape)","border-width":1,"border-color":t.node_border,"border-style":"solid","font-size":12,color:t.label_color}},{selector:"[fontSize]",style:{"font-size":"data(fontSize)"}},{selector:"node[displayed_name]",style:{label:"data(displayed_name)","text-margin-x":"data(labelXpos)","text-margin-y":"data(labelYpos)","text-wrap":"wrap","min-zoomed-font-size":"5px"}},{selector:"edge",style:{width:2,"line-color":t.edge,"target-arrow-color":t.edge,"source-arrow-color":t.edge,"curve-style":"bezier","arrow-scale":1.3,color:t.label_color}},{selector:'edge[type = "inclusion"], [type = "membership"], edge.inclusion',style:{"line-style":"solid","target-arrow-shape":"triangle","target-arrow-fill":"filled"}},{selector:"edge.hierarchy",style:{width:6,"target-arrow-fill":"hollow"}},{selector:"edge.disjoint",style:{"target-arrow-fill":"filled"}},{selector:'edge[type = "input"]',style:{"line-style":"dashed","target-arrow-shape":"diamond","target-arrow-fill":"hollow"}},{selector:'edge[type = "easy_input"]',style:{"line-style":"solid"}},{selector:'edge[type = "equivalence"]',style:{"line-style":"solid","source-arrow-shape":"triangle","source-arrow-fill":"filled","target-arrow-shape":"triangle","target-arrow-fill":"filled"}},{selector:"[segment_distances]",style:{"curve-style":"segments","segment-distances":"data(segment_distances)","segment-weights":"data(segment_weights)","edge-distances":"node-position"}},{selector:":loop",style:{"control-point-step-size":"data(control_point_step_size)","control-point-weight":.5}},{selector:"[source_endpoint]",style:{"source-endpoint":"data(source_endpoint)"}},{selector:"[target_endpoint]",style:{"target-endpoint":"data(target_endpoint)"}},{selector:"[?functional][!inverseFunctional]",style:{"border-width":5,"border-color":t.node_border,"border-style":"double"}},{selector:"[?inverseFunctional][!functional]",style:{"border-width":4,"border-color":t.node_border,"border-style":"solid"}},{selector:"edge[displayed_name]",style:{label:"data(displayed_name)","font-size":10,"text-rotation":"autorotate","text-margin-y":-10}},{selector:"[target_label]",style:{"target-label":"data(target_label)"}},{selector:"[source_label]",style:{"source-label":"data(source_label)"}},{selector:"[source_label],[target_label]",style:{"font-size":15,"target-text-offset":20}},{selector:"edge[displayed_name],[source_label],[target_label],[text_background]",style:{"text-background-color":t.background,"text-background-opacity":1,"text-background-shape":"roundrectangle","text-background-padding":2}},{selector:"[shape_points]",style:{"shape-polygon-points":"data(shape_points)"}},{selector:".filtered",style:{display:"none"}},{selector:".facet",style:{"background-opacity":0}},{selector:".hidden",style:{visibility:"hidden"}},{selector:".no_border",style:{"border-width":0}},{selector:".no_overlay",style:{"overlay-opacity":0,"overlay-padding":0}},{selector:".concept",style:{"background-color":t.concept,"border-color":t.concept_dark}},{selector:".role, .fake-triangle",style:{"background-color":t.role,"border-color":t.role_dark}},{selector:".attribute",style:{"background-color":t.attribute,"border-color":t.attribute_dark,"text-background-color":t.background,"text-background-opacity":1}},{selector:"edge.role",style:{"line-color":t.role_dark,"source-arrow-color":t.role_dark,"target-arrow-color":t.role_dark,"target-arrow-shape":"square","target-arrow-fill":"filled","source-arrow-shape":"square","source-arrow-fill":"hollow"}},{selector:"edge.range",style:{"target-arrow-shape":"square","target-arrow-fill":"filled","source-arrow-shape":"none"}},{selector:"edge.domain",style:{"target-arrow-shape":"square","target-arrow-fill":"hollow","source-arrow-shape":"none"}},{selector:"edge.attribute",style:{"line-color":t.attribute_dark,"source-arrow-shape":"none","target-arrow-shape":"none"}},{selector:".bubble",style:{"text-margin-x":0,"text-margin-y":0,"text-valign":"center","text-halign":"center",shape:"ellipse",height:"data(width)"}},{selector:".individual",style:{"background-color":t.individual,"border-color":t.individual_dark}},{selector:'[type = "range-restriction"], [type = "disjoint-union"]',style:{"background-color":t.node_bg_contrast}},{selector:".float:locked",style:{"border-color":t.secondary,"border-width":"4px"}},{selector:".fake-triangle-right",style:{"background-color":t.role_dark||"black"}},{selector:'[shape = "hexagon"],[type = "value-domain"], .facet',style:{color:t.node_bg_contrast}},{selector:":selected",style:{"overlay-color":t.secondary,"overlay-opacity":.2,"z-index":"100"}}]}(t))}},{key:"getActualPosition",value:function(){return{x:this.cy.pan().x,y:this.cy.pan().y,zoom:this.cy.zoom()}}}]),t}(),wP=function(t){Qn(n,t);var e=sr(n);function n(t){return $n(this,n),e.call(this,t)}return Jn(n,[{key:"drawDiagram",value:function(t){lr(tr(n.prototype),"drawDiagram",this).call(this,t),this.cy.autoungrabify(!1),this.cy.nodes().lock(),this.cy.nodes(".repositioned").unlock(),this.cy.$(".repositioned").closedNeighborhood().closedNeighborhood().layout({name:"cola",randomize:!1,fit:!1,refresh:3,maxSimulationTime:8e3,convergenceThreshold:1e-7}).run()}}]),n}(_P),xP=function(t){Qn(n,t);var e=sr(n);function n(t){var r;return $n(this,n),(r=e.call(this,t)).cy.style.textureOnViewport=!0,r.cy.autoungrabify(!1),r.layoutStopped=!1,r.dragAndPin=!1,r.cy.on("grab",(function(t){t.target.data("old_pos",JSON.stringify(t.target.position()))})),r.cy.on("free",(function(t){var e=JSON.stringify(t.target.position());r.dragAndPin&&t.target.data("old_pos")!==e&&r.lockNode(t.target),t.target.removeData("old_pos")})),r}return Jn(n,[{key:"drawDiagram",value:function(t){var e=this;this.clearPoppers(),lr(tr(n.prototype),"drawDiagram",this).call(this,t),this.cy.nodes().addClass("float"),this.main_layout=this.layout(),this.main_layout.run(),setTimeout((function(){return e.cy.fit()}),100)}},{key:"centerOnNode",value:function(t,e){var n=this,r=this.cy.$id(t);if(r)if(this.cy.$(":selected").unselect(),"role"==r.data("type")){var i=r.connectedNodes();setTimeout((function(){return n.cy.fit(i)}),300),r.select(),i.select()}else setTimeout((function(){return n.centerOnPosition(r.position("x"),r.position("y"),e)}),300),r.select()}},{key:"layout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":unlocked";return this.cy.$(t).layout(this.layout_settings)}},{key:"unlockNode",value:function(t){this.removeUnlockButton(t),t.unlock()}},{key:"lockNode",value:function(t){var e=this;t.lock();var n=t.popper({content:function(){var n=t.data("width")/9*e.cy.zoom(),r=document.createElement("div");return r.style.background=t.style("border-color"),r.style.borderRadius="100%",r.style.padding="5px",r.style.color=e.theme.on_secondary,r.style.cursor="pointer",r.setAttribute("title","Unlock Node"),r.innerHTML="<mwc-icon>lock_open</mwc_icon>",i(n,r),r.onclick=function(){return e.unlockNode(t)},e.cy.container().appendChild(r),r},popper:{removeOnDestroy:!0}});t.unlockButton=n;var r=function(){i(t.data("width")/9*e.cy.zoom(),n.popper),n.scheduleUpdate()};function i(t,e){var n=e.querySelector("mwc-icon");t>2?(t<8?n.style.display="none":(n.style.display="inline",n.style.fontSize=t+"px"),e.style.width=t+"px",e.style.height=t+"px",e.style.display="flex"):(n.style.display="none",e.style.display="none")}t.on("position",r),this.cy.on("pan zoom resize",r)}},{key:"clearPoppers",value:function(){var t=this;this.cy.nodes().each((function(e){return t.removeUnlockButton(e)}))}},{key:"unmount",value:function(){this.clearPoppers(),lr(tr(n.prototype),"unmount",this).call(this)}},{key:"removeUnlockButton",value:function(t){t.unlockButton&&(t.unlockButton.destroy(),t.unlockButton=null)}},{key:"layout_settings",get:function(){return{name:"cola",avoidOverlap:!0,edgeLength:function(t){return t.hasClass("role")?300+4*t.data("displayed_name").length:"attribute"==t.target().data("type")||"attribute"==t.source().data("type")?150:250},fit:!1,infinite:!this.layoutStopped,handleDisconnected:!0,convergenceThreshold:1e-9}}},{key:"layoutStopped",set:function(t){this._layoutStopped=t,this.main_layout&&(this.main_layout.options.infinite=!t,t?this.main_layout.stop():this.main_layout.run())},get:function(){return this._layoutStopped}},{key:"dragAndPin",set:function(t){var e=this;this._dragAndPin=t,t||this.cy.$(":locked").each((function(t){return e.unlockNode(t)}))},get:function(){return this._dragAndPin}}]),n}(_P);function EP(){var t=ur(['<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n  viewBox="0 0 12 12" fill="currentColor" xml:space="preserve" style="height: 20px; width: auto; padding: 2px;">\n<path id="path847" d="M5.4,11.9c-1.4-0.1-2.7-0.8-3.8-1.8c-0.8-0.8-1.3-1.8-1.6-3C0.1,6.8,0.1,6.7,0.1,6c0-0.7,0-0.8,0.1-1.1\n c0.3-1.2,0.8-2.3,1.7-3.1C2.3,1.3,2.7,1,3.3,0.7c1.7-0.9,3.8-0.9,5.5,0c2.4,1.3,3.6,3.9,3.1,6.5c-0.6,2.6-2.8,4.5-5.5,4.7\n C5.8,12,5.8,12,5.4,11.9L5.4,11.9z M6.5,10.5c0.2-0.1,0.3-0.1,0.8-0.7c0.3-0.3,1.2-1.2,2-1.9c1.1-1.1,1.3-1.4,1.4-1.5\n c0.2-0.4,0.2-0.7,0-1.1c-0.1-0.2-0.2-0.3-1-1.1c-1-1-1.1-1-1.6-1c-0.5,0-0.5,0-1.9,1.4C5.5,5.2,5,5.8,5,5.8c0,0,0.2,0.3,0.5,0.6\n L6,6.9l1-1l1-1l0.5,0.5l0.5,0.5L7.6,7.4L6,8.9L4.5,7.4L2.9,5.8L5,3.7c1.1-1.1,2.1-2.1,2.1-2.1c0-0.1-1-1-1-1c0,0-1,1-2.3,2.2\n c-2,2-2.3,2.3-2.3,2.4C1.3,5.5,1.3,5.7,1.3,6c0.1,0.4,0,0.4,2.1,2.4c1.1,1.1,1.9,1.9,2,2C5.7,10.6,6.1,10.6,6.5,10.5z"/>\n</svg>']);return EP=function(){return t},t}var kP=PC(EP());function SP(){var t=ur(['\n          <mwc-icon-button icon="','"></mwc-icon-button>\n        ']);return SP=function(){return t},t}function CP(){var t=ur(["\n          <mwc-icon-button>","</mwc-icon-button>"]);return CP=function(){return t},t}function TP(){var t=ur(['\n        <div\n          @click="','"\n          mode="','"\n          class="renderer-item ','"\n        >\n        ','\n        <span class="name">',"</span>\n        </div>\n        "]);return TP=function(){return t},t}function NP(){var t=ur(['\n      <div class="widget-body hide">\n        ',"\n      </div>\n\n     ","\n    "]);return NP=function(){return t},t}function AP(){var t=ur(["\n        :host {\n          display:inline-block;\n          position:initial;\n          margin-right:10px;\n        }\n\n        .renderer-item {\n          cursor:pointer;\n          padding:5px 10px;\n          display: flex;\n          align-items: center;\n        }\n\n        .renderer-item:hover {\n          color: var(--theme-gscape-on-secondary, ",");\n          background-color:var(--theme-gscape-secondary, ",");\n        }\n\n        .renderer-item:first-of-type {\n          border-top-left-radius: inherit;\n          border-top-right-radius: inherit;\n        }\n\n        .renderer-item > .name {\n          padding:0 10px;\n        }\n\n        .selected {\n          background-color: var(--theme-gscape-primary-dark, ",");\n          color: var(--theme-gscape-on-primary-dark, ",");\n          font-weight: bold;\n        }\n\n        .widget-body {\n          margin:0;\n          border-top: none;\n          border-bottom: 1px solid var(--theme-gscape-shadows, ",");\n          border-radius: inherit;\n          border-bottom-left-radius:0;\n          border-bottom-right-radius:0;\n        }\n\n        gscape-head {\n          --header-padding: 5px 8px;\n        }\n\n        svg {\n          margin-right:8px;\n        }\n      "]);return AP=function(){return t},t}var OP=function(t){Qn(n,t);var e=sr(n);function n(t){var r;return $n(this,n),(r=e.call(this)).collapsible=!0,r.renderers=t,r.dict={default:{name:"Graphol",icon:kP},lite:{name:"Graphol-Lite",icon:"flash_on"},float:{name:"Floaty",icon:"bubble_chart"}},r.actual_mode="default",r._onRendererChange={},r.header=new uO,r.header.title=r.dict[r.actual_mode].name,r.header.left_icon=r.dict[r.actual_mode].icon,r}return Jn(n,null,[{key:"properties",get:function(){return{actual_mode:{type:String}}}},{key:"styles",get:function(){var t=lr(tr(n),"styles",this),e=t[1];return[t[0],QC(AP(),e.on_secondary,e.secondary,e.primary_dark,e.on_primary_dark,e.shadows)]}}]),Jn(n,[{key:"render",value:function(){var t=this;return PC(NP(),Object.keys(this.renderers).map((function(e){return PC(TP(),t.changeRenderer,e,e==t.actual_mode?"selected":"",t.isCustomIcon(t.dict[e].icon)?PC(CP(),t.dict[e].icon):PC(SP(),t.dict[e].icon),t.dict[e].name)})),this.header)}},{key:"changeRenderer",value:function(t){this.shadowRoot.querySelector(".selected")&&this.shadowRoot.querySelector(".selected").classList.remove("selected");var e=t.currentTarget;e.classList.add("selected");var n=e.getAttribute("mode");this.header.title=this.dict[n].name,this.header.left_icon=this.dict[n].icon,this.actual_mode=n,this._onRendererChange(n)}},{key:"firstUpdated",value:function(){lr(tr(n.prototype),"firstUpdated",this).call(this),this.header.invertIcons()}},{key:"show",value:function(){this.isEnabled&&(this.style.display="inline-block")}},{key:"onRendererChange",set:function(t){this._onRendererChange=t}}]),n}(rO);function PP(){var t=ur(['\n      \x3c!-- in case of body\n      <div class="widget-body hide">\n      </div>\n      <gscape-head title="Layout Settings" collapsed="true" class="drag-handler">\n        <span>\n          ',"\n          ",'\n        </span>\n      </gscape-head>\n      --\x3e\n\n      <div class="wrapper">\n        <span class="title">Layout Settings</span>\n        <span class="toggles-wrapper">\n          ',"\n          ","\n        </span>\n      </div>\n\n    "]);return PP=function(){return t},t}function DP(){var t=ur(["\n        :host {\n          left: 50%;\n          bottom: 10px;\n          transform: translate(-50%, 0);\n        }\n\n        gscape-head span {\n          display: flex;\n        }\n\n        .widget-body {\n          margin:0;\n          border-top: none;\n          border-bottom: 1px solid var(--theme-gscape-shadows, ",");\n          border-radius: inherit;\n          border-bottom-left-radius:0;\n          border-bottom-right-radius:0;\n        }\n\n        gscape-head {\n          --header-padding: 5px 8px;\n          --title-padding: 0 30px 0 0;\n          --btn-padding: 0 0 0 10px;\n        }\n\n        gscape-toggle {\n          margin-left: 50px;\n        }\n\n        .wrapper {\n          display:flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 8px;\n        }\n\n        .title {\n          padding: 0 5px 0 0;\n          font-weight:bold;\n        }\n\n        .toggles-wrapper {\n          display: flex;\n        }\n      "]);return DP=function(){return t},t}customElements.define("gscape-render-selection",OP);var MP=function(t){Qn(n,t);var e=sr(n);function n(){var t;return $n(this,n),(t=e.call(this)).collapsible=!1,t.onLayoutRunToggle={},t.onDragAndPinToggle={},t}return Jn(n,null,[{key:"properties",get:function(){return{}}},{key:"styles",get:function(){var t=lr(tr(n),"styles",this),e=t[1];return[t[0],QC(DP(),e.shadows)]}}]),Jn(n,[{key:"render",value:function(){return PC(PP(),new rP("layout-run",!0,!1,"Layout Running",this.onLayoutRunToggle),new rP("layout-pin",!1,!1,"Drag and Pin",this.onDragAndPinToggle),new rP("layout-run",!0,!1,"Layout Running",this.onLayoutRunToggle),new rP("layout-pin",!1,!1,"Drag and Pin",this.onDragAndPinToggle))}}]),n}(rO);function LP(){var t=ur(['<?xml version="1.0" encoding="utf-8"?>\n<svg version="1.1" id="Livello_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 1024 792.6" style="enable-background:new 0 0 1024 792.6;" xml:space="preserve">\n<style type="text/css">\n\t.st0{fill:url(#SVGID_1_);}\n\t.st1{fill:#FFFFFF;}\n\t.st2{enable-background:new    ;}\n\t.st3{fill:url(#SVGID_2_);}\n</style>\n<g>\n\t<g id="Logo">\n\n\t\t\t<radialGradient id="SVGID_1_" cx="502.1" cy="894.61" r="662.91" gradientTransform="matrix(1 0 0 1 12.76 -283.3)" gradientUnits="userSpaceOnUse">\n\t\t\t<stop  offset="0" style="stop-color:#5B86E5"/>\n\t\t\t<stop  offset="0.34" style="stop-color:#509CE2"/>\n\t\t\t<stop  offset="1" style="stop-color:#36D1DC"/>\n\t\t</radialGradient>\n\t\t<path class="st0" d="M512,506c-138.1,0-250-111.9-250-250c0-66.3,26.3-129.9,73.2-176.8c97.6-97.6,256-97.6,353.6,0\n\t\t\ts97.6,256,0,353.6C642,479.8,578.3,506.2,512,506z"/>\n\t\t<path class="st1" d="M512,11.9c134.8,0,244.1,109.3,244.1,244.2c0,98.1-58.7,186.6-149.1,224.8c-124.2,52.5-267.4-5.7-319.9-129.9\n\t\t\tS292.8,83.6,417,31.1C447.1,18.4,479.4,11.9,512,11.9 M512,0C370.6,0,256,114.6,256,256s114.6,256,256,256s256-114.6,256-256\n\t\t\tS653.4,0,512,0z"/>\n\t\t<path class="st1" d="M513.6,432c-12.4,0-24.4-4.9-33.1-13.7L344.1,282c-18.3-18.3-18.3-48,0-66.3L513.6,46.2l40.3,40.3\n\t\t\tL391.6,248.8l122,122l122-122L594.7,208l-81.2,81.1l-40.3-40.3l88.3-88.3c18.3-18.3,48-18.3,66.3,0l55.2,55.2\n\t\t\tc18.3,18.3,18.3,48,0,66.3L546.7,418.3C537.9,427.1,526,432,513.6,432z"/>\n\t\t<g class="st2">\n\t\t\t<path d="M83,594.8c5.3,0,10.2,0.3,14.7,0.8s8.9,1.3,13.1,2.2c4.2,1,8.2,2.1,12.1,3.5s7.9,2.9,11.9,4.5v12.6\n\t\t\t\tc-3.2-2-6.5-3.9-10.1-5.7s-7.4-3.3-11.6-4.7c-4.1-1.3-8.6-2.4-13.3-3.2c-4.7-0.8-9.8-1.2-15.3-1.2c-11.1,0-20.8,1.2-29.1,3.5\n\t\t\t\ts-15.2,5.7-20.6,10c-5.5,4.3-9.6,9.6-12.4,15.8c-2.7,6.2-4.1,13.2-4.1,21c0,7.3,1.3,14,4,20.1s6.8,11.4,12.2,15.8\n\t\t\t\tc5.5,4.4,12.3,7.9,20.5,10.4s17.8,3.7,28.9,3.7c4.3,0,8.6-0.2,12.9-0.5c4.2-0.3,8.3-0.8,12-1.3c3.8-0.5,7.2-1.1,10.3-1.7\n\t\t\t\tc3.1-0.6,5.7-1.3,7.9-2V664H80.7v-9.7h56.9v50.3c-4.1,1.4-8.3,2.7-12.4,3.8c-4.2,1.1-8.5,2-13,2.8c-4.5,0.7-9.1,1.3-13.9,1.7\n\t\t\t\ts-9.8,0.6-15.1,0.6c-10.8,0-20.7-1.2-30-3.6c-9.2-2.4-17.2-6.1-23.9-11s-12-11.1-15.9-18.5c-3.8-7.4-5.7-16.2-5.7-26.2\n\t\t\t\tc0-6.7,0.9-12.8,2.7-18.3s4.3-10.5,7.5-14.9s7.2-8.3,11.7-11.5c4.6-3.3,9.7-6,15.2-8.1c5.6-2.1,11.6-3.7,18-4.8\n\t\t\t\tC69.3,595.3,76,594.8,83,594.8z"/>\n\t\t\t<path d="M181.2,662.2v48.9h-10.4V596.8h56.9c8.7,0,16.2,0.7,22.4,2c6.2,1.4,11.3,3.4,15.3,6.2c4,2.7,6.9,6.2,8.7,10.3\n\t\t\t\tc1.8,4.1,2.7,8.9,2.7,14.4c0,8.5-2.2,15.4-6.7,20.5s-11.7,8.6-21.7,10.5l39,50.4h-13.1l-36.9-49.3c-1.6,0.1-3.1,0.2-4.7,0.2\n\t\t\t\tc-1.6,0.1-3.3,0.1-5,0.1L181.2,662.2L181.2,662.2z M266.1,629.7c0-4.9-0.9-8.8-2.6-11.9c-1.7-3-4.5-5.4-8.4-7s-9-2.8-15.3-3.4\n\t\t\t\tc-6.3-0.6-14-0.9-23.2-0.9h-35.5v45.9h35.1c9.2,0,16.9-0.3,23.2-0.8s11.5-1.6,15.4-3.2c3.9-1.6,6.8-3.9,8.5-6.9\n\t\t\t\tC265.3,638.6,266.1,634.6,266.1,629.7z"/>\n\t\t\t<path d="M417.4,711.2L401.7,681h-77.6l-15.7,30.2H297l59.8-114.3H369l59.8,114.3H417.4z M362.9,606.9l-33.8,64.6h67.5\n\t\t\t\tL362.9,606.9z"/>\n\t\t\t<path d="M562.8,632c0,5.7-0.9,10.8-2.8,15.1c-1.9,4.4-4.8,8.1-8.8,11.1s-9.1,5.3-15.4,6.8c-6.3,1.5-13.9,2.3-22.8,2.3h-51.3v43.9\n\t\t\t\th-10.4V596.8H513c8.9,0,16.5,0.8,22.8,2.3s11.4,3.8,15.4,6.7s6.9,6.6,8.8,11C561.8,621.2,562.8,626.2,562.8,632z M552.1,632\n\t\t\t\tc0-5.4-0.9-9.8-2.7-13.1s-4.6-5.9-8.3-7.7s-8.5-3-14.2-3.6s-12.6-0.9-20.4-0.9h-44.7v50.9h44.7c3.1,0,6.3,0,9.8,0\n\t\t\t\ts6.9-0.1,10.3-0.5c3.4-0.4,6.6-1,9.7-1.9s5.8-2.3,8.2-4.2s4.2-4.4,5.7-7.4C551.4,640.5,552.1,636.6,552.1,632z"/>\n\t\t\t<path d="M703.6,711.2v-55.6H601.2v55.6h-10.4V596.8h10.4v49.3h102.4v-49.3H714v114.3h-10.4V711.2z"/>\n\t\t\t<path d="M889.7,654.1c0,10.3-1.9,19.1-5.6,26.6c-3.7,7.5-8.8,13.6-15.3,18.5s-14.1,8.4-23,10.8s-18.3,3.5-28.5,3.5\n\t\t\t\tc-10.3,0-19.8-1.2-28.7-3.5s-16.6-5.9-23.1-10.8c-6.5-4.9-11.7-11-15.4-18.5s-5.6-16.3-5.6-26.6c0-6.8,0.9-13,2.6-18.6\n\t\t\t\tc1.7-5.6,4.1-10.6,7.2-15c3.1-4.4,6.9-8.2,11.3-11.4c4.4-3.2,9.3-5.9,14.7-8s11.2-3.7,17.4-4.7s12.7-1.5,19.5-1.5\n\t\t\t\tc10.2,0,19.7,1.2,28.5,3.5s16.5,5.9,23,10.8c6.5,4.9,11.6,11,15.3,18.5C887.8,635,889.7,643.8,889.7,654.1z M879,654.1\n\t\t\t\tc0-8.1-1.3-15.3-4-21.5c-2.6-6.2-6.5-11.4-11.7-15.7c-5.2-4.2-11.6-7.5-19.3-9.7s-16.6-3.3-26.8-3.3s-19.1,1.1-26.9,3.3\n\t\t\t\tc-7.7,2.2-14.2,5.5-19.4,9.7s-9.2,9.5-11.8,15.7s-4,13.4-4,21.3c0,8.1,1.3,15.3,4,21.5s6.6,11.4,11.8,15.7\n\t\t\t\tc5.2,4.2,11.7,7.5,19.4,9.7s16.7,3.3,26.9,3.3s19.1-1.1,26.8-3.3s14.1-5.4,19.3-9.7c5.2-4.2,9.1-9.5,11.7-15.7\n\t\t\t\tC877.7,669.3,879,662.2,879,654.1z"/>\n\t\t\t<path d="M920.2,711.2V596.8h10.4v104.6h83.5v9.7h-93.9V711.2z"/>\n\t\t</g>\n\n\t\t\t<radialGradient id="SVGID_2_" cx="513.05" cy="1101.48" r="466.86" gradientTransform="matrix(1 0 0 1 0 -286)" gradientUnits="userSpaceOnUse">\n\t\t\t<stop  offset="0" style="stop-color:#5B86E5"/>\n\t\t\t<stop  offset="0.34" style="stop-color:#509CE2"/>\n\t\t\t<stop  offset="1" style="stop-color:#36D1DC"/>\n\t\t</radialGradient>\n\t\t<path class="st3" d="M389.9,700.8h244.3c16.8,0,30.4,13.6,30.4,30.4v27.4c0,16.8-13.6,30.4-30.4,30.4H389.9\n\t\t\tc-16.8,0-30.4-13.6-30.4-30.4v-27.4C359.4,714.4,373,700.8,389.9,700.8L389.9,700.8L389.9,700.8z"/>\n\t\t<path class="st1" d="M634.2,704.3c14.8,0,26.8,12,26.8,26.9v27.4c0,14.8-12,26.9-26.9,26.9l0,0H389.9c-14.8,0-26.9-12-26.9-26.9\n\t\t\tv-27.4c0-14.8,12-26.9,26.9-26.9l0,0H634.2 M634.2,697.2H389.9c-18.8,0-34,15.2-34,34v27.4c0,18.8,15.2,34,34,34h244.3\n\t\t\tc18.8,0,34-15.2,34-34v-27.4C668.2,712.4,652.9,697.2,634.2,697.2L634.2,697.2z"/>\n\t\t<g class="st2">\n\t\t\t<path class="st1" d="M385,764.8c-3.7-0.9-6.6-2-8.6-3.3l3-4c2.1,1.2,4.7,2.2,7.8,3c3.1,0.8,6.4,1.2,9.8,1.2\n\t\t\t\tc4.5,0,7.9-0.5,10.1-1.6c2.2-1.1,3.3-2.6,3.3-4.5c0-1.4-0.6-2.4-1.8-3.2c-1.2-0.8-2.7-1.4-4.5-1.8c-1.8-0.4-4.2-0.8-7.3-1.2\n\t\t\t\tc-4-0.6-7.3-1.1-9.7-1.7c-2.5-0.6-4.5-1.6-6.3-3c-1.7-1.4-2.6-3.4-2.6-5.9c0-3.1,1.7-5.7,5.2-7.7c3.5-2,8.3-3,14.4-3\n\t\t\t\tc3.2,0,6.4,0.3,9.6,1c3.2,0.6,5.9,1.5,7.9,2.5l-2.9,4c-4.1-2.1-9-3.2-14.6-3.2c-4.3,0-7.5,0.6-9.7,1.7c-2.2,1.1-3.3,2.6-3.3,4.5\n\t\t\t\tc0,1.4,0.6,2.6,1.8,3.4c1.2,0.9,2.8,1.5,4.6,1.9c1.8,0.4,4.3,0.8,7.6,1.2c4,0.6,7.1,1.1,9.5,1.7c2.4,0.6,4.4,1.5,6.1,2.9\n\t\t\t\ts2.5,3.3,2.5,5.7c0,3.3-1.8,5.9-5.4,7.8c-3.6,1.9-8.6,2.9-15.1,2.9C392.6,766.1,388.7,765.7,385,764.8z"/>\n\t\t\t<path class="st1" d="M436.9,763.7c-3.9-1.6-6.9-3.9-9.1-6.8c-2.2-2.9-3.3-6.2-3.3-9.8c0-3.6,1.1-6.9,3.3-9.8\n\t\t\t\tc2.2-2.9,5.2-5.1,9.1-6.7c3.9-1.6,8.3-2.4,13.2-2.4c4.3,0,8.1,0.6,11.5,1.9c3.4,1.3,6,3.1,8,5.5l-5,2.6c-1.6-1.8-3.7-3.2-6.2-4.2\n\t\t\t\tc-2.5-0.9-5.3-1.4-8.2-1.4c-3.6,0-6.8,0.6-9.7,1.8c-2.9,1.2-5.1,2.9-6.7,5.1s-2.4,4.8-2.4,7.6c0,2.9,0.8,5.4,2.4,7.6\n\t\t\t\tc1.6,2.2,3.8,3.9,6.7,5.1c2.9,1.2,6.1,1.8,9.7,1.8c3,0,5.7-0.4,8.2-1.3c2.5-0.9,4.6-2.3,6.2-4.1l5,2.6c-2,2.4-4.6,4.2-8,5.5\n\t\t\t\tc-3.4,1.3-7.2,1.9-11.4,1.9C445.1,766.1,440.7,765.3,436.9,763.7z"/>\n\t\t\t<path class="st1" d="M514.9,731.8c3.5,2.4,5.2,6,5.2,10.8v23.1h-6.4v-5.8c-1.5,1.9-3.7,3.5-6.7,4.5c-2.9,1.1-6.4,1.6-10.4,1.6\n\t\t\t\tc-5.5,0-9.9-1-13.2-3c-3.3-2-4.9-4.6-4.9-7.9c0-3.2,1.5-5.7,4.6-7.7c3.1-1.9,7.9-2.9,14.6-2.9h15.8v-2.3c0-3.2-1.2-5.7-3.6-7.3\n\t\t\t\tc-2.4-1.7-5.9-2.5-10.5-2.5c-3.1,0-6.2,0.4-9.1,1.2c-2.9,0.8-5.4,1.9-7.5,3.2l-3-3.8c2.5-1.6,5.5-2.9,9.1-3.7\n\t\t\t\tc3.5-0.9,7.2-1.3,11.1-1.3C506.5,728.1,511.5,729.3,514.9,731.8z M507.4,760.2c2.7-1.3,4.7-3.2,6-5.6v-6.1h-15.6\n\t\t\t\tc-8.5,0-12.7,2.2-12.7,6.7c0,2.2,1.1,3.9,3.3,5.1c2.2,1.3,5.3,1.9,9.3,1.9C501.4,762.1,504.7,761.5,507.4,760.2z"/>\n\t\t\t<path class="st1" d="M576.6,730.5c3.8,1.6,6.7,3.8,8.9,6.7c2.1,2.9,3.2,6.2,3.2,9.9c0,3.7-1.1,7.1-3.2,9.9\n\t\t\t\tc-2.1,2.9-5.1,5.1-8.8,6.7c-3.7,1.6-8,2.4-12.7,2.4c-4,0-7.7-0.6-10.9-1.9c-3.2-1.3-5.9-3.1-8-5.5v20.8h-6.7v-51.1h6.4v7.4\n\t\t\t\tc2-2.5,4.7-4.4,8-5.7s7-2,11.2-2C568.6,728.1,572.8,728.9,576.6,730.5z M572.9,759.8c2.8-1.2,5.1-2.9,6.7-5.1\n\t\t\t\tc1.6-2.2,2.4-4.8,2.4-7.6s-0.8-5.4-2.4-7.6c-1.6-2.2-3.8-3.9-6.7-5.1c-2.8-1.2-6-1.8-9.4-1.8c-3.5,0-6.7,0.6-9.5,1.8\n\t\t\t\tc-2.8,1.2-5,2.9-6.6,5.1s-2.4,4.7-2.4,7.6s0.8,5.4,2.4,7.6c1.6,2.2,3.8,3.9,6.6,5.1s6,1.8,9.5,1.8\n\t\t\t\tC566.9,761.6,570.1,761,572.9,759.8z"/>\n\t\t\t<path class="st1" d="M645.6,748.6h-41.5c0.4,3.9,2.4,7,5.9,9.4c3.6,2.4,8.1,3.6,13.6,3.6c3.1,0,5.9-0.4,8.5-1.2\n\t\t\t\tc2.6-0.8,4.8-2,6.7-3.7l3.8,3.3c-2.2,2-5,3.5-8.3,4.5c-3.3,1-6.9,1.6-10.9,1.6c-5.1,0-9.6-0.8-13.6-2.5c-3.9-1.6-7-3.9-9.2-6.8\n\t\t\t\tc-2.2-2.9-3.3-6.2-3.3-9.8c0-3.6,1.1-6.9,3.2-9.8c2.1-2.9,5-5.1,8.7-6.7c3.7-1.6,7.8-2.4,12.4-2.4c4.6,0,8.7,0.8,12.4,2.4\n\t\t\t\tc3.7,1.6,6.5,3.8,8.6,6.7c2.1,2.9,3.1,6.1,3.1,9.8L645.6,748.6z M609.6,735.9c-3.2,2.3-5.1,5.3-5.5,9h35.2\n\t\t\t\tc-0.4-3.7-2.3-6.7-5.5-9c-3.2-2.3-7.3-3.4-12.1-3.4C616.8,732.5,612.8,733.6,609.6,735.9z"/>\n\t\t</g>\n\t</g>\n</g>\n</svg>']);return LP=function(){return t},t}customElements.define("gscape-layout-settings",MP);var IP=PC(LP());function RP(){var t=ur([""]);return RP=function(){return t},t}function BP(){var t=ur(["\n                ","\n              "]);return BP=function(){return t},t}function jP(){var t=ur([""]);return jP=function(){return t},t}function FP(){var t=ur(['<option value="','" ?selected=',">","</option>"]);return FP=function(){return t},t}function zP(){var t=ur(['\n                <div class="setting_obj">\n                  <select area="','" id="','" @change="','">\n                    ',"\n                  </select>\n                </div>\n              "]);return zP=function(){return t},t}function VP(){var t=ur(['\n            <div class="setting">\n              <div class="title-wrap">\n                <div class="setting-title">','</div>\n                <div class="setting-label">',"</div>\n              </div>\n            ","\n\n            ","\n            </div>\n          "]);return VP=function(){return t},t}function qP(){var t=ur(['\n          <div class="area">\n            <div class="area-title">',"</div>\n\n        ","\n        </div>\n        "]);return qP=function(){return t},t}function HP(){var t=ur([""]);return HP=function(){return t},t}function UP(){var t=ur(["\n      ",'\n\n      <div class="widget-body hide gscape-panel">\n        <div class="gscape-panel-title">Settings</div>\n\n        <div class="settings-wrapper">\n\n      ','\n\n        <div class="area">\n          <div class="area-title">Export Ontology Image</div>\n          <div class="setting">\n            <div class="title-wrap">\n              <div class="setting-title">Image</div>\n              <div class="setting-label">Save a PNG image of the current diagram on your disk</div>\n            </div>\n\n            <div class="setting-obj">\n              ','\n            </div>\n          </div>\n\n          <div class="setting">\n          <div class="title-wrap">\n            <div class="setting-title">Vectorial</div>\n            <div class="setting-label">Save an SVG of the current diagram on your disk</div>\n          </div>\n\n          <div class="setting-obj">\n            ','\n          </div>\n        </div>\n        </div>\n\n        <div class="area">\n          <div class="area-title">About</div>\n          <div id="logo">\n            ','\n          </div>\n\n          <div id="version">\n            <span>Version: </span>\n            <span>',"</span>\n          </div>\n        </div>\n      </div>\n    "]);return UP=function(){return t},t}function GP(){var t=ur(["\n        :host {\n          display:inline-block;\n          position: initial;\n          margin-right:10px;\n        }\n\n        gscape-button {\n          position: static;\n        }\n\n        .gscape-panel {\n          padding-right: 0;\n        }\n\n        .settings-wrapper {\n          overflow-y: auto;\n          scrollbar-width: inherit;\n          max-height: 420px;\n          overflow-x: hidden;\n          white-space: nowrap;\n          padding-right: 20px;\n        }\n\n        .area {\n          margin-bottom: 30px;\n        }\n\n        .area:last-of-type {\n          margin-bottom: 0;\n        }\n\n        .area-title {\n          font-weight: bold;\n          margin-bottom: 5px;\n          font-size: 105%;\n        }\n\n        .setting {\n          padding: 10px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .title-wrap {\n          margin-right: 50px;\n        }\n\n        .setting-label {\n          font-size : 12px;\n          opacity: 0.7;\n        }\n\n        #logo {\n          text-align:center;\n        }\n\n        #logo svg {\n          width: 40%;\n          height: auto;\n          margin: 20px 0;\n        }\n\n        #version {\n          text-align: center;\n          font-size: 14px;\n        }\n      "]);return GP=function(){return t},t}var WP=function(t){Qn(n,t);var e=sr(n);function n(t){var r;return $n(this,n),(r=e.call(this)).collapsible=!0,r.settings=t,r.btn=new ZO("settings"),r.btn.onClick=r.toggleBody.bind(or(r)),r.callbacks={},r.savePNGButton=new ZO("save"),r.savePNGButton.label="PNG",r.saveSVGButton=new ZO("save"),r.saveSVGButton.label="SVG",r}return Jn(n,null,[{key:"styles",get:function(){var t=lr(tr(n),"styles",this);t[1];return[t[0],QC(GP())]}}]),Jn(n,[{key:"render",value:function(){var t=this;return PC(UP(),this.btn,Object.keys(this.settings).map((function(e){if("default"==e)return PC(HP());var n=t.settings[e];return PC(qP(),function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(e),Object.keys(n).map((function(r){var i=n[r];return PC(VP(),i.title,i.label,"list"==i.type?PC(zP(),e,r,t.onListChange,i.list.map((function(t){if(""!=t.value){var e=t.value==i.selected;return PC(FP(),t.value,e,t.label)}}))):PC(jP()),"boolean"==i.type?PC(BP(),new rP(r,i.enabled,!1,"",t.onToggleChange.bind(t))):PC(RP()))})))})),this.savePNGButton,this.saveSVGButton,IP,"1.2.1")}},{key:"updated",value:function(t){var e=this;0==t.size&&(this.shadowRoot.querySelectorAll("select").forEach((function(t){e.onListChange({target:t})})),this.shadowRoot.querySelectorAll("gscape-toggle").forEach((function(t){t.id=t.key,e.onToggleChange({target:t})})))}},{key:"onListChange",value:function(t){var e=t.target,n=e.getAttribute("area");this.settings[n][e.id].selected=e.value,this.callbacks[e.id](e.value)}},{key:"onToggleChange",value:function(t){var e=t.target;this.settings.widgets[e.id].enabled=e.checked,e.checked?this.callbacks.widgetEnable(e.id):this.callbacks.widgetDisable(e.id)}},{key:"show",value:function(){this.isEnabled&&(this.style.display="inline-block")}},{key:"onEntityNameSelection",set:function(t){this.callbacks.entity_name=t}},{key:"onLanguageSelection",set:function(t){this.callbacks.language=t}},{key:"onThemeSelection",set:function(t){this.callbacks.theme=t}},{key:"onWidgetEnabled",set:function(t){this.callbacks.widgetEnable=t}},{key:"onWidgetDisabled",set:function(t){this.callbacks.widgetDisable=t}},{key:"onPNGSaveButtonClick",set:function(t){this.savePNGButton.onClick=t}},{key:"onSVGSaveButtonClick",set:function(t){this.saveSVGButton.onClick=t}}]),n}(rO);function YP(){var t=ur(['<div class="loader"></div>']);return YP=function(){return t},t}function XP(){var t=ur(["\n      .loader {\n        border: 3px solid ",";\n        border-radius: 50%;\n        border-top: 3px solid ",";\n        width: 30px;\n        height: 30px;\n        -webkit-animation: spin 1s linear infinite; /* Safari */\n        animation: spin 1s linear infinite;\n        box-sizing: border-box;\n        position:absolute;\n        top:50%;\n        left: 50%;\n        margin-top: -15px;\n        margin-left: -15px;\n      }\n\n      /* Safari */\n      @-webkit-keyframes spin {\n        0% { -webkit-transform: rotate(0deg); }\n        100% { -webkit-transform: rotate(360deg); }\n      }\n\n      @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    "]);return XP=function(){return t},t}customElements.define("gscape-settings",WP);var KP=function(t){Qn(n,t);var e=sr(n);function n(){return $n(this,n),e.call(this)}return Jn(n,null,[{key:"styles",get:function(){return QC(XP(),$A.shadows,$A.secondary)}}]),Jn(n,[{key:"render",value:function(){return PC(YP())}},{key:"hide",value:function(){this.style.display="none"}},{key:"show",value:function(){this.style.display="initial"}}]),n}(eT);function $P(){var t=ur(["<p>","</p>"]);return $P=function(){return t},t}function ZP(){var t=ur(['\n    <gscape-head\n      title="','"\n      icon="close"\n      class="',' drag-handler">\n    </gscape-head>\n    <div class="widget-body ','">\n      ',"\n    </div>\n    "]);return ZP=function(){return t},t}function JP(){var t=ur(["\n        :host {\n          top: 30%;\n          left: 50%;\n          max-width: 500px;\n          transform: translate(-50%, 0);\n        }\n\n        .widget-body {\n          padding : 10px;\n          width: initial;\n        }\n\n        .widget-body.error {\n          background : var(--theme-gscape-error, ",");\n          color : var(--theme-gscape-on-error, ",");\n        }\n\n        gscape-head {\n          --title-text-align : center;\n          --title-width : 100%;\n        }\n\n        gscape-head.error {\n          color : var(--theme-gscape-error, ",");\n        }\n\n        gscape-head.warning {\n          color : var(--theme-gscape-warning, ",");\n        }\n      "]);return JP=function(){return t},t}customElements.define("gscape-spinner",KP);var QP=function(t){Qn(n,t);var e=sr(n);function n(){var t;return $n(this,n),(t=e.call(this)).draggable=!0,t.text=[],t.type="error",t}return Jn(n,null,[{key:"properties",get:function(){return{text:{type:Array},type:{type:String}}}},{key:"styles",get:function(){var t=lr(tr(n),"styles",this),e=t[1];return[t[0],QC(JP(),e.error,e.on_error,e.error,e.warning)]}}]),Jn(n,[{key:"render",value:function(){return PC(ZP(),this.type,this.type.toLowerCase(),this.type.toLowerCase(),this.text.map((function(t){return PC($P(),t)})))}},{key:"show",value:function(t,e){lr(tr(n.prototype),"show",this).call(this),this.type=t,this.text="string"==typeof e?[e]:e}},{key:"clickHandler",value:function(){this.hide(),this._onClick()}},{key:"firstUpdated",value:function(){lr(tr(n.prototype),"firstUpdated",this).call(this),this.hide(),this.header.onClick=this.hide.bind(this)}}]),n}(rO);function tD(){var t=ur(['\n      <gscape-head title="Entity Occurrences" left_icon="visibility" class="drag-handler"></gscape-head>\n      <div class="widget-body">\n        ',"\n      </div>\n    "]);return tD=function(){return t},t}function eD(){var t=ur(["\n        :host {\n          top:50%;\n          transform: translate(0, -50%);\n          left:10px;\n        }\n\n        .widget-body {\n          max-height: 250px;\n        }\n\n        gscape-head {\n          --title-text-align: center;\n          --title-width: 100%;\n        }\n\n        .details_table {\n          margin:5px 0;\n        }\n      "]);return eD=function(){return t},t}customElements.define("gscape-dialog",QP);var nD=function(t){Qn(n,t);var e=sr(n);function n(){var t;return $n(this,n),(t=e.call(this)).draggable=!0,t.collapsible=!0,t.occurrences=[],t.hiddenDefault=!0,t.onNodeNavigation={},t}return Jn(n,null,[{key:"properties",get:function(){return{occurrences:{type:Array}}}},{key:"styles",get:function(){var t=lr(tr(n),"styles",this);t[1];return[t[0],QC(eD())]}}]),Jn(n,[{key:"render",value:function(){return PC(tD(),(t=this.occurrences,e=this.handleNodeSelection,PC(DO(),t&&t.length>0?PC(PO(),t.map((function(t){return PC(OO(),t.diagram_name,t.id,e,t.id_xml)}))):"")));var t,e}},{key:"handleNodeSelection",value:function(t){var e=t.target.getAttribute("node_id");this.onNodeNavigation(e)}},{key:"firstUpdated",value:function(){lr(tr(n.prototype),"firstUpdated",this).call(this),this.header.invertIcons()}},{key:"blur",value:function(){this.hide()}}]),n}(rO);customElements.define("gscape-entity-occurrences",nD);var rD=function(){function t(e){$n(this,t),this.container=e,this.graph_container=document.createElement("div"),this.graph_container.style.width="100%",this.graph_container.style.height="100%",this.graph_container.style.position="relative",this.container.appendChild(this.graph_container),this.onEdgeSelection={},this.onNodeSelection={},this.renderers={default:new _P(this.graph_container),lite:new wP(this.graph_container),float:new xP(this.graph_container)},this.setRenderer(this.renderers.default),this.container.requestFullscreen=this.container.requestFullscreen||this.container.mozRequestFullscreen||this.container.mozRequestFullScreen||this.container.webkitRequestFullscreen||this.container.msRequestFullscreen,document.cancelFullscreen=document.exitFullscreen||document.cancelFullscreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen,this.spinner=new KP,this.container.appendChild(this.spinner),this.dialog=new QP,this.container.appendChild(this.dialog),this.themes={},Object.assign(this.themes,tO)}return Jn(t,[{key:"createUi",value:function(t,e,n,r){var i=this;this.settings=r,this.filters=this.settings.widgets.filters.filter_list,this.widgets=new Map,this.diagram_selector=new fO(e),this.diagram_selector.onDiagramChange=this.onDiagramChange,this.widgets.set("diagram_selector",this.diagram_selector),this.explorer=new bO(n,e),this.explorer.onEntitySelect=this.onEntitySelection,this.explorer.onNodeNavigation=this.onNodeNavigation,this.widgets.set("explorer",this.explorer),this.entity_details=new VO,this.entity_details.onNodeNavigation=this.onNodeNavigation,this.widgets.set("details",this.entity_details),this.occurrences_list=new nD,this.occurrences_list.onNodeNavigation=this.onNodeNavigation,this.widgets.set("occurrences_list",this.occurrences_list);var o=new ZO("fullscreen","fullscreen_exit");o.style.top="10px",o.style.right="10px",o.onClick=this.toggleFullscreen.bind(this),this.widgets.set("btn_fullscreen",o);var a=new ZO("filter_center_focus");a.style.bottom="10px",a.style.right="10px",a.onClick=this.resetView.bind(this),this.widgets.set("btn_reset",a),this.filters_widget=new sP(this.filters),this.filters_widget.onFilterOn=this.filter.bind(this),this.filters_widget.onFilterOff=this.unfilter.bind(this),this.widgets.set("filters",this.filters_widget),this.ontology_info=new dP(t),this.widgets.set("ontology_info",this.ontology_info),this.owl_translator=new vP,this.widgets.set("owl_translator",this.owl_translator);var s=new bP;for(var l in s.onZoomIn=this.zoomIn.bind(this),s.onZoomOut=this.zoomOut.bind(this),this.widgets.set("zoom_widget",s),this.renderer_selector=new OP(this.renderers),this.renderer_selector.onRendererChange=this.onRenderingModeChange,this.widgets.set("simplifications",this.renderer_selector),this.layout_settings=new MP,this.layout_settings.onLayoutRunToggle=function(){return i.renderer.layoutStopped=!i.renderer.layoutStopped},this.layout_settings.onDragAndPinToggle=function(){return i.renderer.dragAndPin=!i.renderer.dragAndPin},this.layout_settings.hide(),this.widgets.set("layout_settings",this.layout_settings),this.settings_widget=new WP(this.settings),this.settings_widget.onEntityNameSelection=this.onEntityNameTypeChange.bind(this),this.settings_widget.onLanguageSelection=this.onLanguageChange.bind(this),this.settings_widget.onThemeSelection=this.onThemeSelection.bind(this),this.settings_widget.onWidgetEnabled=this.onWidgetEnabled.bind(this),this.settings_widget.onWidgetDisabled=this.onWidgetDisabled.bind(this),this.settings_widget.onPNGSaveButtonClick=this.onExportToPNG,this.settings_widget.onSVGSaveButtonClick=this.onExportToSVG,this.widgets.set("settings_widget",this.settings_widget),Object.keys(this.renderers).forEach((function(t){return i.registerEvents(i.renderers[t])})),this.settings.widgets)this.settings.widgets[l].enabled||this.onWidgetDisabled(l);var u,c=((u=document.createElement("div")).style.setProperty("position","absolute"),u.style.setProperty("bottom","0"),u.style.setProperty("left","0"),u.style.setProperty("margin","10px"),u.style.setProperty("display","flex"),u.style.setProperty("align-items","flex-end"),u);this.widgets.forEach((function(t,e){switch(e){case"filters":case"ontology_info":case"settings_widget":case"simplifications":c.appendChild(t),t.onToggleBody=function(){return i.blurAll(t)};break;default:i.container.appendChild(t)}})),this.container.appendChild(c),this.setTheme(this.themes[this.settings.rendering.theme.selected])}},{key:"registerEvents",value:function(t){t.onEdgeSelection=this.onEdgeSelection,t.onNodeSelection=this.onNodeSelection,t.onBackgroundClick=this.blurAll.bind(this)}},{key:"drawDiagram",value:function(t){this.diagram_selector.actual_diagram_id=t.id,this.renderer.drawDiagram(t),this.filters.all.active?this.filter("all"):this.applyActiveFilters()}},{key:"applyActiveFilters",value:function(){var t=this;Object.keys(this.filters).map((function(e){t.filters[e].active&&t.renderer.filter(t.filters[e])}))}},{key:"filter",value:function(t){this.filters[t].active=!0,this.onFilterToggle(t)}},{key:"unfilter",value:function(t){this.filters[t].active=!1,this.onFilterToggle(t)}},{key:"onFilterToggle",value:function(t){var e=this;"attributes"==t&&(this.filters.value_domain.disabled=this.filters.attributes.active),"all"==t?Object.keys(this.filters).map((function(t){"all"==t||e.filters[t].disbaled||(e.filters[t].active=e.filters.all.active,"value_domain"==t&&(e.filters[t].disabled=e.filters.all.active),e.executeFilter(t))})):!this.filters[t].active&&this.filters.all.active&&(this.filters.all.active=!1),"default"!==this.renderer_selector.actual_mode&&(this.filters.value_domain.disabled=!0),this.executeFilter(t),this.widgets.get("filters").updateTogglesState()}},{key:"executeFilter",value:function(t){this.filters[t].active?this.renderer.filter(this.filters[t]):(this.renderer.unfilter(this.filters[t]),this.applyActiveFilters())}},{key:"zoomIn",value:function(){this.renderer.zoomIn()}},{key:"zoomOut",value:function(){this.renderer.zoomOut()}},{key:"resetView",value:function(){this.renderer.resetView()}},{key:"centerOnNode",value:function(t,e){this.renderer.centerOnNode(t.id,e)}},{key:"showDetails",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.entity_details.entity=t,this.showWidget("details"),e&&this.renderer.cy.$(":selected").unselect()}},{key:"showOccurrences",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.occurrences_list.occurrences=t,this.showWidget("occurrences_list"),e&&this.renderer.cy.$(":selected").unselect()}},{key:"showOwlTranslation",value:function(t){"default"==this.renderer_selector.actual_mode&&(this.owl_translator.owl_text=t,this.showWidget("owl_translator"))}},{key:"toggleFullscreen",value:function(){var t=this.container;this.isFullscreen()?document.cancelFullscreen():t.requestFullscreen()}},{key:"isFullscreen",value:function(){return document.fullScreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}},{key:"blurAll",value:function(t){this.widgets.forEach((function(e){Object.is(e,t)||e.blur()}))}},{key:"setRenderer",value:function(t){for(var e in this.renderers)this.renderers[e]&&this.renderers[e].unmount();t.mount(this.graph_container),this.renderer=t}},{key:"changeRenderingMode",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n||this.resetView();var r=this.renderer.getActualPosition(),i=this.renderer;switch(this.setRenderer(this.renderers[t]),t){case"float":case"lite":Object.keys(this.filters).map((function(t){"all"!=t&&"attributes"!=t&&"individuals"!=t&&(e.filters[t].disabled=!0)}));break;case"default":Object.keys(this.filters).map((function(t){"all"!=t&&"attributes"!=t&&"individuals"!=t&&(e.filters[t].disabled=!1,"value_domain"==t&&e.filters.attributes.active&&(e.filters.value_domain.disabled=!0))}))}this.onRenderingModeChange(t,r),"float"==t?this.showWidget("layout_settings"):(i==this.renderers.float&&setTimeout((function(){return e.resetView()}),250),this.hideWidget("layout_settings")),this.filters_widget.requestUpdate(),this.blurAll()}},{key:"setViewPort",value:function(t){this.renderer.centerOnRenderedPosition(t.x,t.y,t.zoom)}},{key:"updateEntitiesList",value:function(t){this.explorer.predicates=t,this.explorer.requestUpdate()}},{key:"onThemeSelection",value:function(t){this.setTheme(this.themes[t])}},{key:"setTheme",value:function(t){var e=this,n={};Object.keys(t).map((function(r){var i="--theme-gscape-"+r.replace(/_/g,"-"),o="string"==typeof t[r]?t[r]:t[r].cssText;e.container.style.setProperty(i,o),n[r]=o})),this.graph_container.style.background="string"==typeof t.background?t.background:t.background.cssText,Object.keys(this.renderers).map((function(t){e.renderers[t].setTheme(n)}))}},{key:"registerCustomTheme",value:function(t,e){var n=this;this.themes[e]=JSON.parse(JSON.stringify($A)),Object.keys(t).forEach((function(r){n.themes[e][r]&&(n.themes[e][r]=t[r])}))}},{key:"showWidget",value:function(t){this.widgets.get(t).show()}},{key:"hideWidget",value:function(t){this.widgets.get(t).hide()}},{key:"onWidgetEnabled",value:function(t){this.widgets.get(t).enable()}},{key:"onWidgetDisabled",value:function(t){this.widgets.get(t).disable()}},{key:"showDialog",value:function(t,e){this.dialog.show(t,e)}},{key:"actual_diagram_id",get:function(){return this.diagram_selector.actual_diagram_id}},{key:"onWikiClick",set:function(t){this.entity_details.onWikiClick=t}}]),t}(),iD=function(){function t(){$n(this,t)}return Jn(t,[{key:"edgeToOwlString",value:function(t){var e=t.source(),n=t.target(),r='<span class="owl_error">Malformed Axiom</span>';switch(t.data("type")){case"inclusion":return"concept"==e.data("identity")&&"concept"==n.data("identity")?"domain-restriction"==e.data("type")&&"self"!=e.data("displayed_name")&&"self"!=n.data("displayed_name")?function(t,e){var n=e.source().incomers('[type = "input"]').sources();if(n.size()>1)return o(t,e);if("role"==n.data("type"))return"ObjectPropertyDomain("+t.nodeToOwlString(n)+" "+t.nodeToOwlString(e.target())+")";if("attribute"==n.data("type"))return"DataPropertyDomain("+t.nodeToOwlString(n)+" "+t.nodeToOwlString(e.target())+")"}(this,t):"range-restriction"==e.data("type")&&"self"!=e.data("displayed_name")&&"self"!=n.data("displayed_name")?s(this,t):"complement"==n.data("type")||"complement"==e.data("type")?function(t,e){var n="DisjointClasses(";return e.forEach((function(e){"complement"==e.data("type")&&(e=e.incomers('[type = "input"]').source()),n+=t.nodeToOwlString(e)+" "})),n=n.slice(0,n.length-1),n+=")"}(this,t.connectedNodes()):o(this,t):"role"==e.data("identity")&&"role"==n.data("identity")?"complement"==n.data("type")?l(this,t):a(this,t):"value_domain"==e.data("identity")&&"value_domain"==n.data("identity")?s(this,t):"attribute"==e.data("identity")&&"attribute"==n.data("identity")?"complement"==n.data("type")?l(this,t):a(this,t):r;case"equivalence":return"concept"==e.data("identity")&&"concept"==n.data("identity")?function(t,e){return"EquivalentClasses("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}(this,t):"role"==e.data("identity")&&"role"==n.data("identity")?"role-inverse"==e.data("type")||"role-inverse"==n.data("type")?function(t,e){var n,r;"role-inverse"==e.source().data("type")?(r=e.target(),n=e.source().incomers('[type = "input"]').sources().first()):(r=e.source(),n=e.target().incomers('[type = "input"]').sources().first());if(!n.length)return'<span class="owl_error">Missing Operand</span>';return"InverseObjectProperties("+t.nodeToOwlString(r)+" "+t.nodeToOwlString(n)+")"}(this,t):i(this,t):"attribute"==e.data("identity")&&"attribute"==n.data("identity")?i(this,t):r;case"membership":return"concept"==n.data("identity")?function(t,e){return"ClassAssertion("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}(this,t):function(t,e){var n,r="Object";"attribute"==e.target().data("identity")&&(r="Data");if(n=r+"PropertyAssertion("+t.nodeToOwlString(e.target())+" ","property-assertion"==e.source().data("type")){e.source().incomers('[type = "input"]').sources().forEach((function(e){n+=t.nodeToOwlString(e)+" "})),n=n.slice(0,n.length-1)}else n+=t.nodeToOwlString(e.source());return n+")"}(this,t)}function i(t,e){return"Equivalent"+("role"==e.source().data("idenity")?"Object":"Data")+"Properties("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}function o(t,e){return"SubClassOf("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}function a(t,e){var n;if("role"==e.target().data("identity"))n="Object";else{if("attribute"!=e.target().data("type"))return null;n="Data"}return"Sub"+n+"PropertyOf("+t.nodeToOwlString(e.source())+" "+t.nodeToOwlString(e.target())+")"}function s(t,e){var n=e.source().incomers('[type = "input"]').sources();return n.size()>1?o(t,e):"role"==n.data("type")?"ObjectPropertyRange("+t.nodeToOwlString(n)+" "+t.nodeToOwlString(e.target())+")":"attribute"==n.data("type")?"DataPropertyRange("+t.nodeToOwlString(n)+" "+t.nodeToOwlString(e.target())+")":void 0}function l(t,e){var n,r;if("role"==e.target().data("identity"))n="Object";else{if("attribute"!=e.target().data("identity"))return null;n="Data"}return r="Disjoint"+n+"Properties(",e.connectedNodes().forEach((function(e){"complement"==e.data("type")&&(e=e.incomers('[type = "input"]').source()),r+=t.nodeToOwlString(e)+" "})),(r=r.slice(0,r.length-1))+")"}}},{key:"nodeToOwlString",value:function(t,e){var n='<span class="axiom_predicate_prefix">owl:</span><span class="axiom_predefinite_obj">Thing</span>',r='<span class="axiom_predicate_prefix">rdfs:</span><span class="axiom_predefinite_obj">Literal</span>',i='<span class="owl_error">Missing Operand</span>',o=e||null;if(o&&(t.hasClass("predicate")||"value-domain"==t.data("type"))){var a,s='<span class="axiom_predicate_prefix">'+t.data("iri").prefix+'</span><span class="owl_'+t.data("type")+'">'+t.data("iri").remaining_chars+"</span>";switch(t.data("type")){case"concept":return"Declaration("+(a="Class")+"("+s+"))";case"role":var l="Declaration("+(a="ObjectProperty")+"("+s+"))";return t.data("functional")&&(l+="<br/>Functional"+a+"("+s+")"),t.data("inverseFunctional")&&(l+="<br/>InverseFunctional"+a+"("+s+")"),t.data("asymmetric")&&(l+="<br />Asymmetric"+a+"("+s+")"),t.data("irreflexive")&&(l+="<br/>Irreflexive"+a+"("+s+")"),t.data("reflexive")&&(l+="<br/>Reflexive"+a+"("+s+")"),t.data("symmetric")&&(l+="<br/>Symmetric"+a+"("+s+")"),t.data("transitive")&&(l+="<br/>Transitive"+a+"("+s+")"),l;case"attribute":l="Declaration("+(a="DataProperty")+"("+s+"))";return t.data("functional")&&(l+="<br/>Functional"+a+"("+s+"))"),l;case"individual":if(-1!=t.data("iri").remaining_chars.search(/"[\w]+"\^\^[\w]+:/)){var u=t.data("iri").remaining_chars.split("^^")[0],c=t.data("iri").remaining_chars.split(":")[1];s='<span class="owl_value">'+u+'</span>^^<span class="axiom_predicate_prefix">'+t.data("iri").prefix+'</span><span class="owl_value-domain">'+c+"</span>"}return"Declaration("+(a="NamedIndividual")+"("+s+"))";case"value-domain":return"Declaration("+(a="Datatype")+"("+s+"))"}}switch(t.data("type")){case"individual":if(-1!=t.data("iri").remaining_chars.search(/"[\w]+"\^\^[\w]+:/)){u=t.data("iri").remaining_chars.split("^^")[0],c=t.data("iri").remaining_chars.split(":")[1];return'<span class="owl_value">'+u+'</span>^^<span class="axiom_predicate_prefix">'+t.data("iri").prefix+'</span><span class="owl_value-domain">'+c+"</span>"}case"concept":case"role":case"value-domain":case"attribute":case"individual":return'<span class="axiom_predicate_prefix">'+t.data("iri").prefix+'</span><span class="owl_'+t.data("type")+'">'+t.data("iri").remaining_chars+"</span>";case"facet":var d=t.data("displayed_name").replace(/\n/g,"^").split("^^");return d[0]=d[0].slice(4),'<span class="axiom_predicate_prefix">xsd:</span><span class="owl_value-domain">'+d[0]+'</span><span class="owl_value">'+d[1]+"</span>";case"domain-restriction":case"range-restriction":var h,f,p=t.connectedEdges('edge[target = "'+t.id()+'"][type = "input"]');if(!p.length)return i;if(p.forEach((function(t){"role"!=t.source().data("type")&&"attribute"!=t.source().data("type")||(h=t.source()),"role"!=t.source().data("type")&&"attribute"!=t.source().data("type")&&(f=t.source())})),!h)return i;if("attribute"==h.data("type")&&"range-restriction"==t.data("type"))return"Undefined";if("exists"==t.data("displayed_name"))return function(t,e,i,o){var a,s;"role"==e.data("type")&&(a="Object");"attribute"==e.data("type")&&(a="Data");s=a+"SomeValuesFrom(",s+="range-restriction"==o?b(t,e):t.nodeToOwlString(e);if(!i&&"Object"==a)return s+=" "+n+")";if(!i&&"Data"==a)return s+=" "+r+")";return s+=" "+t.nodeToOwlString(i)+")"}(this,h,f,t.data("type"));if("forall"==t.data("displayed_name"))return function(t,e,i,o){var a,s;"role"==e.data("type")&&(a="Object");"attribute"==e.data("type")&&(a="Data");s=a+"AllValuesFrom(",s+="range-restriction"==o?b(t,e):t.nodeToOwlString(e);if(!i&&"Object"==a)return s+=" "+n+")";if(!i&&"Data"==a)return s+=" "+r+")";return s+=" "+t.nodeToOwlString(i)+")"}(this,h,f,t.data("type"));if(-1!=t.data("displayed_name").search(/\(([-]|[\d]+),([-]|[\d]+)\)/)){var g=t.data("displayed_name").replace(/\(|\)/g,"").split(/,/);return function t(e,n,r,i,o){var a;"role"==n.data("type")&&(a="Object");"attribute"==n.data("type")&&(a="Data");if("-"==i[0])return"range-restriction"==o?r?a+"MaxCardinality("+i[1]+" "+b(e,n)+" "+e.nodeToOwlString(r)+")":a+"MaxCardinality("+i[1]+" "+b(e,n)+")":r?a+"MaxCardinality("+i[1]+" "+e.nodeToOwlString(n)+" "+e.nodeToOwlString(r)+")":a+"MaxCardinality("+i[1]+" "+e.nodeToOwlString(n)+")";if("-"==i[1])return"range-restriction"==o?r?a+"MinCardinality("+i[0]+" "+b(e,n)+" "+e.nodeToOwlString(r)+")":a+"MinCardinality("+i[0]+" "+b(e,n)+")":r?a+"MinCardinality("+i[0]+" "+e.nodeToOwlString(n)+" "+e.nodeToOwlString(r)+")":a+"MinCardinality("+i[0]+" "+e.nodeToOwlString(n)+")";if("-"!=i[0]&&"-"!=i[1]){var s=[],l=[];return s.push(i[0]),s.push("-"),l.push("-"),l.push(i[1]),a+"IntersectionOf("+t(e,n,r,s,o)+" "+t(e,n,r,l,o)+")"}}(this,h,f,g,t.data("type"))}if("self"==t.data("displayed_name"))return function(t,e,n){if("range-restriction"==n)return"ObjectHasSelf("+b(t,e)+")";return"ObjectHasSelf("+t.nodeToOwlString(e)+")"}(this,h,t.data("type"));case"role-inverse":var v=t.incomers('[type = "input"]').sources();return v.length?b(this,v):i;case"role-chain":return t.data("inputs")?function(t,e){var n="ObjectPropertyChain(";return e.forEach((function(e){n+=t.nodeToOwlString(e)+" "})),n=n.slice(0,n.length-1),n+=")"}(this,t.incomers('[type = "input"]').sources()):i;case"union":case"intersection":case"complement":case"enumeration":case"disjoint-union":var y=t.incomers('[type = "input"]').sources();if(!y.length)return i;var m="Object";return"concept"!=t.data("identity")&&"role"!=t.data("identity")&&(m="Data"),"disjoint-union"==t.data("type")?o?_(this,y,"union",m)+"<br />"+function(t,e){var n="DisjointClasses(";return e.forEach((function(e){n+=t.nodeToOwlString(e)+" "})),n=n.slice(0,n.length-1),n+=")"}(this,y):_(this,y,"union",m):_(this,y,t.data("type"),m);case"datatype-restriction":return(y=t.incomers('[type = "input"]').sources()).length?function(t,e){var n="DatatypeRestriction(",r=e.filter('[type = "value-domain"]').first();return n+=t.nodeToOwlString(r)+" ",e.forEach((function(e){"facet"==e.data("type")&&(n+=t.nodeToOwlString(e)+"^^",n+=t.nodeToOwlString(r)+" ")})),n=n.slice(0,n.length-1),n+=")"}(this,y):i;case"property-assertion":return"Undefined";case"has-key":return!(y=t.incomers('[type = "input"]')).length||y.length<2?i:function(t,e){var n=e.filter('[identity = "concept"]'),r="HasKey("+t.nodeToOwlString(n)+" ";return e.forEach((function(e){e.id()!=n.id()&&(r+=t.nodeToOwlString(e)+" ")})),r=r.slice(0,r.length-1)+")"}(this,y.sources())}function b(t,e){return"ObjectInverseOf("+t.nodeToOwlString(e)+")"}function _(t,e,n,r){var i;return n="enumeration"==n?"One":n.charAt(0).toUpperCase()+n.slice(1),i=r+n+"Of(",e.forEach((function(e){i+=t.nodeToOwlString(e)+" "})),i=i.slice(0,i.length-1),i+=")"}}}]),t}();function oD(t){var e=new _P(null),n=new LS(t.name,t.version),r=new LS(t.name,t.version),i={lite:n,float:r};return new Promise((function(p,g){try{window.setTimeout((function(){t.diagrams.forEach((function(t){var i,p,g,v=new DS(t.name,t.id),y=new DS(t.name,t.id);v.addElems((i=t.nodes,p=t.edges,(g=PS()).add(i),g.add(p),s(g,(function(t){switch(t.data("type")){case"complement":case"value-domain":case"role-chain":case"enumeration":return!0;case"domain-restriction":case"range-restriction":return"forall"==t.data("displayed_name")}})),s(g,l),s(g,c),s(g,u),g.remove(".filtered"),function(t){var n=t.$("*");n.filter('[type ^= "domain"],[type ^= "range"]').forEach((function(n){var r,i=(r=null,n.incomers('[type = "input"]').forEach((function(t){"role"!=t.source().data("type")&&"attribute"!=t.source().data("type")||(r=t)})),r),s=null,l="domain-restriction"==n.data("type")?"domain":"range";n.connectedEdges('[type != "input"]').forEach((function(e,n){(s=function(e,n,r,i){var s=[],l=null;return"domain-restriction"!=e.source().data("type")&&"range-restriction"!=e.source().data("type")||"domain-restriction"!=e.target().data("type")&&"range-restriction"!=e.target().data("type")?(e.target().data("id")!==n.target().data("id")?s.push(o(e)):s.push(e.json()),"attribute"==n.source().data("type")?(n.source().position(n.target().position()),(l=s[0]).data.target=n.source().id(),l.data.id+="_"+i):(s.push(o(n)),l=a(s,t,s[0].data.id+"_"+i)),l.classes+="".concat(n.source().data("type")," ").concat(r),l.data.type="default",l):(t.remove(e),l)}(e,i,l,n))&&(t.add(s),t.remove(e))})),e.filterElem(n,"",t),t.remove(".filtered")})),t.remove(".filtered")}(g),function(t){var n=t;n.nodes('[type = "intersection"],[type = "union"],[type = "disjoint-union"]').forEach((function(t){(function(t){if("union"!=t.data("type")&&"disjoint-union"!=t.data("type")&&"intersection"!=t.data("type"))return!1;var e=!1;return t.incomers('[type *= "input"]').forEach((function(t){"concept"!=t.source().data("type")&&(e=!0)})),e})(t)&&(f(t),e.filterElem(t,"",n))})),n.remove(".filtered")}(g),function(t){t.$("*").filter('[type $= "union"]').forEach((function(e){d(e),e.incomers('edge[type = "input"]').data("type","easy_input"),t.remove(e.incomers('edge[type = "inclusion"]')),e.connectedEdges('edge[type = "equivalence"]').forEach((function(n){if(n.data("type","inclusion"),n.data("target_label","C"),n.source().id()!=e.id()){var r=o(n);t.remove(n),t.add(r)}})),e.outgoers('edge[type = "inclusion"]').forEach((function(t){t.addClass("hierarchy"),"disjoint-union"==e.data("type")&&t.addClass("disjoint")})),e.data("label")&&e.data("label",""),f(e),h(e),0==e.connectedEdges('[type !*= "input"]').size()&&t.remove(e)}))}(g),function(t){var n=t;n.$('node[type = "intersection"]').forEach((function(t){f(t),h(t),0==t.incomers('edge[type !*= "input"]').size()&&0==t.connectedEdges('edge[type = "equivalence"]').size()?e.filterElem(t,"",n):(t.incomers('edge[type !*= "input"]').forEach((function(e){t.incomers('edge[type = "input"]').forEach((function(r,i){var s=[];e.source().id()==t.id()?s.push(o(e)):s.push(e.json());var l="".concat(e.id(),"_").concat(i);s.push(o(r));var u=a(s,n,l);n.remove(e),n.add(u)}))})),n.remove(t))}))}(g),function(t){var e=t;e.nodes('[type = "role-inverse"]').forEach((function(t){var n=0,r=t.incomers('[type *= "input"]');t.connectedEdges('[type !*= "input"]').forEach((function(i,s){var l=[];i.source().id()==t.id()?l.push(o(i)):l.push(i.json()),l.push(o(r));var u=r.id()+"_"+s,c=a(l,e,u);c.data.type="inclusion",c.classes="inverse-of",e.add(c),e.remove(i),n+=1})),n>1?(e.remove(r),d(t),t.data("label","inverse Of"),t.data("labelXpos",0),t.data("labelYpos",0),t.data("text_background",!0)):(r.source()&&r.source().connectedEdges("edge.inverse-of").data("displayed_name","inverse Of"),e.remove(t))}))}(g),g.$("*"))),n.addDiagram(v),y.addElems(function(t,e){var n=PS();return n.add(t),n.add(e),function(t){t.$('[type = "role"]').forEach((function(e){var n=e.incomers("edge.role"),r=n.filter(".domain"),i=n.filter(".range").sources();r.forEach((function(e){i.forEach((function(n,r){var i={data:{id:e.id()+"-"+r,id_xml:e.target().data("id_xml"),diagram_id:e.target().data("diagram_id"),source:e.source().id(),target:n.id(),type:e.target().data("type"),iri:e.target().data("iri"),displayed_name:e.target().data("displayed_name"),label:e.target().data("label"),description:e.target().data("description"),functional:e.target().data("functional"),inverseFunctional:e.target().data("inverseFunctional"),asymmetric:e.target().data("asymmetric"),irreflexive:e.target().data("irreflexive"),reflexive:e.target().data("reflexive"),symmetric:e.target().data("symmetric"),transitive:e.target().data("transitive")},classes:"role predicate"};(t.add(i),t.getElementById(i.data.id).isLoop())&&t.getElementById(i.data.id).data("control_point_step_size",n.data("width"))}))})),t.remove(e)}))}(n),function(t){t.$(".dummy").forEach((function(t){t.neighborhood("node").forEach((function(e){e.position(t.position())})),t.data("width",35),t.addClass("bubble")}))}(n),function(t){t.$('[type = "attribute"]').forEach((function(t){t.neighborhood("node").forEach((function(e){t.position(e.position())}))}))}(n),n.edges().removeData("segment_distances"),n.edges().removeData("segment_weights"),n.edges().removeData("target_endpoint"),n.edges().removeData("source_endpoint"),n.$('[type = "concept"]').addClass("bubble"),n.$("*")}(v.nodes,v.edges)),r.addDiagram(y)})),p(i)}),1)}catch(t){g(t)}}));function o(t){var e=t.json(),n=t.source().id();e.data.source=t.target().id(),e.data.target=n;var r=t.data("source_endpoint");return e.data.source_endpoint=t.data("target_endpoint"),e.data.target_endpoint=r,e.data.breakpoints=t.data("breakpoints").reverse(),t.data("segment_distances")&&(e.data.segment_distances=[],e.data.segment_weights=[],e.data.breakpoints.forEach((function(n){var r=BS(t.source().position(),t.target().position(),n);e.data.segment_distances.push(r[0]),e.data.segment_weights.push(r[1])}))),e}function a(t,e,n){var r=t[0].data.source,i=t[t.length-1].data.target,o=[],a=[],s=[],l=void 0;t.forEach((function(t,n,u){t.data.breakpoints&&(s=s.concat(t.data.breakpoints),t.data.breakpoints.forEach((function(t){l=BS(e.getElementById(i).position(),e.getElementById(r).position(),t),o.push(l[0]),a.push(l[1])}))),n<u.length-1&&(l=BS(e.getElementById(i).position(),e.getElementById(r).position(),e.getElementById(t.data.target).position()),o.push(l[0]),a.push(l[1]),s.push(e.getElementById(t.data.target).position()))}));var u=t[0];return u.data.id=n,u.data.source=r,u.data.target=i,u.data.target_endpoint=t[t.length-1].data.target_endpoint,u.data.type="inclusion",u.data.segment_distances=o,u.data.segment_weights=a,u.data.breakpoints=s,u}function s(t,n){var r=t;r.$("*").forEach((function(t){n(t)&&e.filterElem(t,"",r)}))}function l(t){return("domain-restriction"==t.data("type")||"range-restriction"==t.data("type"))&&"exists"==t.data("displayed_name")&&t.incomers('edge[type = "input"]').size()>1}function u(t){var e=!1;return"domain-restriction"!=t.data("type")&&"range-restriction"!=t.data("type")||t.incomers('edge[type = "input"]').forEach((function(t){t.source().data("type").endsWith("restriction")&&(e=!0)})),e}function c(t){return("domain-restriction"==t.data("type")||"range-restriction"==t.data("type"))&&t.data("displayed_name").search(/[0-9]/g)>=0}function d(t){t.data("width",.1),t.data("height",.1),t.addClass("dummy")}function h(t){var e=t.cy();t.connectedEdges("edge.role").forEach((function(n){t.incomers('[type *= "input"]').forEach((function(r,i){var o="".concat(n.id(),"_").concat(i),s={},l=[];if(t.connectedEdges('[type !*= "input"]').size()<=1)l.push(r.json()),l.push(n.json()),(s=a(l,e,o)).data.type="default",s.classes=n.json().classes;else{(s=n.json()).data.id=o;var u=void 0,c=void 0;u=n.target(),c=r.source(),s.data.source=r.source().id();var d=[],h=[];s.data.breakpoints.forEach((function(t){var e=BS(u.position(),c.position(),t);d.push(e[0]),h.push(e[1])})),s.data.segment_distances=d,s.data.segment_weights=h}e.add(s)})),e.remove(n)}))}function f(t){var n=t.cy(),r=function t(e){var n=e.cy().collection(),r=e.incomers('edge[type *= "input"]');return n=n.union(r.sources('[type = "concept"]')),r.sources('[type != "concept"]').forEach((function(e){n=n.union(t(e)),e.addClass("attr_replicated")})),n}(t),i=t.neighborhood('[type = "attribute"]'),o=n.collection();r.forEach((function(t,e){i.forEach((function(r,a){!function t(e,r,a,s){var l=a.json();l.position=e.position(),l.data.id+="_"+r+"_"+e.id(),l.classes+=" repositioned",n.add(l);var u={data:{id:l.data.id+"_edge",target:l.data.id,source:e.id()},classes:s};n.add(u),e.hasClass("repositioned")||a.neighborhood('[type = "attribute"]').forEach((function(e,r){i.contains(e)||(t(n.$id(l.data.id),r,e,"inclusion"),o=o.union(e))}))}(t,e,r,"attribute")}))})),n.remove(i),e.filterElem(o,"",n)}}const aD={entity_name:{type:"list",title:"Entities Name",label:"Select the type of name to display on entities",selected:"label",list:[{value:"label",label:"Label"},{value:"prefixed",label:"Prefixed IRI"},{value:"full",label:"Full IRI"}]},language:{type:"list",title:"Language",label:"Select the preferred language",selected:"",list:[]}},sD={theme:{type:"list",title:"Themes",label:"Select a theme",selected:"gscape",list:[{value:"gscape",label:"Light"},{value:"dark",label:"Dark"},{value:"classic",label:"Graphol"}]}},lD={explorer:{title:"Ontology Explorer",type:"boolean",enabled:!0,label:"Enable Ontology Explorer widget"},details:{type:"boolean",title:"Entity Details",enabled:!0,label:"Enable Entity Details widget"},owl_translator:{type:"boolean",title:"OWL Translator",enabled:!0,label:"Enable Owl Translation widget"},filters:{type:"boolean",title:"Filters",enabled:!0,label:"Enable Filters widget",filter_list:{all:{selector:"#undefined",label:"Filter All",active:!1,disabled:!1,class:"undefined"},attributes:{selector:'[type = "attribute"]',label:"Attributes",active:!1,disabled:!1,class:"filterattributes"},value_domain:{selector:'[type = "value-domain"]',label:"Value Domain",active:!1,disabled:!1,class:"filtervaluedomains"},individuals:{selector:'[type = "individual"]',label:"Individuals",active:!1,disabled:!1,class:"filterindividuals"},universal_quantifier:{selector:'[type $= "-restriction"][displayed_name = "forall"]',label:"Universal Quantifier",active:!1,disabled:!1,class:"filterforall"},not:{selector:'[type = "complement"]',label:"Not",active:!1,disabled:!1,class:"filtercomplements"}}},simplifications:{type:"boolean",title:"Simplifications",enabled:!0,label:"Allow ontology simplification widget"},occurrences_list:{type:"boolean",title:"Entity Occurrences",enabled:!0,label:"Enable entity occurrences list widget"}};var uD={preferences:aD,rendering:sD,widgets:lD},cD=Object.freeze({__proto__:null,preferences:aD,rendering:sD,widgets:lD,default:uD}),dD=function(t,e){var n=document.createElement("a");document.body.appendChild(n),n.style.setProperty("style","none");var r=window.URL.createObjectURL(t);n.href=r,n.download=e,n.click(),window.URL.revokeObjectURL(r)},hD=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;$n(this,t),this.view=r,this._ontology=e,this.config=JSON.parse(JSON.stringify(cD)),i&&this.setConfig(i),this.config.preferences.language.list=e.languages.map((function(t){return{label:t,value:t}})),this.default_language=e.default_language;var o=this.config.preferences.language.selected;""==o?this.config.preferences.language.selected=this.default_language:e.languages.includes(o)||this.config.preferences.language.list.push({label:o+" - unsupported",value:o}),this.ontologies={default:e,lite:null,float:null},this.owl_translator=new iD,this.actualMode="default",this.SimplifiedOntologyPromise=oD(e).then((function(t){n.ontologies.lite=t.lite,n.ontologies.float=t.float})).catch((function(t){console.log(t)})),this.config.preferences.entity_name.selected!=aD.entity_name.selected&&this.onEntityNameTypeChange(this.config.preferences.entity_name.selected),this.config.preferences.language.selected!=aD.language.selected&&this.onLanguageChange(this.config.preferences.language.selected)}return Jn(t,[{key:"init",value:function(){var t=this,e=this.ontology.diagrams,n=this.ontology.getEntities(),r=e.map((function(e){return t.diagramModelToViewData(e)})),i=n.map((function(e){return t.entityModelToViewData(e)})),o={name:this.ontology.name,version:this.ontology.version,namespaces:this.ontology.namespaces,annotations:this.ontology.annotations,description:this.ontology.description};this.view.onDiagramChange=this.onDiagramChange.bind(this),this.view.onNodeNavigation=this.onNodeNavigation.bind(this),this.view.onEntitySelection=this.onEntitySelection.bind(this),this.view.onNodeSelection=this.onNodeSelection.bind(this),this.view.onBackgroundClick=this.onBackgroundClick.bind(this),this.view.onEdgeSelection=this.onEdgeSelection.bind(this),this.view.onRenderingModeChange=this.changeRenderingMode.bind(this),this.view.onEntityNameTypeChange=this.onEntityNameTypeChange.bind(this),this.view.onLanguageChange=this.onLanguageChange.bind(this),this.view.onExportToPNG=this.exportToPNG.bind(this),this.view.onExportToSVG=this.exportToSVG.bind(this),this.view.createUi(o,r,i,this.config)}},{key:"onBackgroundClick",value:function(){this.view.blurAll()}},{key:"filter",value:function(t){this.view.filter(t)}},{key:"onNodeNavigation",value:function(t){var e=this.ontology.getElem(t);this.centerOnNode(e,1.5),this.showDetails(e)}},{key:"onDiagramChange",value:function(t){var e=this.ontology.getDiagram(t);this.showDiagram(e)}},{key:"showDiagram",value:function(t){"string"!=typeof t&&"number"!=typeof t||(t=this.ontology.getDiagram(t)),t||this.view.showDialog("error","Diagram not existing");var e=this.diagramModelToViewData(t);this.view.drawDiagram(e)}},{key:"onEntitySelection",value:function(t,e){var n=this.ontology.getElem(t);this.showDetails(n,e)}},{key:"showDetails",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.config.widgets.details.enabled||this.config.widgets.occurrences_list.enabled){var r=this.entityModelToViewData(t);r.occurrences=this.ontology.getOccurrences(r.iri.full_iri).map((function(t){return{id:t.data.id,id_xml:t.data.id_xml,diagram_id:t.data.diagram_id,diagram_name:e.ontology.getDiagram(t.data.diagram_id).name}})),this.config.widgets.details.enabled&&this.view.showDetails(r,n),this.config.widgets.occurrences_list.enabled&&this.view.showOccurrences(r.occurrences,n)}}},{key:"onEdgeSelection",value:function(t,e){var n=this.ontology.getElemByDiagramAndId(t,e,!1);if(n&&this.showOwlTranslation(n),this.view.hideWidget("details"),this.view.hideWidget("occurrences_list"),"float"==this.actualMode){var r=this.ontology.getElemByDiagramAndId(t,e);r.classes.includes("predicate")&&this.showDetails(r,!1)}}},{key:"onNodeSelection",value:function(t,e){var n=this.ontology.getElemByDiagramAndId(t,e);if(n){n.classes.includes("predicate")?this.showDetails(n,!1):(this.view.hideWidget("details"),this.view.hideWidget("occurrences_list"));var r=this.ontology.getElemByDiagramAndId(t,e,!1);this.showOwlTranslation(r)}else console.error("Unable to find the node with {id= "+t+"} in the ontology")}},{key:"centerOnNode",value:function(t,e){if(this.view.actual_diagram_id!=t.data.diagram_id){var n=this.ontology.getDiagram(t.data.diagram_id);this.showDiagram(n)}var r={id:t.data.id,position:t.position};this.view.centerOnNode(r,e)}},{key:"showOwlTranslation",value:function(t){if(this.config.widgets.owl_translator.enabled){var e=null;t.isNode()?e=this.owl_translator.nodeToOwlString(t,!0):t.isEdge()&&(e=this.owl_translator.edgeToOwlString(t)),this.view.showOwlTranslation(e)}}},{key:"changeRenderingMode",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.view.blurAll(),t!==this.actualMode){var r=this.actualMode,i="float"!=t&&"float"==r||"float"==t,o=n&&!i?this.view.renderer.getActualPosition():null;switch(this.actualMode=t,this.view.widgets.get("simplifications").actual_mode=t,"float"==t?this.view.showWidget("layout_settings"):this.view.hideWidget("layout_settings"),t){case"lite":case"float":this.SimplifiedOntologyPromise.then((function(){if(e.actualMode===t)try{a.bind(e)()}catch(t){console.log(t)}}));break;case"default":a.bind(this)()}}function a(){var e=this;this.ontology=this.ontologies[t],this.view.setRenderer(this.view.renderers[t]),Object.keys(this.view.filters).map((function(n){"all"!=n&&"attributes"!=n&&"individuals"!=n&&("float"!=t&&"lite"!=t||(e.view.filters[n].disabled=!0),"default"==t&&(e.view.filters[n].disabled=!1,"value_domain"==n&&e.view.filters.attributes.active&&(e.view.filters.value_domain.disabled=!0)))})),this.updateGraphView(o),this.updateEntitiesList(),this.view.widgets.get("filters").requestUpdate(),i&&setTimeout((function(){return e.view.resetView()}),250)}}},{key:"updateGraphView",value:function(t){this.onDiagramChange(this.view.actual_diagram_id),t&&this.view.setViewPort(t)}},{key:"updateEntitiesList",value:function(){var t=this,e=this.ontology.getEntities().map((function(e){return t.entityModelToViewData(e)}));this.view.updateEntitiesList(e)}},{key:"onEntityNameTypeChange",value:function(t){var e=this;this.SimplifiedOntologyPromise.then((function(){Object.keys(e.ontologies).forEach((function(n){var r=e.ontologies[n].getEntities(!1);switch(t){case"label":r.forEach((function(t){if(t.data("label")[e.language])t.data("displayed_name",t.data("label")[e.language]);else if(t.data("label")[e.default_language])t.data("displayed_name",t.data("label")[e.default_language]);else{var n=Object.keys(t.data("label"))[0];t.data("displayed_name",t.data("label")[n])}}));break;case"full":r.forEach((function(t){t.data("displayed_name",t.data("iri").full_iri)}));break;case"prefixed":r.forEach((function(t){var e=t.data("iri").prefix+t.data("iri").remaining_chars;t.data("displayed_name",e)}))}})),e.updateGraphView(e.view.renderer.getActualPosition()),e.updateEntitiesList()}))}},{key:"onLanguageChange",value:function(t){this.config.preferences.language.selected=t,this.onEntityNameTypeChange(this.config.preferences.entity_name.selected)}},{key:"setConfig",value:function(t){var e,n=this;Object.keys(t).forEach((function(e){if("theme"==e&&"object"==Yn(t[e])){var r="custom".concat(n.config.rendering.theme.list.length);n.config.rendering.theme.list.push({value:r,label:t[e].name||"Custom".concat(n.config.rendering.theme.list.length)}),null!=t[e].selected&&1!=t[e].selected||(n.config.rendering.theme.selected=r),delete t[e].name,delete t[e].selected,n.view.registerCustomTheme(t[e],r)}else for(var i in n.config)try{var o=n.config[i][e];o&&("boolean"==o.type&&"boolean"==typeof t[e]?n.config[i][e].enabled=t[e]:n.config[i][e].list.map((function(t){return t.value})).includes(t[e])&&(n.config[i][e].selected=t[e]))}catch(t){console.warn("Custom default setting [".concat(e,"] not recognized"))}})),null===(e=this.view.settings_widget)||void 0===e||e.requestUpdate()}},{key:"exportToPNG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=t||this.export_file_name+".png",this.view.renderer.cy.png(this.export_options).then((function(e){return dD(e,t)}))}},{key:"exportToSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=t||this.export_file_name+".svg";var e=this.view.renderer.cy.svg(this.export_options),n=new Blob([e],{type:"image/svg+xml;charset=utf-8"});dD(n,t)}},{key:"entityModelToViewData",value:function(t){for(var e=["label"],n=0,r=e;n<r.length;n++){var i=r[n];if(t.data[i])if(t.data[i][this.language])e[i]=t.data[i][this.language];else if(t.data[i][this.default_language])e[i]=t.data[i][this.default_language];else{var o,a=fr(this.languagesList);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(t.data[i][s]){e[i]=t.data[i][s];break}}}catch(t){a.e(t)}finally{a.f()}}}var l={id:t.data.id,id_xml:t.data.id_xml,diagram_id:t.data.diagram_id,label:e.label,displayed_name:t.data.displayed_name,type:t.data.type,iri:t.data.iri,description:t.data.description,annotations:t.data.annotations,functional:t.data.functional,inverseFunctional:t.data.inverseFunctional,asymmetric:t.data.asymmetric,irreflexive:t.data.irreflexive,reflexive:t.data.reflexive,symmetric:t.data.symmetric,transitive:t.data.transitive};return JSON.parse(JSON.stringify(l))}},{key:"diagramModelToViewData",value:function(t){var e={name:t.name,id:t.id,nodes:t.nodes,edges:t.edges};return JSON.parse(JSON.stringify(e))}},{key:"export_options",get:function(){return{output:"blob-promise",full:!0,bg:this.view.themes[this.config.rendering.theme.selected].background.cssText||this.view.themes[this.config.rendering.theme.selected].background}}},{key:"export_file_name",get:function(){return"".concat(this.ontology.name,"-").concat(this.actual_diagram.name,"-v").concat(this.ontology.version)}},{key:"ontology",set:function(t){this._ontology=t},get:function(){return this._ontology}},{key:"onWikiClick",set:function(t){this._onWikiClick=t,this.view.onWikiClick=t},get:function(){return this._onWikiClick}},{key:"language",get:function(){return this.config.preferences.language.selected}},{key:"languagesList",get:function(){return this.config.preferences.language.list.map((function(t){return t.value}))}},{key:"actual_diagram",get:function(){return this.ontology.getDiagram(this.view.actual_diagram_id)}}]),t}(),fD="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,pD=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(fD&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var gD=fD&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),pD))}};function vD(t){return t&&"[object Function]"==={}.toString.call(t)}function yD(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function mD(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function bD(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=yD(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:bD(mD(t))}function _D(t){return t&&t.referenceNode?t.referenceNode:t}var wD=fD&&!(!window.MSInputMethodContext||!document.documentMode),xD=fD&&/MSIE 10/.test(navigator.userAgent);function ED(t){return 11===t?wD:10===t?xD:wD||xD}function kD(t){if(!t)return document.documentElement;for(var e=ED(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===yD(n,"position")?kD(n):n:t?t.ownerDocument.documentElement:document.documentElement}function SD(t){return null!==t.parentNode?SD(t.parentNode):t}function CD(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(t!==a&&e!==a||r.contains(i))return function(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||kD(t.firstElementChild)===t)}(a)?a:kD(a);var s=SD(t);return s.host?CD(s.host,e):CD(t,SD(e).host)}function TD(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var i=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||i;return o[n]}return t[n]}function ND(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=TD(e,"top"),i=TD(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}function AD(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function OD(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],ED(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function PD(t){var e=t.body,n=t.documentElement,r=ED(10)&&getComputedStyle(n);return{height:OD("Height",e,n,r),width:OD("Width",e,n,r)}}var DD=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},MD=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),LD=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},ID=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function RD(t){return ID({},t,{right:t.left+t.width,bottom:t.top+t.height})}function BD(t){var e={};try{if(ED(10)){e=t.getBoundingClientRect();var n=TD(t,"top"),r=TD(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?PD(t.ownerDocument):{},a=o.width||t.clientWidth||i.width,s=o.height||t.clientHeight||i.height,l=t.offsetWidth-a,u=t.offsetHeight-s;if(l||u){var c=yD(t);l-=AD(c,"x"),u-=AD(c,"y"),i.width-=l,i.height-=u}return RD(i)}function jD(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ED(10),i="HTML"===e.nodeName,o=BD(t),a=BD(e),s=bD(t),l=yD(e),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=RD({top:o.top-a.top-u,left:o.left-a.left-c,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var h=parseFloat(l.marginTop),f=parseFloat(l.marginLeft);d.top-=u-h,d.bottom-=u-h,d.left-=c-f,d.right-=c-f,d.marginTop=h,d.marginLeft=f}return(r&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(d=ND(d,e)),d}function FD(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=jD(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:TD(n),s=e?0:TD(n,"left"),l={top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o};return RD(l)}function zD(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===yD(t,"position"))return!0;var n=mD(t);return!!n&&zD(n)}function VD(t){if(!t||!t.parentElement||ED())return document.documentElement;for(var e=t.parentElement;e&&"none"===yD(e,"transform");)e=e.parentElement;return e||document.documentElement}function qD(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?VD(t):CD(t,_D(e));if("viewport"===r)o=FD(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=bD(mD(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===r?t.ownerDocument.documentElement:r;var l=jD(s,a,i);if("HTML"!==s.nodeName||zD(a))o=l;else{var u=PD(t.ownerDocument),c=u.height,d=u.width;o.top+=l.top-l.marginTop,o.bottom=c+l.top,o.left+=l.left-l.marginLeft,o.right=d+l.left}}var h="number"==typeof(n=n||0);return o.left+=h?n:n.left||0,o.top+=h?n:n.top||0,o.right-=h?n:n.right||0,o.bottom-=h?n:n.bottom||0,o}function HD(t){return t.width*t.height}function UD(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=qD(n,r,o,i),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map((function(t){return ID({key:t},s[t],{area:HD(s[t])})})).sort((function(t,e){return e.area-t.area})),u=l.filter((function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function GD(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?VD(e):CD(e,_D(n));return jD(n,i,r)}function WD(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function YD(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function XD(t,e,n){n=n.split("-")[0];var r=WD(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return i[a]=e[a]+e[l]/2-r[l]/2,i[s]=n===s?e[s]-r[u]:e[YD(s)],i}function KD(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function $D(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var r=KD(t,(function(t){return t[e]===n}));return t.indexOf(r)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&vD(n)&&(e.offsets.popper=RD(e.offsets.popper),e.offsets.reference=RD(e.offsets.reference),e=n(e,t))})),e}function ZD(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=GD(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=UD(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=XD(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=$D(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function JD(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function QD(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if(void 0!==document.body.style[o])return o}return null}function tM(){return this.state.isDestroyed=!0,JD(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[QD("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function eM(t){var e=t.ownerDocument;return e?e.defaultView:window}function nM(t,e,n,r){n.updateBound=r,eM(t).addEventListener("resize",n.updateBound,{passive:!0});var i=bD(t);return function t(e,n,r,i){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(n,r,{passive:!0}),o||t(bD(a.parentNode),n,r,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function rM(){this.state.eventsEnabled||(this.state=nM(this.reference,this.options,this.state,this.scheduleUpdate))}function iM(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,eM(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function oM(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function aM(t,e){Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&oM(e[n])&&(r="px"),t.style[n]=e[n]+r}))}var sM=fD&&/Firefox/i.test(navigator.userAgent);function lM(t,e,n){var r=KD(t,(function(t){return t.name===e})),i=!!r&&t.some((function(t){return t.name===n&&t.enabled&&t.order<r.order}));if(!i){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var uM=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],cM=uM.slice(3);function dM(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=cM.indexOf(t),r=cM.slice(n+1).concat(cM.slice(0,n));return e?r.reverse():r}var hM="flip",fM="clockwise",pM="counterclockwise";function gM(t,e,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=a.indexOf(KD(a,(function(t){return-1!==t.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(u=u.map((function(t,r){var i=(1===r?!o:o)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return RD(s)[e]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,i,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,r){oM(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))}))})),i}var vM={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:LD({},l,o[l]),end:LD({},l,o[l]+o[u]-a[u])};t.offsets.popper=ID({},a,c[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],l=void 0;return l=oM(+n)?[+n,0]:gM(n,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||kD(t.instance.popper);t.instance.reference===n&&(n=kD(n));var r=QD("transform"),i=t.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var l=qD(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=a,i[r]=s,e.boundaries=l;var u=e.priority,c=t.offsets.popper,d={primary:function(t){var n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),LD({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(r=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),LD({},n,r)}};return u.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=ID({},c,d[e](t))})),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<o(r[l])&&(t.offsets.popper[l]=o(r[l])-n[u]),n[l]>o(r[s])&&(t.offsets.popper[l]=o(r[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!lM(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,l=-1!==["left","right"].indexOf(i),u=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),h=l?"left":"top",f=l?"bottom":"right",p=WD(r)[u];s[f]-p<a[d]&&(t.offsets.popper[d]-=a[d]-(s[f]-p)),s[d]+p>a[f]&&(t.offsets.popper[d]+=s[d]+p-a[f]),t.offsets.popper=RD(t.offsets.popper);var g=s[d]+s[u]/2-p/2,v=yD(t.instance.popper),y=parseFloat(v["margin"+c]),m=parseFloat(v["border"+c+"Width"]),b=g-t.offsets.popper[d]-y-m;return b=Math.max(Math.min(a[u]-p,b),0),t.arrowElement=r,t.offsets.arrow=(LD(n={},d,Math.round(b)),LD(n,h,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(JD(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=qD(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=YD(r),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case hM:a=[r,i];break;case fM:a=dM(r);break;case pM:a=dM(r,!0);break;default:a=e.behavior}return a.forEach((function(s,l){if(r!==s||a.length===l+1)return t;r=t.placement.split("-")[0],i=YD(r);var u=t.offsets.popper,c=t.offsets.reference,d=Math.floor,h="left"===r&&d(u.right)>d(c.left)||"right"===r&&d(u.left)<d(c.right)||"top"===r&&d(u.bottom)>d(c.top)||"bottom"===r&&d(u.top)<d(c.bottom),f=d(u.left)<d(n.left),p=d(u.right)>d(n.right),g=d(u.top)<d(n.top),v=d(u.bottom)>d(n.bottom),y="left"===r&&f||"right"===r&&p||"top"===r&&g||"bottom"===r&&v,m=-1!==["top","bottom"].indexOf(r),b=!!e.flipVariations&&(m&&"start"===o&&f||m&&"end"===o&&p||!m&&"start"===o&&g||!m&&"end"===o&&v),_=!!e.flipVariationsByContent&&(m&&"start"===o&&p||m&&"end"===o&&f||!m&&"start"===o&&v||!m&&"end"===o&&g),w=b||_;(h||y||w)&&(t.flipped=!0,(h||y)&&(r=a[l+1]),w&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=ID({},t.offsets.popper,XD(t.instance.popper,t.offsets.reference,t.placement)),t=$D(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),t.placement=YD(e),t.offsets.popper=RD(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!lM(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=KD(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=KD(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=kD(t.instance.popper),l=BD(s),u={position:i.position},c=function(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(t){return t},l=o(i.width),u=o(r.width),c=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),h=e?c||d||l%2==u%2?o:a:s,f=e?o:s;return{left:h(l%2==1&&u%2==1&&!d&&e?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:h(r.right)}}(t,window.devicePixelRatio<2||!sM),d="bottom"===n?"top":"bottom",h="right"===r?"left":"right",f=QD("transform"),p=void 0,g=void 0;if(g="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,p="right"===h?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,a&&f)u[f]="translate3d("+p+"px, "+g+"px, 0)",u[d]=0,u[h]=0,u.willChange="transform";else{var v="bottom"===d?-1:1,y="right"===h?-1:1;u[d]=g*v,u[h]=p*y,u.willChange=d+", "+h}var m={"x-placement":t.placement};return t.attributes=ID({},m,t.attributes),t.styles=ID({},u,t.styles),t.arrowStyles=ID({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){return aM(t.instance.popper,t.styles),function(t,e){Object.keys(e).forEach((function(n){!1!==e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n)}))}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&aM(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,i){var o=GD(i,e,t,n.positionFixed),a=UD(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),aM(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},yM=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};DD(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=gD(this.update.bind(this)),this.options=ID({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(ID({},t.Defaults.modifiers,i.modifiers)).forEach((function(e){r.options.modifiers[e]=ID({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return ID({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&vD(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return MD(t,[{key:"update",value:function(){return ZD.call(this)}},{key:"destroy",value:function(){return tM.call(this)}},{key:"enableEventListeners",value:function(){return rM.call(this)}},{key:"disableEventListeners",value:function(){return iM.call(this)}}]),t}();yM.Utils=("undefined"!=typeof window?window:global).PopperUtils,yM.placements=uM,yM.Defaults=vM;var mM,bM=(mM=Object.freeze({__proto__:null,default:yM}))&&mM.default||mM,_M=r((function(t,e){var n;n=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach((function(e){null!=e&&Object.keys(e).forEach((function(n){return t[n]=e[n]}))})),t}},function(t,e,n){var r=n(5).getBoundingBox;t.exports={getRef:function(t,e){var n=e.renderedDimensions;return{getBoundingClientRect:function(){return r(t,e)},get clientWidth(){return n(t).w},get clientHeight(){return n(t).h}}}}},function(t,e,n){var r=n(0),i=n(1).getRef,o=n(6).getContent,a={},s=n(8),l=s.default;null!=l&&null!=l.Defaults&&(s=s.default),t.exports={getPopper:function(t,e){var n=i(t,e),l=o(t,e.content),u=r({},a,e.popper);return new s(n,l,u)}}},function(t,e,n){var r=n(0),i=n(2).getPopper,o=n(1).getRef;function a(t,e){var n=function(t){return t.isNode()?{w:t.renderedWidth(),h:t.renderedHeight()}:{w:3,h:3}},i=t.cy();return r({},{renderedDimensions:n,renderedPosition:function(t){return t.isNode()?function(t,e){var n=t.renderedPosition(),r=e(t),i=r.w/2,o=r.h/2;return{x:n.x-i,y:n.y-o}}(t,n):function(t){var e=t.midpoint(),n=t.cy().pan(),r=t.cy().zoom();return{x:e.x*r+n.x,y:e.y*r+n.y}}(t)},popper:{},cy:i},e)}function s(t){t.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}t.exports={popper:function(t){return s(this),i(this[0],a(this[0],t))},popperRef:function(t){return s(this),o(this[0],a(this[0],t))}}},function(t,e,n){var r=n(0),i=n(2).getPopper,o=n(1).getRef;function a(t,e){return r({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},redneredPosition:function(){return{x:0,y:0}},popper:{},cy:t},e)}t.exports={popper:function(t){return i(this,a(this,t))},popperRef:function(t){return o(this,a(this,t))}}},function(t,e,n){t.exports={getBoundingBox:function(t,e){var n=e.renderedPosition,r=e.cy,i=e.renderedDimensions,o=r.container().getBoundingClientRect(),a=i(t),s=n(t);return{top:s.y+o.top,left:s.x+o.left,right:s.x+a.w+o.left,bottom:s.y+a.h+o.top,width:a.w,height:a.h}}}},function(t,e,n){t.exports={getContent:function(t,e){var n=null;if("function"!=typeof e){if(e instanceof HTMLElement)return e;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(n=e(t)))throw new Error("No 'target' specified to create popper");return n}}},function(t,e,n){var r=n(4),i=n(3),o=function(t){t&&(t("core","popper",r.popper),t("collection","popper",i.popper),t("core","popperRef",r.popperRef),t("collection","popperRef",i.popperRef))};"undefined"!=typeof cytoscape&&o(cytoscape),t.exports=o},function(e,n){e.exports=t}])},t.exports=n(bM)})),wM=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){this.source=t,this.target=e,this.type=n};e.PowerEdge=n;var r=function(){function t(t,e,n,r){var a=this;if(this.linkAccessor=n,this.modules=new Array(t),this.roots=[],r)this.initModulesFromGroup(r);else{this.roots.push(new o);for(var s=0;s<t;++s)this.roots[0].add(this.modules[s]=new i(s))}this.R=e.length,e.forEach((function(t){var e=a.modules[n.getSourceIndex(t)],r=a.modules[n.getTargetIndex(t)],i=n.getType(t);e.outgoing.add(i,r),r.incoming.add(i,e)}))}return t.prototype.initModulesFromGroup=function(t){var e=new o;this.roots.push(e);for(var n=0;n<t.leaves.length;++n){var r=t.leaves[n],s=new i(r.id);this.modules[r.id]=s,e.add(s)}if(t.groups)for(var l=0;l<t.groups.length;++l){var u=t.groups[l],c={};for(var d in u)"leaves"!==d&&"groups"!==d&&u.hasOwnProperty(d)&&(c[d]=u[d]);e.add(new i(-1-l,new a,new a,this.initModulesFromGroup(u),c))}return e},t.prototype.merge=function(t,e,n){void 0===n&&(n=0);var r=t.incoming.intersection(e.incoming),a=t.outgoing.intersection(e.outgoing),s=new o;s.add(t),s.add(e);var l=new i(this.modules.length,a,r,s);this.modules.push(l);var u=function(n,r,i){n.forAll((function(n,o){n.forAll((function(n){var a=n[r];a.add(o,l),a.remove(o,t),a.remove(o,e),t[i].remove(o,n),e[i].remove(o,n)}))}))};return u(a,"incoming","outgoing"),u(r,"outgoing","incoming"),this.R-=r.count()+a.count(),this.roots[n].remove(t),this.roots[n].remove(e),this.roots[n].add(l),l},t.prototype.rootMerges=function(t){void 0===t&&(t=0);for(var e=this.roots[t].modules(),n=e.length,r=new Array(n*(n-1)),i=0,o=0,a=n-1;o<a;++o)for(var s=o+1;s<n;++s){var l=e[o],u=e[s];r[i]={id:i,nEdges:this.nEdges(l,u),a:l,b:u},i++}return r},t.prototype.greedyMerge=function(){for(var t=0;t<this.roots.length;++t)if(!(this.roots[t].modules().length<2)){var e=this.rootMerges(t).sort((function(t,e){return t.nEdges==e.nEdges?t.id-e.id:t.nEdges-e.nEdges}))[0];if(!(e.nEdges>=this.R))return this.merge(e.a,e.b,t),!0}},t.prototype.nEdges=function(t,e){var n=t.incoming.intersection(e.incoming),r=t.outgoing.intersection(e.outgoing);return this.R-n.count()-r.count()},t.prototype.getGroupHierarchy=function(t){var e=this,r=[];return function t(e,n,r){e.forAll((function(e){if(e.isLeaf())n.leaves||(n.leaves=[]),n.leaves.push(e.id);else{var i=n;if(e.gid=r.length,!e.isIsland()||e.isPredefined()){if(i={id:e.gid},e.isPredefined())for(var o in e.definition)i[o]=e.definition[o];n.groups||(n.groups=[]),n.groups.push(e.gid),r.push(i)}t(e.children,i,r)}}))}(this.roots[0],{},r),this.allEdges().forEach((function(i){var o=e.modules[i.source],a=e.modules[i.target];t.push(new n(void 0===o.gid?i.source:r[o.gid],void 0===a.gid?i.target:r[a.gid],i.type))})),r},t.prototype.allEdges=function(){var e=[];return t.getEdges(this.roots[0],e),e},t.getEdges=function(e,n){e.forAll((function(e){e.getEdges(n),t.getEdges(e.children,n)}))},t}();e.Configuration=r;var i=function(){function t(t,e,n,r,i){void 0===e&&(e=new a),void 0===n&&(n=new a),void 0===r&&(r=new o),this.id=t,this.outgoing=e,this.incoming=n,this.children=r,this.definition=i}return t.prototype.getEdges=function(t){var e=this;this.outgoing.forAll((function(r,i){r.forAll((function(r){t.push(new n(e.id,r.id,i))}))}))},t.prototype.isLeaf=function(){return 0===this.children.count()},t.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},t.prototype.isPredefined=function(){return void 0!==this.definition},t}();e.Module=i;var o=function(){function t(){this.table={}}return t.prototype.count=function(){return Object.keys(this.table).length},t.prototype.intersection=function(e){var n=new t;return n.table=function(t,e){var n={};for(var r in t)r in e&&(n[r]=t[r]);return n}(this.table,e.table),n},t.prototype.intersectionCount=function(t){return this.intersection(t).count()},t.prototype.contains=function(t){return t in this.table},t.prototype.add=function(t){this.table[t.id]=t},t.prototype.remove=function(t){delete this.table[t.id]},t.prototype.forAll=function(t){for(var e in this.table)t(this.table[e])},t.prototype.modules=function(){var t=[];return this.forAll((function(e){e.isPredefined()||t.push(e)})),t},t}();e.ModuleSet=o;var a=function(){function t(){this.sets={},this.n=0}return t.prototype.count=function(){return this.n},t.prototype.contains=function(t){var e=!1;return this.forAllModules((function(n){e||n.id!=t||(e=!0)})),e},t.prototype.add=function(t,e){(t in this.sets?this.sets[t]:this.sets[t]=new o).add(e),++this.n},t.prototype.remove=function(t,e){var n=this.sets[t];n.remove(e),0===n.count()&&delete this.sets[t],--this.n},t.prototype.forAll=function(t){for(var e in this.sets)t(this.sets[e],Number(e))},t.prototype.forAllModules=function(t){this.forAll((function(e,n){return e.forAll(t)}))},t.prototype.intersection=function(e){var n=new t;return this.forAll((function(t,r){if(r in e.sets){var i=t.intersection(e.sets[r]),o=i.count();o>0&&(n.sets[r]=i,n.n+=o)}})),n},t}();e.LinkSets=a,e.getGroups=function(t,e,n,i){for(var o=t.length,a=new r(o,e,n,i);a.greedyMerge(););var s=[],l=a.getGroupHierarchy(s);return s.forEach((function(e){var n=function(n){var r=e[n];"number"==typeof r&&(e[n]=t[r])};n("source"),n("target")})),{groups:l,powerEdges:s}}})),xM=r((function(t,e){function n(t,e){var n={};for(var r in t)n[r]={};for(var r in e)n[r]={};return Object.keys(n).length}function r(t,e){var n=0;for(var r in t)void 0!==e[r]&&++n;return n}function i(t,e,n,r){var i=function(t,e){var n={},r=function(t,e){void 0===n[t]&&(n[t]={}),n[t][e]={}};return t.forEach((function(t){var n=e.getSourceIndex(t),i=e.getTargetIndex(t);r(n,i),r(i,n)})),n}(t,r);t.forEach((function(t){var o=i[r.getSourceIndex(t)],a=i[r.getTargetIndex(t)];r.setLength(t,1+e*n(o,a))}))}function o(t,e,n){var r=[],i=0,o=[],a=[];function s(t){t.index=t.lowlink=i++,o.push(t),t.onStack=!0;for(var e=0,n=t.out;e<n.length;e++){var r=n[e];void 0===r.index?(s(r),t.lowlink=Math.min(t.lowlink,r.lowlink)):r.onStack&&(t.lowlink=Math.min(t.lowlink,r.index))}if(t.lowlink===t.index){for(var l=[];o.length&&((r=o.pop()).onStack=!1,l.push(r),r!==t););a.push(l.map((function(t){return t.id})))}}for(var l=0;l<t;l++)r.push({id:l,out:[]});for(var u=0,c=e;u<c.length;u++){var d=c[u],h=r[n.getSourceIndex(d)],f=r[n.getTargetIndex(d)];h.out.push(f)}for(var p=0,g=r;p<g.length;p++){var v=g[p];void 0===v.index&&s(v)}return a}Object.defineProperty(e,"__esModule",{value:!0}),e.symmetricDiffLinkLengths=function(t,e,o){void 0===o&&(o=1),i(t,o,(function(t,e){return Math.sqrt(n(t,e)-r(t,e))}),e)},e.jaccardLinkLengths=function(t,e,o){void 0===o&&(o=1),i(t,o,(function(t,e){return Math.min(Object.keys(t).length,Object.keys(e).length)<1.1?0:r(t,e)/n(t,e)}),e)},e.generateDirectedEdgeConstraints=function(t,e,n,r){var i=o(t,e,r),a={};i.forEach((function(t,e){return t.forEach((function(t){return a[t]=e}))}));var s=[];return e.forEach((function(t){var e=r.getSourceIndex(t),i=r.getTargetIndex(t);a[e]!==a[i]&&s.push({axis:n,left:e,right:i,gap:r.getMinSeparation(t)})})),s},e.stronglyConnectedComponents=o})),EM=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.locks={}}return t.prototype.add=function(t,e){this.locks[t]=e},t.prototype.clear=function(){this.locks={}},t.prototype.isEmpty=function(){for(var t in this.locks)return!1;return!0},t.prototype.apply=function(t){for(var e in this.locks)t(Number(e),this.locks[e])},t}();e.Locks=n;var r=function(){function t(t,e,r){void 0===r&&(r=null),this.D=e,this.G=r,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new i,this.project=null,this.x=t,this.k=t.length;var o=this.n=t[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new n,this.minD=Number.MAX_VALUE;for(var a,s=o;s--;)for(a=o;--a>s;){var l=e[s][a];l>0&&l<this.minD&&(this.minD=l)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),s=this.k;s--;){for(this.g[s]=new Array(o),this.H[s]=new Array(o),a=o;a--;)this.H[s][a]=new Array(o);this.Hd[s]=new Array(o),this.a[s]=new Array(o),this.b[s]=new Array(o),this.c[s]=new Array(o),this.d[s]=new Array(o),this.e[s]=new Array(o),this.ia[s]=new Array(o),this.ib[s]=new Array(o),this.xtmp[s]=new Array(o)}}return t.createSquareMatrix=function(t,e){for(var n=new Array(t),r=0;r<t;++r){n[r]=new Array(t);for(var i=0;i<t;++i)n[r][i]=e(r,i)}return n},t.prototype.offsetDir=function(){for(var t=this,e=new Array(this.k),n=0,r=0;r<this.k;++r){var i=e[r]=this.random.getNextBetween(.01,1)-.5;n+=i*i}return n=Math.sqrt(n),e.map((function(e){return e*(t.minD/n)}))},t.prototype.computeDerivatives=function(t){var e=this,n=this.n;if(!(n<1)){for(var r,i=new Array(this.k),o=new Array(this.k),a=new Array(this.k),s=0,l=0;l<n;++l){for(r=0;r<this.k;++r)a[r]=this.g[r][l]=0;for(var u=0;u<n;++u)if(l!==u){for(var c=n;c--;){var d=0;for(r=0;r<this.k;++r){var h=i[r]=t[r][l]-t[r][u];d+=o[r]=h*h}if(d>1e-9)break;var f=this.offsetDir();for(r=0;r<this.k;++r)t[r][u]+=f[r]}var p=Math.sqrt(d),g=this.D[l][u],v=null!=this.G?this.G[l][u]:1;if(v>1&&p>g||!isFinite(g))for(r=0;r<this.k;++r)this.H[r][l][u]=0;else{v>1&&(v=1);var y=g*g,m=2*v*(p-g)/(y*p),b=p*p*p,_=2*-v/(y*b);for(isFinite(m)||console.log(m),r=0;r<this.k;++r)this.g[r][l]+=i[r]*m,a[r]-=this.H[r][l][u]=_*(b+g*(o[r]-d)+p*d)}}for(r=0;r<this.k;++r)s=Math.max(s,this.H[r][l][l]=a[r])}var w=this.snapGridSize/2,x=this.snapGridSize,E=this.snapStrength/(w*w),k=this.numGridSnapNodes;for(l=0;l<k;++l)for(r=0;r<this.k;++r){var S=this.x[r][l],C=S/x,T=C%1,N=C-T;-w<(h=Math.abs(T)<=.5?S-N*x:S>0?S-(N+1)*x:S-(N-1)*x)&&h<=w&&(this.scaleSnapByMaxH?(this.g[r][l]+=s*E*h,this.H[r][l][l]+=s*E):(this.g[r][l]+=E*h,this.H[r][l][l]+=E))}this.locks.isEmpty()||this.locks.apply((function(n,i){for(r=0;r<e.k;++r)e.H[r][n][n]+=s,e.g[r][n]-=s*(i[r]-t[r][n])}))}},t.dotProd=function(t,e){for(var n=0,r=t.length;r--;)n+=t[r]*e[r];return n},t.rightMultiply=function(e,n,r){for(var i=e.length;i--;)r[i]=t.dotProd(e[i],n)},t.prototype.computeStepSize=function(e){for(var n=0,r=0,i=0;i<this.k;++i)n+=t.dotProd(this.g[i],e[i]),t.rightMultiply(this.H[i],e[i],this.Hd[i]),r+=t.dotProd(e[i],this.Hd[i]);return 0!==r&&isFinite(r)?1*n/r:0},t.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var t=this.computeStepSize(this.g),e=0;e<this.k;++e)this.takeDescentStep(this.x[e],this.g[e],t);return this.computeStress()},t.copy=function(t,e){for(var n=t.length,r=e[0].length,i=0;i<n;++i)for(var o=0;o<r;++o)e[i][o]=t[i][o]},t.prototype.stepAndProject=function(e,n,r,i){t.copy(e,n),this.takeDescentStep(n[0],r[0],i),this.project&&this.project[0](e[0],e[1],n[0]),this.takeDescentStep(n[1],r[1],i),this.project&&this.project[1](n[0],e[1],n[1]);for(var o=2;o<this.k;o++)this.takeDescentStep(n[o],r[o],i)},t.mApply=function(t,e,n){for(var r=t;r-- >0;)for(var i=e;i-- >0;)n(r,i)},t.prototype.matrixApply=function(e){t.mApply(this.k,this.n,e)},t.prototype.computeNextPosition=function(t,e){var n=this;this.computeDerivatives(t);var r=this.computeStepSize(this.g);if(this.stepAndProject(t,e,this.g,r),this.project){this.matrixApply((function(r,i){return n.e[r][i]=t[r][i]-e[r][i]}));var i=this.computeStepSize(this.e);i=Math.max(.2,Math.min(i,1)),this.stepAndProject(t,e,this.e,i)}},t.prototype.run=function(t){for(var e=Number.MAX_VALUE,n=!1;!n&&t-- >0;){var r=this.rungeKutta();n=Math.abs(e/r-1)<this.threshold,e=r}return e},t.prototype.rungeKutta=function(){var e=this;this.computeNextPosition(this.x,this.a),t.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),t.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var n=0;return this.matrixApply((function(t,r){var i=(e.a[t][r]+2*e.b[t][r]+2*e.c[t][r]+e.d[t][r])/6,o=e.x[t][r]-i;n+=o*o,e.x[t][r]=i})),n},t.mid=function(e,n,r){t.mApply(e.length,e[0].length,(function(t,i){return r[t][i]=e[t][i]+(n[t][i]-e[t][i])/2}))},t.prototype.takeDescentStep=function(t,e,n){for(var r=0;r<this.n;++r)t[r]=t[r]-n*e[r]},t.prototype.computeStress=function(){for(var t=0,e=0,n=this.n-1;e<n;++e)for(var r=e+1,i=this.n;r<i;++r){for(var o=0,a=0;a<this.k;++a){var s=this.x[a][e]-this.x[a][r];o+=s*s}o=Math.sqrt(o);var l=this.D[e][r];if(isFinite(l)){var u=l-o;t+=u*u/(l*l)}}return t},t.zeroDistance=1e-10,t}();e.Descent=r;var i=function(){function t(t){void 0===t&&(t=1),this.seed=t,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return t.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},t.prototype.getNextBetween=function(t,e){return t+this.getNext()*(e-t)},t}();e.PseudoRandom=i})),kM=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.scale=t,this.AB=0,this.AD=0,this.A2=0}return t.prototype.addVariable=function(t){var e=this.scale/t.scale,n=t.offset/t.scale,r=t.weight;this.AB+=r*e*n,this.AD+=r*e*t.desiredPosition,this.A2+=r*e*e},t.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},t}();e.PositionStats=n;var r=function(){function t(t,e,n,r){void 0===r&&(r=!1),this.left=t,this.right=e,this.gap=n,this.equality=r,this.active=!1,this.unsatisfiable=!1,this.left=t,this.right=e,this.gap=n,this.equality=r}return t.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},t}();e.Constraint=r;var i=function(){function t(t,e,n){void 0===e&&(e=1),void 0===n&&(n=1),this.desiredPosition=t,this.weight=e,this.scale=n,this.offset=0}return t.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},t.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},t.prototype.visitNeighbours=function(t,e){var n=function(n,r){return n.active&&t!==r&&e(n,r)};this.cOut.forEach((function(t){return n(t,t.right)})),this.cIn.forEach((function(t){return n(t,t.left)}))},t}();e.Variable=i;var o=function(){function t(t){this.vars=[],t.offset=0,this.ps=new n(t.scale),this.addVariable(t)}return t.prototype.addVariable=function(t){t.block=this,this.vars.push(t),this.ps.addVariable(t),this.posn=this.ps.getPosn()},t.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var t=0,e=this.vars.length;t<e;++t)this.ps.addVariable(this.vars[t]);this.posn=this.ps.getPosn()},t.prototype.compute_lm=function(t,e,n){var r=this,i=t.dfdv();return t.visitNeighbours(e,(function(e,o){var a=r.compute_lm(o,t,n);o===e.right?(i+=a*e.left.scale,e.lm=a):(i+=a*e.right.scale,e.lm=-a),n(e)})),i/t.scale},t.prototype.populateSplitBlock=function(t,e){var n=this;t.visitNeighbours(e,(function(e,r){r.offset=t.offset+(r===e.right?e.gap:-e.gap),n.addVariable(r),n.populateSplitBlock(r,t)}))},t.prototype.traverse=function(t,e,n,r){var i=this;void 0===n&&(n=this.vars[0]),void 0===r&&(r=null),n.visitNeighbours(r,(function(r,o){e.push(t(r)),i.traverse(t,e,o,n)}))},t.prototype.findMinLM=function(){var t=null;return this.compute_lm(this.vars[0],null,(function(e){!e.equality&&(null===t||e.lm<t.lm)&&(t=e)})),t},t.prototype.findMinLMBetween=function(t,e){this.compute_lm(t,null,(function(){}));var n=null;return this.findPath(t,null,e,(function(t,e){!t.equality&&t.right===e&&(null===n||t.lm<n.lm)&&(n=t)})),n},t.prototype.findPath=function(t,e,n,r){var i=this,o=!1;return t.visitNeighbours(e,(function(e,a){o||a!==n&&!i.findPath(a,t,n,r)||(o=!0,r(e,a))})),o},t.prototype.isActiveDirectedPathBetween=function(t,e){if(t===e)return!0;for(var n=t.cOut.length;n--;){var r=t.cOut[n];if(r.active&&this.isActiveDirectedPathBetween(r.right,e))return!0}return!1},t.split=function(e){return e.active=!1,[t.createSplitBlock(e.left),t.createSplitBlock(e.right)]},t.createSplitBlock=function(e){var n=new t(e);return n.populateSplitBlock(e,null),n},t.prototype.splitBetween=function(e,n){var r=this.findMinLMBetween(e,n);if(null!==r){var i=t.split(r);return{constraint:r,lb:i[0],rb:i[1]}}return null},t.prototype.mergeAcross=function(t,e,n){e.active=!0;for(var r=0,i=t.vars.length;r<i;++r){var o=t.vars[r];o.offset+=n,this.addVariable(o)}this.posn=this.ps.getPosn()},t.prototype.cost=function(){for(var t=0,e=this.vars.length;e--;){var n=this.vars[e],r=n.position()-n.desiredPosition;t+=r*r*n.weight}return t},t}();e.Block=o;var a=function(){function t(t){this.vs=t;var e=t.length;for(this.list=new Array(e);e--;){var n=new o(t[e]);this.list[e]=n,n.blockInd=e}}return t.prototype.cost=function(){for(var t=0,e=this.list.length;e--;)t+=this.list[e].cost();return t},t.prototype.insert=function(t){t.blockInd=this.list.length,this.list.push(t)},t.prototype.remove=function(t){var e=this.list.length-1,n=this.list[e];this.list.length=e,t!==n&&(this.list[t.blockInd]=n,n.blockInd=t.blockInd)},t.prototype.merge=function(t){var e=t.left.block,n=t.right.block,r=t.right.offset-t.left.offset-t.gap;e.vars.length<n.vars.length?(n.mergeAcross(e,t,r),this.remove(e)):(e.mergeAcross(n,t,-r),this.remove(n))},t.prototype.forEach=function(t){this.list.forEach(t)},t.prototype.updateBlockPositions=function(){this.list.forEach((function(t){return t.updateWeightedPosition()}))},t.prototype.split=function(t){var e=this;this.updateBlockPositions(),this.list.forEach((function(n){var r=n.findMinLM();null!==r&&r.lm<s.LAGRANGIAN_TOLERANCE&&(n=r.left.block,o.split(r).forEach((function(t){return e.insert(t)})),e.remove(n),t.push(r))}))},t}();e.Blocks=a;var s=function(){function t(t,e){this.vs=t,this.cs=e,this.vs=t,t.forEach((function(t){t.cIn=[],t.cOut=[]})),this.cs=e,e.forEach((function(t){t.left.cOut.push(t),t.right.cIn.push(t)})),this.inactive=e.map((function(t){return t.active=!1,t})),this.bs=null}return t.prototype.cost=function(){return this.bs.cost()},t.prototype.setStartingPositions=function(t){this.inactive=this.cs.map((function(t){return t.active=!1,t})),this.bs=new a(this.vs),this.bs.forEach((function(e,n){return e.posn=t[n]}))},t.prototype.setDesiredPositions=function(t){this.vs.forEach((function(e,n){return e.desiredPosition=t[n]}))},t.prototype.mostViolated=function(){for(var e=Number.MAX_VALUE,n=null,r=this.inactive,i=r.length,o=i,a=0;a<i;++a){var s=r[a];if(!s.unsatisfiable){var l=s.slack();if((s.equality||l<e)&&(e=l,n=s,o=a,s.equality))break}}return o!==i&&(e<t.ZERO_UPPERBOUND&&!n.active||n.equality)&&(r[o]=r[i-1],r.length=i-1),n},t.prototype.satisfy=function(){null==this.bs&&(this.bs=new a(this.vs)),this.bs.split(this.inactive);for(var e=null;(e=this.mostViolated())&&(e.equality||e.slack()<t.ZERO_UPPERBOUND&&!e.active);){var n=e.left.block;if(n!==e.right.block)this.bs.merge(e);else{if(n.isActiveDirectedPathBetween(e.right,e.left)){e.unsatisfiable=!0;continue}var r=n.splitBetween(e.left,e.right);if(null===r){e.unsatisfiable=!0;continue}this.bs.insert(r.lb),this.bs.insert(r.rb),this.bs.remove(n),this.inactive.push(r.constraint),e.slack()>=0?this.inactive.push(e):this.bs.merge(e)}}},t.prototype.solve=function(){this.satisfy();for(var t=Number.MAX_VALUE,e=this.bs.cost();Math.abs(t-e)>1e-4;)this.satisfy(),t=e,e=this.bs.cost();return e},t.LAGRANGIAN_TOLERANCE=-1e-4,t.ZERO_UPPERBOUND=-1e-10,t}();e.Solver=s,e.removeOverlapInOneDimension=function(t,e,n){for(var o=t.map((function(t){return new i(t.desiredCenter)})),a=[],l=t.length,u=0;u<l-1;u++){var c=t[u],d=t[u+1];a.push(new r(o[u],o[u+1],(c.size+d.size)/2))}var h=o[0],f=o[l-1],p=t[0].size/2,g=t[l-1].size/2,v=null,y=null;return e&&(v=new i(e,1e3*h.weight),o.push(v),a.push(new r(v,h,p))),n&&(y=new i(n,1e3*f.weight),o.push(y),a.push(new r(f,y,g))),new s(o,a).solve(),{newCenters:o.slice(0,t.length).map((function(t){return t.position()})),lowerBound:v?v.position():h.position()-p,upperBound:y?y.position():f.position()+g}}})),SM=r((function(t,e){var r=n&&n.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.findIter=function(t){for(var e=this._root,n=this.iterator();null!==e;){var r=this._comparator(t,e.data);if(0===r)return n._cursor=e,n;n._ancestors.push(e),e=e.get_child(r>0)}return null}}return t.prototype.clear=function(){this._root=null,this.size=0},t.prototype.find=function(t){for(var e=this._root;null!==e;){var n=this._comparator(t,e.data);if(0===n)return e.data;e=e.get_child(n>0)}return null},t.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},t.prototype.upperBound=function(t){var e=this._comparator;return this._bound(t,(function(t,n){return e(n,t)}))},t.prototype.min=function(){var t=this._root;if(null===t)return null;for(;null!==t.left;)t=t.left;return t.data},t.prototype.max=function(){var t=this._root;if(null===t)return null;for(;null!==t.right;)t=t.right;return t.data},t.prototype.iterator=function(){return new o(this)},t.prototype.each=function(t){for(var e,n=this.iterator();null!==(e=n.next());)t(e)},t.prototype.reach=function(t){for(var e,n=this.iterator();null!==(e=n.prev());)t(e)},t.prototype._bound=function(t,e){for(var n=this._root,r=this.iterator();null!==n;){var i=this._comparator(t,n.data);if(0===i)return r._cursor=n,r;r._ancestors.push(n),n=n.get_child(i>0)}for(var o=r._ancestors.length-1;o>=0;--o)if(e(t,(n=r._ancestors[o]).data)>0)return r._cursor=n,r._ancestors.length=o,r;return r._ancestors.length=0,r},t}();e.TreeBase=i;var o=function(){function t(t){this._tree=t,this._ancestors=[],this._cursor=null}return t.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},t.prototype.next=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._minNode(t)}else{var e;if(null===this._cursor.right)do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===e);else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},t.prototype.prev=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._maxNode(t)}else{var e;if(null===this._cursor.left)do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===e);else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},t.prototype._minNode=function(t){for(;null!==t.left;)this._ancestors.push(t),t=t.left;this._cursor=t},t.prototype._maxNode=function(t){for(;null!==t.right;)this._ancestors.push(t),t=t.right;this._cursor=t},t}();e.Iterator=o;var a=function(){function t(t){this.data=t,this.left=null,this.right=null,this.red=!0}return t.prototype.get_child=function(t){return t?this.right:this.left},t.prototype.set_child=function(t,e){t?this.right=e:this.left=e},t}(),s=function(t){function e(e){var n=t.call(this)||this;return n._root=null,n._comparator=e,n.size=0,n}return r(e,t),e.prototype.insert=function(t){var n=!1;if(null===this._root)this._root=new a(t),n=!0,this.size++;else{var r=new a(void 0),i=!1,o=!1,s=null,l=r,u=null,c=this._root;for(l.right=this._root;;){if(null===c?(c=new a(t),u.set_child(i,c),n=!0,this.size++):e.is_red(c.left)&&e.is_red(c.right)&&(c.red=!0,c.left.red=!1,c.right.red=!1),e.is_red(c)&&e.is_red(u)){var d=l.right===s;c===u.get_child(o)?l.set_child(d,e.single_rotate(s,!o)):l.set_child(d,e.double_rotate(s,!o))}var h=this._comparator(c.data,t);if(0===h)break;o=i,i=h<0,null!==s&&(l=s),s=u,u=c,c=c.get_child(i)}this._root=r.right}return this._root.red=!1,n},e.prototype.remove=function(t){if(null===this._root)return!1;var n=new a(void 0),r=n;r.right=this._root;for(var i=null,o=null,s=null,l=!0;null!==r.get_child(l);){var u=l;o=i,i=r,r=r.get_child(l);var c=this._comparator(t,r.data);if(l=c>0,0===c&&(s=r),!e.is_red(r)&&!e.is_red(r.get_child(l)))if(e.is_red(r.get_child(!l))){var d=e.single_rotate(r,l);i.set_child(u,d),i=d}else if(!e.is_red(r.get_child(!l))){var h=i.get_child(!u);if(null!==h)if(e.is_red(h.get_child(!u))||e.is_red(h.get_child(u))){var f=o.right===i;e.is_red(h.get_child(u))?o.set_child(f,e.double_rotate(i,u)):e.is_red(h.get_child(!u))&&o.set_child(f,e.single_rotate(i,u));var p=o.get_child(f);p.red=!0,r.red=!0,p.left.red=!1,p.right.red=!1}else i.red=!1,h.red=!0,r.red=!0}}return null!==s&&(s.data=r.data,i.set_child(i.right===r,r.get_child(null===r.left)),this.size--),this._root=n.right,null!==this._root&&(this._root.red=!1),null!==s},e.is_red=function(t){return null!==t&&t.red},e.single_rotate=function(t,e){var n=t.get_child(!e);return t.set_child(!e,n.get_child(e)),n.set_child(e,t),t.red=!0,n.red=!1,n},e.double_rotate=function(t,n){return t.set_child(!n,e.single_rotate(t.get_child(!n),!n)),e.single_rotate(t,n)},e}(i);e.RBTree=s})),CM=r((function(t,e){var r=n&&n.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function i(t){return t.bounds=void 0!==t.leaves?t.leaves.reduce((function(t,e){return e.bounds.union(t)}),o.empty()):o.empty(),void 0!==t.groups&&(t.bounds=t.groups.reduce((function(t,e){return i(e).union(t)}),t.bounds)),t.bounds=t.bounds.inflate(t.padding),t.bounds}Object.defineProperty(e,"__esModule",{value:!0}),e.computeGroupBounds=i;var o=function(){function t(t,e,n,r){this.x=t,this.X=e,this.y=n,this.Y=r}return t.empty=function(){return new t(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},t.prototype.cx=function(){return(this.x+this.X)/2},t.prototype.cy=function(){return(this.y+this.Y)/2},t.prototype.overlapX=function(t){var e=this.cx(),n=t.cx();return e<=n&&t.x<this.X?this.X-t.x:n<=e&&this.x<t.X?t.X-this.x:0},t.prototype.overlapY=function(t){var e=this.cy(),n=t.cy();return e<=n&&t.y<this.Y?this.Y-t.y:n<=e&&this.y<t.Y?t.Y-this.y:0},t.prototype.setXCentre=function(t){var e=t-this.cx();this.x+=e,this.X+=e},t.prototype.setYCentre=function(t){var e=t-this.cy();this.y+=e,this.Y+=e},t.prototype.width=function(){return this.X-this.x},t.prototype.height=function(){return this.Y-this.y},t.prototype.union=function(e){return new t(Math.min(this.x,e.x),Math.max(this.X,e.X),Math.min(this.y,e.y),Math.max(this.Y,e.Y))},t.prototype.lineIntersections=function(e,n,r,i){for(var o=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],a=[],s=0;s<4;++s){var l=t.lineIntersection(e,n,r,i,o[s][0],o[s][1],o[s][2],o[s][3]);null!==l&&a.push({x:l.x,y:l.y})}return a},t.prototype.rayIntersection=function(t,e){var n=this.lineIntersections(this.cx(),this.cy(),t,e);return n.length>0?n[0]:null},t.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},t.lineIntersection=function(t,e,n,r,i,o,a,s){var l=n-t,u=a-i,c=r-e,d=s-o,h=d*l-u*c;if(0==h)return null;var f=t-i,p=e-o,g=(u*p-d*f)/h,v=(l*p-c*f)/h;return g>=0&&g<=1&&v>=0&&v<=1?{x:t+g*l,y:e+g*c}:null},t.prototype.inflate=function(e){return new t(this.x-e,this.X+e,this.y-e,this.Y+e)},t}();e.Rectangle=o,e.makeEdgeBetween=function(t,e,n){var r=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},i=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},o=i.x-r.x,a=i.y-r.y,s=Math.sqrt(o*o+a*a),l=s-n;return{sourceIntersection:r,targetIntersection:i,arrowStart:{x:r.x+l*o/s,y:r.y+l*a/s}}},e.makeEdgeTo=function(t,e,n){var r=e.rayIntersection(t.x,t.y);r||(r={x:e.cx(),y:e.cy()});var i=r.x-t.x,o=r.y-t.y,a=Math.sqrt(i*i+o*o);return{x:r.x-n*i/a,y:r.y-n*o/a}};var a=function(t,e,n){this.v=t,this.r=e,this.pos=n,this.prev=u(),this.next=u()},s=function(t,e,n){this.isOpen=t,this.v=e,this.pos=n};function l(t,e){return t.pos>e.pos?1:t.pos<e.pos||t.isOpen?-1:e.isOpen?1:0}function u(){return new SM.RBTree((function(t,e){return t.pos-e.pos}))}var c={getCentre:function(t){return t.cx()},getOpen:function(t){return t.y},getClose:function(t){return t.Y},getSize:function(t){return t.width()},makeRect:function(t,e,n,r){return new o(n-r/2,n+r/2,t,e)},findNeighbours:function(t,e){var n=function(n,r){for(var i,o=e.findIter(t);null!==(i=o[n]());){var a=i.r.overlapX(t.r);if((a<=0||a<=i.r.overlapY(t.r))&&(t[n].insert(i),i[r].insert(t)),a<=0)break}};n("next","prev"),n("prev","next")}},d={getCentre:function(t){return t.cy()},getOpen:function(t){return t.x},getClose:function(t){return t.X},getSize:function(t){return t.height()},makeRect:function(t,e,n,r){return new o(t,e,n-r/2,n+r/2)},findNeighbours:function(t,e){var n=function(n,r){var i=e.findIter(t)[n]();null!==i&&i.r.overlapX(t.r)>0&&(t[n].insert(i),i[r].insert(t))};n("next","prev"),n("prev","next")}};function h(t,e,n,r){void 0===r&&(r=!1);var i=t.padding,o=void 0!==t.groups?t.groups.length:0,a=void 0!==t.leaves?t.leaves.length:0,s=o?t.groups.reduce((function(t,r){return t.concat(h(r,e,n,!0))}),[]):[],l=(r?2:0)+a+o,u=new Array(l),c=new Array(l),d=0,p=function(t,e){c[d]=t,u[d++]=e};if(r){var g=t.bounds,v=e.getCentre(g),y=e.getSize(g)/2,m=e.getOpen(g),b=e.getClose(g),_=v-y+i/2,w=v+y-i/2;t.minVar.desiredPosition=_,p(e.makeRect(m,b,_,i),t.minVar),t.maxVar.desiredPosition=w,p(e.makeRect(m,b,w,i),t.maxVar)}a&&t.leaves.forEach((function(t){return p(t.bounds,t.variable)})),o&&t.groups.forEach((function(t){var n=t.bounds;p(e.makeRect(e.getOpen(n),e.getClose(n),e.getCentre(n),e.getSize(n)),t.minVar)}));var x=f(c,u,e,n);return o&&(u.forEach((function(t){t.cOut=[],t.cIn=[]})),x.forEach((function(t){t.left.cOut.push(t),t.right.cIn.push(t)})),t.groups.forEach((function(t){var n=(t.padding-e.getSize(t.bounds))/2;t.minVar.cIn.forEach((function(t){return t.gap+=n})),t.minVar.cOut.forEach((function(e){e.left=t.maxVar,e.gap+=n}))}))),s.concat(x)}function f(t,e,n,r){var i,o=t.length,c=2*o;console.assert(e.length>=o);var d=new Array(c);for(i=0;i<o;++i){var h=t[i],f=new a(e[i],h,n.getCentre(h));d[i]=new s(!0,f,n.getOpen(h)),d[i+o]=new s(!1,f,n.getClose(h))}d.sort(l);var p=new Array,g=u();for(i=0;i<c;++i){var v=d[i];f=v.v;if(v.isOpen)g.insert(f),n.findNeighbours(f,g);else{g.remove(f);var y=function(t,e){var i=(n.getSize(t.r)+n.getSize(e.r))/2+r;p.push(new kM.Constraint(t.v,e.v,i))},m=function(t,e,n){for(var r,i=f[t].iterator();null!==(r=i[t]());)n(r,f),r[e].remove(f)};m("prev","next",(function(t,e){return y(t,e)})),m("next","prev",(function(t,e){return y(e,t)}))}}return console.assert(0===g.size),p}function p(t,e){return f(t,e,c,1e-6)}function g(t,e){return f(t,e,d,1e-6)}function v(t){return h(t,c,1e-6)}function y(t){return h(t,d,1e-6)}e.generateXConstraints=p,e.generateYConstraints=g,e.generateXGroupConstraints=v,e.generateYGroupConstraints=y,e.removeOverlaps=function(t){var e=t.map((function(t){return new kM.Variable(t.cx())})),n=p(t,e),r=new kM.Solver(e,n);r.solve(),e.forEach((function(e,n){return t[n].setXCentre(e.position())})),e=t.map((function(t){return new kM.Variable(t.cy())})),n=g(t,e),(r=new kM.Solver(e,n)).solve(),e.forEach((function(e,n){return t[n].setYCentre(e.position())}))};var m=function(t){function e(e,n){var r=t.call(this,0,n)||this;return r.index=e,r}return r(e,t),e}(kM.Variable);e.IndexedVariable=m;var b=function(){function t(t,e,n,r,a){var s=this;if(void 0===n&&(n=null),void 0===r&&(r=null),void 0===a&&(a=!1),this.nodes=t,this.groups=e,this.rootGroup=n,this.avoidOverlaps=a,this.variables=t.map((function(t,e){return t.variable=new m(e,1)})),r&&this.createConstraints(r),a&&n&&void 0!==n.groups){t.forEach((function(t){if(t.width&&t.height){var e=t.width/2,n=t.height/2;t.bounds=new o(t.x-e,t.x+e,t.y-n,t.y+n)}else t.bounds=new o(t.x,t.x,t.y,t.y)})),i(n);var l=t.length;e.forEach((function(t){s.variables[l]=t.minVar=new m(l++,void 0!==t.stiffness?t.stiffness:.01),s.variables[l]=t.maxVar=new m(l++,void 0!==t.stiffness?t.stiffness:.01)}))}}return t.prototype.createSeparation=function(t){return new kM.Constraint(this.nodes[t.left].variable,this.nodes[t.right].variable,t.gap,void 0!==t.equality&&t.equality)},t.prototype.makeFeasible=function(t){var e=this;if(this.avoidOverlaps){var n="x",r="width";"x"===t.axis&&(n="y",r="height");var i=t.offsets.map((function(t){return e.nodes[t.node]})).sort((function(t,e){return t[n]-e[n]})),o=null;i.forEach((function(t){if(o){var e=o[n]+o[r];e>t[n]&&(t[n]=e)}o=t}))}},t.prototype.createAlignment=function(t){var e=this,n=this.nodes[t.offsets[0].node].variable;this.makeFeasible(t);var r="x"===t.axis?this.xConstraints:this.yConstraints;t.offsets.slice(1).forEach((function(t){var i=e.nodes[t.node].variable;r.push(new kM.Constraint(n,i,t.offset,!0))}))},t.prototype.createConstraints=function(t){var e=this,n=function(t){return void 0===t.type||"separation"===t.type};this.xConstraints=t.filter((function(t){return"x"===t.axis&&n(t)})).map((function(t){return e.createSeparation(t)})),this.yConstraints=t.filter((function(t){return"y"===t.axis&&n(t)})).map((function(t){return e.createSeparation(t)})),t.filter((function(t){return"alignment"===t.type})).forEach((function(t){return e.createAlignment(t)}))},t.prototype.setupVariablesAndBounds=function(t,e,n,r){this.nodes.forEach((function(i,a){i.fixed?(i.variable.weight=i.fixedWeight?i.fixedWeight:1e3,n[a]=r(i)):i.variable.weight=1;var s=(i.width||0)/2,l=(i.height||0)/2,u=t[a],c=e[a];i.bounds=new o(u-s,u+s,c-l,c+l)}))},t.prototype.xProject=function(t,e,n){(this.rootGroup||this.avoidOverlaps||this.xConstraints)&&this.project(t,e,t,n,(function(t){return t.px}),this.xConstraints,v,(function(t){return t.bounds.setXCentre(n[t.variable.index]=t.variable.position())}),(function(t){var e=n[t.minVar.index]=t.minVar.position(),r=n[t.maxVar.index]=t.maxVar.position(),i=t.padding/2;t.bounds.x=e-i,t.bounds.X=r+i}))},t.prototype.yProject=function(t,e,n){(this.rootGroup||this.yConstraints)&&this.project(t,e,e,n,(function(t){return t.py}),this.yConstraints,y,(function(t){return t.bounds.setYCentre(n[t.variable.index]=t.variable.position())}),(function(t){var e=n[t.minVar.index]=t.minVar.position(),r=n[t.maxVar.index]=t.maxVar.position(),i=t.padding/2;t.bounds.y=e-i,t.bounds.Y=r+i}))},t.prototype.projectFunctions=function(){var t=this;return[function(e,n,r){return t.xProject(e,n,r)},function(e,n,r){return t.yProject(e,n,r)}]},t.prototype.project=function(t,e,n,r,o,a,s,l,u){this.setupVariablesAndBounds(t,e,r,o),this.rootGroup&&this.avoidOverlaps&&(i(this.rootGroup),a=a.concat(s(this.rootGroup))),this.solve(this.variables,a,n,r),this.nodes.forEach(l),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(u),i(this.rootGroup))},t.prototype.solve=function(t,e,n,r){var i=new kM.Solver(t,e);i.setStartingPositions(n),i.setDesiredPositions(r),i.solve()},t}();e.Projection=b})),TM=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.elem=t,this.subheaps=[]}return t.prototype.toString=function(t){for(var e="",n=!1,r=0;r<this.subheaps.length;++r){var i=this.subheaps[r];i.elem?(n&&(e+=","),e+=i.toString(t),n=!0):n=!1}return""!==e&&(e="("+e+")"),(this.elem?t(this.elem):"")+e},t.prototype.forEach=function(t){this.empty()||(t(this.elem,this),this.subheaps.forEach((function(e){return e.forEach(t)})))},t.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce((function(t,e){return t+e.count()}),0)},t.prototype.min=function(){return this.elem},t.prototype.empty=function(){return null==this.elem},t.prototype.contains=function(t){if(this===t)return!0;for(var e=0;e<this.subheaps.length;e++)if(this.subheaps[e].contains(t))return!0;return!1},t.prototype.isHeap=function(t){var e=this;return this.subheaps.every((function(n){return t(e.elem,n.elem)&&n.isHeap(t)}))},t.prototype.insert=function(e,n){return this.merge(new t(e),n)},t.prototype.merge=function(t,e){return this.empty()?t:t.empty()?this:e(this.elem,t.elem)?(this.subheaps.push(t),this):(t.subheaps.push(this),t)},t.prototype.removeMin=function(t){return this.empty()?null:this.mergePairs(t)},t.prototype.mergePairs=function(e){if(0==this.subheaps.length)return new t(null);if(1==this.subheaps.length)return this.subheaps[0];var n=this.subheaps.pop().merge(this.subheaps.pop(),e),r=this.mergePairs(e);return n.merge(r,e)},t.prototype.decreaseKey=function(e,n,r,i){var o=e.removeMin(i);e.elem=o.elem,e.subheaps=o.subheaps,null!==r&&null!==o.elem&&r(e.elem,e);var a=new t(n);return null!==r&&r(n,a),this.merge(a,i)},t}();e.PairingHeap=n;var r=function(){function t(t){this.lessThan=t}return t.prototype.top=function(){return this.empty()?null:this.root.elem},t.prototype.push=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i,o=0;i=e[o];++o)t=new n(i),this.root=this.empty()?t:this.root.merge(t,this.lessThan);return t},t.prototype.empty=function(){return!this.root||!this.root.elem},t.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},t.prototype.forEach=function(t){this.root.forEach(t)},t.prototype.pop=function(){if(this.empty())return null;var t=this.root.min();return this.root=this.root.removeMin(this.lessThan),t},t.prototype.reduceKey=function(t,e,n){void 0===n&&(n=null),this.root=this.root.decreaseKey(t,e,n,this.lessThan)},t.prototype.toString=function(t){return this.root.toString(t)},t.prototype.count=function(){return this.root.count()},t}();e.PriorityQueue=r})),NM=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){this.id=t,this.distance=e},r=function(t){this.id=t,this.neighbours=[]},i=function(t,e,n){this.node=t,this.prev=e,this.d=n},o=function(){function t(t,e,i,o,a){this.n=t,this.es=e,this.neighbours=new Array(this.n);for(var s=this.n;s--;)this.neighbours[s]=new r(s);for(s=this.es.length;s--;){var l=this.es[s],u=i(l),c=o(l),d=a(l);this.neighbours[u].neighbours.push(new n(c,d)),this.neighbours[c].neighbours.push(new n(u,d))}}return t.prototype.DistanceMatrix=function(){for(var t=new Array(this.n),e=0;e<this.n;++e)t[e]=this.dijkstraNeighbours(e);return t},t.prototype.DistancesFromNode=function(t){return this.dijkstraNeighbours(t)},t.prototype.PathFromNodeToNode=function(t,e){return this.dijkstraNeighbours(t,e)},t.prototype.PathFromNodeToNodeWithPrevCost=function(t,e,n){var r=new TM.PriorityQueue((function(t,e){return t.d<=e.d})),o=this.neighbours[t],a=new i(o,null,0),s={};for(r.push(a);!r.empty()&&(o=(a=r.pop()).node).id!==e;)for(var l=o.neighbours.length;l--;){var u=o.neighbours[l],c=this.neighbours[u.id];if(!a.prev||c.id!==a.prev.node.id){var d=c.id+","+o.id;if(!(d in s&&s[d]<=a.d)){var h=a.prev?n(a.prev.node.id,o.id,c.id):0,f=a.d+u.distance+h;s[d]=f,r.push(new i(c,a,f))}}}for(var p=[];a.prev;)a=a.prev,p.push(a.node.id);return p},t.prototype.dijkstraNeighbours=function(t,e){void 0===e&&(e=-1);for(var n=new TM.PriorityQueue((function(t,e){return t.d<=e.d})),r=this.neighbours.length,i=new Array(r);r--;){var o=this.neighbours[r];o.d=r===t?0:Number.POSITIVE_INFINITY,o.q=n.push(o)}for(;!n.empty();){var a=n.pop();if(i[a.id]=a.d,a.id===e){for(var s=[],l=a;void 0!==l.prev;)s.push(l.prev.id),l=l.prev;return s}for(r=a.neighbours.length;r--;){var u=a.neighbours[r],c=(l=this.neighbours[u.id],a.d+u.distance);a.d!==Number.MAX_VALUE&&l.d>c&&(l.d=c,l.prev=a,n.reduceKey(l.q,l,(function(t,e){return t.q=e})))}}return i},t}();e.Calculator=o})),AM=r((function(t,e){var r=n&&n.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(){};e.Point=i;var o=function(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r};e.LineSegment=o;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i);function s(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)}function l(t,e,n){return s(t,e,n)>0}function u(t,e,n){return s(t,e,n)<0}function c(t,e){var n,r,i,o,a=e.length-1;if(u(t,e[1],e[0])&&!l(t,e[a-1],e[0]))return 0;for(n=0,r=a;;){if(r-n==1)return l(t,e[n],e[r])?n:r;if((o=u(t,e[(i=Math.floor((n+r)/2))+1],e[i]))&&!l(t,e[i-1],e[i]))return i;l(t,e[n+1],e[n])?o||l(t,e[n],e[i])?r=i:n=i:o&&u(t,e[n],e[i])?r=i:n=i}}function d(t,e){var n,r,i,o,a=e.length-1;if(l(t,e[a-1],e[0])&&!u(t,e[1],e[0]))return 0;for(n=0,r=a;;){if(r-n==1)return u(t,e[n],e[r])?n:r;if(o=u(t,e[(i=Math.floor((n+r)/2))+1],e[i]),l(t,e[i-1],e[i])&&!o)return i;u(t,e[n+1],e[n])?o?u(t,e[n],e[i])?r=i:n=i:r=i:o?n=i:l(t,e[n],e[i])?r=i:n=i}}function h(t,e,n,r,i,o){var a,s;s=r(t[a=n(e[0],t)],e);for(var l=!1;!l;){for(l=!0;a===t.length-1&&(a=0),!i(e[s],t[a],t[a+1]);)++a;for(;0===s&&(s=e.length-1),!o(t[a],e[s],e[s-1]);)--s,l=!1}return{t1:a,t2:s}}function f(t,e){return h(t,e,c,d,l,u)}e.PolyPoint=a,e.isLeft=s,e.ConvexHull=function(t){var e,n=t.slice(0).sort((function(t,e){return t.x!==e.x?e.x-t.x:e.y-t.y})),r=t.length,i=n[0].x;for(e=1;e<r&&n[e].x===i;++e);var o=e-1,a=[];if(a.push(n[0]),o===r-1)n[o].y!==n[0].y&&a.push(n[o]);else{var l,u=r-1,c=n[r-1].x;for(e=r-2;e>=0&&n[e].x===c;e--);for(l=e+1,e=o;++e<=l;)if(!(s(n[0],n[l],n[e])>=0&&e<l)){for(;a.length>1&&!(s(a[a.length-2],a[a.length-1],n[e])>0);)a.length-=1;0!=e&&a.push(n[e])}u!=l&&a.push(n[u]);var d=a.length;for(e=l;--e>=o;)if(!(s(n[u],n[o],n[e])>=0&&e>o)){for(;a.length>d&&!(s(a[a.length-2],a[a.length-1],n[e])>0);)a.length-=1;0!=e&&a.push(n[e])}}return a},e.clockwiseRadialSweep=function(t,e,n){e.slice(0).sort((function(e,n){return Math.atan2(e.y-t.y,e.x-t.x)-Math.atan2(n.y-t.y,n.x-t.x)})).forEach(n)},e.tangent_PolyPolyC=h,e.LRtangent_PolyPolyC=function(t,e){var n=f(e,t);return{t1:n.t2,t2:n.t1}},e.RLtangent_PolyPolyC=f,e.LLtangent_PolyPolyC=function(t,e){return h(t,e,d,d,u,u)},e.RRtangent_PolyPolyC=function(t,e){return h(t,e,c,c,l,l)};var p=function(t,e){this.t1=t,this.t2=e};e.BiTangent=p;var g=function(){};e.BiTangents=g;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i);e.TVGPoint=v;var y=function(t,e,n,r){this.id=t,this.polyid=e,this.polyvertid=n,this.p=r,r.vv=this};e.VisibilityVertex=y;var m=function(){function t(t,e){this.source=t,this.target=e}return t.prototype.length=function(){var t=this.source.p.x-this.target.p.x,e=this.source.p.y-this.target.p.y;return Math.sqrt(t*t+e*e)},t}();e.VisibilityEdge=m;var b=function(){function t(t,e){if(this.P=t,this.V=[],this.E=[],e)this.V=e.V.slice(0),this.E=e.E.slice(0);else{for(var n=t.length,r=0;r<n;r++){for(var i=t[r],o=0;o<i.length;++o){var a=i[o],s=new y(this.V.length,r,o,a);this.V.push(s),o>0&&this.E.push(new m(i[o-1].vv,s))}i.length>1&&this.E.push(new m(i[0].vv,i[i.length-1].vv))}for(r=0;r<n-1;r++){var l=t[r];for(o=r+1;o<n;o++){var u=t[o],c=w(l,u);for(var d in c){var h=c[d],f=l[h.t1],p=u[h.t2];this.addEdgeIfVisible(f,p,r,o)}}}}}return t.prototype.addEdgeIfVisible=function(t,e,n,r){this.intersectsPolys(new o(t.x,t.y,e.x,e.y),n,r)||this.E.push(new m(t.vv,e.vv))},t.prototype.addPoint=function(t,e){var n,r,i,o=this.P.length;this.V.push(new y(this.V.length,o,0,t));for(var a=0;a<o;++a)if(a!==e){var s=this.P[a],l=(n=t,i=void 0,(i=(r=s).slice(0)).push(r[0]),{rtan:c(n,i),ltan:d(n,i)});this.addEdgeIfVisible(t,s[l.ltan],e,a),this.addEdgeIfVisible(t,s[l.rtan],e,a)}return t.vv},t.prototype.intersectsPolys=function(t,e,n){for(var r=0,i=this.P.length;r<i;++r)if(r!=e&&r!=n&&_(t,this.P[r]).length>0)return!0;return!1},t}();function _(t,e){for(var n=[],r=1,i=e.length;r<i;++r){var o=CM.Rectangle.lineIntersection(t.x1,t.y1,t.x2,t.y2,e[r-1].x,e[r-1].y,e[r].x,e[r].y);o&&n.push(o)}return n}function w(t,e){for(var n=t.length-1,r=e.length-1,i=new g,o=0;o<n;++o)for(var a=0;a<r;++a){var l=t[0==o?n-1:o-1],u=t[o],c=t[o+1],d=e[0==a?r-1:a-1],h=e[a],f=e[a+1],v=s(l,u,h),y=s(u,d,h),m=s(u,h,f),b=s(d,h,u),_=s(h,l,u),w=s(h,u,c);v>=0&&y>=0&&m<0&&b>=0&&_>=0&&w<0?i.ll=new p(o,a):v<=0&&y<=0&&m>0&&b<=0&&_<=0&&w>0?i.rr=new p(o,a):v<=0&&y>0&&m<=0&&b>=0&&_<0&&w>=0?i.rl=new p(o,a):v>=0&&y<0&&m>=0&&b<=0&&_>0&&w<=0&&(i.lr=new p(o,a))}return i}function x(t,e){return!t.every((function(t){return!function(t,e){for(var n=1,r=e.length;n<r;++n)if(u(e[n-1],e[n],t))return!1;return!0}(t,e)}))}e.TangentVisibilityGraph=b,e.tangents=w,e.polysOverlap=function(t,e){if(x(t,e))return!0;if(x(e,t))return!0;for(var n=1,r=t.length;n<r;++n){var i=t[n],a=t[n-1];if(_(new o(a.x,a.y,i.x,i.y),e).length>0)return!0}return!1}})),OM=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=10,r=(1+Math.sqrt(5))/2,i=1e-4;e.applyPacking=function(t,e,o,a,s,l){void 0===s&&(s=1),void 0===l&&(l=!0);var u=e,c=o,d=(s=void 0!==s?s:1,a=void 0!==a?a:0,0),h=0,f=0,p=0,g=[];function v(t,e){g=[],d=0,h=0,p=0;for(var n=0;n<t.length;n++){y(t[n],e)}return Math.abs(d/h-s)}function y(t,e){for(var r=void 0,o=0;o<g.length;o++)if(g[o].space_left>=t.height&&g[o].x+g[o].width+t.width+n-e<=i){r=g[o];break}g.push(t),void 0!==r?(t.x=r.x+r.width+n,t.y=r.bottom,t.space_left=t.height,t.bottom=t.y,r.space_left-=t.height+n,r.bottom+=t.height+n):(t.y=p,p+=t.height+n,t.x=0,t.bottom=t.y,t.space_left=t.height),t.y+t.height-h>-i&&(h=t.y+t.height-0),t.x+t.width-d>-i&&(d=t.x+t.width-0)}0!=t.length&&(function(t){t.forEach((function(t){var e,n,r,i,o;e=t,n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=0,o=0,e.array.forEach((function(t){var e=void 0!==t.width?t.width:a,s=void 0!==t.height?t.height:a;e/=2,s/=2,i=Math.max(t.x+e,i),n=Math.min(t.x-e,n),o=Math.max(t.y+s,o),r=Math.min(t.y-s,r)})),e.width=i-n,e.height=o-r}))}(t),function(t,e){var o=Number.POSITIVE_INFINITY,a=0;t.sort((function(t,e){return e.height-t.height})),f=t.reduce((function(t,e){return t.width<e.width?t.width:e.width}));var s=y=f,l=m=function(t){var e=0;return t.forEach((function(t){return e+=t.width+n})),e}(t),u=0,c=Number.MAX_VALUE,d=Number.MAX_VALUE,h=-1,p=Number.MAX_VALUE,g=Number.MAX_VALUE;for(;p>f||g>i;){if(1!=h){var y=l-(l-s)/r;c=v(t,y)}if(0!=h){var m=s+(l-s)/r;d=v(t,m)}if(p=Math.abs(y-m),g=Math.abs(c-d),c<o&&(o=c,a=y),d<o&&(o=d,a=m),c>d?(s=y,y=m,c=d,h=1):(l=m,m=y,d=c,h=0),u++>100)break}v(t,a)}(t),l&&function(t){t.forEach((function(t){var e={x:0,y:0};t.array.forEach((function(t){e.x+=t.x,e.y+=t.y})),e.x/=t.array.length,e.y/=t.array.length;var n=e.x-t.width/2,r=e.y-t.height/2,i=t.x-n+u/2-d/2,o=t.y-r+c/2-h/2;t.array.forEach((function(t){t.x+=i,t.y+=o}))}))}(t))},e.separateGraphs=function(t,e){for(var n={},r={},i=[],o=0,a=0;a<e.length;a++){var s=e[a],l=s.source,u=s.target;r[l.index]?r[l.index].push(u):r[l.index]=[u],r[u.index]?r[u.index].push(l):r[u.index]=[l]}for(a=0;a<t.length;a++){var c=t[a];n[c.index]||d(c,!0)}function d(t,e){if(void 0===n[t.index]){e&&(o++,i.push({array:[]})),n[t.index]=o,i[o-1].array.push(t);var a=r[t.index];if(a)for(var s=0;s<a.length;s++)d(a[s],!1)}}return i}})),PM=r((function(t,e){var n;function r(t){return void 0!==t.leaves||void 0!==t.groups}Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.start=0]="start",t[t.tick=1]="tick",t[t.end=2]="end"}(n=e.EventType||(e.EventType={}));var i=function(){function t(){var e=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:t.getSourceIndex,getTargetIndex:t.getTargetIndex,setLength:t.setLinkLength,getType:function(t){return"function"==typeof e._linkType?e._linkType(t):0}}}return t.prototype.on=function(t,e){return this.event||(this.event={}),"string"==typeof t?this.event[n[t]]=e:this.event[t]=e,this},t.prototype.trigger=function(t){this.event&&void 0!==this.event[t.type]&&this.event[t.type](t)},t.prototype.kick=function(){for(;!this.tick(););},t.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:n.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var t,e,r=this._nodes.length;this._links.length;for(this._descent.locks.clear(),e=0;e<r;++e)if((t=this._nodes[e]).fixed){void 0!==t.px&&void 0!==t.py||(t.px=t.x,t.py=t.y);var i=[t.px,t.py];this._descent.locks.add(e,i)}var o=this._descent.rungeKutta();return 0===o?this._alpha=0:void 0!==this._lastStress&&(this._alpha=o),this._lastStress=o,this.updateNodePositions(),this.trigger({type:n.tick,alpha:this._alpha,stress:this._lastStress}),!1},t.prototype.updateNodePositions=function(){for(var t,e=this._descent.x[0],n=this._descent.x[1],r=this._nodes.length;r--;)(t=this._nodes[r]).x=e[r],t.y=n[r]},t.prototype.nodes=function(t){if(!t){if(0===this._nodes.length&&this._links.length>0){var e=0;this._links.forEach((function(t){e=Math.max(e,t.source,t.target)})),this._nodes=new Array(++e);for(var n=0;n<e;++n)this._nodes[n]={}}return this._nodes}return this._nodes=t,this},t.prototype.groups=function(t){var e=this;return t?(this._groups=t,this._rootGroup={},this._groups.forEach((function(t){void 0===t.padding&&(t.padding=1),void 0!==t.leaves&&t.leaves.forEach((function(n,r){"number"==typeof n&&((t.leaves[r]=e._nodes[n]).parent=t)})),void 0!==t.groups&&t.groups.forEach((function(n,r){"number"==typeof n&&((t.groups[r]=e._groups[n]).parent=t)}))})),this._rootGroup.leaves=this._nodes.filter((function(t){return void 0===t.parent})),this._rootGroup.groups=this._groups.filter((function(t){return void 0===t.parent})),this):this._groups},t.prototype.powerGraphGroups=function(t){var e=wM.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(e.groups),t(e),this},t.prototype.avoidOverlaps=function(t){return arguments.length?(this._avoidOverlaps=t,this):this._avoidOverlaps},t.prototype.handleDisconnected=function(t){return arguments.length?(this._handleDisconnected=t,this):this._handleDisconnected},t.prototype.flowLayout=function(t,e){return arguments.length||(t="y"),this._directedLinkConstraints={axis:t,getMinSeparation:"number"==typeof e?function(){return e}:e},this},t.prototype.links=function(t){return arguments.length?(this._links=t,this):this._links},t.prototype.constraints=function(t){return arguments.length?(this._constraints=t,this):this._constraints},t.prototype.distanceMatrix=function(t){return arguments.length?(this._distanceMatrix=t,this):this._distanceMatrix},t.prototype.size=function(t){return t?(this._canvasSize=t,this):this._canvasSize},t.prototype.defaultNodeSize=function(t){return t?(this._defaultNodeSize=t,this):this._defaultNodeSize},t.prototype.groupCompactness=function(t){return t?(this._groupCompactness=t,this):this._groupCompactness},t.prototype.linkDistance=function(t){return t?(this._linkDistance="function"==typeof t?t:+t,this._linkLengthCalculator=null,this):this._linkDistance},t.prototype.linkType=function(t){return this._linkType=t,this},t.prototype.convergenceThreshold=function(t){return t?(this._threshold="function"==typeof t?t:+t,this):this._threshold},t.prototype.alpha=function(t){return arguments.length?(t=+t,this._alpha?this._alpha=t>0?t:0:t>0&&(this._running||(this._running=!0,this.trigger({type:n.start,alpha:this._alpha=t}),this.kick())),this):this._alpha},t.prototype.getLinkLength=function(t){return"function"==typeof this._linkDistance?+this._linkDistance(t):this._linkDistance},t.setLinkLength=function(t,e){t.length=e},t.prototype.getLinkType=function(t){return"function"==typeof this._linkType?this._linkType(t):0},t.prototype.symmetricDiffLinkLengths=function(t,e){var n=this;return void 0===e&&(e=1),this.linkDistance((function(e){return t*e.length})),this._linkLengthCalculator=function(){return xM.symmetricDiffLinkLengths(n._links,n.linkAccessor,e)},this},t.prototype.jaccardLinkLengths=function(t,e){var n=this;return void 0===e&&(e=1),this.linkDistance((function(e){return t*e.length})),this._linkLengthCalculator=function(){return xM.jaccardLinkLengths(n._links,n.linkAccessor,e)},this},t.prototype.start=function(e,n,r,i,o,a){var s=this;void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=!0),void 0===a&&(a=!0);var l,u=this.nodes().length,c=u+2*this._groups.length,d=(this._links.length,this._canvasSize[0]),h=this._canvasSize[1],f=new Array(c),p=new Array(c),g=null,v=this._avoidOverlaps;this._nodes.forEach((function(t,e){t.index=e,void 0===t.x&&(t.x=d/2,t.y=h/2),f[e]=t.x,p[e]=t.y})),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?l=this._distanceMatrix:(l=new NM.Calculator(c,this._links,t.getSourceIndex,t.getTargetIndex,(function(t){return s.getLinkLength(t)})).DistanceMatrix(),g=EM.Descent.createSquareMatrix(c,(function(){return 2})),this._links.forEach((function(t){"number"==typeof t.source&&(t.source=s._nodes[t.source]),"number"==typeof t.target&&(t.target=s._nodes[t.target])})),this._links.forEach((function(e){var n=t.getSourceIndex(e),r=t.getTargetIndex(e);g[n][r]=g[r][n]=e.weight||1})));var y=EM.Descent.createSquareMatrix(c,(function(t,e){return l[t][e]}));if(this._rootGroup&&void 0!==this._rootGroup.groups){var m=u;this._groups.forEach((function(t){!function(t,e,n,r){g[t][e]=g[e][t]=n,y[t][e]=y[e][t]=r}(m,m+1,s._groupCompactness,.1),f[m]=0,p[m++]=0,f[m]=0,p[m++]=0}))}else this._rootGroup={leaves:this._nodes,groups:[]};var b=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,b=b.concat(xM.generateDirectedEdgeConstraints(u,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new EM.Descent([f,p],y),this._descent.locks.clear();for(m=0;m<u;++m){var _=this._nodes[m];if(_.fixed){_.px=_.x,_.py=_.y;var w=[_.x,_.y];this._descent.locks.add(m,w)}}if(this._descent.threshold=this._threshold,this.initialLayout(e,f,p),b.length>0&&(this._descent.project=new CM.Projection(this._nodes,this._groups,this._rootGroup,b).projectFunctions()),this._descent.run(n),this.separateOverlappingComponents(d,h,a),this.avoidOverlaps(v),v&&(this._nodes.forEach((function(t,e){t.x=f[e],t.y=p[e]})),this._descent.project=new CM.Projection(this._nodes,this._groups,this._rootGroup,b,!0).projectFunctions(),this._nodes.forEach((function(t,e){f[e]=t.x,p[e]=t.y}))),this._descent.G=g,this._descent.run(r),i){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=u,this._descent.scaleSnapByMaxH=u!=c;var x=EM.Descent.createSquareMatrix(c,(function(t,e){return t>=u||e>=u?g[t][e]:0}));this._descent.G=x,this._descent.run(i)}return this.updateNodePositions(),this.separateOverlappingComponents(d,h,a),o?this.resume():this},t.prototype.initialLayout=function(e,n,r){if(this._groups.length>0&&e>0){var i=this._nodes.length,o=this._links.map((function(t){return{source:t.source.index,target:t.target.index}})),a=this._nodes.map((function(t){return{index:t.index}}));this._groups.forEach((function(t,e){a.push({index:t.index=i+e})})),this._groups.forEach((function(t,e){void 0!==t.leaves&&t.leaves.forEach((function(e){return o.push({source:t.index,target:e.index})})),void 0!==t.groups&&t.groups.forEach((function(e){return o.push({source:t.index,target:e.index})}))})),(new t).size(this.size()).nodes(a).links(o).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(e,0,0,0,!1),this._nodes.forEach((function(t){n[t.index]=a[t.index].x,r[t.index]=a[t.index].y}))}else this._descent.run(e)},t.prototype.separateOverlappingComponents=function(t,e,n){var r=this;if(void 0===n&&(n=!0),!this._distanceMatrix&&this._handleDisconnected){var i=this._descent.x[0],o=this._descent.x[1];this._nodes.forEach((function(t,e){t.x=i[e],t.y=o[e]}));var a=OM.separateGraphs(this._nodes,this._links);OM.applyPacking(a,t,e,this._defaultNodeSize,1,n),this._nodes.forEach((function(t,e){r._descent.x[0][e]=t.x,r._descent.x[1][e]=t.y,t.bounds&&(t.bounds.setXCentre(t.x),t.bounds.setYCentre(t.y))}))}},t.prototype.resume=function(){return this.alpha(.1)},t.prototype.stop=function(){return this.alpha(0)},t.prototype.prepareEdgeRouting=function(t){void 0===t&&(t=0),this._visibilityGraph=new AM.TangentVisibilityGraph(this._nodes.map((function(e){return e.bounds.inflate(-t).vertices()})))},t.prototype.routeEdge=function(t,e,n){void 0===e&&(e=5);var r=[],i=new AM.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),o={x:t.source.x,y:t.source.y},a={x:t.target.x,y:t.target.y},s=i.addPoint(o,t.source.index),l=i.addPoint(a,t.target.index);i.addEdgeIfVisible(o,a,t.source.index,t.target.index),void 0!==n&&n(i);var u=new NM.Calculator(i.V.length,i.E,(function(t){return t.source.id}),(function(t){return t.target.id}),(function(t){return t.length()})).PathFromNodeToNode(s.id,l.id);if(1===u.length||u.length===i.V.length){var c=CM.makeEdgeBetween(t.source.innerBounds,t.target.innerBounds,e);r=[c.sourceIntersection,c.arrowStart]}else{for(var d=u.length-2,h=i.V[u[d]].p,f=i.V[u[0]].p,p=(r=[t.source.innerBounds.rayIntersection(h.x,h.y)],d);p>=0;--p)r.push(i.V[u[p]].p);r.push(CM.makeEdgeTo(f,t.target.innerBounds,e))}return r},t.getSourceIndex=function(t){return"number"==typeof t.source?t.source:t.source.index},t.getTargetIndex=function(t){return"number"==typeof t.target?t.target:t.target.index},t.linkId=function(e){return t.getSourceIndex(e)+"-"+t.getTargetIndex(e)},t.dragStart=function(e){r(e)?t.storeOffset(e,t.dragOrigin(e)):(t.stopNode(e),e.fixed|=2)},t.stopNode=function(t){t.px=t.x,t.py=t.y},t.storeOffset=function(e,n){void 0!==e.leaves&&e.leaves.forEach((function(e){e.fixed|=2,t.stopNode(e),e._dragGroupOffsetX=e.x-n.x,e._dragGroupOffsetY=e.y-n.y})),void 0!==e.groups&&e.groups.forEach((function(e){return t.storeOffset(e,n)}))},t.dragOrigin=function(t){return r(t)?{x:t.bounds.cx(),y:t.bounds.cy()}:t},t.drag=function(e,n){r(e)?(void 0!==e.leaves&&e.leaves.forEach((function(t){e.bounds.setXCentre(n.x),e.bounds.setYCentre(n.y),t.px=t._dragGroupOffsetX+n.x,t.py=t._dragGroupOffsetY+n.y})),void 0!==e.groups&&e.groups.forEach((function(e){return t.drag(e,n)}))):(e.px=n.x,e.py=n.y)},t.dragEnd=function(e){r(e)?(void 0!==e.leaves&&e.leaves.forEach((function(e){t.dragEnd(e),delete e._dragGroupOffsetX,delete e._dragGroupOffsetY})),void 0!==e.groups&&e.groups.forEach(t.dragEnd)):e.fixed&=-7},t.mouseOver=function(t){t.fixed|=4,t.px=t.x,t.py=t.y},t.mouseOut=function(t){t.fixed&=-5},t}();e.Layout=i})),DM=r((function(t,e){var r=n&&n.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=t.call(this)||this,r=e;return r.trigger&&(n.trigger=r.trigger),r.kick&&(n.kick=r.kick),r.drag&&(n.drag=r.drag),r.on&&(n.on=r.on),n.dragstart=n.dragStart=PM.Layout.dragStart,n.dragend=n.dragEnd=PM.Layout.dragEnd,n}return r(e,t),e.prototype.trigger=function(t){},e.prototype.kick=function(){},e.prototype.drag=function(){},e.prototype.on=function(t,e){return this},e}(PM.Layout);e.LayoutAdaptor=i,e.adaptor=function(t){return new i(t)}})),MM=r((function(t,e){var r=n&&n.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;e.event=d3.dispatch(PM.EventType[PM.EventType.start],PM.EventType[PM.EventType.tick],PM.EventType[PM.EventType.end]);var n=e;return e.drag=function(){if(!t)var t=d3.behavior.drag().origin(PM.Layout.dragOrigin).on("dragstart.d3adaptor",PM.Layout.dragStart).on("drag.d3adaptor",(function(t){PM.Layout.drag(t,d3.event),n.resume()})).on("dragend.d3adaptor",PM.Layout.dragEnd);if(!arguments.length)return t;this.call(t)},e}return r(e,t),e.prototype.trigger=function(t){var e={type:PM.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event[e.type](e)},e.prototype.kick=function(){var e=this;d3.timer((function(){return t.prototype.tick.call(e)}))},e.prototype.on=function(t,e){return"string"==typeof t?this.event.on(t,e):this.event.on(PM.EventType[t],e),this},e}(PM.Layout);e.D3StyleLayoutAdaptor=i,e.d3adaptor=function(){return new i}})),LM=r((function(t,e){var r=n&&n.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=t.call(this)||this;n.d3Context=e,n.event=e.dispatch(PM.EventType[PM.EventType.start],PM.EventType[PM.EventType.tick],PM.EventType[PM.EventType.end]);var r=n;return n.drag=function(){if(!t)var t=e.drag().subject(PM.Layout.dragOrigin).on("start.d3adaptor",PM.Layout.dragStart).on("drag.d3adaptor",(function(t){PM.Layout.drag(t,e.event),r.resume()})).on("end.d3adaptor",PM.Layout.dragEnd);if(!arguments.length)return t;arguments[0].call(t)},n}return r(e,t),e.prototype.trigger=function(t){var e={type:PM.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event.call(e.type,e)},e.prototype.kick=function(){var e=this,n=this.d3Context.timer((function(){return t.prototype.tick.call(e)&&n.stop()}))},e.prototype.on=function(t,e){return"string"==typeof t?this.event.on(t,e):this.event.on(PM.EventType[t],e),this},e}(PM.Layout);e.D3StyleLayoutAdaptor=i})),IM=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.d3adaptor=function(t){return!t||function(t){return t.version&&null!==t.version.match(/^3\./)}(t)?new MM.D3StyleLayoutAdaptor:new LM.D3StyleLayoutAdaptor(t)}})),RM=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){this.id=t,this.rect=e,this.children=n,this.leaf=void 0===n||0===n.length};e.NodeWrapper=n;var r=function(t,e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),this.id=t,this.x=e,this.y=n,this.node=r,this.line=i};e.Vert=r;var i=function(){function t(e,n){this.s=e,this.t=n;var r=t.findMatch(e,n),i=n.slice(0).reverse(),o=t.findMatch(e,i);r.length>=o.length?(this.length=r.length,this.si=r.si,this.ti=r.ti,this.reversed=!1):(this.length=o.length,this.si=o.si,this.ti=n.length-o.ti-o.length,this.reversed=!0)}return t.findMatch=function(t,e){for(var n=t.length,r=e.length,i={length:0,si:-1,ti:-1},o=new Array(n),a=0;a<n;a++){o[a]=new Array(r);for(var s=0;s<r;s++)if(t[a]===e[s]){var l=o[a][s]=0===a||0===s?1:o[a-1][s-1]+1;l>i.length&&(i.length=l,i.si=a-l+1,i.ti=s-l+1)}else o[a][s]=0}return i},t.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},t}();e.LongestCommonSubsequence=i;var o=function(){function t(t,e,i){var o=this;void 0===i&&(i=12),this.originalnodes=t,this.groupPadding=i,this.leaves=null,this.nodes=t.map((function(t,r){return new n(r,e.getBounds(t),e.getChildren(t))})),this.leaves=this.nodes.filter((function(t){return t.leaf})),this.groups=this.nodes.filter((function(t){return!t.leaf})),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach((function(t){return t.children.forEach((function(e){return o.nodes[e].parent=t}))})),this.root={children:[]},this.nodes.forEach((function(t){void 0===t.parent&&(t.parent=o.root,o.root.children.push(t.id)),t.ports=[]})),this.backToFront=this.nodes.slice(0),this.backToFront.sort((function(t,e){return o.getDepth(t)-o.getDepth(e)})),this.backToFront.slice(0).reverse().filter((function(t){return!t.leaf})).forEach((function(t){var e=CM.Rectangle.empty();t.children.forEach((function(t){return e=e.union(o.nodes[t].rect)})),t.rect=e.inflate(o.groupPadding)}));var a=this.midPoints(this.cols.map((function(t){return t.pos}))),s=this.midPoints(this.rows.map((function(t){return t.pos}))),l=a[0],u=a[a.length-1],c=s[0],d=s[s.length-1],h=this.rows.map((function(t){return{x1:l,x2:u,y1:t.pos,y2:t.pos}})).concat(s.map((function(t){return{x1:l,x2:u,y1:t,y2:t}}))),f=this.cols.map((function(t){return{x1:t.pos,x2:t.pos,y1:c,y2:d}})).concat(a.map((function(t){return{x1:t,x2:t,y1:c,y2:d}}))),p=h.concat(f);p.forEach((function(t){return t.verts=[]})),this.verts=[],this.edges=[],h.forEach((function(t){return f.forEach((function(e){var n=new r(o.verts.length,e.x1,t.y1);t.verts.push(n),e.verts.push(n),o.verts.push(n);for(var i=o.backToFront.length;i-- >0;){var a=o.backToFront[i],s=a.rect,l=Math.abs(n.x-s.cx()),u=Math.abs(n.y-s.cy());if(l<s.width()/2&&u<s.height()/2){n.node=a;break}}}))})),p.forEach((function(t,e){o.nodes.forEach((function(e,n){e.rect.lineIntersections(t.x1,t.y1,t.x2,t.y2).forEach((function(n,i){var a=new r(o.verts.length,n.x,n.y,e,t);o.verts.push(a),t.verts.push(a),e.ports.push(a)}))}));var n=Math.abs(t.y1-t.y2)<.1,i=function(t,e){return n?e.x-t.x:e.y-t.y};t.verts.sort(i);for(var a=1;a<t.verts.length;a++){var s=t.verts[a-1],l=t.verts[a];s.node&&s.node===l.node&&s.node.leaf||o.edges.push({source:s.id,target:l.id,length:Math.abs(i(s,l))})}}))}return t.prototype.avg=function(t){return t.reduce((function(t,e){return t+e}))/t.length},t.prototype.getGridLines=function(t){for(var e=[],n=this.leaves.slice(0,this.leaves.length);n.length>0;){var r=n.filter((function(e){return e.rect["overlap"+t.toUpperCase()](n[0].rect)})),i={nodes:r,pos:this.avg(r.map((function(e){return e.rect["c"+t]()})))};e.push(i),i.nodes.forEach((function(t){return n.splice(n.indexOf(t),1)}))}return e.sort((function(t,e){return t.pos-e.pos})),e},t.prototype.getDepth=function(t){for(var e=0;t.parent!==this.root;)e++,t=t.parent;return e},t.prototype.midPoints=function(t){for(var e=t[1]-t[0],n=[t[0]-e/2],r=1;r<t.length;r++)n.push((t[r]+t[r-1])/2);return n.push(t[t.length-1]+e/2),n},t.prototype.findLineage=function(t){var e=[t];do{t=t.parent,e.push(t)}while(t!==this.root);return e.reverse()},t.prototype.findAncestorPathBetween=function(t,e){for(var n=this.findLineage(t),r=this.findLineage(e),i=0;n[i]===r[i];)i++;return{commonAncestor:n[i-1],lineages:n.slice(i).concat(r.slice(i))}},t.prototype.siblingObstacles=function(t,e){var n=this,r=this.findAncestorPathBetween(t,e),i={};r.lineages.forEach((function(t){return i[t.id]={}}));var o=r.commonAncestor.children.filter((function(t){return!(t in i)}));return r.lineages.filter((function(t){return t.parent!==r.commonAncestor})).forEach((function(t){return o=o.concat(t.parent.children.filter((function(e){return e!==t.id})))})),o.map((function(t){return n.nodes[t]}))},t.getSegmentSets=function(t,e,n){for(var r=[],i=0;i<t.length;i++)for(var o=t[i],a=0;a<o.length;a++){(d=o[a]).edgeid=i,d.i=a;var s=d[1][e]-d[0][e];Math.abs(s)<.1&&r.push(d)}r.sort((function(t,n){return t[0][e]-n[0][e]}));for(var l=[],u=null,c=0;c<r.length;c++){var d=r[c];(!u||Math.abs(d[0][e]-u.pos)>.1)&&(u={pos:d[0][e],segments:[]},l.push(u)),u.segments.push(d)}return l},t.nudgeSegs=function(t,e,n,r,i,o){var a=r.length;if(!(a<=1)){for(var s=r.map((function(e){return new kM.Variable(e[0][t])})),l=[],u=0;u<a;u++)for(var c=0;c<a;c++)if(u!==c){var d=r[u],h=r[c],f=d.edgeid,p=h.edgeid,g=-1,v=-1;"x"==t?i(f,p)&&(d[0][e]<d[1][e]?(g=c,v=u):(g=u,v=c)):i(f,p)&&(d[0][e]<d[1][e]?(g=u,v=c):(g=c,v=u)),g>=0&&l.push(new kM.Constraint(s[g],s[v],o))}new kM.Solver(s,l).solve(),s.forEach((function(e,i){var o=r[i],a=e.position();o[0][t]=o[1][t]=a;var s=n[o.edgeid];o.i>0&&(s[o.i-1][1][t]=a),o.i<s.length-1&&(s[o.i+1][0][t]=a)}))}},t.nudgeSegments=function(e,n,r,i,o){for(var a=t.getSegmentSets(e,n,r),s=0;s<a.length;s++){for(var l=a[s],u=[],c=0;c<l.segments.length;c++){var d=l.segments[c];u.push({type:0,s:d,pos:Math.min(d[0][r],d[1][r])}),u.push({type:1,s:d,pos:Math.max(d[0][r],d[1][r])})}u.sort((function(t,e){return t.pos-e.pos+t.type-e.type}));var h=[],f=0;u.forEach((function(a){0===a.type?(h.push(a.s),f++):f--,0==f&&(t.nudgeSegs(n,r,e,h,i,o),h=[])}))}},t.prototype.routeEdges=function(e,n,r,i){var o=this,a=e.map((function(t){return o.route(r(t),i(t))})),s=t.orderEdges(a),l=a.map((function(e){return t.makeSegments(e)}));return t.nudgeSegments(l,"x","y",s,n),t.nudgeSegments(l,"y","x",s,n),t.unreverseEdges(l,a),l},t.unreverseEdges=function(t,e){t.forEach((function(t,n){e[n].reversed&&(t.reverse(),t.forEach((function(t){t.reverse()})))}))},t.angleBetween2Lines=function(t,e){var n=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),r=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x),i=n-r;return(i>Math.PI||i<-Math.PI)&&(i=r-n),i},t.isLeft=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)<=0},t.getOrder=function(t){for(var e={},n=0;n<t.length;n++){var r=t[n];void 0===e[r.l]&&(e[r.l]={}),e[r.l][r.r]=!0}return function(t,n){return void 0!==e[t]&&e[t][n]}},t.orderEdges=function(e){for(var n=[],r=0;r<e.length-1;r++)for(var o=r+1;o<e.length;o++){var a,s,l,u=e[r],c=e[o],d=new i(u,c);0!==d.length&&(d.reversed&&(c.reverse(),c.reversed=!0,d=new i(u,c)),(d.si<=0||d.ti<=0)&&(d.si+d.length>=u.length||d.ti+d.length>=c.length)?n.push({l:r,r:o}):(d.si+d.length>=u.length||d.ti+d.length>=c.length?(a=u[d.si+1],l=u[d.si-1],s=c[d.ti-1]):(a=u[d.si+d.length-2],s=u[d.si+d.length],l=c[d.ti+d.length]),t.isLeft(a,s,l)?n.push({l:o,r:r}):n.push({l:r,r:o})))}return t.getOrder(n)},t.makeSegments=function(t){function e(t){return{x:t.x,y:t.y}}for(var n=function(t,e,n){return Math.abs((e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x))<.001},r=[],i=e(t[0]),o=1;o<t.length;o++){var a=e(t[o]),s=o<t.length-1?t[o+1]:null;s&&n(i,a,s)||(r.push([i,a]),i=a)}return r},t.prototype.route=function(t,e){var n=this,r=this.nodes[t],i=this.nodes[e];this.obstacles=this.siblingObstacles(r,i);var o={};this.obstacles.forEach((function(t){return o[t.id]=t})),this.passableEdges=this.edges.filter((function(t){var e=n.verts[t.source],r=n.verts[t.target];return!(e.node&&e.node.id in o||r.node&&r.node.id in o)}));for(var a=1;a<r.ports.length;a++){var s=r.ports[0].id,l=r.ports[a].id;this.passableEdges.push({source:s,target:l,length:0})}for(a=1;a<i.ports.length;a++){s=i.ports[0].id,l=i.ports[a].id;this.passableEdges.push({source:s,target:l,length:0})}var u=new NM.Calculator(this.verts.length,this.passableEdges,(function(t){return t.source}),(function(t){return t.target}),(function(t){return t.length})).PathFromNodeToNodeWithPrevCost(r.ports[0].id,i.ports[0].id,(function(t,e,o){var a=n.verts[t],s=n.verts[e],l=n.verts[o],u=Math.abs(l.x-a.x),c=Math.abs(l.y-a.y);return a.node===r&&a.node===s.node||s.node===i&&s.node===l.node?0:u>1&&c>1?1e3:0})).reverse().map((function(t){return n.verts[t]}));return u.push(this.nodes[i.id].ports[0]),u.filter((function(t,e){return!(e<u.length-1&&u[e+1].node===r&&t.node===r||e>0&&t.node===i&&u[e-1].node===i)}))},t.getRoutePath=function(e,n,r,i){var o={routepath:"M "+e[0][0].x+" "+e[0][0].y+" ",arrowpath:""};if(e.length>1)for(var a=0;a<e.length;a++){var s=(_=e[a])[1].x,l=_[1].y,u=s-_[0].x,c=l-_[0].y;if(a<e.length-1){Math.abs(u)>0?s-=u/Math.abs(u)*n:l-=c/Math.abs(c)*n,o.routepath+="L "+s+" "+l+" ";var d=e[a+1],h=d[0].x,f=d[0].y;u=d[1].x-h,c=d[1].y-f;var p,g,v=t.angleBetween2Lines(_,d)<0?1:0;Math.abs(u)>0?(p=h+u/Math.abs(u)*n,g=f):(p=h,g=f+c/Math.abs(c)*n);var y=Math.abs(p-s),m=Math.abs(g-l);o.routepath+="A "+y+" "+m+" 0 0 "+v+" "+p+" "+g+" "}else{var b=[s,l];Math.abs(u)>0?(w=[s-=u/Math.abs(u)*i,l+r],x=[s,l-r]):(w=[s+r,l-=c/Math.abs(c)*i],x=[s-r,l]),o.routepath+="L "+s+" "+l+" ",i>0&&(o.arrowpath="M "+b[0]+" "+b[1]+" L "+w[0]+" "+w[1]+" L "+x[0]+" "+x[1])}}else{var _,w,x;s=(_=e[0])[1].x,l=_[1].y,u=s-_[0].x,c=l-_[0].y,b=[s,l];Math.abs(u)>0?(w=[s-=u/Math.abs(u)*i,l+r],x=[s,l-r]):(w=[s+r,l-=c/Math.abs(c)*i],x=[s-r,l]),o.routepath+="L "+s+" "+l+" ",i>0&&(o.arrowpath="M "+b[0]+" "+b[1]+" L "+w[0]+" "+w[1]+" L "+x[0]+" "+x[1])}return o},t}();e.GridRouter=o})),BM=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.source=t,this.target=e}return t.prototype.actualLength=function(t){var e=this;return Math.sqrt(t.reduce((function(t,n){var r=n[e.target]-n[e.source];return t+r*r}),0))},t}();e.Link3D=n;var r=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.z=n};e.Node3D=r;var i=function(){function t(e,n,r){var i=this;void 0===r&&(r=1),this.nodes=e,this.links=n,this.idealLinkLength=r,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(t.k);for(var o=0;o<t.k;++o)this.result[o]=new Array(e.length);e.forEach((function(e,n){for(var r=0,o=t.dims;r<o.length;r++){var a=o[r];void 0===e[a]&&(e[a]=Math.random())}i.result[0][n]=e.x,i.result[1][n]=e.y,i.result[2][n]=e.z}))}return t.prototype.linkLength=function(t){return t.actualLength(this.result)},t.prototype.start=function(t){var e=this;void 0===t&&(t=100);var n=this.nodes.length,r=new o;this.useJaccardLinkLengths&&xM.jaccardLinkLengths(this.links,r,1.5),this.links.forEach((function(t){return t.length*=e.idealLinkLength}));var i=new NM.Calculator(n,this.links,(function(t){return t.source}),(function(t){return t.target}),(function(t){return t.length})).DistanceMatrix(),a=EM.Descent.createSquareMatrix(n,(function(t,e){return i[t][e]})),s=EM.Descent.createSquareMatrix(n,(function(){return 2}));this.links.forEach((function(t){var e=t.source,n=t.target;return s[e][n]=s[n][e]=1})),this.descent=new EM.Descent(this.result,a),this.descent.threshold=.001,this.descent.G=s,this.constraints&&(this.descent.project=new CM.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var l=0;l<this.nodes.length;l++){var u=this.nodes[l];u.fixed&&this.descent.locks.add(l,[u.x,u.y,u.z])}return this.descent.run(t),this},t.prototype.tick=function(){this.descent.locks.clear();for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];e.fixed&&this.descent.locks.add(t,[e.x,e.y,e.z])}return this.descent.rungeKutta()},t.dims=["x","y","z"],t.k=t.dims.length,t}();e.Layout3D=i;var o=function(){function t(){}return t.prototype.getSourceIndex=function(t){return t.source},t.prototype.getTargetIndex=function(t){return t.target},t.prototype.getLength=function(t){return t.length},t.prototype.setLength=function(t,e){t.length=e},t}()})),jM=r((function(t,e){function n(t,e,n,r){t.forEach((function(t){t.routerNode={name:t.name,bounds:t.bounds.inflate(-n)}})),e.forEach((function(e){e.routerNode={bounds:e.bounds.inflate(-r),children:(void 0!==e.groups?e.groups.map((function(e){return t.length+e.id})):[]).concat(void 0!==e.leaves?e.leaves.map((function(t){return t.index})):[])}}));var i=t.concat(e).map((function(t,e){return t.routerNode.id=e,t.routerNode}));return new RM.GridRouter(i,{getChildren:function(t){return t.children},getBounds:function(t){return t.bounds}},n-r)}Object.defineProperty(e,"__esModule",{value:!0}),e.gridify=function(t,e,r,i){return t.cola.start(0,0,0,10,!1),n(t.cola.nodes(),t.cola.groups(),r,i).routeEdges(t.powerGraph.powerEdges,e,(function(t){return t.source.routerNode.id}),(function(t){return t.target.routerNode.id}))},e.powerGraphGridLayout=function(t,e,n){var r;t.nodes.forEach((function(t,e){return t.index=e})),(new PM.Layout).avoidOverlaps(!1).nodes(t.nodes).links(t.links).powerGraphGroups((function(t){(r=t).groups.forEach((function(t){return t.padding=n}))}));var i=t.nodes.length,o=[],a=t.nodes.slice(0);return a.forEach((function(t,e){return t.index=e})),r.groups.forEach((function(t){var e=t.index=t.id+i;a.push(t),void 0!==t.leaves&&t.leaves.forEach((function(t){return o.push({source:e,target:t.index})})),void 0!==t.groups&&t.groups.forEach((function(t){return o.push({source:e,target:t.id+i})}))})),r.powerEdges.forEach((function(t){o.push({source:t.source.index,target:t.target.index})})),(new PM.Layout).size(e).nodes(a).links(o).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new PM.Layout).convergenceThreshold(.001).size(e).avoidOverlaps(!0).nodes(t.nodes).links(t.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups((function(t){(r=t).groups.forEach((function(t){t.padding=n}))})).start(50,0,100,0,!1),powerGraph:r}}})),FM=r((function(t,e){function n(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),n(DM),n(IM),n(EM),n(AM),n(RM),n(OM),n(PM),n(BM),n(xM),n(wM),n(TM),n(SM),n(CM),n(NM),n(kM),n(jM)})),zM=r((function(t,e){var n;n=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(1),o=n(2),a=n(5)||("undefined"!=typeof window?window.cola:null),s=n(4),l=function(t){return(void 0===t?"undefined":r(t))===r(0)},u=function(){},c=function(t,e){var n;return null!=(n=t)&&(void 0===n?"undefined":r(n))===r((function(){}))?t.apply(e,[e]):t};function d(t){this.options=i({},o,t)}d.prototype.run=function(){var t=this,e=this.options;t.manuallyStopped=!1;var n=e.cy,i=e.eles,o=i.nodes(),d=i.edges(),h=!1,f=o.filter((function(t){return t.isParent()})),p=o.subtract(f),g=e.boundingBox||{x1:0,y1:0,w:n.width(),h:n.height()};void 0===g.x2&&(g.x2=g.x1+g.w),void 0===g.w&&(g.w=g.x2-g.x1),void 0===g.y2&&(g.y2=g.y1+g.h),void 0===g.h&&(g.h=g.y2-g.y1);var v=function(){for(var t=0;t<o.length;t++){var r=o[t],i=r.layoutDimensions(e),a=r.scratch("cola");if(!a.updatedDims){var s=c(e.nodeSpacing,r);a.width=i.w+2*s,a.height=i.h+2*s}}o.positions((function(t){var e=t.scratch().cola,n=void 0;return!t.grabbed()&&p.contains(t)&&(n={x:g.x1+e.x,y:g.y1+e.y},l(n.x)&&l(n.y)||(n=void 0)),n})),o.updateCompoundBounds(),h||(m(),h=!0),e.fit&&n.fit(e.padding)},y=function(){e.ungrabifyWhileSimulating&&w.grabify(),n.off("destroy",x),o.off("grab free position",E),o.off("lock unlock",k),t.one("layoutstop",e.stop),t.trigger({type:"layoutstop",layout:t})},m=function(){t.one("layoutready",e.ready),t.trigger({type:"layoutready",layout:t})},b=e.refresh;b=e.refresh<0?1:Math.max(1,b);var _=t.adaptor=a.adaptor({trigger:function(t){var n=a.EventType?a.EventType.tick:null,r=a.EventType?a.EventType.end:null;switch(t.type){case"tick":case n:e.animate&&v();break;case"end":case r:v(),e.infinite||y()}},kick:function(){var n=!0,r=function(){if(t.manuallyStopped)return y(),!0;var r=_.tick();return e.infinite||n||_.convergenceThreshold(e.convergenceThreshold),n=!1,r&&e.infinite&&_.resume(),r};if(e.animate)s((function t(){(function(){for(var t=void 0,e=0;e<b&&!t;e++)t=t||r();return t})()||s(t)}));else for(;!r(););},on:u,drag:u});t.adaptor=_;var w=o.filter(":grabbable");e.ungrabifyWhileSimulating&&w.ungrabify();var x=void 0;n.one("destroy",x=function(){t.stop()});var E=void 0;o.on("grab free position",E=function(t){var e=this.scratch().cola,n=this.position();if(t.cyTarget===this||t.target===this)switch(t.type){case"grab":_.dragstart(e);break;case"free":_.dragend(e);break;case"position":e.px===n.x-g.x1&&e.py===n.y-g.y1||(e.px=n.x-g.x1,e.py=n.y-g.y1)}});var k=void 0;o.on("lock unlock",k=function(){var t=this.scratch().cola;t.fixed=this.locked(),this.locked()?_.dragstart(t):_.dragend(t)}),_.nodes(p.map((function(t,n){var r=c(e.nodeSpacing,t),i=t.position(),o=t.layoutDimensions(e);return t.scratch().cola={x:e.randomize||void 0===i.x?Math.round(Math.random()*g.w):i.x,y:e.randomize||void 0===i.y?Math.round(Math.random()*g.h):i.y,width:o.w+2*r,height:o.h+2*r,index:n,fixed:t.locked()}})));var S=[];if(e.alignment){var C=[],T=[];p.forEach((function(t){var n=c(e.alignment,t),r=t.scratch().cola.index;n&&(null!=n.x&&C.push({node:r,offset:n.x}),null!=n.y&&T.push({node:r,offset:n.y}))})),C.length>0&&S.push({type:"alignment",axis:"x",offsets:C}),T.length>0&&S.push({type:"alignment",axis:"y",offsets:T})}e.gapInequalities&&e.gapInequalities.forEach((function(t){var e=t.left.scratch().cola.index,n=t.right.scratch().cola.index;S.push({axis:t.axis,left:e,right:n,gap:t.gap,equality:t.equality})})),S.length>0&&_.constraints(S),_.groups(f.map((function(t,n){var r=c(e.nodeSpacing,t),i=function(e){return parseFloat(t.style("padding-"+e))},o=i("left")+r,a=i("right")+r,s=i("top")+r,l=i("bottom")+r;return t.scratch().cola={index:n,padding:Math.max(o,a,s,l),leaves:t.children().intersection(p).map((function(t){return t[0].scratch().cola.index})),fixed:t.locked()},t})).map((function(t){return t.scratch().cola.groups=t.children().intersection(f).map((function(t){return t.scratch().cola.index})),t.scratch().cola})));var N,A=void 0,O=void 0;if(null!=e.edgeLength?(A=e.edgeLength,O="linkDistance"):null!=e.edgeSymDiffLength?(A=e.edgeSymDiffLength,O="symmetricDiffLinkLengths"):null!=e.edgeJaccardLength?(A=e.edgeJaccardLength,O="jaccardLinkLengths"):(A=100,O="linkDistance"),_.links(d.stdFilter((function(t){return p.contains(t.source())&&p.contains(t.target())})).map((function(t){var e=t.scratch().cola={source:t.source()[0].scratch().cola.index,target:t.target()[0].scratch().cola.index};return null!=A&&(e.calcLength=c(A,t)),e}))),_.size([g.w,g.h]),null!=A&&_[O]((function(t){return t.calcLength})),e.flow){var P=void 0;(void 0===(N=e.flow)?"undefined":r(N))===r("")?P={axis:e.flow,minSeparation:50}:l(e.flow)?P={axis:"y",minSeparation:e.flow}:function(t){return null!=t&&(void 0===t?"undefined":r(t))===r({})}(e.flow)?((P=e.flow).axis=P.axis||"y",P.minSeparation=null!=P.minSeparation?P.minSeparation:50):P={axis:"y",minSeparation:50},_.flowLayout(P.axis,P.minSeparation)}return t.trigger({type:"layoutstart",layout:t}),_.avoidOverlaps(e.avoidOverlap).handleDisconnected(e.handleDisconnected).start(e.unconstrIter,e.userConstIter,e.allConstIter),e.infinite||setTimeout((function(){t.manuallyStopped||_.stop()}),e.maxSimulationTime),this},d.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},t.exports=d},function(t,e,n){t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.filter((function(t){return null!=t})).forEach((function(e){Object.keys(e).forEach((function(n){return t[n]=e[n]}))})),t}},function(t,e,n){var r={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(t){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};t.exports=r},function(t,e,n){var r=n(0),i=function(t){t&&t("layout","cola",r)};"undefined"!=typeof cytoscape&&i(cytoscape),t.exports=i},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=void 0;i="undefined"!==("undefined"==typeof window?"undefined":r(window))?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)}:function(t){t()},t.exports=i},function(e,n){e.exports=t}])},t.exports=n(FM)})),VM=r((function(t,e){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){var r=n(1),i=function(t){t&&t("core","svg",r.svg)};"undefined"!=typeof cytoscape&&i(cytoscape),t.exports=i},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(2),o={},a={number:function(t){return null!=t&&(void 0===t?"undefined":r(t))===r(1)&&!isNaN(t)}};o.bufferCanvasImage=function(t,e){var n=e.renderer().usePaths;e.renderer().usePaths=function(){return!1},e.elements().forEach((function(t){t._private.rscratch.pathCacheKey=null,t._private.rscratch.pathCache=null}));var r=e.renderer(),o=e.mutableElements().boundingBox(),s=r.findContainerClientCoords(),l=t.full?Math.ceil(o.w):s[2],u=t.full?Math.ceil(o.h):s[3],c=a.number(t.maxWidth)||a.number(t.maxHeight),d=r.getPixelRatio(),h=1;if(void 0!==t.scale)l*=t.scale,u*=t.scale,h=t.scale;else if(c){var f=1/0,p=1/0;a.number(t.maxWidth)&&(f=h*t.maxWidth/l),a.number(t.maxHeight)&&(p=h*t.maxHeight/u),l*=h=Math.min(f,p),u*=h}c||(l*=d,u*=d,h*=d);var g=null,v=g=new i(l,u);if(l>0&&u>0){g.clearRect(0,0,l,u),t.bg&&(g.globalCompositeOperation="destination-over",g.fillStyle=t.bg,g.fillRect(0,0,l,u)),g.globalCompositeOperation="source-over";var y=r.getCachedZSortedEles();if(t.full)g.translate(-o.x1*h,-o.y1*h),g.scale(h,h),r.drawElements(g,y),g.scale(1/h,1/h),g.translate(o.x1*h,o.y1*h);else{var m=e.pan(),b={x:m.x*h,y:m.y*h};h*=e.zoom(),g.translate(b.x,b.y),g.scale(h,h),r.drawElements(g,y),g.scale(1/h,1/h),g.translate(-b.x,-b.y)}}return e.renderer().usePaths=n,v},o.svg=function(t){return o.bufferCanvasImage(t||{},this).getSerializedSvg()},t.exports=o},function(t,e,n){!function(){var e,n,r,i,o;function a(t,e){var n,r=Object.keys(e);for(n=0;n<r.length;n++)t=t.replace(new RegExp("\\{"+r[n]+"\\}","gi"),e[r[n]]);return t}function s(t){var e,n,r;if(!t)throw new Error("cannot create a random attribute name for an undefined object");e="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{for(n="",r=0;r<12;r++)n+=e[Math.floor(Math.random()*e.length)]}while(t[n]);return n}function l(t){var e={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return e[t]||e.alphabetic}o=function(t,e){var n,r,i,o={};for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)r="&"+t[n+1]+";",i=parseInt(t[n],e),o[r]="&#"+i+";";return o["\\xa0"]="&#160;",o}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(r=function(t,e){this.__root=t,this.__ctx=e}).prototype.addColorStop=function(t,e){var n,r=this.__ctx.__createElement("stop");r.setAttribute("offset",t),-1!==e.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(e),r.setAttribute("stop-color",a("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),r.setAttribute("stop-opacity",n[4])):r.setAttribute("stop-color",e),this.__root.appendChild(r)},i=function(t,e){this.__root=t,this.__ctx=e},(n=function(t){var e,r={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((e=r).width=arguments[0],e.height=arguments[1]):e=t||r,!(this instanceof n))return new n(e);this.width=e.width||r.width,this.height=e.height||r.height,this.enableMirroring=void 0!==e.enableMirroring?e.enableMirroring:r.enableMirroring,this.canvas=this,this.__document=e.document||document,e.ctx?this.__ctx=e.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(t,e,n){void 0===e&&(e={});var r,i,o=this.__document.createElementNS("http://www.w3.org/2000/svg",t),a=Object.keys(e);for(n&&(o.setAttribute("fill","none"),o.setAttribute("stroke","none")),r=0;r<a.length;r++)i=a[r],o.setAttribute(i,e[i]);return o},n.prototype.__setDefaultStyles=function(){var t,n,r=Object.keys(e);for(t=0;t<r.length;t++)this[n=r[t]]=e[n].canvas},n.prototype.__applyStyleState=function(t){if(t){var e,n,r=Object.keys(t);for(e=0;e<r.length;e++)this[n=r[e]]=t[n]}},n.prototype.__getStyleState=function(){var t,n,r={},i=Object.keys(e);for(t=0;t<i.length;t++)r[n=i[t]]=this[n];return r},n.prototype.__applyStyleToCurrentElement=function(t){var n=this.__currentElement,o=this.__currentElementsToStyle;o&&(n.setAttribute(t,""),n=o.element,o.children.forEach((function(e){e.setAttribute(t,"")})));var s,l,u,c,d,h=Object.keys(e);for(s=0;s<h.length;s++)if(l=e[h[s]],u=this[h[s]],l.apply)if(u instanceof i){if(u.__ctx)for(;u.__ctx.__defs.childNodes.length;)c=u.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[c]=c,this.__defs.appendChild(u.__ctx.__defs.childNodes[0]);n.setAttribute(l.apply,a("url(#{id})",{id:u.__root.getAttribute("id")}))}else if(u instanceof r)n.setAttribute(l.apply,a("url(#{id})",{id:u.__root.getAttribute("id")}));else if(-1!==l.apply.indexOf(t)&&l.svg!==u)if("stroke"!==l.svgAttr&&"fill"!==l.svgAttr||-1===u.indexOf("rgba")){var f=l.svgAttr;if("globalAlpha"===h[s]&&(f=t+"-"+l.svgAttr,n.getAttribute(f)))continue;n.setAttribute(f,u)}else{d=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(u),n.setAttribute(l.svgAttr,a("rgb({r},{g},{b})",{r:d[1],g:d[2],b:d[3]}));var p=d[4],g=this.globalAlpha;null!=g&&(p*=g),n.setAttribute(l.svgAttr+"-opacity",p)}},n.prototype.__closestGroupOrSvg=function(t){return"g"===(t=t||this.__currentElement).nodeName||"svg"===t.nodeName?t:this.__closestGroupOrSvg(t.parentNode)},n.prototype.getSerializedSvg=function(t){var e,n,r,i,a,s=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(s)&&(s=s.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),t)for(e=Object.keys(o),n=0;n<e.length;n++)r=e[n],i=o[r],(a=new RegExp(r,"gi")).test(s)&&(s=s.replace(a,i));return s},n.prototype.getSvg=function(){return this.__root},n.prototype.save=function(){var t=this.__createElement("g"),e=this.__closestGroupOrSvg();this.__groupStack.push(e),e.appendChild(t),this.__currentElement=t,this.__stack.push(this.__getStyleState())},n.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var t=this.__stack.pop();this.__applyStyleState(t)},n.prototype.__addTransform=function(t){var e=this.__closestGroupOrSvg();if(e.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:e,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var n=this.__createElement("g");e.appendChild(n),this.__currentElement=n}var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",r+=t,this.__currentElement.setAttribute("transform",r)},n.prototype.scale=function(t,e){void 0===e&&(e=t),this.__addTransform(a("scale({x},{y})",{x:t,y:e}))},n.prototype.rotate=function(t){var e=180*t/Math.PI;this.__addTransform(a("rotate({angle},{cx},{cy})",{angle:e,cx:0,cy:0}))},n.prototype.translate=function(t,e){this.__addTransform(a("translate({x},{y})",{x:t,y:e}))},n.prototype.transform=function(t,e,n,r,i,o){this.__addTransform(a("matrix({a},{b},{c},{d},{e},{f})",{a:t,b:e,c:n,d:r,e:i,f:o}))},n.prototype.beginPath=function(){var t;this.__currentDefaultPath="",this.__currentPosition={},t=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(t),this.__currentElement=t},n.prototype.__applyCurrentDefaultPath=function(){var t=this.__currentElement;"path"===t.nodeName?t.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",t.nodeName)},n.prototype.__addPathCommand=function(t){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=t},n.prototype.moveTo=function(t,e){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:t,y:e},this.__addPathCommand(a("M {x} {y}",{x:t,y:e}))},n.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},n.prototype.lineTo=function(t,e){this.__currentPosition={x:t,y:e},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(a("L {x} {y}",{x:t,y:e})):this.__addPathCommand(a("M {x} {y}",{x:t,y:e}))},n.prototype.bezierCurveTo=function(t,e,n,r,i,o){this.__currentPosition={x:i,y:o},this.__addPathCommand(a("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:t,cp1y:e,cp2x:n,cp2y:r,x:i,y:o}))},n.prototype.quadraticCurveTo=function(t,e,n,r){this.__currentPosition={x:n,y:r},this.__addPathCommand(a("Q {cpx} {cpy} {x} {y}",{cpx:t,cpy:e,x:n,y:r}))};var u=function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]/e,t[1]/e]};n.prototype.arcTo=function(t,e,n,r,i){var o=this.__currentPosition&&this.__currentPosition.x,a=this.__currentPosition&&this.__currentPosition.y;if(void 0!==o&&void 0!==a){if(i<0)throw new Error("IndexSizeError: The radius provided ("+i+") is negative.");if(o===t&&a===e||t===n&&e===r||0===i)this.lineTo(t,e);else{var s=u([o-t,a-e]),l=u([n-t,r-e]);if(s[0]*l[1]!=s[1]*l[0]){var c=s[0]*l[0]+s[1]*l[1],d=Math.acos(Math.abs(c)),h=u([s[0]+l[0],s[1]+l[1]]),f=i/Math.sin(d/2),p=t+f*h[0],g=e+f*h[1],v=[-s[1],s[0]],y=[l[1],-l[0]],m=function(t){var e=t[0];return t[1]>=0?Math.acos(e):-Math.acos(e)},b=m(v),_=m(y);this.lineTo(p+v[0]*i,g+v[1]*i),this.arc(p,g,i,b,_)}else this.lineTo(t,e)}}},n.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},n.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},n.prototype.rect=function(t,e,n,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.closePath()},n.prototype.fillRect=function(t,e,n,r){var i;i=this.__createElement("rect",{x:t,y:e,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("fill")},n.prototype.strokeRect=function(t,e,n,r){var i;i=this.__createElement("rect",{x:t,y:e,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("stroke")},n.prototype.__clearCanvas=function(){for(var t=this.__closestGroupOrSvg().getAttribute("transform"),e=this.__root.childNodes[1],n=e.childNodes,r=n.length-1;r>=0;r--)n[r]&&e.removeChild(n[r]);this.__currentElement=e,this.__groupStack=[],t&&this.__addTransform(t)},n.prototype.clearRect=function(t,e,n,r){if(0!==t||0!==e||n!==this.width||r!==this.height){var i,o=this.__closestGroupOrSvg();i=this.__createElement("rect",{x:t,y:e,width:n,height:r,fill:"#FFFFFF"},!0),o.appendChild(i)}else this.__clearCanvas()},n.prototype.createLinearGradient=function(t,e,n,i){var o=this.__createElement("linearGradient",{id:s(this.__ids),x1:t+"px",x2:n+"px",y1:e+"px",y2:i+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(o),new r(o,this)},n.prototype.createRadialGradient=function(t,e,n,i,o,a){var l=this.__createElement("radialGradient",{id:s(this.__ids),cx:i+"px",cy:o+"px",r:a+"px",fx:t+"px",fy:e+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(l),new r(l,this)},n.prototype.__parseFont=function(){var t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),e={style:t[1]||"normal",size:t[4]||"10px",family:t[6]||"sans-serif",weight:t[3]||"normal",decoration:t[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(e.decoration="underline"),this.__fontHref&&(e.href=this.__fontHref),e},n.prototype.__wrapTextLink=function(t,e){if(t.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.href),n.appendChild(e),n}return e},n.prototype.__applyText=function(t,e,n,r){var i,o,a=this.__parseFont(),s=this.__closestGroupOrSvg(),u=this.__createElement("text",{"font-family":a.family,"font-size":a.size,"font-style":a.style,"font-weight":a.weight,"text-decoration":a.decoration,x:e,y:n,"text-anchor":(i=this.textAlign,o={left:"start",right:"end",center:"middle",start:"start",end:"end"},o[i]||o.start),"dominant-baseline":l(this.textBaseline)},!0);u.appendChild(this.__document.createTextNode(t)),this.__currentElement=u,this.__applyStyleToCurrentElement(r),s.appendChild(this.__wrapTextLink(a,u))},n.prototype.fillText=function(t,e,n){this.__applyText(t,e,n,"fill")},n.prototype.strokeText=function(t,e,n){this.__applyText(t,e,n,"stroke")},n.prototype.measureText=function(t){return this.__ctx.font=this.font,this.__ctx.measureText(t)},n.prototype.arc=function(t,e,n,r,i,o){if(r!==i){(r%=2*Math.PI)==(i%=2*Math.PI)&&(i=(i+2*Math.PI-.001*(o?-1:1))%(2*Math.PI));var s,l=t+n*Math.cos(i),u=e+n*Math.sin(i),c=t+n*Math.cos(r),d=e+n*Math.sin(r),h=o?0:1,f=i-r;f<0&&(f+=2*Math.PI),s=o?f>Math.PI?0:1:f>Math.PI?1:0,this.lineTo(c,d),this.__addPathCommand(a("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:s,sweepFlag:h,endX:l,endY:u})),this.__currentPosition={x:l,y:u}}},n.prototype.clip=function(){var t=this.__closestGroupOrSvg(),e=this.__createElement("clipPath"),n=s(this.__ids),r=this.__createElement("g");this.__applyCurrentDefaultPath(),t.removeChild(this.__currentElement),e.setAttribute("id",n),e.appendChild(this.__currentElement),this.__defs.appendChild(e),t.setAttribute("clip-path",a("url(#{id})",{id:n})),t.appendChild(r),this.__currentElement=r},n.prototype.drawImage=function(){var t,e,r,i,o,a,s,l,u,c,d,h,f,p=Array.prototype.slice.call(arguments),g=p[0],v=0,y=0;if(3===p.length)t=p[1],e=p[2],r=o=g.width,i=a=g.height;else if(5===p.length)t=p[1],e=p[2],r=p[3],i=p[4],o=g.width,a=g.height;else{if(9!==p.length)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);v=p[1],y=p[2],o=p[3],a=p[4],t=p[5],e=p[6],r=p[7],i=p[8]}s=this.__closestGroupOrSvg(),this.__currentElement;var m="translate("+t+", "+e+")";if(g instanceof n){if((l=g.getSvg().cloneNode(!0)).childNodes&&l.childNodes.length>1){for(u=l.childNodes[0];u.childNodes.length;)f=u.childNodes[0].getAttribute("id"),this.__ids[f]=f,this.__defs.appendChild(u.childNodes[0]);if(c=l.childNodes[1]){var b,_=c.getAttribute("transform");b=_?_+" "+m:m,c.setAttribute("transform",b),s.appendChild(c)}}}else"CANVAS"!==g.nodeName&&"IMG"!==g.nodeName||((d=this.__createElement("image")).setAttribute("width",r),d.setAttribute("height",i),d.setAttribute("opacity",this.globalAlpha),d.setAttribute("preserveAspectRatio","none"),(h=this.__document.createElement("canvas")).width=r,h.height=i,h.getContext("2d").drawImage(g,v,y,o,a,0,0,r,i),g=h,d.setAttribute("transform",m),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===g.nodeName?g.toDataURL():g.getAttribute("src")),s.appendChild(d))},n.prototype.createPattern=function(t,e){var r,o=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),a=s(this.__ids);return o.setAttribute("id",a),o.setAttribute("width",t.width),o.setAttribute("height",t.height),"CANVAS"===t.nodeName||"IMG"===t.nodeName?((r=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",t.width),r.setAttribute("height",t.height),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===t.nodeName?t.toDataURL():t.getAttribute("src")),o.appendChild(r),this.__defs.appendChild(o)):t instanceof n&&(o.appendChild(t.__root.childNodes[1]),this.__defs.appendChild(o)),new i(o,this)},n.prototype.setLineDash=function(t){t&&t.length>0?this.lineDash=t.join(","):this.lineDash=null},n.prototype.drawFocusRing=function(){},n.prototype.createImageData=function(){},n.prototype.getImageData=function(){},n.prototype.putImageData=function(){},n.prototype.globalCompositeOperation=function(){},n.prototype.setTransform=function(){},"object"==typeof window&&(window.C2S=n),"object"==typeof t.exports&&(t.exports=n)}()}])}));return PS.use(_M),PS.use(zM),PS.use(VM),function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if($n(this,t),this.readGraphol(e).then((function(t){n._ontology=t})).catch((function(t){console.error(t)})),r)return this.init(r,i)}return Jn(t,[{key:"init",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.view=new rD(t),new Promise((function(t,r){e.readFilePromise.then((function(){e.controller=new hD(e._ontology,e.view,n),e.controller.init(),t(e.controller)})).catch((function(t){e.view.showDialog(t.name,t.message),r(t)})).finally((function(){return e.view.spinner.hide()}))}))}},{key:"readGraphol",value:function(t){return this.readFilePromise=new Promise((function(n,r){var i=null;if("object"===Yn(t)){var o=new FileReader;o.onloadend=function(){try{i=e(o.result)}catch(t){r(t)}n(i)},o.readAsText(t),setTimeout((function(){r("Error: timeout expired")}),1e4)}else"string"==typeof t?(i=e(t),n(i)):r("Err: Grapholscape needs a Graphol File or the corresponding string to be initialized")})),this.readFilePromise;function e(t){return new XS(t).parseGraphol()}}}]),t}()}));
